#game "blackgate"
#strictbraces "true"

//Party members (you know em, you love em)
enum party_members {
	PARTY		= -357,	//Used by several intrinsics (e.g. UI_count_objects) that would otherwise take a single NPC
						//Not supported by several other intrinsics that you'd really like it to (e.g. UI_get_cont_items)
	AVATAR		= -356,
	IOLO		= -1,
	SPARK		= -2,
	SHAMINO		= -3,
	DUPRE		= -4,
	JAANA		= -5,
	SENTRI		= -7,
	JULIA		= -8,
	KATRINA		= -9,
	TSERAMED	= -10
};

//Trinsic residents
enum trinsic_npcs {
	PETRE		= -11,	//stablekeeper
	FINNIGAN	= -12,	//mayor
	GILBERTO	= -13,	//injured guard
	JOHNSON		= -14,	//guard on east gate
	KLOG		= -16,	//fellowship leader and husband of Ellen
	CHANTU		= -17,	//healer
	DELL		= -18,	//provisioner and grouch
	APOLLONIA	= -19,	//barmaid
	MARKUS		= -20,	//trainer
	GARGAN		= -21,	//shipwright
	CAROLINE	= -22,	//fellowship recruiter

	PAUL		= -233,	//Passion Play actor
	MERYL		= -234,	//Passion Play actress
	DUSTIN		= -235,	//Passion Play actor

	ELLEN		= -236	//wife of Klog
};

//Britain residents
enum britain_npcs {
	LORD_BRITISH	= -23,	//Castle British, ineffectual monarch
	NYSTUL		= -24,	//Castle British, royal sage
	CHUCKLES	= -25,	//Castle British, royal jester
	BATLIN		= -26,	//arch-villain
	RAYMUNDO	= -27,	//playwright
	JESSE		= -28,	//actor
	STUART		= -29,	//actor
	AMBER		= -30,	//actress and Shamino's main squeeze
	KRISTY		= -31,	//Castle British, creche child
	MAX			= -32,	//Castle British, creche child
	NICHOLAS	= -33,	//Castle British, creche child
	NANNA		= -34,	//Castle British, childcare professional and champion of the working class
	CSIL		= -35,	//healer and molecular biologist
	ZELLA		= -36,	//trainer
	LUCY		= -37,	//barmaid and owner of the Blue Boar
	GREG		= -38,	//provisioner
	NENO		= -39,	//musician
	JUDITH		= -40,	//musician and wife of Patterson
	CANDICE		= -41,	//museum curator and mistress of Patterson
	CYNTHIA		= -42,	//treasurer and wife of James
	PATTERSON	= -43,	//mayor and philanderer
	CARROCIO	= -44,	//puppetmaster and secret lover of Nell
	FIGG		= -45,	//orchard owner
	JAMES		= -46,	//innkeeper
	JEANETTE	= -47,	//barmaid at the Blue Boar and courter of Charles and Willy (make up your mind you silly woman)
	DENBY		= -49,	//trainer
	FRED		= -50,	//merchant at Farmer's Market and husband of Kelly
	KELLY		= -51,	//merchant at Farmer's Market and wife of Fred
	WILLY		= -52,	//baker and total knob
	GAYE		= -53,	//seamstress
	COOP		= -54,	//arms dealer at Iolo's Bows
	GRAYSON		= -55,	//arms dealer
	DIANE		= -56,	//stablekeeper
	CLINT		= -57,	//shipwright
	GORDON		= -58,	//fish and chipper
	SEAN		= -59,	//jeweller
	BROWNIE		= -60,	//farmer and mayoral incumbent
	MACK		= -61,	//farmer and Kilrathi witness
	SNAZ		= -62,	//beggar and irritant
	MILLIE		= -63,	//fellowship recruiter and sister of Thad

	GEOFFREY	= -64,	//Castle British, captain of the guard and useless ex-follower
	WISLEM		= -65,	//Castle British, council member and gargoyle representative
	SHERRY		= -66,	//Castle British, mouse
	BOOTS		= -67,	//Castle British, cook and wife of Bennie
	BENNIE		= -68,	//Castle British, head servant and husband of Boots
	WESTON		= -69,	//Castle British, prisoner and husband of Alina
	MIRANDA		= -70,	//Castle British, council leader
	INWISLOKLEM	= -71,	//Castle British, council member and gargoyle representative
	NELL		= -72,	//Castle British, servant, sister of Charles, and secret lover of at least Carrocio and Lord British (slut)
	CHARLES		= -73,	//Castle British, servant, brother of Nell and courter of Jeanette

	KESSLER		= -237	//apothecary
};

//Cove residents
enum cove_npcs {
	RUDYOM			= -74,	//mad mage
	NASTASSIA		= -75,	//caretaker of shrine of Compassion and feeble love-interest
	RAYBURT			= -76,	//trainer and Pamela's main squeeze
	LORD_HEATHER	= -77,	//mayor and Jaana's main squeeze
	PAMELA			= -78,	//inkeeper and Rayburt's main squeeze
	ZINAIDA			= -79,	//tavernkeeper and de Maria's main squeeze
	DE_MARIA		= -80,	//tavernkeeper and Zinaida's main squeeze
	REGAL			= -271	//Rayburt's dog (not sure why he gets an NPC number, it's not like he does anything - maybe for schedules?)
};

//Minoc residents
enum minoc_npcs {
	ELYNOR		= -81,	//fellowship leader and secret lover of Gregor
	GREGOR		= -82,	//mine owner and secret lover of Elynor
	MARGARETA	= -83,	//gypsy, wife of Jergi and fortune-teller
	SASHA		= -84,	//clockmaker
	GLADSTONE	= -85,	//glassblower
	XANTHIA		= -86,	//candlemaker
	ZORN		= -87,	//blacksmith
	SEARA		= -88,	//artisan
	KARL		= -89,	//alienated woodsman and enemy of Owen
	OWEN		= -90,	//shipwright and tosser
	BURNSIDE	= -91,	//mayor
	RUTHERFORD	= -92,	//barkeep
	WILLIAM		= -93,	//sawmill operator
	KARENNA		= -94,	//trainer
	JAKHER		= -95,	//trainer
	JERGI		= -96,	//gypsy and husband of Margareta

	MIKOS		= -97,	//mine foreman
	FODUS		= -99,	//miner and drug addict
	OWINGS		= -239,	//miner and moron
	MALLOY		= -243	//miner and moron
};

//Yew/great forest residents
enum yew_npcs {
	TRELLEK		= -6,	//emp (Fun fact: his low ID is because he was originally meant to join the party)
	SARALEK		= -98,	//emp
	TAVENOR		= -100,	//emp
	SALAMON		= -101,	//emp
	NICODEMUS	= -102,	//mad mage
	THAD		= -103,	//highwayman and brother of Millie
	BRADMAN		= -104,	//trainer
	SIR_JEFF	= -105,	//judge
	TIERY		= -106,	//gravedigger and creep
	REYNA		= -108,	//healer
	GHARL		= -111,	//troll prisoner
	D_REL		= -112,	//pirate and prisoner
	SMITH		= -113,	//horse and hintbook
	AIMI		= -114,	//monk, gardener and crap painter
	PENNI		= -115,	//trainer and wife of Addom
	BEN			= -116,	//woodcutter
	GOTH		= -117,	//prison warden
	PERRIN		= -238,	//scholar and trainer
	TAYLOR		= -242,	//monk
	KREG		= -245,	//fugitive and false monk

	PAPA		= -241,	//Bee Caves, nudist
	MAMA		= -255,	//Bee Caves, nudist

	XORINIA		= -256	//will-o-wisp
};

//Jhelom residents
enum jhelom_npcs {
	DE_SNEL		= -119,	//trainer
	JOSEPH		= -120,	//mayor
	KLIFTIN		= -121,	//armourer
	OPHELIA		= -122,	//barmaid
	DAPHNE		= -123,	//barmaid
	SPRELLIC	= -124,	//tavern owner and wimp
	VOKES		= -125,	//big dumb fighter
	SYRIA		= -126,	//fighter
	TIMMONS		= -127	//fighter
};

//New Magincia residents
enum new_magincia_npcs {
	RUSSELL		= -129,	//shipwright
	BORIS		= -130,	//tavernkeeper and husband of Magenta
	MAGENTA		= -131,	//mayor and wife of Boris
	HENRY		= -132,	//courter of Constance and pathetic sap
	CONSTANCE	= -133,	//water-bearer and silly cow
	ROBIN		= -134,	//professional gambler and greaseball
	BATTLES		= -135,	//thug for Robin
	LEAVELL		= -136,	//thug for Robin
	SAM			= -137,	//flower man and total hippie
	ALAGNER		= -246	//scholar and plot device
};

//Skara Brae residents
enum skara_brae_npcs {
	MARKHAM		= -140,	//barkeep
	HORANCE		= -141,	//lich
	TRENT		= -142,	//blacksmith and husband of Rowena
	MORDRA		= -143,	//witch
	ROWENA		= -144,	//ensorcelled servant of Horance and wife of Trent
	PAULETTE	= -145,	//barmaid
	QUENTON		= -146,	//persistent murder victim from Ultima VI
	FORSYTHE	= -147,	//mayor and coward
	CAINE		= -247	//alchemist and The Tortured One
};

//Moonglow residents
enum moonglow_npcs {
	CARLYN		= -118,	//seamstress
	PENUMBRA	= -150,	//sleeping seeress
	ZELDA		= -152,	//Lycaeum, advisor and courter of Brion
	MARIAH		= -153,	//Lycaeum, mad mage and former companion
	CUBOLT		= -155,	//farmer
	BALAYNA		= -156,	//soon-to-be-murdered fellowship assistant
	TOLEMAC		= -157,	//farmer
	MORZ		= -158,	//f-f-f-farmer
	JILLIAN		= -159,	//Lycaeum, scholar, trainer and husband of Effrem
	EFFREM		= -160,	//househusband of Jillian
	CHAD		= -161,	//trainer
	ELAD		= -162,	//healer
	PHEARCY		= -163,	//tavernkeeper
	ADDOM		= -164,	//explorer and husband of Penni
	FRANK		= -165,	//Lycaeum, smartarse fox
	BRION		= -248,	//Lycaeum, astronomer
	NELSON		= -249,	//Lycaeum, curator
	RANKIN		= -250	//fellowship leader and murderer of Balayna
};

//Paws residents
enum paws_npcs {
	THURSTON	= -166,	//miller and courter of Polly
	FERIDWYN	= -167,	//fellowship shelter manager, father of Garritt and husband of Brita
	BRITA		= -168,	//snotty narrowminded bitch, mother of Garritt and wife of Feridwyn
	ALINA		= -169,	//useless poor person and wife of Weston
	MERRICK		= -170,	//sycophant and Fellowship shill
	GARRITT		= -171,	//drug abuser and insufferable offspring of Feridwyn and Brita
	MORFIN		= -172,	//slaughterhouse owner and drug dealer
	BEVERLEA	= -173,	//curio shop owner and blind old bat
	KOMOR		= -174,	//embittered beggar with one leg
	FENN		= -175,	//embittered cart-bound beggar with no legs
	ANDREW		= -176,	//dairy owner
	CAMILLE		= -177,	//farmer, widow and mother of Tobias
	TOBIAS		= -178,	//obnoxious son of Camille
	POLLY		= -179	//tavernkeeper and courter of Thurston
};

//Terfin residents
enum terfin_npcs {
	DRAXINUSOM	= -180,	//king of the Gargoyles
	INFORLEM	= -181,	//trainer and arms dealer
	INMANILEM	= -182,	//healer
	TEREGUS		= -183,	//keeper of altars
	RUNEB		= -184,	//fellowship thug
	QUAN		= -185,	//fellowship leader
	QUAEVEN		= -186,	//Rec Center master and fellowship follower
	SILAMO		= -187,	//gardener
	SARPLING	= -188,	//jeweller and magic provisioner
	FORBRAK		= -189,	//tavernkeeper
	BETRA		= -190	//provisioner
};

//residents of the U.S.S. Serpent's Hold
enum serpents_hold_npcs {
	MENION		= -192, //trainer and weaponsmith
	PENDARAN	= -193, //knight, saboteur and husband of Jehanne
	JEHANNE		= -194, //provisioner and wife of Pendaran
	JOHN_PAUL	= -195, //lord and leader
	RICHTER		= -196, //armourer and fellowship member
	HORFFE		= -197, //gargoyle and Captain of the Guard
	JORDAN		= -198, //blind arms dealer for Iolo's South who can't even recognise his own boss
	DENTON		= -199, //bartender, logician, and particularly lame Star Trek reference
	TORY		= -200, //empath and unconvincingly distraught mother of baby Riky, stolen by dingos (er, harpies)
	LEIGH		= -201	//healer
};

//Vesper residents
enum vesper_npcs {
	CADOR		= -203,	//mine overseer
	MARA		= -204,	//miner
	ZAKSAM		= -205,	//trainer
	ELDROTH		= -206,	//provisioner
	YONGI		= -207,	//tavernkeeper
	BLORN		= -208,	//criminal
	AUSTON		= -209,	//mayor
	LIANA		= -210,	//mayor's clerk and total bigot
	LAP_LEM		= -211,	//gargoyle miner
	YVELLA		= -212,	//mother of Catherine and wife of Cador
	CATHERINE	= -213,	//daughter of Yvella and Cador, student of For-Lem
	FOR_LEM		= -214,	//gargoyle handyman and teacher of Catherine
	ANSIKART	= -215,	//gargoyle tavernkeeper
	WIS_SUR		= -216,	//gargoyle magic provisioner
	ANMANIVAS	= -217,	//gargoyle ex-miner
	FORANAMO	= -218,	//gargoyle ex-miner
	AURVIDLEM	= -219	//provisioner
};

//Buccaneer's Den residents
enum buccaneers_den_npcs {
	SULLIVAN	= -220,	//fellowship prisoner and conman
	WENCH		= -221,	//whore
	GLENNO		= -222,	//manager of the Baths
	MARTINE		= -223,	//whore
	ROBERTO		= -224,	//gigolo
	SINTAG		= -225,	//House of Games guard
	BLACKTOOTH	= -226,	//ex-pirate
	MOLE		= -227,	//ex-pirate
	LUCKY		= -228,	//trainer
	BUDO		= -229,	//provisioner
	GORDY		= -230,	//House of Games owner
	MANDY		= -231,	//innkeeper
	SMITHY		= -232,	//House of Games croupier
	DANAG		= -251,	//fellowship leader

	GROD		= -154,	//troll and fellowship torturer
	ANTON		= -240	//fellowship prisoner
};

//Miscellaneous NPCs (dungeons and other minor locations)
enum misc_npcs {
	INVALID_NPC		= 0,

	MARTINGO	= -191, //Sultan of Spektran

	IRIALE		= -128,	//Fellowship Retreat, guardian of the Cube
	IAN			= -202,	//Fellowship Retreat, director
	GORN		= -138,	//Fellowship Retreat, recurring cameo from long-forgotten Origin game

	WAYNE		= -109,	//Dungeon Despise, lost monk
	GAROK		= -110,	//Dungeon Despise, mad mage and tax fugitive

	EIKO		= -15,	//Dagger Isle, vengeful half-sister of Amanda
	AMANDA		= -48,	//Dagger Isle, vengeful half-sister of Eiko
	ISKANDER	= -107,	//Dagger Isle, cyclops and target of Eiko and Amanda's vengeance

	HYDRA		= -149,	//Ambrosia, three-headed hydra, guardian of meteor
	KISSME		= -151,	//Ambrosia, horny faerie

	CAIRBRE		= -244,	//Dungeon Destard, friend of Cosmo
	KALLIBRUS	= -252,	//Dungeon Destard, friend of Cosmo
	COSMO		= -253,	//Dungeon Destard, virgin
	LASHER		= -254,	//Dungeon Destard, unicorn and virgin-detector

	HOOK		= -291,	//Isle of the Avatar, arch-villain
	FORSKIS		= -298,	//Isle of the Avatar, arch-villain
	ABRAHAM		= -299,	//Isle of the Avatar, arch-villain
	ELIZABETH	= -300	//Isle of the Avatar, arch-villain
};

enum sprite_repeats {
	LOOP_ONCE = -1,
	LOOP_ONCE2 = -3	// Not sure about this
};

enum spells_bg {
	SPELL_NONE = 0,

	SPELL_AWAKEN = 0,
	SPELL_WEATHER,
	SPELL_DOUSE,
	SPELL_FIREWORKS,
	SPELL_GLIMMER,
	SPELL_HELP,
	SPELL_IGNITE,
	SPELL_THUNDER,

	SPELL_CREATE_FOOD,
	SPELL_CURE,
	SPELL_DETECT_TRAP,
	SPELL_GREAT_DOUSE,
	SPELL_GREAT_IGNITE,
	SPELL_LIGHT,
	SPELL_LOCATE,
	SPELL_AWAKEN_ALL,

	SPELL_DESTROY_TRAP,
	SPELL_ENCHANT,
	SPELL_FIRE_BLAST,
	SPELL_GREAT_LIGHT,
	SPELL_MASS_CURE,
	SPELL_PROTECTION,
	SPELL_TELEKINESIS,
	SPELL_WIZARD_EYE,

	SPELL_CURSE,
	SPELL_HEAL,
	SPELL_SWARM,
	SPELL_PROTECT_ALL,
	SPELL_PARALYZE,
	SPELL_PEER,
	SPELL_POISON,
	SPELL_SLEEP,

	SPELL_CONJURE,
	SPELL_LIGHTNING,
	SPELL_MARK,
	SPELL_MASS_CURSE,
	SPELL_RECALL,
	SPELL_REVEAL,
	SPELL_SEANCE,
	SPELL_UNLOCK_MAGIC,

	SPELL_CHARM,
	SPELL_DANCE,
	SPELL_DISPEL_FIELD,
	SPELL_EXPLOSION,
	SPELL_GREAT_HEAL,
	SPELL_INVISIBILITY,
	SPELL_FIRE_FIELD,
	SPELL_MASS_SLEEP,

	SPELL_CAUSE_FEAR,
	SPELL_CLONE,
	SPELL_FIRE_RING,
	SPELL_FLAME_STRIKE,
	SPELL_MAGIC_STORM,
	SPELL_POISON_FIELD,
	SPELL_SLEEP_FIELD,
	SPELL_TREMOR,

	SPELL_CREATE_GOLD,
	SPELL_DEATH_BOLT,
	SPELL_DELAYED_BLAST,
	SPELL_ENERGY_FIELD,
	SPELL_ENERGY_MIST,
	SPELL_MASS_CHARM,
	SPELL_MASS_MIGHT,
	SPELL_RESTORATION,

	SPELL_ARMAGEDDON,
	SPELL_DEATH_VORTEX,
	SPELL_MASS_DEATH,
	SPELL_INVISIBILITY_ALL,
	SPELL_RESURRECT,
	SPELL_SUMMON,
	SPELL_SWORD_STRIKE,
	SPELL_TIME_STOP
};

enum sprite_effects {
	ANIMATION_BIG_BLAST			= 1,
	ANIMATION_BIG_CLOUDS		= 2,
	ANIMATION_CLOUDS			= 3,
	ANIMATION_MEDIUM_BLAST		= 4,
	ANIMATION_SMALL_BLAST		= 5,
	ANIMATION_TELEPORT			= 7,
	ANIMATION_DEATH_VORTEX		= 8,
	ANIMATION_POOF				= 9,
	ANIMATION_RED_DUST			= 11,
	ANIMATION_FIREWORKS			= 12,
	ANIMATION_GREEN_BUBBLES		= 13,
	ANIMATION_OOZING_BLOB		= 14,
	ANIMATION_CIRCLE_BARRIER	= 15,
	ANIMATION_SPARKLES			= 16,
	ANIMATION_LIGHTNING			= 17,
	ANIMATION_BLUE_BEADS		= 18,
	ANIMATION_BURST_ARROW		= 19,
	ANIMATION_PURPLE_BUBBLES	= 21,
	ANIMATION_SWORD_STRIKE		= 23,
	ANIMATION_MUSIC				= 24
};

enum cursors {
	CURSOR_HAND			= 0,
	CURSOR_X			= 1,	//Default "no you can't do that" X cursor
	CURSOR_OUT_OF_RANGE = 2,
	CURSOR_OUT_OF_AMMO	= 3,
	CURSOR_TOO_HEAVY	= 4,
	CURSOR_WONT_FIT		= 5
};

enum weather_types {
	CLEAR_WEATHER	= 0,
	SNOWING			= 1,	//Unsure; in Exult, works the same as RAIN, below and seems identical to RAIN in the originals
	RAIN			= 2,
	SPARKLE			= 3,	//Prevents casting of spells in BG (and maybe SI too?)
	FOG				= 4,	//Seems to work like RAIN in the originals
	OVERCAST		= 5,	//Seems to clear weather in the originals
	CLOUDY			= 6
};

enum alignments {
	NEUTRAL			= 0,
	GOOD			= 1,
	EVIL			= 2,
	CHAOTIC			= 3
};

enum damage_types {
	NORMAL_DAMAGE		= 0,
	FIRE_DAMAGE			= 1,
	MAGIC_DAMAGE		= 2,
	LIGHTNING_DAMAGE	= 3,
	POISON_DAMAGE		= 3,
	STARVATION_DAMAGE	= 3,
	FREEZING_DAMAGE		= 3,
	ETHEREAL_DAMAGE		= 4,
	SONIC_DAMAGE		= 5
};

enum wildcards {
	FIND_ON_SCREEN	= -359,
	QUANTITY_ANY	= -359,
	SHAPE_ANY		= -359,
	ANY_SHAPE		= -1,	// For find_nearby
	ON_SCREEN		= -1,	// For find_nearest/find_nearby
	ZERO_DELAY		= -1,	// For run_script
	QUALITY_ANY		= -359,
	FRAME_ANY		= -359,
	TEMPORARY_ANY	= -359,
	FLAG_DESTROY	= -358	// Used in UI_update_last_created to indicate it will be deleting
};

enum directions {
	NORTH		= 0,
	NORTHEAST	= 1,
	EAST		= 2,
	SOUTHEAST	= 3,
	SOUTH		= 4,
	SOUTHWEST	= 5,
	WEST		= 6,
	NORTHWEST	= 7
};

enum face_directions : byte {
	FACE_NORTH		= 0x30,
	FACE_NORTHEAST	= 0x31,
	FACE_EAST		= 0x32,
	FACE_SOUTHEAST	= 0x33,
	FACE_SOUTH		= 0x34,
	FACE_SOUTHWEST	= 0x35,
	FACE_WEST		= 0x36,
	FACE_NORTHWEST	= 0x37
};

enum npc_properties {
	STRENGTH		= 0,
	DEXTERITY		= 1,
	INTELLIGENCE	= 2,
	HEALTH			= 3,
	COMBAT			= 4,
	MANA			= 5,
	MAX_MANA		= 6,
	TRAINING		= 7,
	EXPERIENCE		= 8,
	FOODLEVEL		= 9,
	SEX_FLAG		= 10,	// 1 (nonzero) if female, 0 if male.
	MISSILE_WEAPON	= 11	// Cannot be set; returns 1 if wearing a missile
							// or (good) thrown weapon, 0 otherwise.
};

enum day_periods {
	// The period is equal to one-third of the current game hour.
	MIDNIGHT		= 0,	// 0-2
	EARLY			= 1,	// 3-5
	DAWN			= 2,	// 6-8
	MORNING			= 3,	// 9-11
	NOON			= 4,	// 12-14
	AFTERNOON		= 5,	// 15-17
	EVENING			= 6,	// 18-20
	NIGHT			= 7		// 21-23
};

enum item_flags {
	INVISIBLE			= 0,
	ASLEEP				= 1,
	CHARMED				= 2,
	CURSED				= 3,
	DEAD				= 4,
	UNKNOWN_FLAG_05		= 5,
	IN_PARTY			= 6,
	PARALYZED			= 7,
	PARALYSED			= 7,		//British spelling
	POISONED			= 8,
	PROTECTION			= 9,
	ON_MOVING_BARGE		= 10,
	OKAY_TO_TAKE		= 11,		// The item does not belong to anyone, and won't
									// trigger stealing behaviour if you take it.
	MIGHT				= 12,		// Double strength, dext, intel.
	IMMUNITIES			= 13,		// Lots of immunities; can be gotten only.
	CANT_DIE			= 14,		// Test flag in monster_info.
	IN_ACTION			= 15,		// If the NPC is doing something. Set by "Dance" spell in BG.
	DONT_MOVE			= 16,		// SI-only. NPC can't move; "cutscene" mode.
	DONT_RENDER			= 16,		// BG-only. Like DONT_MOVE, but avatar also
									// completely invisible.
	UNKNOWN_FLAG_17		= 17,
	TEMPORARY			= 18,		// Is temporary - this means that the item will
									// be deleted once the party gets beyond a certain
									// range from it (outside the superchunk?)
	ACTIVE_SAILOR		= 20,		// The barge's 'captain'. When getting the flag,
									// you will actually get the current captain.
	OKAY_TO_LAND		= 21,		// Used for flying-carpet.
	BG_DONT_MOVE		= 22,		// BG-only. NPC can't move; "cutscene" mode.
	SI_DONT_RENDER		= 22,		// SI-only. Like DONT_MOVE, but avatar also
									// completely invisible.
	IN_DUNGEON			= 23,		// If set, you won't be accused of stealing.
	IS_SOLID			= 24,		// Used by gangplank usecode to determine if an object is solid.
	CONFUSED			= 25,
	ACTIVE_BARGE		= 26,		// Object is a barge object moving, or on a barge
									// object that is moving. Set in usecode, and mostly
									// used for the SI 'NPC' ships such as the turtle.
	UNKNOWN_FLAG_27		= 27,
	MET					= 28,		// Has the npc been met before - originally this
									// was SI-only, but Exult implements it for BG
									// too. This determines conversation behaviour,
									// and whether the NPC's real name or shape name
									// is displayed when they are single-clicked on.
									// BG originally used global flags for this, which
									// amounts to an extra 250-odd flags.
	SI_TOURNAMENT		= 29,		// Call usecode (eventid = 7) on death
	SI_ZOMBIE			= 30,		// Used for sick Neyobi, Cantra, post-Bane companions.

	NO_SPELL_CASTING	= 31,
	POLYMORPH			= 32,		// Do not set this flag directly; use the
									// UI_set_polymorph intrinsic instead.
	TATTOOED			= 33,
	READ				= 34,		// Can read non-Latin alphabet scrolls, books, signs.
	ISPETRA				= 35,
	CAN_FLY				= 36,
	FREEZE				= 37,
	NAKED				= 38 		// Exult. Makes the avatar naked given its skin.
									// Other NPCs should use set_polymorph instead.
};

enum events {
	PROXIMITY		= 0,	// Object is on-screen or nearby
							// This is called repeatedly, with a random delay
							// between each call
	DOUBLECLICK		= 1,	// Object is double-clicked on
	SCRIPTED		= 2,	// Function is called from inside a script{} block
							// (very common)
	EGG				= 3,	// Object is an egg that just hatched (triggered by
							// egg activation conditions)
	WEAPON			= 4,	// Object was wielded and 'swung' in combat
							// This is mainly used with 'weapon-like' objects
							// - e.g. smokebombs and fishing rods - that have more
							// advanced 'attack' behaviour.

	READIED			= 5,	// Object was worn or readied in inventory - used by
							// items like the Ring of Invisibility
	UNREADIED		= 6,	// Object was taken off or put away in inventory

	DEATH			= 7,	// NPC has just been killed (SI-only)
	STARTED_TALKING	= 9,	// NPC starts conversation with you (has TALK
							// schedule and has reached the Avatar)
							// This is SI-only - BG uses event 1 for this,
							// both for conversations triggered by doubleclick
							// and by the TALK schedule

	//The following events are arbitrary programmer conventions:
	BG_PATH_SUCCESS	= 7,	// Set with calls to UI_path_run_usecode, to indicate
							// a successful pathfind to the target object
	BG_PATH_FAILURE	= 8,	// Set with calls to UI_set_path_failure, to indicate
							// an interrupted pathfind (e.g. when the player
							// moves the Avatar manually)
	PATH_SUCCESS_9	= 9,	// Set with calls to UI_path_run_usecode, to indicate
							// a successful pathfind to the target object
	PATH_SUCCESS	= 10,	// Set with calls to UI_path_run_usecode, to indicate
							// a successful pathfind to the target object
	PATH_FAILURE	= 11,	// Set with calls to UI_set_path_failure, to indicate
							// an interrupted pathfind (e.g. when the player
							// moves the Avatar manually)
	SI_PATH_SUCCESS	= 13,	// Set with calls to UI_path_run_usecode, to indicate
							// a successful pathfind to the target object
	SI_PATH_FAILURE	= 14	// Set with calls to UI_set_path_failure, to indicate
							// an interrupted pathfind (e.g. when the player
							// moves the Avatar manually)
};

enum schedules {
	IN_COMBAT		= 0,	// renamed to not conflict with COMBAT, the NPC
							// stat property.
	PACE_HORIZONTAL	= 1,	// Walk horizontally until you hit a wall, then
							// turn around. (Patrolling on the cheap.)
	PACE_VERTICAL	= 2,	// Same as above, but vertically.
	TALK			= 3,	// NPC runs to the Avatar to talk to them. When
							// they get within a certain distance of where the
							// Avatar was when this schedule was set, a
							// DOUBLECLICK event is triggered on the NPC.
							// At this point the schedule must be changed.
	DANCE			= 4,
	EAT				= 5,
	FARM			= 6,	// Waves farm implements around.
	TEND_SHOP		= 7,	// This is really just a more specific version of
							// LOITER, used for narrowing down schedule barks.
							// See BAKE, SEW and BLACKSMITH for more specific
							// examples of shop behaviour.
	MINE			= 8,
	MINER			= 8,
	HOUND			= 9,
	STANDTHERE		= 10,	// renamed to not conflict with STAND, the NPC
							// animation frame
	LOITER			= 11,	// Hangs around a certain point, within 10 units
							// or so
	WANDER			= 12,	// Roams nearby a certain point (as much as a
							// 320x200 screen away)
	BLACKSMITH		= 13,
	SLEEP			= 14,
	WAIT			= 15,	// Similar to STAND, except that they will never
							// leave the WAIT schedule until it is manually
							// changed: their preset schedule list is ignored.
	MAJOR_SIT		= 16,
	GRAZE			= 17,
	BAKE			= 18,
	SEW				= 19,
	SHY				= 20,	// Tries to keep out of the Avatar's way - will
							// half-heartedly flee until out of a certain range.
	LAB				= 21,
	THIEF			= 22,	// Approaches the party and will take gold from the Avatar's
							// backpack, then will bark "Greetings!" in SI.
	WAITER			= 23,
	SPECIAL			= 24,	// ??
	KID_GAMES		= 25,	// Tag! Thou art it! And so forth.
	TAG				= 25,
	EAT_AT_INN		= 26,	// same as Eat, only with different barks.
	DUEL			= 27,
	SPAR			= 27,
	PREACH			= 28,	// Broken in SI, Leon resets to Loiter after trying it.
	PATROL			= 29,	// This tells the AI to follow a particular set of
							// patrol waypoints, defined by path eggs.
	DESK_WORK		= 30,
	FOLLOW_AVATAR	= 31	// That most noble of pursuits. Like WAIT, this
							// completely overrides the NPC's schedule list.
};

enum inv_slots_bg {
	BG_BACKPACK		=  0,
	BG_WEAPON_HAND	=  1,
	BG_SHIELD_HAND	=  2,
	BG_OFF_HAND		=  2,
	BG_BELT			=  3,
	BG_TORSO		=  5,
	BG_LEFT_RING	=  6,
	BG_RIGHT_RING	=  7,
	BG_QUIVER		=  8,
	BG_HEAD			=  9,
	BG_LEGS			= 10,
	BG_FEET			= 11,
	BG_USECODE		= 12,	// Exult-only; ported from SI
	BG_CLOAK		= 13,	// Exult-only; ported from SI
	BG_GLOVES		= 14,	// Exult-only; ported from SI
	BG_TRIPLE_BOLTS	= 15,
	BG_EARS			= 16,	// Exult-only; ported from SI
	BG_BACK_SHIELD	= 17,	// Exult-only; ported from SI
	BG_BACK_2H		= 19,	// Exult-only; ported from SI
	BG_BOTH_HANDS	= 20,
	BG_LRGLOVES		= 21,	// Uses both ring slots
	BG_AMULET		= 22	// Exult-only; ported from SI
};

enum inv_slots_si {
	SI_SHIELD_HAND	=  0,
	SI_OFF_HAND		=  0,
	SI_WEAPON_HAND	=  1,
	SI_CLOAK		=  2,
	SI_AMULET		=  3,
	SI_HEAD			=  4,
	SI_GLOVES		=  5,
	SI_USECODE		=  6,
	SI_RIGHT_RING	=  7,
	SI_LEFT_RING	=  8,
	SI_EARS			=  9,
	SI_QUIVER		= 10,
	SI_BELT			= 11,
	SI_TORSO		= 12,
	SI_FEET			= 13,
	SI_LEGS			= 14,
	SI_BACKPACK		= 15,
	SI_BACK_SHIELD	= 16,
	SI_BACK_2H		= 17,
	SI_TRIPLE_BOLTS	= 18,	// Exult-only; ported from BG
	SI_BOTH_HANDS	= 20,
	SI_LRGLOVES		= 21,	// Exult-only; ported from BG ; uses both ring slots
};

enum npc_attack_modes {
	NEAREST		= 0,
	WEAKEST		= 1,
	STRONGEST	= 2,
	BERSERK		= 3,
	PROTECT		= 4,
	DEFEND		= 5,
	FLANK		= 6,
	FLEE		= 7,
	RANDOM		= 8,
	MANUAL		= 9
};

enum item_masks {
	MASK_NONE				= 0x0,
	MASK_NPC				= 0x04,		//Only find NPCs, alive or dead
	MASK_NPC2				= 0x08,		//Only find living NPCs
	MASK_EGG				= 0x10,		//Also for barges
	MASK_INVISIBLE			= 0x20,
	MASK_PARTY_INVISIBLE	= 0x40,
	MASK_TRANSLUCENT		= 0x80,
	MASK_ALL_UNSEEN			= 0xB0		//MASK_EGG+MASK_INVISIBLE+MASK_TRANSLUCENT
};

extern void Func08FF 0x8FF (var var0000);
extern var Func0829 0x829 (var var0000);

void Func0096 shape#(0x96) () {
	if (event == DOUBLECLICK) {
		if (get_item_flag(ON_MOVING_BARGE)) {
			Func08FF("@The sails must be furled before the planks are raised.@");
		} else if (!Func0829(item)) {
			Func08FF("@I think the gangplank is blocked.@");
		} else if (UI_in_gump_mode()) {
			UI_close_gumps();
		}
	}
}

extern void Func01B0 shape#(0x1B0) ();
extern var Func0881 0x881 ();
extern var Func092D 0x92D (var var0000);
extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern void Func0696 object#(0x696) ();
extern void Func069A object#(0x69A) ();

void Func009A shape#(0x9A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;

	if (event == PROXIMITY) {
		var0000 = find_nearest(0x0150, 0x0001);
		var0001 = find_nearest(0x0152, 0x0001);
		var0002 = find_nearest(0x03E5, 0x0001);
		if (var0000 || (var0001 || var0002)) {
			var0003 = UI_get_random(0x0064);
			if (var0003 >= 0x003C) {
				item_say("@Damn candles!@");
				return;
			}
			if (var0003 <= 0x0028) {
				var0004 = var0000;
				var0004 &= var0001;
				var0004 &= var0002;
				for (var0007 in var0004 with var0005 to var0006) {
					var0008 = var0007->get_object_position();
					var0007->remove_item();
					UI_sprite_effect(ANIMATION_SMALL_BLAST, (var0008[0x0001] - 0x0001), (var0008[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
					UI_play_sound_effect(0x0008);
				}
				var0009 = script item {
					actor frame cast_up;
					wait 1;
					continue;
					say "@An Ailem!";
					wait 3;
					actor frame cast_out;
					wait 6;
				};
				return;
			}
		} else if (find_nearest(0x0369, 0x0001)) {
			item_say("@I'm famished!@");
			return;
		} else {
			var000A = find_nearest(0x01B0, 0x0002);
			var000B = find_nearest(0x01B1, 0x0002);
			if (var000A || var000B) {
				if (var000A) {
					item_say("@My door, at last.@");
					event = DOUBLECLICK;
					var000A->Func01B0();
					return;
				}
				if (var000B) {
					item_say("@My door, at last.@");
					return;
				}
			} else {
				var000C = find_nearby(0x025F, 0x0000, MASK_EGG);
				if (var000C) {
					for (var000F in var000C with var000D to var000E) {
						if ((var000F->get_item_frame() == 0x0004) && (get_item_frame() >= 0x0010)) {
							item_say("@Ah, a wall.@");
							var0010 = script item after 18 ticks {
								nohalt;
								say "@I'll follow it.@";
							};
							return;
						}
						item_say("@Where am I?@");
						return;
					}
				}
			}
		}
	}
	if (!get_cont_items(0x031D, 0x00F0, 0x0004)) {
		return;
	}
	if (event == DOUBLECLICK) {
		if (!Func0881()) {
			var0011 = Func092D(item);
			var0012 = (var0011 + 0x0004) % 0x0008;
			var0009 = script item {
				actor frame standing;
				face var0012;
				call Func009A;
			};
		} else {
			abort;
		}
	}
	if (event == SCRIPTED) {
		var0013 = Func0908();
		if (gflags[0x030E]) {
			0xFEE2->show_npc_face(0x0001);
			say("\"I'll speak to thee no more, Avatar!\" He ignores you.*");
			abort;
		}
		if (!gflags[0x0310]) {
			0xFEE2->say("At your approach, the old man straightens and looking directly at you he says, \"Well met, ",
				var0013,
				". I am called Erethian. Although thou dost not know me, I know thee well.");
			say("I have seen thee destroy Mondain's power and so defeat that misguided mage, I have seen thee vanquish the enchantress Minax, I have also seen, in a very unique way, how thou brought low the hellspawn Exodus.\"");
			say("He falls silent here and you notice that the old man's eyes are milky white.");
			gflags[0x0310] = true;
			add(["name", "job", "Mondain", "Minax", "Exodus", "bye"]);
		} else {
			if (!(gflags[0x032A] || gflags[0x032B])) {
				0xFEE2->say("\"Greetings once again, ",
					var0013,
					". How may I assist thee?\" The blind old man looks unerringly in your direction.");
			} else {
				0xFEE2->show_npc_face(0x0001);
				say("\"I'll never get any work done like this! What do you wish of me?\" Erethian seems a little pevish at this point.");
			}
			add(["name", "job", "bye"]);
		}
		if (gflags[0x0337]) {
			if (!gflags[0x0338]) {
				if (!gflags[0x0330]) {
					add("black sword");
				}
			}
		} else if (!gflags[0x0312]) {
			if (gflags[0x0311]) {
				add("powerful artifact");
			}
		}
		if (gflags[0x0313]) {
			if (!gflags[0x032F]) {
				add("daemon mirror");
			} else if (!gflags[0x0330]) {
				if (!gflags[0x0338]) {
					add("daemon gem");
				}
			} else if (!gflags[0x0339]) {
				add("daemon blade");
			}
		} else if (gflags[0x032F]) {
			if (gflags[0x0330]) {
				if (!gflags[0x0339]) {
					add("daemon blade");
				}
			}
		}
		if (gflags[0x0318]) {
			add("the Psyche returns");
		}
		if (gflags[0x0327]) {
			add("great evil");
		}
		if (gflags[0x0341]) {
			add("Talisman of Infinity");
		}
		var0014 = false;
		var0015 = false;
		var0016 = false;
		var0017 = false;
		converse (0) {
			case "the Psyche returns":
				0xFEE2->say("\"Could this possibly be true?\" Erethian's blind eyes light up with unabashed glee. \"What an opportunity I have here.\"");
				0xFEE2->show_npc_face(0x0001);
				say("He once again notices your presence. \"Now, do not let any strange ideas of destruction enter thy mind, Avatar. I shan't let thee deprive me of this chance to experience a true wonder of the world. Run along now... Is there not a right to be wronged, somewhere else?");
				remove("the Psyche returns");
				fallthrough;

			case "great evil":
				0xFEE2->show_npc_face(0x0001);
				say("The elderly mage frowns. \"I sense no great evil, but then I never did quite get the knack of cosmic awareness. Nevertheless, don't worry thyself over much. These things tend to work themselves out.\" You feel as if you've just been patted on the head and asked to go play elsewhere.");
				remove("great evil");
				fallthrough;

			case "Talisman of Infinity":
				if (!gflags[0x030F]) {
					gflags[0x030F] = true;
					say("\"Ah, yes. I once had a scroll that told of a talisman by that name. If only I could remember where I put it. Dost thou by chance have the parchment entitled Scroll of Infinity with thee?");
					if (Func090A()) {
						if (!PARTY->count_objects(0x031D, 0x0032, 0x0001)) {
							say("\"If thou dost not have the scroll, I cannot help thee in this matter.\"");
						} else {
							say("\"Here we are. Now then, it appears to be written in a strange format. One might even say a code of sorts... I have it! Apparently, the Talisman currently resides in the Great Void. A plane somewhat removed from ours. If thou wishest to gain access to this void, thou shalt need to craft two lenses: one concave, the other convex. Light focused through the properly enchanted lenses will open a conduit between our realm and the void. I believe this treatise speaks of three Talismans of Principle that send out a call to the Infinity Talisman and bring it here. Once here, it would seem that its sole purpose is to coerce a powerful force into the void.\" A thought hits the mage like lightning strikes a tree. \"Oh no, Avatar... Thou shan't gain any more aid from me. I may be blind, but I see through thy sham. I'll not help thee send the Core into the void.\" Erethian falls silent, and it would appear that he'll speak no more.");
							0xFEE2->hide();
							0xFEDC->say("Arcadion's voice whispers to you like ripple in still pond, \"Fear not, my master. I have some knowledge of these matters.\"*");
							gflags[0x030E] = true;
							abort;
						}
					} else {
						say("\"Very well. I shall need the scroll to give thee further information.\"");
					}
				} else {
					say("\"Dost thou have the Scroll of Infinity amongst thy possessions?\"");
					if (Func090A()) {
						if (!PARTY->count_objects(0x031D, 0x0032, 0x0001)) {
							say("\"I needs must touch the scroll to glean its meaning. Else I'll not be able to help thee in this matter.\"");
						} else {
							say("\"Here we are. Now then, it appears to be written in a strange format. One might even say a code of sorts... I have it! Apparently, the Talisman currently resides in the Great Void. A plane somewhat removed from ours. If thou wishest to gain access to this void, thou shalt need to craft two lenses: one concave, the other convex. Light focused through the properly enchanted lenses will open a conduit between our realm and the void. I believe this treatise speaks of three Talismans of Principle that send out a call to the Infinity Talisman and bring it here. Once here, it would seem that its sole purpose is to coerce a powerful force into the void.\" A thought hits the mage like lightning strikes a tree. \"Oh no, Avatar... Thou shan't gain any more aid from me. I may be blind, but I see through thy sham. I'll not help thee send the Core into the void.\" Erethian falls silent, and it would appear that he'll speak no more.");
							0xFEE2->hide();
							0xFEDC->say("Arcadion's voice whispers to you like ripple in still pond, \"Fear not, my master. I have some knowledge of these matters.\"*");
							gflags[0x030E] = true;
							abort;
						}
					} else {
						say("\"If thou bringest the scroll to me I can aid the in finding the meaning of the archaic text.\"");
					}
				}
				remove("Talisman of Infinity");
				fallthrough;

			case "powerful artifact":
				say("\"I once attempted to create a sword of great power.\" Erethian frowns in concentration then says, \"if thou wishest to continue my work, thou shalt have need of some few pieces of forging equipment... And a place to put them... I know just the spot. Come with me and I'll see what I can do to help thee.\"*");
				var0015 = true;
				break;

			case "black sword":
				0xFEE2->show_npc_face(0x0001);
				say("Erethian nods his head when you tell him of your dilemma with the black sword. \"Yes, I can see how the blade would be too clumsy to swing in combat. However, if thou were to bind a magical source of power into the hilt of the blade, thou mightest be able to counteract the unwieldy nature of the sword.\"");
				if (AVATAR->get_npc_object()->get_cont_items(0x02F8, QUALITY_ANY, 0x000D)) {
					0xFEDD->say("The little gem sparks up at this turn of the conversation. \"I believe that in my current form, I could serve perfectly well as the blade's stabilizing force. In truth, this would allow me to give thee access to some of my more dramatic powers.\" The daemon sounds excited at this prospect, perhaps a little too excited.");
					0xFEDD->hide();
					0xFEE2->show_npc_face(0x0001);
					say("Erethian's voice is quiet as he says, \"Consider well before thou bindest Arcadion into the sword. For it is true that he will be able to solve the sword's problem of balance, but will he be able to solve his own problems as well?\"");
					add("problems");
				} else if (gflags[0x032F]) {
					say("You wonder if perhaps Arcadion might be able to shed some light on this issue, and as if reading your thoughts, Erethian says, \"Beware the daemon. His goals are not those of thine or mine. If he offers to help thee, it is to help himself. Of that thou canst be sure.\"");
				}
				gflags[0x0338] = true;
				remove(["black sword", "daemon gem"]);
				fallthrough;

			case "problems":
				say("\"This is thy choice to make. Apparently thou hast need to make this sword function, but if the daemon is thy only recourse, I pity thee. For as surely as Arcadion will be bound within the sword, thou wilt be bound to possess it. I can tell thee no more.\"");
				remove("problems");
				fallthrough;

			case "name":
				say("The mage gives you a half smile, \"'Twould seem that thy memory is failing thee, ",
					var0013,
					". As I have said, my name is Erethian.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a follower of the principle of Truth. But unlike those of the Lyceaum, I would prefer to seek out the knowledge instead of waiting for it to come to me.");
				say("It is this curiosity which has brought me to this island from which Exodus, the spawn of Mondain and Minax, sought to rule the world.");
				say("The books and scrolls here have taught me much of Britannia's\thistory and other... interesting subjects.\"");
				say("His clouded eyes sparkle with intelligence. But you can't help wondering how books and scrolls are of any use to a man afflicted with blindness.");
				remove("job");
				add(["Mondain", "Minax", "Exodus", "subjects", "blindness"]);
				fallthrough;

			case "subjects":
				say("\"If thou art interested, feel free to inspect them. This is no library.\" As if regretting his gracious gesture, he adds, \"However, I trust that thou wilt take utmost care with the older ones.\" He stops, on the verge of saying more.");
				remove("subjects");
				fallthrough;

			case "blindness":
				if (!gflags[0x032B]) {
					var0014 = true;
					break;
				}
				say("\"Thou art a tiresome child. Leave me be!\" He ignores your presence.*");
				abort;

			case "Mondain":
				say("Erethian scowls, \"Now there was a mighty wizard. A bit twisted but then who knows what happens to the human mind when 'tis subjected to the powers he wielded.");
				say("'Tis even said his skull alone had the power to destroy enemies... he must have locked a magical matrix upon it, I'll have to research that.\" He nods his head, seemingly making a mental note, then continues with a wistful look on his aged features,");
				say("\"I\twould have loved to study that fascinating Gem of Immortality, but alas, I was born in too late an era.\"");
				add(["Gem of Immortality", "skull"]);
				remove("Mondain");
				fallthrough;

			case "Minax":
				say("A sad sweet smile comes to the wizard's face, \"She was quite a comely lass at one time, with a mind forever searching.\" His expression darkens, \"But then Mondain forced all of the good sense from her.");
				say("She became a power unto herself, in time. I do not think she quite rivaled her former mentor, Mondain, but she was a force to be reckoned with, nevertheless.");
				say("And that thou didst, with the Quicksword, Enilno. That\tact will most likely have tales sung about it for the next eon.\" Under his breath he adds, \"Even if Iolo's the only one who sings it.\"");
				if (find_nearest(0x01D1, 0x0028)) {
					IOLO->say("With a look of indignation Iolo says, \"Pardon me, sir. But I'll have thee know that ballads of the Avatar still grace all of the finest drinking establishments of Britannia.\"");
					0xFEE2->say("\"And what a dubious distinction that is.\" The corners of the mage's mouth come up in a delicate smile.");
					IOLO->say("An angry retort dies on Iolo's lips as the elderly mage lifts his hands in a gesture of peace.");
					0xFEE2->say("\"Please, forgive the offense I have given. Thou shouldst know that I have seen, almost first hand, the Avatar's bravery in the face of adversity.");
					say("I have nothing but the highest regard for the Destroyer of the Age of Darkness and Harbinger of the Age of Enlightenment.");
					IOLO->hide();
				}
				add("Enilno");
				remove("Minax");
				fallthrough;

			case "Exodus":
				say("\"That being has become a passion of mine, lately.\" He almost glows with excitement. \"Indeed, 'tis what brought me here. While I\twas at the Lyceaum, I happened upon a passage in a manuscript that described an Island of Fire.");
				say("Upon further research, I found that the entity known as Exodus was not truly destroyed. The interface between its two parts and the world was merely severed.\"");
				add(["two parts", "interface"]);
				remove("Exodus");
				fallthrough;

			case "two parts":
				say("\"One part, his psyche we shall call it, was taken by the gargoyles who live below us in a realm on the other side of the world. A truly fascinating culture they have, but I digress...\" You begin to wonder just how long this old man has\tbeen out of circulation.");
				say("He continues, \"The other, I have here. I call it the Dark Core, because without the psyche, it is mostly lifeless.\" His face appears to youthen, and you feel as if you're speaking to a child describing his new toy... or perhaps, pet.");
				say("\"I believe 'twas the removal of the psyche from the Core that caused this island to sink beneath the waves.\"");
				add("gargoyles");
				if (!var0016) {
					add("psyche");
				}
				if (!var0017) {
					add("Dark Core");
				}
				remove("two parts");
				fallthrough;

			case "interface":
				say("His expression is unreadable, \"The machine that thou destroyed was Exodus' means of communication with and control of the world.");
				say("When it was destroyed, his psyche could no longer retain its hold on the Dark Core.");
				say("I have often wondered if another interface was implemented, would the psyche return, or possibly be regenerated...\"");
				say("As his\tidle musings begin to run toward possibly dangerous conclusions, his mouth audibly snaps shut.");
				if (!var0016) {
					add("psyche");
				}
				if (!var0017) {
					add("Dark Core");
				}
				remove("interface");
				fallthrough;

			case "gargoyles":
				say("\"Interesting creatures, thou mightest call them balrons, but they are not the beasts that history has made of them.");
				say("The larger, winged ones are intelligent and magical by nature,\twhile the smaller, wingless ones appear to be the work force for the species.\"");
				say("He turns his head in your direction with a puzzled expression in his eyes, \"I have the oddest feeling that thou hast heard all of this before...\" Erethian falls silent.");
				remove("gargoyles");
				fallthrough;

			case "psyche":
				say("\"Eventually, I shall turn my studies to that being. The gargoyles have placed it within a statue, in a shrine they dedicated to their principle of Diligence.");
				var0016 = true;
				remove("psyche");
				fallthrough;

			case "Dark Core":
				if (AVATAR->get_npc_object()->find_nearest(0x03DE, 0x0007)) {
					say("\"Yes, here it is. It is the cylinder sitting upon yon pedastal.\" He motions in the direction of the Dark Core.");
				}
				say("\"I have found it to be quite a treasure trove of useful facts. Its sole purpose seems to be the storage of information.");
				say("Much of the information is trivial, such as the detailed description\tof the color of the\tsky on a particular day eons ago,");
				say("while other bits give instructions for the manipulation of the\tworld.");
				say("Within it I even found the knowledge to raise and sustain this island\twe stand upon. It is truly a remarkable artifact.\"");
				say("He thinks for a moment, then looks nervously in your direction, \"Please, do be careful around it. Artifacts seem to have a tendency to, shall we say, disappear around thee.\"");
				var0017 = true;
				remove("Dark Core");
				fallthrough;

			case "Enilno":
				say("\"Ah, now there's a question. I've heard naught of it's existence since the Age of Darkness ended. Would that I knew its location.");
				say("It was reputedly a great item of magic. Didst thou find it so?\" He cocks his head to one side as he asks the question.");
				var0018 = Func090A();
				if (var0018) {
					say("\"Yes, 'tis a pity to lose such an item of antiquity. Perhaps as time unfolds it will turn up. These things have a way of surfacing at the strangest times.\"");
				} else {
					say("\"No? It didst seem to serve thee well enough to dispatch the enchantress Minax. But then I suppose only a poor bard blames his instrument.\" He winks mischieviously in your general direction.");
				}
				remove("Enilno");
				fallthrough;

			case "Gem of Immortality":
				say("Milky eyes glitter up at you like twin marbles, \"Ah, yes. But thou knowest all too well about that little bauble.");
				say("After all, it was thee who smashed it into the shards which caused thee so much trouble during the regency of Lord Blackthorn.");
				say("So much power that even in a shattered state, its magic still flowed. 'Tis sad to lose such an artifact.\" As if suddenly remembering with whom he is speaking, he ammends, \"Much better than having Mondain running about mucking with things, I suppose.\"");
				remove("Gem of Immortality");
				fallthrough;

			case "skull":
				say("\"'Twould seem that someone,\" he pauses dramatically, \"let that slip into a volcano...\" His wry smile belies his careless tone.");
				remove("skull");
				fallthrough;

			case "daemon mirror":
				say("\"Ah, so thou hast met that old windbag. Truly, I feel that I would do better to free myself of that burdensome beast, but he sometimes proves to be useful. If it weren't for his whining, perhaps he and I would get along better.\"");
				add(["whining", "free"]);
				remove("daemon mirror");
				fallthrough;

			case "whining":
				say("\"'Tis his favorite passtime. He begs, pleads, and threatens me to free him from that stupid mirror. Believe me, if I could I would have done it long ago.\" Erethian's lined face shows his chagrin.");
				remove("whining");
				fallthrough;

			case "free":
				say("\"He wants this special bauble. I once possessed this gem he seeks, and I don't think he'd be very happy once he gets it. I have tried to tell him that 'twould only imprison\thim in a more mobile jail, but alas, his head is made of stone.\"");
				add("jail");
				remove("free");
				fallthrough;

			case "jail":
				say("\"Quite. Arcadion seeks to have dominion over Britannia and believes that the gem will give him the ability to exert his power here. In truth, the Ether Gem works in the reverse, his power will become accessible to the one who possesses the gem.\"");
				add("Ether Gem");
				remove("jail");
				fallthrough;

			case "Ether Gem":
				say("\"The gem was pilfered from me by an ill tempered dragon. She blew her way into this castle, waylayed the golems that protect the Shrine of Principle, then destroyed a perfectly good secret door on her way to the Test of Courage. I'd have liked to see her squeeze through the hole she made, 'tis hardly big enough for a creature of her bulk.\" The mage's milky eyes twinkle with suppressed mirth.");
				add(["golems", "Shrine of Principle", "Test of Courage"]);
				remove("Ether Gem");
				fallthrough;

			case "golems":
				say("\"Mmmm... Yes. This pair of manshaped, magical constucts used to guard the Shrine of Principle, but alas, one fell pray to falling rocks when the dragon assaulted the castle. The other picked up his, ah... brother, for lack of a better word, and carried him off through the portal to the Test of Love.\"");
				add("Test of Love");
				remove("golems");
				fallthrough;

			case "Shrine of Principle":
				say("\"The shrine lies through the doors at the rear of the main hall. There thou canst find three statues, each one dedicated to a Principle set forth by Lord Britsh at the beginning of the Age of Enlightenment.\" Conspiratorially he adds, \"A bit stuffy, but they make nice cloakracks.\"");
				remove("Shrine of Principle");
				fallthrough;

			case "Test of Love":
				say("\"I not had the chance to inspect that oddity yet, however, thou art welcome to peruse it at thy leisure.\" He smiles like a grandfather giving a present to a child.");
				remove("Test of Love");
				fallthrough;

			case "Test of Courage":
				if (UI_is_pc_female()) {
					var0019 = "heroine's";
				} else {
					var0019 = "hero's";
				}
				say("\"I believe 'twas set in motion by Lord British in order to test...\" He gestures in your direction, \"A virtuous ",
					var0019,
					" fighting ability and courage. The statues in the back of this castle can tell thee more about the tests, though.\" Erethian grins mysteriously.");
				remove("Test of Courage");
				fallthrough;

			case "daemon gem":
				say("\"So... thou hast made a servant of Arcadion. 'Tis good to be rid of his incessant whining. I hope that thou findest him to be as useful as I didst.\" You're not sure, but his words might be construed as a curse.");
				if (AVATAR->get_npc_object()->get_cont_items(0x02F8, QUALITY_ANY, 0x000D)) {
					0xFEDD->say("The gem glows brighter, \"'Tis good to see the last of thee, also, old man. Perhaps in another life, I shall be thy master, and thou the slave.\" The daemon lets out a chilling little laugh.");
					0xFEDD->hide();
					0xFEE2->show_npc_face(0x0001);
					say("Erethian looks a little shaken at hearing the daemon's voice, but quickly recovers his composure. \"I think not, daemon. I'm not at all sure that there is a way for thou to get out of that little gem.\" The elderly mage's expression is unreadable.*");
					0xFEE2->show_npc_face(0x0000);
				}
				remove("daemon gem");
				fallthrough;

			case "daemon blade":
				say("\"I see that thou didst not heed my warning. Alas, my pity shall be thine eternally. And so, what wouldst thou have of me, Master and Slave of the Shade Blade.\"");
				gflags[0x0339] = true;
				remove("daemon blade");
				fallthrough;

			case "bye":
				if (!gflags[0x0338]) {
					say("\"Goodbye and good luck... Thou'lt need it.\" The old mage snickers under his breath as if enjoying a personal joke, quite possibly at your expense.*");
				} else {
					say("\"Goodbye and good luck...\" Erethian sounds truly sympathetic.");
				}
				abort;
		}
		if (var0014) {
			item->Func0696();
		}
		if (var0015) {
			item->Func069A();
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern void Func0882 0x882 (var var0000);

void Func009B shape#(0x9B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		0xFEE3->show_npc_face(0x0000);
		var0000 = Func08F7(SPARK);
		var0001 = Func08F7(SHAMINO);
		var0002 = Func0908();
		if (!gflags[0x01B3]) {
			say("The hooded figure in the boat ignores you completely.*");
			abort;
		}
		if (gflags[0x0198]) {
			add("sacrifice");
		}
		if (!gflags[0x01C3]) {
			say("Before you stands a tall, skeletal figure in a ghostly boat. He holds out his hand to you, and says in a sepulchral voice, \"I am the Ferryman of Skara Brae... Thou must pay two coins... to cross the Misty Channel.\"");
			gflags[0x01C3] = true;
		} else {
			if (!gflags[0x0197]) {
				say("The Ferryman of Skara Brae stands in his spectral boat, holding out his hand for any who would pay his price.");
			} else {
				say("The Ferryman of Skara Brae stands in his spectral boat, holding his pole across his chest. He notices your approach. \"You need not pay... to return to the mainland.\"");
				add("return");
			}
			if (gflags[0x01A3]) {
				say("He seems a bit disgruntled. \"I told you I would be here... until the end of eternity.\"");
			}
		}
		add(["name", "job", "Ferryman", "Misty Channel", "Skara Brae", "bye"]);
		if (!gflags[0x0197]) {
			add("pay");
		}
		converse (0) {
			case "name":
				say("\"I am... the Ferryman.\" His voice creaks like the rocking\tof the boat.");
				remove("name");
				fallthrough;

			case "job":
				say("The Ferryman doesn't respond at first, shaking his head from side to side in puzzlement. \"I am... the Ferryman.\"");
				fallthrough;

			case "Ferryman":
				say("\"Yes, if you pay me... I can take you across the Misty Channel.\"");
				remove("Ferryman");
				fallthrough;

			case "Misty Channel":
				say("He turns to the side and waves his skeletal hand in a sweeping gesture over the water upon which his boat rests. \"This... is the Misty Channel.\"");
				remove("Misty Channel");
				fallthrough;

			case "Skara Brae":
				if (!gflags[0x0197]) {
					say("He turns all the way around and points across the water to the west. \"There... \"");
					if (var0001 && var0000) {
						SHAMINO->say("\"Er... ",
							var0002,
							", art thou sure we need to go over there?\"*");
						SHAMINO->hide();
						SPARK->say("\"What's the matter, Shamino? Art thou -afraid-?\"*");
						SPARK->hide();
						SHAMINO->say("\"Of course not! I just... well, I... oh, never mind! Let's go!\"*");
						SHAMINO->hide();
						var0003 = Func08F7(IOLO);
						if (var0003) {
							IOLO->say("Iolo's eyes narrow as he adopts a patronizing look on his face.~~\"And I suppose thou art without fear?\" he says to Spark.*");
							IOLO->hide();
							SPARK->say("\"No, sir. I am not afraid of a skeleton,\" he says. As he looks at the ferryman, however, he\tgulps.*");
							SPARK->hide();
						}
						0xFEE3->show_npc_face(0x0000);
					}
				} else {
					say("The gaunt figure looks around as if perplexed. \"This... is Skara Brae.\"");
				}
				remove("Skara Brae");
				fallthrough;

			case "pay", "return":
				if (!gflags[0x0197]) {
					say("\"Wilt thou pay my price... for passage to Skara Brae?\"");
					var0004 = Func090A();
					if (var0004) {
						var0005 = UI_remove_party_items(0x0002, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						if (var0005) {
							say("You place the coins in the shade's palm and his bony fingers close over them. \"Step aboard... if thou wouldst go... to the Isle of the Dead.\"");
							Func0882(item);
						} else {
							say("\"I'll not cross... without proper payment.\"");
						}
					} else {
						say("\"Very well.\" He seems a little disappointed.");
					}
				} else {
					say("\"Dost thou wish... to return to the mainland?\"");
					var0004 = Func090A();
					if (var0004) {
						var0006 = ROWENA->get_npc_object();
						var0007 = UI_get_party_list();
						var0008 = FORSYTHE->get_npc_object();
						if ((var0006 in var0007) || (var0008 in var0007)) {
							say("\"I may not carry spirits to the mainland.\" He holds his pole in front of himself, blocking your way onto the boat.");
						} else {
							say("The Ferryman seems to smile beneath his hood as he motions for you to once more board his spectral boat.");
							Func0882(item);
						}
					} else {
						say("You think you see pale flames flicker in the depths of his cowl where his eyes should be. They fade as he sighs, \"No matter...\"");
					}
				}
				remove(["pay", "return"]);
				fallthrough;

			case "sacrifice":
				if (!gflags[0x0199]) {
					say("Just for a moment you think you see a fleeting expression of hope cross the Ferryman's skeletal features, then it's gone. \"I must perform my duty... until the end of eternity.\"");
					remove("sacrifice");
					gflags[0x0199] = true;
				} else {
					say("\"Do not taunt me... with hopes of release. I must perform my duty... until the end of eternity.\"");
					remove("sacrifice");
				}
				fallthrough;

			case "bye":
				say("Without acknowledging your goodbye, the Ferryman lowers his head and holds his pole across his chest.*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

void Func009F shape#(0x9F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = UI_game_hour();
		var0001 = "am";
		if (var0000 > 0x000C) {
			var0000 -= 0x000C;
			var0001 = "pm";
		}
		if (var0000 == 0x0000) {
			var0000 = 0x000C;
			var0001 = "am";
		}
		var0002 = UI_game_minute();
		if (var0002 <= 0x0009) {
			var0002 = "0" + var0002;
		}
		var0003 = (((" " + var0000) + ":") + var0002) + var0001;
		if (UI_in_gump_mode()) {
			item_say(var0003);
		} else {
			item_say(var0003);
		}
	}
}

void Func00B2 shape#(0xB2) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = UI_display_map();
	}
}

void Func00D2 shape#(0xD2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		var0000 = get_item_quality();
		if (var0000 == UI_part_of_day()) {
			return;
		}
		var0001 = set_item_quality(UI_part_of_day());
		if (UI_die_roll(0x0001, 0x0004) > 0x0001) {
			var0002 = UI_create_new_object(0x0179);
			if (var0002) {
				var0002->set_item_flag(TEMPORARY);
				var0002->clear_item_flag(OKAY_TO_TAKE);
				var0002->set_item_frame(0x0018);
				var0003 = get_object_position();
				var0004 = var0003[0x0001] - UI_die_roll(0x0000, 0x0001);
				var0005 = var0003[0x0002] - UI_die_roll(0x0000, 0x0001);
				var0006 = var0003[0x0003] + 0x0001;
				var0001 = UI_update_last_created([var0004, var0005, var0006]);
			}
		}
	}
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func081E 0x81E (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006, var var0007, var var0008);
extern void Func0818 0x818 ();
extern void Func0819 0x819 (var var0000);
extern void Func081A 0x81A (var var0000);

void Func00E1 shape#(0xE1) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func081B(item);
	if (var0000 == 0x0001) {
		if (Func081D(item, 0x0188, 0x0000, 0x0000, 0x0000, 0x0007)) {
			Func081E(item, 0x00F6, 0x0001, 0x0001, 0x00FA, 0x0000, 0x0000, 0x0003, 0x0005);
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0000) {
		if (Func081D(item, 0x0188, 0x0001, 0x0000, 0x0000, 0x0007)) {
			Func081E(item, 0x00F6, 0x0000, 0x0002, 0x00FA, 0x0001, -3, 0, 0x0007);
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0002) {
		Func0819(item);
	}
	if (var0000 == 0x0003) {
		Func081A(item);
	}
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func081E 0x81E (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006, var var0007, var var0008);
extern void Func0818 0x818 ();
extern void Func0819 0x819 (var var0000);
extern void Func081A 0x81A (var var0000);

void Func00F6 shape#(0xF6) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func081B(item);
	if (var0000 == 0x0001) {
		if (Func081D(item, 0x00FA, 0x0000, 0x0000, 0x0003, 0x0005)) {
			Func081E(item, 0x00E1, 0x0001, 0x0001, 0x0188, 0x0000, 0x0000, 0x0000, 0x0007);
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0000) {
		if (Func081D(item, 0x00FA, 0x0001, -3, 0, 0x0007)) {
			Func081E(item, 0x00E1, 0x0000, 0x0002, 0x0188, 0x0001, 0, 0, 0x0007);
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0002) {
		Func0819(item);
	}
	if (var0000 == 0x0003) {
		Func081A(item);
	}
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func081E 0x81E (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006, var var0007, var var0008);
extern void Func0818 0x818 ();
extern void Func0819 0x819 (var var0000);
extern void Func081A 0x81A (var var0000);

void Func00FA shape#(0xFA) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func081B(item);
	if (var0000 == 0x0001) {
		if (Func081D(item, 0x00F6, 0x0000, 0x0003, 0x0000, 0x0001)) {
			Func081E(item, 0x0188, 0x0001, 0x0002, 0x00E1, 0x0000, 0x0000, 0x0000, 0x0007);
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0000) {
		if (Func081D(item, 0x00F6, 0x0001, 0, -3, 0x0007)) {
			Func081E(item, 0x0188, 0x0000, 0x0001, 0x00E1, 0x0001, 0, 0, 0x0007);
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0002) {
		Func0819(item);
	}
	if (var0000 == 0x0003) {
		Func081A(item);
	}
}

extern void Func08FF 0x8FF (var var0000);
extern var Func080D 0x80D ();
extern void Func0831 0x831 (var var0000);
extern var Func08B3 0x8B3 (var var0000);
extern void Func0830 0x830 (var var0000, var var0001);

void Func00FB shape#(0xFB) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event != DOUBLECLICK) {
		return;
	}
	if (UI_in_gump_mode()) {
		UI_close_gumps();
	}
	if (get_barge()) {
		var0000 = find_nearby(0x00C7, 0x0005, MASK_NONE);
		var0001 = find_nearby(0x00FB, 0x0005, MASK_NONE);
		if (!(item in var0001)) {
			var0001 &= item;
		}
		if (!AVATAR->get_item_flag(ON_MOVING_BARGE)) {
			var0002 = get_item_quality();
			var0003 = PARTY->count_objects(0x031D, var0002, FRAME_ANY);
			if (!var0003) {
				if (UI_get_array_size(UI_get_party_list()) == 0x0001) {
					Func08FF("@The deed for this vessel must first be purchased.@");
				} else {
					Func08FF("@We must purchase the deed for this vessel before we sail her.@");
				}
				return;
			}
			if (Func080D()) {
				Func0831(item);
			} else {
				var0004 = Func08B3(var0000[0x0001]);
				set_item_flag(ACTIVE_SAILOR);
			}
		} else {
			clear_item_flag(ACTIVE_SAILOR);
			Func0830(var0001, 0x0000);
			clear_item_flag(ON_MOVING_BARGE);
			clear_item_flag(ACTIVE_BARGE);
			UI_play_music(0x00FF, 0x0000);
		}
	}
}

void Func00FC shape#(0xFC) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		var0000 = UI_game_hour();
		if (var0000 > 0x000C) {
			var0000 -= 0x000C;
		}
		if (var0000 == 0x0000) {
			var0000 = 0x000C;
		}
		var0001 = UI_game_minute();
		if (var0001 < 0x000A) {
			var0001 = "0" + var0001;
		}
		var0002 = ((" " + var0000) + ":") + var0001;
		item_say(var0002);
	}
}

extern void Func08FE 0x8FE (var var0000);
extern void Func0628 object#(0x628) ();

void Func0102 shape#(0x102) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		if (in_usecode()) {
			halt_scheduled();
			Func08FE("@It is about time!@");
		} else {
			item->Func0628();
		}
	}
	if (event == BG_PATH_FAILURE) {
		var0000 = get_object_position();
		var0000[0x0001] -= 0x0002;
		var0000[0x0002] += 0x0001;
		var0001 = AVATAR->get_cont_items(0x032A, QUALITY_ANY, FRAME_ANY);
		if (var0001) {
			var0002 = var0001->set_last_created();
			if (var0002) {
				var0001->set_item_frame(0x0004);
				var0002 = UI_update_last_created(var0000);
			}
		}
		var0002 = script AVATAR {
			face north;
			continue;
			actor frame bowing;
		};
	}
}

extern var Func0827 0x827 (var var0000, var var0001);
extern void Func08FF 0x8FF (var var0000);

void Func0105 shape#(0x105) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == BG_PATH_SUCCESS) {
		halt_scheduled();
		var0000 = script item {
			frame 0;
			repeat 32 {
				next frame cycle;
				continue;
				sfx 6;
			};
			call Func0105;
		};
		var0001 = Func0827(AVATAR, item);
		var0000 = script AVATAR {
			face var0001;
			repeat 9 {
				continue;
				actor frame strike_1h;
				actor frame standing;
				wait 1;
			};
		};
	}
	if (event == SCRIPTED) {
		var0002 = AVATAR->get_cont_items(0x028E, QUALITY_ANY, FRAME_ANY);
		if (var0002) {
			var0002->remove_item();
		}
		var0003 = UI_create_new_object(0x0353);
		if (var0003) {
			var0003->set_item_flag(TEMPORARY);
			var0003->set_item_flag(OKAY_TO_TAKE);
			var0003->set_item_frame(UI_die_roll(0x0000, 0x0004));
			var0004 = get_object_position();
			var0004[0x0001] += 0x0001;
			var0004[0x0002] += 0x0001;
			var0000 = UI_update_last_created(var0004);
		}
	}
	if (event == DOUBLECLICK) {
		Func08FF("@I believe that one threads a loom before using it.@");
	}
}

void Func010B shape#(0x10B) () {
	if (event == DOUBLECLICK) {
		UI_play_music(0x0027, item);
	}
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func081E 0x81E (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006, var var0007, var var0008);
extern void Func0818 0x818 ();
extern void Func0819 0x819 (var var0000);
extern void Func081A 0x81A (var var0000);

void Func010E shape#(0x10E) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func081B(item);
	if (var0000 == 0x0001) {
		if (Func081D(item, 0x0178, 0x0000, 0, 0, 0x0007)) {
			Func081E(item, 0x01B0, 0x0001, 0x0001, 0x01B1, 0x0000,  0, 3, 0x0005);
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0000) {
		if (Func081D(item, 0x0178, 0x0001, 0, 0, 0x0007)) {
			Func081E(item, 0x01B0, 0x0000, 0x0002, 0x01B1, 0x0001, -3, 0, 0x0007);
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0002) {
		Func0819(item);
	}
	if (var0000 == 0x0003) {
		Func081A(item);
	}
}

extern var Func0908 0x908 ();
extern void Func08FF 0x8FF (var var0000);

void Func011C shape#(0x11C) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = UI_game_hour();
		if ((var0000 >= 0x0006) && (var0000 <= 0x000B)) {
			item_say((" " + UI_game_hour()) + " o'clock");
			return;
		}
		if (var0000 == 0x000C) {
			item_say("Noon");
			return;
		}
		if ((var0000 >= 0x000D) && (var0000 <= 0x0014)) {
			var0000 -= 0x000C;
			item_say((" " + var0000) + " o'clock");
			return;
		}
		var0001 = Func0908();
		Func08FF("@^<Avatar>, I believe the key word in sundial is `sun'.@");
	}
}

void Func0122 shape#(0x122) () {
	if (event == DOUBLECLICK) {
		set_item_shape(0x0174);
		UI_play_sound_effect2(0x0002, item);
	}
}

void Func0123 shape#(0x123) () {
	if (event == DOUBLECLICK) {
		set_item_shape(0x0142);
		UI_play_sound_effect2(0x0002, item);
	}
}

extern var Func080C 0x80C (var var0000);
extern void Func028C shape#(0x28C) ();
extern void Func0348 shape#(0x348) ();
extern var Func08B3 0x8B3 (var var0000);
extern void Func080A 0x80A (var var0000, var var0001);
extern var Func080B 0x80B (var var0000);

void Func0124 shape#(0x124) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;

	if (event == DOUBLECLICK) {
		if (get_barge()) {
			var0000 = Func080C(item);
			if ((var0000 == 0x028C) || (var0000 == 0x0348)) {
				if (get_item_flag(ON_MOVING_BARGE)) {
					if (var0000 == 0x028C) {
						item->Func028C();
					}
					if (var0000 == 0x0348) {
						item->Func0348();
					}
				} else {
					var0001 = Func08B3(item);
				}
			}
		} else {
			Func080A(item, 0x0124);
			var0002 = get_distance(AVATAR) + 0x000F;
			var0001 = script item after var0002 ticks {
				nohalt;
				call Func0124;
			};
		}
	}
	if (event == SCRIPTED) {
		var0003 = AVATAR->get_object_position();
		var0004 = [0x0AE7, 0x09D5, 0x0A37, 0x09D5, 0x0AA7, 0x08E5, 0x0A37, 0x09A5];
		var0005 = [0x0AD7, 0x0885];
		var0006 = 0x0000;
		if ((var0003[0x0001] == var0005[0x0001]) && ((var0003[0x0002] == var0005[0x0002]) && (gflags[0x02E7] == false))) {
			gflags[0x02E7] = true;
			var0005[0x0002] += 0x0002;
			UI_sprite_effect(ANIMATION_LIGHTNING, var0005[0x0001], var0005[0x0002], 0x0000, 0x0000, 0x0000, 0x0001);
			UI_play_sound_effect2(0x003E, item);
			UI_lightning();
			var0007 = UI_create_new_object(0x037F);
			if (var0007) {
				var0007->set_item_flag(TEMPORARY);
				var0001 = UI_update_last_created(var0005);
			}
			abort;
		}
		var0008 = 0x0001;
		do {
			if ((var0003[0x0001] == var0004[var0008]) && (var0003[0x0002] == var0004[(var0008 + 0x0001)])) {
				var0008 = Func080B(var0008);
				var0006[0x0001] = var0004[var0008];
				var0006[0x0002] = var0004[(var0008 + 0x0001)];
				break;
			}
			var0008 = Func080B(var0008);
		} while	(var0008 > 0x0001);
		if (var0006) {
			var0009 = UI_get_party_list();
			var000A = [];
			var000B = [];
			var000C = [];
			var000D = AVATAR->get_object_position();
			var000E = 0x0001;
			for (var0011 in var0009 with var000F to var0010) {
				var0012 = var0011->get_object_position();
				var000A[var000E] = var000D[0x0001] - var0012[0x0001];
				var000B[var000E] = var000D[0x0002] - var0012[0x0002];
				var000C[var000E] = var0011->get_item_frame_rot();
				var000E += 0x0001;
			}
			PARTY->move_object(var0006);
			var000D = AVATAR->get_object_position();
			var000E = 0x0001;
			for (var0011 in var0009 with var0013 to var0014) {
				var0011->move_object([(var000D[0x0001] - var000A[var000E]), (var000D[0x0002] - var000B[var000E]), var000D[0x0003]]);
				var0011->set_item_frame_rot(var000C[var000E]);
				var000E += 0x0001;
			}
		}
	}
}

void Func0128 shape#(0x128) () {
	var var0000;

	if ((event == READIED) || (event == UNREADIED)) {
		var0000 = get_container();
		while ((var0000 != 0x0000) && (!var0000->is_npc())) {
			var0000 = var0000->get_container();
		}
		if (var0000 == 0x0000) {
			UI_flash_mouse(CURSOR_HAND);
			return;
		}
	}
	if (event == READIED) {
		var0000->set_item_flag(INVISIBLE);
	}
	if (event == UNREADIED) {
		var0000->clear_item_flag(INVISIBLE);
	}
}

void Func012A shape#(0x12A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == READIED) {
		var0000 = get_container();
		if (var0000 && var0000->is_npc()) {
			halt_scheduled();
			var0001 = script item after 100 ticks {
				call Func012A;
			};
		} else {
			UI_flash_mouse(CURSOR_HAND);
		}
	}
	if (event == UNREADIED) {
		halt_scheduled();
	}
	if (event == SCRIPTED) {
		halt_scheduled();
		var0000 = get_container();
		if (var0000 && var0000->is_npc()) {
			var0002 = var0000->get_npc_prop(STRENGTH);
			var0003 = var0000->get_npc_prop(HEALTH);
			if (var0003 < var0002) {
				var0001 = var0000->set_npc_prop(HEALTH, 1);
				if (UI_die_roll(0x0001, 0x0064) == 0x0001) {
					remove_item();
					return;
				}
			}
			var0001 = script item after 100 ticks {
				call Func012A;
			};
		}
	}
}

extern void Func0809 0x809 (var var0000);

void Func012D shape#(0x12D) () {
	if (event == DOUBLECLICK) {
		Func0809(item);
	}
}

extern void Func0833 0x833 (var var0000, var var0001);
extern void Func03A8 shape#(0x3A8) ();

void Func012F shape#(0x12F) () {
	if (event == SCRIPTED) {
		set_item_shape(0x012F);
		abort;
	}
	if (event == DOUBLECLICK) {
		UI_flash_mouse(CURSOR_HAND);
		return;
	}
	Func0833(item, Func03A8);
}

extern var Func0802 0x802 (var var0000, var var0001);
extern void Func0615 object#(0x615) ();

void Func0133 shape#(0x133) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;

	if (event == DOUBLECLICK) {
		if (get_item_frame() == 0x0000) {
			var0000 = get_object_position();
			var0001 = find_nearby(0x0154, 0x0005, MASK_NONE);
			var0002 = 0x0000;
			var0003 = 0x0000;
			var0004 = 0x0000;
			var0005 = [0x0002, 0x0007, 0x0008];
			for (var0008 in var0001 with var0006 to var0007) {
				var0009 = var0008->get_object_position();
				var000A = var0008->get_item_frame();
				if ((var0009[0x0001] == (var0000[0x0001] - 0x0003)) && ((var0009[0x0002] == var0000[0x0002]) && ((var0009[0x0003] == var0000[0x0003]) && (var000A in var0005)))) {
					var0005 = Func0802(var000A, var0005);
					var0002 = var0008;
				}
				if ((var0009[0x0001] == (var0000[0x0001] - 0x0002)) && ((var0009[0x0002] == (var0000[0x0002] + 0x0002)) && ((var0009[0x0003] == var0000[0x0003]) && (var000A in var0005)))) {
					var0005 = Func0802(var000A, var0005);
					var0003 = var0008;
				}
				if ((var0009[0x0001] == var0000[0x0001]) && ((var0009[0x0002] == (var0000[0x0002] + 0x0003)) && ((var0009[0x0003] == var0000[0x0003]) && (var000A in var0005)))) {
					var0005 = Func0802(var000A, var0005);
					var0004 = var0008;
				}
			}
			if (var0002 && (var0003 && var0004)) {
				var000B = find_nearby(0x02F2, 0x0005, MASK_NONE);
				for (var000E in var000B with var000C to var000D) {
					var000F = var000E->get_object_position();
					if ((var000F[0x0001] == (var0000[0x0001] + 0x0002)) && ((var000F[0x0002] == (var0000[0x0002] - 0x0002)) && (var000F[0x0003] == var0000[0x0003]))) {
						var0010 = find_nearby(0x00B1, 0x0005, MASK_NONE);
						for (var0013 in var0010 with var0011 to var0012) {
							var0014 = var0013->get_object_position();
							if ((var0014[0x0001] == (var0000[0x0001] + 0x0001)) && ((var0014[0x0002] == (var0000[0x0002] + 0x0002)) && (var0014[0x0003] == (var0000[0x0003] + 0x0002)))) {
								var0015 = script item {
									next frame cycle;
									sfx 67;
									wait 10;
									previous frame cycle;
								};
								var0015 = script var0002 after 2 ticks {
									nohalt;
									call Func0615;
								};
								var0015 = script var0003 after 4 ticks {
									nohalt;
									call Func0615;
								};
								var0015 = script var0004 after 6 ticks {
									nohalt;
									call Func0615;
								};
								var0015 = script var000E {
									repeat 4 {
										next frame cycle;
									};
								};
								var0015 = script var0013 {
									repeat 3 {
										next frame cycle;
									};
									frame 0;
								};
								gflags[0x01D0] = true;
								abort;
							}
						}
					}
				}
			}
			var0015 = script item {
				next frame cycle;
				sfx 69;
				wait 10;
				previous frame cycle;
			};
		} else {
			set_item_frame(0x0000);
		}
	}
}

void Func0142 shape#(0x142) () {
	if (event == DOUBLECLICK) {
		set_item_shape(0x0123);
		UI_play_sound_effect2(0x0002, item);
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern void Func08FE 0x8FE (var var0000);
extern void Func0149 shape#(0x0149) ();

void Func0149 shape#(0x149) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (in_usecode()) {
		return;
	}
	if (event == DOUBLECLICK) {
		var0000 = get_container();
		if (var0000) {
			var0001 = AVATAR->get_object_position();
			var0001[0x0001] += 0x0001;
			var0002 = set_last_created();
			if (var0002) {
				var0002 = UI_update_last_created(var0001);
			} else {
				return;
			}
		}
		if (UI_in_gump_mode()) {
			UI_close_gumps();
		}
		var0003 = -1;
		var0004 = -1;
		var0005 = -2;
		Func0828(item, var0003, var0004, var0005, Func0149, item, BG_PATH_SUCCESS);
	}
	if (event == BG_PATH_SUCCESS) {
		if (!UI_is_pc_inside()) {
			var0002 = script item {
				frame 0;
				repeat 14 {
					next frame;
				};
				wait 5;
				repeat 3 {
					previous frame cycle;
				};
				repeat 3 {
					wait 2;
					next frame;
				};
				repeat 14 {
					previous frame;
				};
				frame 0;
			};
			var0002 = script AVATAR {
				actor frame bowing;
				actor frame standing;
				face west;
				repeat 7 {
					actor frame raise_1h;
					wait 2;
					actor frame standing;
					wait 2;
				};
			};
		} else {
			Func08FE("@Try it outside!@");
		}
	}
}

extern void Func0942 0x942 (var var0000, var var0001);

void Func0150 shape#(0x150) () {
	if ((event == DOUBLECLICK) || (event == SCRIPTED)) {
		Func0942(item, 0x0152);
	}
}

extern var Func0827 0x827 (var var0000, var var0001);
extern void Func0905 0x905 (var var0000);

void Func0152 shape#(0x152) () {
	var var0000;
	var var0001;

	if ((event == DOUBLECLICK) || (event == SCRIPTED)) {
		set_item_shape(0x0150);
		halt_scheduled();
	}
	if (event == BG_PATH_SUCCESS) {
		set_item_shape(0x0150);
		var0000 = Func0827(AVATAR, item);
		var0001 = script AVATAR {
			face var0000;
			continue;
			actor frame strike_2h;
			actor frame standing;
		};
	}
	if (event == READIED) {
		Func0905(item);
	}
}

extern void Func08FA 0x8FA (var var0000);
extern void Func092A 0x92A (var var0000, var var0001);
extern void Func08FF 0x8FF (var var0000);
extern var Func0909 0x909 ();
extern void Func08FD 0x8FD (var var0000);
extern void Func0925 0x925 (var var0000);

void Func0154 shape#(0x154) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		Func08FA(item);
		var0000 = get_item_frame();
		var0001 = UI_click_on_item();
		var0002 = var0001->is_npc();
		UI_play_sound_effect2(0x005A, item);
		if (var0002) {
			UI_play_sound_effect(0x0044);
			if (var0000 == 0x0000) {
				var0001->set_item_flag(ASLEEP);
			}
			if (var0000 == 0x0001) {
				var0003 = UI_die_roll(0x0003, 0x000C);
				Func092A(var0001, var0003);
			}
			if (var0000 == 0x0002) {
				var0001->clear_item_flag(POISONED);
				var0001->clear_item_flag(PARALYZED);
				var0001->clear_item_flag(ASLEEP);
				var0001->clear_item_flag(CHARMED);
				var0001->clear_item_flag(CURSED);
			}
			if (var0000 == 0x0003) {
				var0001->set_item_flag(POISONED);
			}
			if (var0000 == 0x0004) {
				var0001->clear_item_flag(ASLEEP);
				if (var0001->get_npc_number() == PENUMBRA) {
					var0001->set_schedule_type(TEND_SHOP);
				}
			}
			if (var0000 == 0x0005) {
				var0001->set_item_flag(PROTECTION);
			}
			if (var0000 == 0x0006) {
				UI_cause_light(0x0064);
			}
			if (var0000 == 0x0007) {
				var0001->set_item_flag(INVISIBLE);
			}
			if (var0000 >= 0x0008) {
				Func08FF("@What is this!@");
				abort;
			}
		} else {
			var0003 = UI_die_roll(0x0001, 0x0003);
			if (var0003 == 0x0001) {
				var0004 = Func0909();
				var0005 = "@Those are expensive, <Gender>! " + "Plese waste them not!@";
				Func08FF(var0005);
			} else {
				Func08FD(0x003C);
				return;
			}
		}
		Func0925(item);
	}
}

void Func0174 shape#(0x174) () {
	if (event == DOUBLECLICK) {
		set_item_shape(0x0122);
		UI_play_sound_effect2(0x0002, item);
	}
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func081E 0x81E (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006, var var0007, var var0008);
extern void Func0818 0x818 ();
extern void Func0819 0x819 (var var0000);
extern void Func081A 0x81A (var var0000);

void Func0178 shape#(0x178) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func081B(item);
	if (var0000 == 0x0001) {
		if (Func081D(item, 0x010E, 0x0000, 0, 0, 0x0007)) {
			Func081E(item, 0x01B1, 0x0001, 0x0002, 0x01B0, 0x0000,  3,  0, 0x0001);
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0000) {
		if (Func081D(item, 0x010E, 0x0001, 0, 0, 0x0007)) {
			Func081E(item, 0x01B1, 0x0000, 0x0001, 0x01B0, 0x0001,  0, -3, 0x0007);
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0002) {
		Func0819(item);
	}
	if (var0000 == 0x0003) {
		Func081A(item);
	}
}

extern void Func0813 0x813 (var var0000, var var0001, var var0002);

void Func0179 shape#(0x179) () {
	var var0000;
	var var0001;

	var0000 = [0x0004, 0x0006, 0x0002, 0x0005, 0x0003, 0x0003, 0x0001, 0x000C, 0x0018, 0x0010, 0x0018, 0x0018, 0x0004, 0x0008, 0x0010, 0x0006, 0x0002, 0x0003, 0x0002, 0x0001, 0x0004, 0x0003, 0x0001, 0x0018, 0x0003, 0x0001, 0x0009, 0x0002, 0x001F, 0x0008, 0x0006, 0x0000];
	var0001 = var0000[(get_item_frame() + 0x0001)];
	Func0813(item, var0001, 0x005B);
}

extern var Func0908 0x908 ();

void Func017B shape#(0x17B) () {
	var var0000;
	var var0001;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func0908();
	var0001 = get_item_quality();
	if (var0001 > 0x0097) {
		UI_display_runes(0x0031, ["THIS IS", "NOT A", "VALID", "SIGN"]);
	} else if (var0001 == 0x0000) {
		UI_display_runes(0x0031, ["drink", "at\{dot}\{th}e", "gilded", "lizard"]);
	} else if (var0001 == 0x0001) {
		UI_display_runes(0x0031, ["skara", "brae~", "~population", "47"]);
	} else if (var0001 == 0x0002) {
		UI_display_runes(0x0031, ["trinsic"]);
	} else if (var0001 == 0x0003) {
		UI_display_runes(0x0031, ["\{th}e", "honorable", "hound"]);
	} else if (var0001 == 0x0004) {
		UI_display_runes(0x0031, ["FELLOWSHIP", "HALL"]);
	} else if (var0001 == 0x0005) {
		UI_display_runes(0x0031, ["britain"]);
	} else if (var0001 == 0x0006) {
		UI_display_runes(0x0031, ["COMING:", "RAYMUNDO'S", "@TRIALS OF", "THE AVATAR@"]);
	} else if (var0001 == 0x0007) {
		UI_display_runes(0x0031, ["RESERVE", "THY", "SEATS", "NOW"]);
	} else if (var0001 == 0x0008) {
		UI_display_runes(0x0031, ["royal", "museum"]);
	} else if (var0001 == 0x0009) {
		UI_display_runes(0x0031, ["\{th}e", "music", "hall"]);
	} else if (var0001 == 0x000B) {
		UI_display_runes(0x0031, ["\{th}e", "wayfarer's", "inn"]);
	} else if (var0001 == 0x000C) {
		UI_display_runes(0x0031, ["iolos", "bows"]);
	} else if (var0001 == 0x000D) {
		UI_display_runes(0x0031, ["\{th}e", "blue", "boar"]);
	} else if (var0001 == 0x000E) {
		UI_display_runes(0x0031, ["gayes", "clo\{th}iers"]);
	} else if (var0001 == 0x000F) {
		UI_display_runes(0x0031, ["nor\{th}", "\{st}ar", "armoury"]);
	} else if (var0001 == 0x0010) {
		UI_display_runes(0x0031, ["\{th}e", "oaken", "oar"]);
	} else if (var0001 == 0x0011) {
		UI_display_runes(0x0031, ["bakery"]);
	} else if (var0001 == 0x0012) {
		UI_display_runes(0x0031, ["jeweler"]);
	} else if (var0001 == 0x0013) {
		UI_display_runes(0x0031, ["farmers", "market"]);
	} else if (var0001 == 0x0014) {
		UI_display_runes(0x0031, ["apo\{th}ecary"]);
	} else if (var0001 == 0x0015) {
		UI_display_runes(0x0031, ["royal", "mint"]);
	} else if (var0001 == 0x0016) {
		UI_display_runes(0x0031, ["csil", "\{th}e", "h\{ea}ler"]);
	} else if (var0001 == 0x0017) {
		UI_display_runes(0x0031, ["provisions"]);
	} else if (var0001 == 0x0018) {
		UI_display_runes(0x0031, ["royal", "orchards"]);
	} else if (var0001 == 0x0019) {
		UI_display_runes(0x0031, ["TEST OF STRENGTH", " -- ", "ART THOU AN AVATAR?"]);
	} else if (var0001 == 0x001A) {
		UI_display_runes(0x0031, ["punch and", "judy", "show"]);
	} else if (var0001 == 0x001B) {
		UI_display_runes(0x0031, ["fish\{dot}n\{dot}chips"]);
	} else if (var0001 == 0x001C) {
		UI_display_runes(0x0031, ["cove"]);
	} else if (var0001 == 0x001D) {
		UI_display_runes(0x0031, ["\{th}e", "emerald"]);
	} else if (var0001 == 0x001E) {
		UI_display_runes(0x0031, ["out\{dot}n\{dot}inn"]);
	} else if (var0001 == 0x001F) {
		UI_display_runes(0x0031, ["lovers", "walk"]);
	} else if (var0001 == 0x0020) {
		UI_display_runes(0x0031, ["buccaneers", "den"]);
	} else if (var0001 == 0x0021) {
		UI_display_runes(0x0031, "\{th}e\{dot}ba\{th}s");
	} else if (var0001 == 0x0022) {
		UI_display_runes(0x0031, ["house", "of", "games"]);
	} else if (var0001 == 0x0023) {
		UI_display_runes(0x0031, ["\{th}e", "fallen", "virgin"]);
	} else if (var0001 == 0x0024) {
		UI_display_runes(0x0031, "budos");
	} else if (var0001 == 0x0025) {
		UI_display_runes(0x0031, ["MEDITATION", "RETREAT"]);
	} else if (var0001 == 0x002C) {
		UI_display_runes(0x0031, ["GO THIS WAY"]);
	} else if (var0001 == 0x0034) {
		UI_display_runes(0x0031, ["lycaeum"]);
	} else if (var0001 == 0x0035) {
		UI_display_runes(0x0031, ["\{th}e", "hallowed", "dock"]);
	} else if (var0001 == 0x0036) {
		UI_display_runes(0x0031, ["\{th}e", "friendly", "knave"]);
	} else if (var0001 == 0x0037) {
		UI_display_runes(0x0031, ["\{th}e", "gilded", "lizard"]);
	} else if (var0001 == 0x0038) {
		UI_display_runes(0x0031, ["h\{ea}ler"]);
	} else if (var0001 == 0x0039) {
		UI_display_runes(0x0031, ["eldro\{th}s", "provisions"]);
	} else if (var0001 == 0x003A) {
		UI_display_runes(0x0031, ["house", "of", "items"]);
	} else if (var0001 == 0x003B) {
		UI_display_runes(0x0031, ["britannian", "mini\{ng}", "company"]);
	} else if (var0001 == 0x003C) {
		UI_display_runes(0x0031, ["minoc", "branch"]);
	} else if (var0001 == 0x003D) {
		UI_display_runes(0x0031, ["trainer"]);
	} else if (var0001 == 0x003E) {
		UI_display_runes(0x0031, ["scholar"]);
	} else if (var0001 == 0x003F) {
		UI_display_runes(0x0031, ["town\{dot}hall"]);
	} else if (var0001 == 0x0040) {
		UI_display_runes(0x0031, ["wis-surs", "magics"]);
	} else if (var0001 == 0x0041) {
		UI_display_runes(0x0031, ["observatory"]);
	} else if (var0001 == 0x0042) {
		UI_display_runes(0x0031, ["vesper"]);
	} else if (var0001 == 0x0043) {
		UI_display_runes(0x0031, ["moo\{ng}low"]);
	} else if (var0001 == 0x0044) {
		UI_display_runes(0x0031, ["terfin"]);
	} else if (var0001 == 0x0045) {
		UI_display_runes(0x0031, ["serpents", "hold"]);
	} else if (var0001 == 0x0046) {
		UI_display_runes(0x0031, ["empa\{th}", "abbey"]);
	} else if (var0001 == 0x0047) {
		UI_display_runes(0x0031, ["jhelom"]);
	} else if (var0001 == 0x0048) {
		UI_display_runes(0x0031, ["minoc"]);
	} else if (var0001 == 0x0049) {
		UI_display_runes(0x0031, ["undertaker"]);
	} else if (var0001 == 0x004A) {
		UI_display_runes(0x0031, ["high", "court", "of", "britannia"]);
	} else if (var0001 == 0x004B) {
		UI_display_runes(0x0031, ["prison"]);
	} else if (var0001 == 0x004C) {
		UI_display_runes(0x0031, ["\{th}e", "mode\{st}", "damsel"]);
	} else if (var0001 == 0x004D) {
		UI_display_runes(0x0031, ["armoury"]);
	} else if (var0001 == 0x004E) {
		UI_display_runes(0x0031, ["blacksmi\{th}"]);
	} else if (var0001 == 0x004F) {
		UI_display_runes(0x0031, ["recr\{ea}tion", "center"]);
	} else if (var0001 == 0x0050) {
		UI_display_runes(0x0031, ["hall", "of", "knowledge"]);
	} else if (var0001 == 0x0051) {
		UI_display_runes(0x0031, ["hello", "\{th}ere", "avatar"]);
	} else if (var0001 == 0x0052) {
		UI_display_runes(0x0031, ["tonight\{dot}9-12", "in\{dot}person", "the\{dot}avatars"]);
	} else if (var0001 == 0x0053) {
		UI_display_runes(0x0031, ["why", "ask", "why?"]);
	} else if (var0001 == 0x0054) {
		UI_display_runes(0x0031, ["\{st}r\{ee}t", "of", "honor"]);
	} else if (var0001 == 0x0055) {
		UI_display_runes(0x0031, ["paladins", "pa\{th}"]);
	} else if (var0001 == 0x0056) {
		UI_display_runes(0x0031, ["AVENUE", "OF", "THE", "FELLOWSHIP"]);
	} else if (var0001 == 0x0057) {
		UI_display_runes(0x0031, ["widows", "walk"]);
	} else if (var0001 == 0x0058) {
		UI_display_runes(0x0031, ["harolds", "hallway"]);
	} else if (var0001 == 0x0059) {
		UI_display_runes(0x0031, ["fools\{dot}way"]);
	} else if (var0001 == 0x005A) {
		UI_display_runes(0x0031, ["whitsaber", "road"]);
	} else if (var0001 == 0x005B) {
		UI_display_runes(0x0031, ["\{st}rand"]);
	} else if (var0001 == 0x005C) {
		UI_display_runes(0x0031, ["chalice", "avenue"]);
	} else if (var0001 == 0x005D) {
		UI_display_runes(0x0031, ["two", "coves"]);
	} else if (var0001 == 0x005E) {
		UI_display_runes(0x0031, ["we\{st}", "wall", "road"]);
	} else if (var0001 == 0x005F) {
		UI_display_runes(0x0031, ["\{ea}\{st}", "wall", "road"]);
	} else if (var0001 == 0x0060) {
		UI_display_runes(0x0031, ["nor\{th}", "wall", "road"]);
	} else if (var0001 == 0x0061) {
		UI_display_runes(0x0031, ["sou\{th}", "wall", "road"]);
	} else if (var0001 == 0x0062) {
		UI_display_runes(0x0031, ["heroes", "way"]);
	} else if (var0001 == 0x0063) {
		UI_display_runes(0x0031, ["iolos", "sou\{th}"]);
	} else if (var0001 == 0x0064) {
		UI_display_runes(0x0031, ["paws"]);
	} else if (var0001 == 0x0065) {
		UI_display_runes(0x0031, ["\{th}e", "salty\{dot}dog"]);
	} else if (var0001 == 0x0066) {
		UI_display_runes(0x0031, ["FELLOWSHIP", "SHELTER"]);
	} else if (var0001 == 0x0067) {
		UI_display_runes(0x0031, ["vesper", "branch"]);
	} else if (var0001 == 0x0068) {
		UI_display_runes(0x0031, ["\{th}e", "checquered", "cork"]);
	} else if (var0001 == 0x0069) {
		UI_display_runes(0x0031, ["artists", "guild"]);
	} else if (var0001 == 0x006A) {
		UI_display_runes(0x0031, ["\{th}e bunk", "and", "\{st}ool"]);
	} else if (var0001 == 0x006B) {
		UI_display_runes(0x0031, ["\{th}e", "library", "of", "scars"]);
	} else if (var0001 == 0x006C) {
		UI_display_runes(0x0031, ["carlyns", "clo\{th}es"]);
	} else if (var0001 == 0x006D) {
		UI_display_runes(0x0031, ["wi\{th}in\{dot}\{th}ese", "walls", "lies\{dot}ma\{st}er", "richard"]);
	} else if (var0001 == 0x006E) {
		UI_display_runes(0x0031, ["ca\{st}le\{dot}way"]);
	} else if (var0001 == 0x006F) {
		UI_display_runes(0x0031, ["lord", "british", "lane"]);
	} else if (var0001 == 0x0070) {
		UI_display_runes(0x0031, ["noble\{dot}road"]);
	} else if (var0001 == 0x0071) {
		UI_display_runes(0x0031, ["we\{st}\{dot}end", "avenue"]);
	} else if (var0001 == 0x0072) {
		UI_display_runes(0x0031, ["hazle\{dot}lane"]);
	} else if (var0001 == 0x0073) {
		UI_display_runes(0x0031, ["park", "square", "nor\{th}"]);
	} else if (var0001 == 0x0074) {
		UI_display_runes(0x0031, ["park", "square", "sou\{th}"]);
	} else if (var0001 == 0x0075) {
		UI_display_runes(0x0031, ["market", "\{st}r\{ee}t"]);
	} else if (var0001 == 0x0076) {
		UI_display_runes(0x0031, ["golden", "way"]);
	} else if (var0001 == 0x0077) {
		UI_display_runes(0x0031, ["center", "avenue"]);
	} else if (var0001 == 0x0078) {
		UI_display_runes(0x0031, ["spike", "lane"]);
	} else if (var0001 == 0x0079) {
		UI_display_runes(0x0031, ["avatar", "avenue"]);
	} else if (var0001 == 0x007A) {
		UI_display_runes(0x0031, ["\{st}able", "lane"]);
	} else if (var0001 == 0x007B) {
		UI_display_runes(0x0031, ["\{ea}\{st}", "end", "avenue"]);
	} else if (var0001 == 0x007C) {
		UI_display_runes(0x0031, ["farm", "road"]);
	} else if (var0001 == 0x007D) {
		UI_display_runes(0x0031, ["nugget", "\{st}r\{ee}t"]);
	} else if (var0001 == 0x007E) {
		UI_display_runes(0x0031, ["cool", "cove"]);
	} else if (var0001 == 0x007F) {
		UI_display_runes(0x0031, ["nor\{th}", "end", "avenue"]);
	} else if (var0001 == 0x0080) {
		UI_display_runes(0x0031, ["golden", "eye", "way"]);
	} else if (var0001 == 0x0081) {
		UI_display_runes(0x0031, ["to", "\{th}e", "dark", "tower"]);
	} else if (var0001 == 0x0082) {
		UI_display_runes(0x0031, ["BEWARE", "OF", "LANDSLIDES"]);
	} else if (var0001 == 0x0083) {
		UI_display_runes(0x0031, ["DANGER:", "DO", "NOT", "ENTER"]);
	} else if (var0001 == 0x0084) {
		UI_display_runes(0x0031, ["old", "number", "one"]);
	} else if (var0001 == 0x0085) {
		UI_display_runes(0x0031, ["do\{dot}not", "free", "\{th}e", "liche"]);
	} else if (var0001 == 0x0086) {
		UI_display_runes(0x0031, ["beware", "mon\{st}ers", "wi\{th}in"]);
	} else if (var0001 == 0x0087) {
		UI_display_runes(0x0031, ["paupers", "graves"]);
	} else if (var0001 == 0x0088) {
		UI_display_runes(0x0031, ["\{dot}manrik\{dot}", "a\{dot}soul", "of\{dot}a", "soul"]);
	} else if (var0001 == 0x0089) {
		UI_display_runes(0x0031, ["here\{dot}lies", "jules\{dot}no", "words\{dot}for", "\{th}e\{dot}loss"]);
	} else if (var0001 == 0x008A) {
		UI_display_runes(0x0031, ["\{dot}morgan\{dot}", "her", "dea\{th}\{dot}a", "tragedy"]);
	} else if (var0001 == 0x008B) {
		UI_display_runes(0x0031, ["here\{dot}lies", "ke\{th}ian", "friend\{dot}to", "many"]);
	} else if (var0001 == 0x008C) {
		UI_display_runes(0x0031, ["\{dot}wadley\{dot}", "his\{dot}soul", "deeper\{dot}\{th}an", "his\{dot}body"]);
	} else if (var0001 == 0x008D) {
		UI_display_runes(0x0031, ["here\{dot}lies", "jenna", "kindred", "spirit"]);
	} else if (var0001 == 0x008E) {
		UI_display_runes(0x0031, ["d\{ea}d", "end"]);
	} else if (var0001 == 0x008F) {
		UI_display_runes(0x0031, ["to", "skara", "brae"]);
	} else if (var0001 == 0x0090) {
		UI_display_runes(0x0031, ["THE", "THRONE", "OF\{dot}THE", "GUARDIAN"]);
	} else if (var0001 == 0x0091) {
		UI_display_runes(0x0031, ["nor\{th}", "to", "britain"]);
	} else if (var0001 == 0x0092) {
		UI_display_runes(0x0031, ["pull", "lever"]);
	} else if (var0001 == 0x0093) {
		UI_display_runes(0x0031, ["round", "and", "round"]);
	} else if (var0001 == 0x0094) {
		UI_display_runes(0x0031, ["way", "out"]);
	} else if (var0001 == 0x0095) {
		UI_display_runes(0x0031, ["keep", "doors", "open"]);
	} else if (var0001 == 0x0096) {
		UI_display_runes(0x0031, ["selwyns", "tower"]);
	} else if (var0001 == 0x0097) {
		UI_display_runes(0x0031, ["follow", "\{th}e", "fire"]);
	}
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func081E 0x81E (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006, var var0007, var var0008);
extern void Func0818 0x818 ();
extern void Func0819 0x819 (var var0000);
extern void Func081A 0x81A (var var0000);

void Func0188 shape#(0x188) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func081B(item);
	if (var0000 == 0x0001) {
		if (Func081D(item, 0x00E1, 0x0000,  0,  0, 0x0007)) {
			Func081E(item, 0x00FA, 0x0001, 0x0002, 0x00F6, 0x0000,  3,  0, 0x0001);
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0000) {
		if (Func081D(item, 0x00E1, 0x0001,  0,  0, 0x0007)) {
			Func081E(item, 0x00FA, 0x0000, 0x0001, 0x00F6, 0x0001,  0, -3, 0x0007);
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0002) {
		Func0819(item);
	}
	if (var0000 == 0x0003) {
		Func081A(item);
	}
}

void Func018A shape#(0x18A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = 0x018A->get_npc_object()->get_schedule_type();
	if (event == DOUBLECLICK) {
		0xFEFE->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		say("You see a tough-looking palace guard who takes his job -very- seriously.");
		converse (0) {
			case "name":
				say("\"I am a guard.\"");
				remove("name");
				fallthrough;

			case "job":
				say("The man looks at you like you are an ignoramus. \"I am a guard for the palace, idiot. Thou shouldst go about thy business.\"");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye.\"*");
	}
	if (event == PROXIMITY) {
		var0001 = 0x018A->get_npc_object()->get_schedule_type();
		if (var0001 == PATROL) {
			var0002 = UI_die_roll(0x0001, 0x0004);
			if (var0002 == 0x0001) {
				var0003 = "@Move along!@";
			}
			if (var0002 == 0x0002) {
				var0003 = "@Stand aside!@";
			}
			if (var0002 == 0x0003) {
				var0003 = "@Go about thy business!@";
			}
			if (var0002 == 0x0004) {
				var0003 = "@Keep moving!@";
			}
			0x018A->item_say(var0003);
		}
	}
}

extern void Func060D object#(0x60D) ();

void Func019A shape#(0x19A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		var0000 = find_nearby(0x019B, 0x000A, MASK_NONE);
		var0001 = get_item_quality();
		if ((var0001 == 0x0000) || (var0001 > 0x0003)) {
			var0002 = script item {
				frame 0;
				frame 1;
				sfx 37;
				sfx 76;
			};
		} else {
			var0003 = [0x0392, 0x0394, 0x0393];
			var0004 = var0003[var0001];
			var0002 = script item {
				repeat 7 {
					frame 0;
					repeat 3, 4 {
						next frame;
						continue;
						sfx 8;
					};
				};
			};
			var0002 = script var0000 {
				frame 0;
				repeat 24 {
					next frame cycle;
					continue;
					sfx 15;
					call Func060D;
				};
			};
		}
	}
}

void Func01A2 shape#(0x1A2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		var0000 = get_item_quality();
		if (!(var0000 == UI_game_hour())) {
			var0001 = find_nearby(0x0245, 0x0005, MASK_NONE);
			if (!var0001) {
				var0002 = UI_create_new_object(0x0245);
				if (var0002) {
					var0002->set_item_flag(TEMPORARY);
					var0002->set_item_flag(OKAY_TO_TAKE);
					var0003 = var0002->set_item_quantity(UI_die_roll(0x0001, 0x0064));
					var0004 = get_object_position();
					var0004[0x0001] += 0x0001;
					var0003 = UI_update_last_created(var0004);
					if (var0003) {
						var0003 = set_item_quality(UI_game_hour());
					}
				}
			}
		}
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func092D 0x92D (var var0000);
extern var Func0827 0x827 (var var0000, var var0001);
extern void Func068F object#(0x68F) ();

void Func01AF shape#(0x1AF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	var0000 = get_item_frame();
	if ((var0000 >= 0x0003) && (var0000 <= 0x0005)) {
		if (event == DOUBLECLICK) {
			Func0828(item, 1, 0, -1, Func01AF, item, BG_PATH_SUCCESS);
		}
		if (event == BG_PATH_SUCCESS) {
			var0001 = script item {
				sfx 47;
				continue;
				frame 4;
				wait 1;
				frame 5;
				wait 1;
				frame 4;
				wait 1;
				frame 3;
			};
			var0002 = Func092D(item);
			var0001 = script AVATAR->get_npc_object() {
				face var0002;
				actor frame bowing;
				wait 3;
				actor frame standing;
			};
			var0003 = find_nearest(0x02E3, 0x0003);
			var0004 = var0003->get_item_frame();
			var0005 = find_nearest(0x029C, 0x0003);
			var0006 = var0005->get_item_frame();
			if (var0003) {
				if (var0004 == 0x0004) {
					var0001 = script var0003 {
						wait 1;
						frame 5;
						wait 15;
						frame 4;
					};
				}
				if (var0004 == 0x0005) {
					var0001 = script var0003 {
						wait 1;
						frame 6;
						wait 15;
						frame 5;
						wait 15;
						frame 4;
					};
				}
				if (var0004 == 0x0006) {
					var0001 = script var0003 {
						wait 1;
						frame 7;
						wait 15;
						frame 6;
						wait 15;
						frame 5;
						wait 15;
						frame 4;
					};
				}
				if (var0004 == 0x0007) {
					var0001 = script var0003 {
						wait 1;
						frame 7;
						wait 15;
						frame 6;
						wait 15;
						frame 5;
						wait 15;
						frame 4;
					};
					if (var0005) {
						var0007 = var0003->get_object_position();
						var0008 = var0005->get_object_position();
						var0009 = false;
						if (var0008[0x0001] == var0007[0x0001]) {
							if ((var0008[0x0002] + 0x0001) == var0007[0x0002]) {
								if ((var0008[0x0003] - 0x0002) == var0007[0x0003]) {
									var0009 = true;
								}
							}
						}
						if (var0009) {
							if (var0006 > 0x0007) {
								if ((var0006 >= 0x000D) && (var0006 <= 0x000F)) {
									var0001 = script var0005 {
										wait 2;
										frame 8;
										wait 25;
										call Func068F;
									};
								}
								if (var0006 == 0x0008) {
									var0001 = script var0005 {
										wait 2;
										frame 9;
										wait 25;
										frame 8;
										wait 25;
										call Func068F;
									};
								}
								if (var0006 == 0x0009) {
									var0001 = script var0005 {
										wait 2;
										frame 10;
										wait 25;
										frame 9;
										wait 25;
										frame 8;
										wait 25;
										call Func068F;
									};
								}
								if (var0006 == 0x000A) {
									var0001 = script var0005 {
										wait 2;
										frame 11;
										wait 25;
										frame 10;
										wait 25;
										frame 9;
										wait 25;
										frame 8;
										wait 25;
										call Func068F;
									};
								}
								if ((var0006 == 0x000B) || (var0006 == 0x000C)) {
									var0001 = script var0005 {
										wait 2;
										frame 12;
										wait 25;
										frame 11;
										wait 25;
										frame 10;
										wait 25;
										frame 9;
										wait 25;
										frame 8;
										wait 25;
										call Func068F;
									};
								}
							}
						}
					}
				}
			}
		}
	} else {
		if (event == DOUBLECLICK) {
			halt_scheduled();
			Func0828(item, 1, 0, -1, Func01AF, item, BG_PATH_SUCCESS);
		}
		if (event == BG_PATH_SUCCESS) {
			halt_scheduled();
			var000A = script item {
				sfx 47;
				continue;
				frame 0;
				frame 1;
				wait 1;
				frame 2;
				wait 1;
				frame 1;
				wait 1;
				frame 0;
				wait 1;
				frame 1;
				wait 1;
				frame 2;
				wait 1;
				frame 1;
				wait 1;
				frame 0;
			};
			var0002 = Func0827(AVATAR, item);
			AVATAR->halt_scheduled();
			var000A = script AVATAR {
				face var0002;
				actor frame standing;
				actor frame bowing;
				wait 3;
				actor frame standing;
				actor frame standing;
				actor frame bowing;
				wait 3;
				actor frame standing;
			};
			var000B = find_nearby(0x02E3, 0x0004, MASK_ALL_UNSEEN);
			for (var000E in var000B with var000C to var000D) {
				var000F = var000E->get_item_frame();
				if (var000F == 0x0000) {
					var000A = script var000E {
						nohalt;
						sfx 47;
						frame 0;
						frame 1;
						frame 2;
						frame 3;
					};
					var000A = script var000E after 18 ticks {
						finish;
						frame 2;
						wait 3;
						frame 1;
						wait 3;
						frame 0;
					};
				}
				if (var000F == 0x0001) {
					var000A = script var000E {
						nohalt;
						sfx 47;
						frame 1;
						frame 2;
						frame 3;
					};
					var000A = script var000E after 17 ticks {
						finish;
						frame 2;
						wait 3;
						frame 1;
						wait 3;
						frame 0;
					};
				}
				if (var000F == 0x0002) {
					var000A = script var000E {
						nohalt;
						sfx 47;
						frame 2;
						frame 3;
					};
					var000A = script var000E after 16 ticks {
						finish;
						frame 2;
						wait 3;
						frame 1;
						wait 3;
						frame 0;
					};
				}
				if (var000F == 0x0003) {
					var000A = script var000E {
						nohalt;
						sfx 47;
						frame 3;
					};
					var000A = script var000E after 15 ticks {
						finish;
						frame 2;
						wait 3;
						frame 1;
						wait 3;
						frame 0;
					};
				}
			}
		}
	}
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func081E 0x81E (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006, var var0007, var var0008);
extern void Func0818 0x818 ();
extern void Func0819 0x819 (var var0000);
extern void Func081A 0x81A (var var0000);

void Func01B0 shape#(0x1B0) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func081B(item);
	if (var0000 == 0x0001) {
		if (Func081D(item, 0x01B1, 0x0000,  0,  3, 0x0005)) {
			Func081E(item, 0x010E, 0x0001, 0x0001, 0x0178, 0x0000,  0,  0, 0x0007);
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0000) {
		if (Func081D(item, 0x01B1, 0x0001, -3,  0, 0x0007)) {
			Func081E(item, 0x010E, 0x0000, 0x0002, 0x0178, 0x0001,  0,  0, 0x0007);
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0002) {
		Func0819(item);
	}
	if (var0000 == 0x0003) {
		Func081A(item);
	}
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func081E 0x81E (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006, var var0007, var var0008);
extern void Func0818 0x818 ();
extern void Func0819 0x819 (var var0000);
extern void Func081A 0x81A (var var0000);

void Func01B1 shape#(0x1B1) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func081B(item);
	if (var0000 == 0x0001) {
		if (Func081D(item, 0x01B0, 0x0000,  3,  0, 0x0001)) {
			Func081E(item, 0x0178, 0x0001, 0x0002, 0x010E, 0x0000,  0,  0, 0x0007);
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0000) {
		if (Func081D(item, 0x01B0, 0x0001,  0, -3, 0x0007)) {
			Func081E(item, 0x0178, 0x0000, 0x0001, 0x010E, 0x0001,  0,  0, 0x0007);
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
		}
	}
	if (var0000 == 0x0002) {
		Func0819(item);
	}
	if (var0000 == 0x0003) {
		Func081A(item);
	}
}

extern void Func08FE 0x8FE (var var0000);
extern void Func0629 object#(0x629) ();

void Func01B2 shape#(0x1B2) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		if (in_usecode()) {
			halt_scheduled();
			Func08FE("@It is about time!@");
		} else {
			item->Func0629();
		}
	}
	if (event == BG_PATH_FAILURE) {
		var0000 = get_object_position();
		var0000[0x0001] += 0x0001;
		var0000[0x0002] -= 0x0001;
		var0001 = AVATAR->get_cont_items(0x032A, QUALITY_ANY, FRAME_ANY);
		if (var0001) {
			var0002 = var0001->set_last_created();
			if (var0002) {
				var0001->set_item_frame(0x0003);
				var0002 = UI_update_last_created(var0000);
			}
		}
		var0002 = script AVATAR {
			face north;
			continue;
			actor frame bowing;
		};
	}
}

extern var Func0827 0x827 (var var0000, var var0001);

void Func01B3 shape#(0x1B3) () {
	var var0000;
	var var0001;

	if ((event == DOUBLECLICK) || (event == SCRIPTED)) {
		set_item_shape(0x01E1);
		halt_scheduled();
	}
	if (event == BG_PATH_SUCCESS) {
		set_item_shape(0x01E1);
		var0000 = Func0827(AVATAR, item);
		var0001 = script AVATAR {
			face var0000;
			continue;
			actor frame strike_2h;
			actor frame standing;
		};
	}
}

void Func01BF shape#(0x1BF) () {
	if (event == DOUBLECLICK) {
		item_say("Arghh");
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern void Func032A shape#(0x032A) ();

void Func01D6 shape#(0x1D6) () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = AVATAR->get_npc_object()->get_cont_items(0x032A, QUALITY_ANY, 0x0000);
	if (var0000) {
		var0001 = [-5, -5];
		var0002 = [-1, -1];
		Func0828(item, var0001, var0002, 0x0000, Func032A, var0000, PATH_SUCCESS_9);
	}
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func087C 0x87C ();
extern var Func090A 0x90A ();
extern var Func093C 0x93C (var var0000, var var0001);

void Func01DF shape#(0x1DF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		var0000 = Func0931(PARTY, 0x0001, 0x0304, QUALITY_ANY, FRAME_ANY);
		0xFEE5->show_npc_face(0x0000);
		if (!gflags[0x0154]) {
			if (!var0000) {
				say("The creature ignores you.*");
				abort;
			}
			Func087C();
		}
		if (!gflags[0x013C]) {
			say("The ape-like creature approaches you cautiously. After a few minutes, it says, \"You are greeted, human.\"");
			gflags[0x013C] = true;
		} else {
			say("The emp approaches you cautiously. After a few minutes, it says, \"You are greeted, human.\"");
		}
		say("\"Is more honey had by you?\" The Emp asks hopefully.");
		var0001 = Func090A();
		if (var0001) {
			if (var0000) {
				Func087C();
			} else {
				say("\"No honey is had by you,\" says the Emp, obviously disappointed.");
			}
		} else {
			say("Obviously disappointed, the Emp says, \"That is too bad. What is your wish?\"");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				var0002 = get_npc_prop(MANA);
				var0003 = [1, 2, 3, 4];
				if (!(var0002 in var0003)) {
					var0004 = AVATAR->find_nearby(0x01DF, 0x0050, MASK_NPC);
					for (var0007 in var0004 with var0005 to var0006) {
						var0008 = get_npc_prop(MANA);
						if (var0008 in var0003) {
							var0003 = Func093C(var0008, var0003);
						}
					}
					while (true) {
						var0002 = UI_die_roll(0x0001, 0x0004);
						if (!var0003) {
							break;
						}
						if (var0002 in var0003) {
							break;
						}
					}
				}
				if (var0002 == 0x0001) {
					say("\"Terandan is my name.\"");
					var0009 = "he";
				}
				if (var0002 == 0x0002) {
					say("\"Sendala is my name.\"");
					var0009 = "she";
				}
				if (var0002 == 0x0003) {
					say("\"Tvellum is my name.\"");
					var0009 = "he";
				}
				if (var0002 == 0x0004) {
					say("\"Simrek is my name.\"");
					var0009 = "she";
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"No job is had by me. Food is gathered by me.\"");
				add("food");
				fallthrough;

			case "food":
				say("\"Fruit, milk, cheese are eaten by Emps.");
				add(["fruits", "milk", "cheese"]);
				fallthrough;

			case "cheese", "milk":
				say("\"Cheese and milk are liked by Emps, but they are hard to find. Only from humans can these foods be found.\"");
				remove(["cheese", "milk"]);
				fallthrough;

			case "fruits":
				say("\"Fruits are found easily in the forest,\" ",
					var0009,
					" says. \"They are what Emps use as food most often.\"");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell is said to you.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern void Func0942 0x942 (var var0000, var var0001);

void Func01E1 shape#(0x1E1) () {
	if ((event == DOUBLECLICK) || (event == SCRIPTED)) {
		Func0942(item, 0x01B3);
	}
}

void Func01EF shape#(0x1EF) () {
	var var0000;

	if (event == DOUBLECLICK) {
		AVATAR->item_say("@Here kitty, kitty@");
		set_schedule_type(IN_COMBAT);
		set_attack_mode(FLEE);
		set_oppressor(AVATAR);
		if (SHAMINO->npc_nearby()) {
			var0000 = script SHAMINO after 4 ticks {
				nohalt;
				say "@I hate cats.@";
			};
		}
	}
	if (event == PROXIMITY) {
		item_say("@Meow@");
	}
}

void Func01F0 shape#(0x1F0) () {
	var var0000;

	if (event == DOUBLECLICK) {
		AVATAR->item_say("@Good doggy.@");
		set_schedule_type(HOUND);
	}
	if (event == PROXIMITY) {
		var0000 = UI_die_roll(0x0001, 0x0002);
		if (var0000 == 0x0001) {
			item_say("@Arf@");
		}
		if (var0000 == 0x0002) {
			item_say("@Bark@");
		}
	}
}

void Func01F4 shape#(0x1F4) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		var0000 = UI_get_party_list();
		for (var0003 in var0000 with var0001 to var0002) {
			var0004 = script var0003 after UI_die_roll(0x0001, 0x000A) ticks {
				nohalt;
				say "@Moo!@";
			};
			var0004 = script var0003 after UI_die_roll(0x0015, 0x001E) ticks {
				nohalt;
				say "@Moo!@";
			};
		}
	}
	if (event == PROXIMITY) {
		item_say("@Moo@");
	}
}

extern var Func090A 0x90A ();

void Func01F7 shape#(0x1F7) () {
	var var0000;

	if (event == DOUBLECLICK) {
		if (in_usecode()) {
			return;
		}
		if (CARROCIO->npc_nearby()) {
			CARROCIO->say("\"Now is the time for the young and the old to dig in their pockets and give up the gold. * Dost thou wish to donate a gold piece?\"");
			if (Func090A()) {
				var0000 = UI_remove_party_items(0x0001, 0x0284, QUALITY_ANY, FRAME_ANY, TEMPORARY_ANY);
				var0000 = script item {
					nohalt;
					frame 0;
					repeat 31 {
						next frame cycle;
					};
					frame 0;
				};
				var0000 = script item {
					nohalt;
					wait 11;
					sfx 85;
					sfx 83;
					sfx 84;
					wait 1;
					sfx 85;
					sfx 83;
					wait 3;
					sfx 83;
					wait 2;
					sfx 85;
				};
			}
			CARROCIO->hide();
		}
	}
}

extern var Func090A 0x90A ();
extern void Func03A7 shape#(0x3A7) ();

void Func01F8 shape#(0x1F8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == DOUBLECLICK) {
		return;
	}
	if (event == EGG) {
		var0000 = false;
		var0001 = get_item_shape();
		if (!(var0001 == 0x01F8)) {
			var0002 = find_nearby(0x01F8, 0x0050, MASK_NPC);
			for (var0005 in var0002 with var0003 to var0004) {
				if (var0005->get_cont_items(0x031D, 0x00F1, 0x0004)) {
					var0000 = var0005;
				}
			}
		} else {
			var0000 = item;
		}
		if (!var0000->get_cont_items(0x031D, 0x00F1, 0x0004)) {
			return;
		}
		0xFEDB->show_npc_face(0x0000);
		if (!gflags[0x0311]) {
			say("\"Well met, seeker. I am Dracothraxus. Thy test, and I fear, thy defeat lies before thee. For thou shouldst know that I am made immortal by the Keeper of Courage. 'Twould take a truly powerful artifact to destroy me... one that does not exist.\" The great dragon paws the earth in expectation of your imminent battle.");
			0xFEDB->hide();
			gflags[0x0311] = true;
			var0000->set_schedule_type(IN_COMBAT);
		} else if (PARTY->count_objects(0x02C3, QUALITY_ANY, FRAME_ANY)) {
			say("Dracothraxus sniffs the air distastefully, \"I sense my doom nearby. Perhaps I am to be released at long last. I wish thee good luck mortal. Defend thyself!\"  With that, the dragon leaps at you.");
			0xFEDB->hide();
			var0000->set_schedule_type(IN_COMBAT);
		} else if (var0000->find_nearest(0x02C3, 0x001E)) {
			say("Dracothraxus sniffs the air distastefully, \"I sense my doom nearby. Perhaps I am to be released at long last. I wish thee good luck mortal. Defend thyself!\"  With that, the dragon leaps at you.");
			0xFEDB->hide();
			var0000->set_schedule_type(IN_COMBAT);
		} else {
			say("\"Thou hast returned to test thy mettle, little one. Thy courage does thee honor, however, I think that thou shalt take thine honor to the grave with thee.\"*");
			0xFEDB->hide();
			var0000->set_schedule_type(IN_COMBAT);
		}
	}
	if (event == SCRIPTED) {
		0xFEDB->show_npc_face(0x0000);
		if (gflags[0x02EF]) {
			say("The dragon lets out a searing sigh, \"Released at last. I go now to seek my reward, for this has been a test of my courage as well as thine. Thy reward lies beyond the door to the north. Enter the blue gate and the Amulet of Courage will be thine.\"*");
			remove_item();
			0xFEDB->hide();
			var0006 = AVATAR->get_npc_object()->find_nearby(0x036C, 0x0028, MASK_NONE);
			for (var0009 in var0006 with var0007 to var0008) {
				if (var0009->get_item_quality() == 0x000A) {
					var000A = script var0009 {
						frame 4;
						sfx 33;
						repeat 3 {
							previous frame cycle;
						};
						call Func03A7;
					};
				}
			}
			return;
		}
		if (!gflags[0x0336]) {
			say("\"Well done, little human. Thou art as powerful as thou art courageous. Do not think that thou hast destroyed me, thou hast merely bested me. And for this wonderous feat, I think thou dost deserve a reward. I have a truly magnificent gem that I would give to thee, if thy courage can but continue for a bit.\" Dracothraxus opens her mouth wide. Within, you can see a multitude of teeth, each one needle sharp. Also, near the back, you see a small but brilliant blue gem. Do you reach in and take it?");
			if (Func090A()) {
				say("As you place your hand in the furnace that is the dragon's maw, you can't help but wonder if a small gem is worth the risk.");
				var000B = UI_create_new_object(0x02F8);
				var000B->set_item_frame(0x000C);
				var000C = AVATAR->get_npc_object()->give_last_created();
				if (var000C) {
					say("Nevertheless, you persevere and retrieve the lovely little gem.");
				} else {
					say("Just as you are about to pluck the gem literally from the jaws of death, the dragon gently places it within her nest. Dracothraxus closes her mouth and winks at you. \"'Twas merely a test of thy courage, little one.\"");
					var000D = AVATAR->get_object_position() & (QUALITY_ANY & 0x0003);
					var000E = var000D->find_nearby(0x0113, 0x001E, MASK_EGG);
					if (var000E) {
						var000A = UI_update_last_created(var000E->get_object_position());
					}
				}
			} else {
				say("\"Tis a pity thy courage goes only so far as bravery in battle, and not to trust of an honorable opponent. However, thou hast earned thy reward, and here it is.\" The dragon pushes the gem forward with her tongue, and removes it from her mouth. She then places it gently within her nest.");
				var000B = UI_create_new_object(0x02F8);
				var000B->set_item_frame(0x000C);
				var000D = AVATAR->get_object_position() & (QUALITY_ANY & 0x0003);
				var000E = var000D->find_nearby(0x0113, 0x001E, MASK_EGG);
				if (var000E) {
					var000A = UI_update_last_created(var000E->get_object_position());
				}
			}
		}
		say("\"I go now to rest, but I shall return. The door will not open until thou hast found a way to best me for good and for all. Farewell, little mortal.*");
		remove_item();
		gflags[0x0336] = true;
		0xFEDB->hide();
	}
}

extern void Func0639 object#(0x639) ();

void Func01FA shape#(0x1FA) () {
	var var0000;

	if (event == SCRIPTED) {
		BATLIN->say("Batlin watches Hook's death with icy resignation. Time seems to slow as he turns to you. \"This battle is not done, Avatar. Dost thou imagine thyself an immortal? The Guardian is far more. Return to your precious Earth and rest.~Sleep, that he may visit your dreams with countless visions of death in the belly of the Great Sea Serpent.\"");
		say("\"As for me, I shall begone! Thou shalt never find me! Farewell, Avatar!\"");
		BATLIN->hide();
		var0000 = AVATAR->find_nearby(0x0193, 0x0028, MASK_NONE);
		event = DOUBLECLICK;
		var0000[0x0001]->Func0639();
	}
}

void Func020A shape#(0x20A) () {
	if (event == DOUBLECLICK) {
		item_say("Locked");
	}
}

void Func020E shape#(0x20E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if ((event == DOUBLECLICK) || (event == SCRIPTED)) {
		var0000 = find_nearby(0x01B8, 0x000A, MASK_TRANSLUCENT);
		var0001 = get_object_position();
		var0001[0x0001] += 0x0003;
		var0001[0x0002] += 0x0003;
		for (var0004 in var0000 with var0002 to var0003) {
			var0005 = var0004->get_object_position();
			if ((var0001[0x0001] == var0005[0x0001]) && ((var0001[0x0002] == var0005[0x0002]) && (var0001[0x0003] == var0005[0x0003]))) {
				var0004->remove_item();
				set_item_shape(0x0379);
				UI_play_sound_effect2(0x002E, item);
			}
		}
	}
}

extern void Func0500 object#(0x500) ();

void Func0216 shape#(0x216) () {
	item->Func0500();
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern void Func08FF 0x8FF (var var0000);

void Func0247 shape#(0x247) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if ((event == DOUBLECLICK) && (!get_container())) {
		var0000 = get_object_position();
		if (get_item_frame() == 0x0000) {
			var0001 = set_last_created();
			if (var0001) {
				var0002 = UI_is_not_blocked(var0000, 0x03F3, 0x0011);
				var0001 = UI_update_last_created(var0000);
				if (var0002 && var0001) {
					UI_close_gumps();
					var0003 = [-1, -1, -1,  0,  0,  0,  1,  1,  1];
					var0004 = [ 1,  0, -1,  1,  0, -1,  1,  0, -1];
					AVATAR->halt_scheduled();
					Func0828(item, var0003, var0004, -1, Func0247, item, BG_PATH_SUCCESS);
				} else {
					var0000[0x0002] -= 0x0005;
					Func08FF("@There is no room for thy bedroll there.@");
				}
			}
		}
	}
	if (event == BG_PATH_SUCCESS) {
		var0001 = script AVATAR {
			face FACE_NORTH;
			actor frame bowing;
			actor frame standing;
		};
		var0001 = script item {
			wait 2;
			call Func0247;
		};
	}
	if (event == SCRIPTED) {
		set_item_shape(0x03F3);
		set_item_frame(0x0011);
	}
}

extern void Func0942 0x942 (var var0000, var var0001);

void Func0253 shape#(0x253) () {
	if ((event == DOUBLECLICK) || (event == SCRIPTED)) {
		Func0942(item, 0x02BD);
	}
}

extern void Func0813 0x813 (var var0000, var var0001, var var0002);

void Func0268 shape#(0x268) () {
	Func0813(item, 0x0001, 0x005A);
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0911 0x911 (var var0000);
extern var Func090A 0x90A ();

void Func0269 shape#(0x269) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == PROXIMITY) {
		abort;
	}
	0xFEE4->show_npc_face(0x0000);
	var0000 = Func0931(PARTY, 0x0001, 0x0347, QUALITY_ANY, 0x0000);
	if (gflags[0x0004] && (!gflags[0x0012])) {
		say("\"Congratulations, Avatar, on destroying the Sphere. I am free from my celestial prison. I thank thee. But I regret to inform thee that The Guardian engineered the Sphere such that its destruction has permanently disabled the Moongates, and thine Orb of the Moons as well. Thou canst not return to thine home by way of a red Moongate.~~");
		say("\"Thine only hope of leaving Britannia at the conclusion of thy quest is to use The Guardian's own vehicle for entering the land -- The Black Gate.");
		say("\"The Guardian's followers are building The Black Gate of blackrock and will be using magic and natural elements to activate it. The Guardian plans to enter Britannia during the upcoming Astronomical Alignment, which is imminent. That is the only time when the elements will work well enough for The Black Gate to be permeable and active. Thou wilt need a device which has the ability to vanquish blackrock. If thou hast not already encountered such a device, thou canst find something to help thee in the workshop of Rudyom the Mage, in Cove.");
		say("\"Before thou canst locate The Black Gate, there is one more generator which must be destroyed. It is the device used to transmit The Guardian's voice to his followers and charm them into obeying his wishes. Look in the area near Serpent's Hold for a dungeon containing this generator. It is most likely shaped like a Cube. It could very well be on The Fellowship's island east of Serpent's Hold.");
		say("\"When thou hast completed this task, concentrate thine efforts in Buccaneer's Den. Thou mayest find clues there as to the location of The Black Gate.");
		say("\"Shouldst thou wish to speak with me again, simply use the hourglass. Goodbye.\"*");
		gflags[0x0012] = true;
		Func0911(0x00C8);
		abort;
	}
	if (gflags[0x0005] && (!gflags[0x0013])) {
		say("\"Avatar! The Astronomical Alignment is almost at hand! Time is running out! The Guardian must be prevented from coming through The Black Gate!");
		say("\"The Cube will help thee find the location of The Black Gate. With it in thy possession, those under the influence of The Guardian will be more receptive to speaking the truth to thee.");
		say("\"Go to Buccaneer's Den. Search for the one called 'Hook'. Talk to the so-called Fellowship. Thou shouldst have no trouble ascertaining his whereabouts there. I am sure that thou wilt eventually find the location of The Black Gate! Good luck!\"*");
		gflags[0x0013] = true;
		Func0911(0x00C8);
		abort;
	}
	add(["name", "job", "bye"]);
	if (!gflags[0x01D4]) {
		say("You see a vaguely familiar but intimidating figure enclosed in some kind of cylindrical cell. He looks at you intently.~~\"It has been many years since we met during the time of Exodus! I have never wanted to see thee again as badly as most recently! It is about time thou shouldst arrive! I do not have eras to waste whilst I wait for thee! There is a crisis and Britannia needs thine help! I need thine help! The entire universe needs thine help!\"");
		add(["about time", "crisis"]);
		gflags[0x01D4] = true;
		Func0911(0x00C8);
	} else if (!gflags[0x01D3]) {
		say("\"Hast thou decided if thou wilt help me?\"");
		var0001 = Func090A();
		if (var0001) {
			say("The Time Lord looks relieved.");
			say("\"Then I have a mission for thee.\"");
			add("mission");
		} else {
			say("\"Then away with thee!\"*");
			abort;
		}
	} else {
		say("\"How may I help thee, Avatar?\" the Time Lord asks.");
	}
	if (gflags[0x01D3]) {
		add("The Guardian");
	}
	if (gflags[0x0000]) {
		add(["Tetrahedron", "ethereal defense"]);
	}
	if (gflags[0x0003]) {
		remove(["Tetrahedron", "ethereal defense"]);
	}
	if (gflags[0x0001]) {
		add(["Sphere", "Moongate"]);
	}
	if (gflags[0x0004]) {
		remove(["Sphere", "Moongate"]);
	}
	if (gflags[0x0012] && (!gflags[0x0005])) {
		add("Cube");
	}
	if (gflags[0x0002]) {
		add(["Cube", "noise"]);
	}
	if (gflags[0x0005]) {
		remove(["Cube", "noise"]);
	}
	if (gflags[0x0211] || var0000) {
		add("fix magic");
	}
	if (gflags[0x0003]) {
		remove("fix magic");
	}
	converse (0) {
		case "name":
			say("\"I am known as the Time Lord.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"I ensure that time flows smoothly through space.\" He shrugs his shoulders. \"Do not ask me to explain this. It is beyond mortal beings' comprehension.\"");
			fallthrough;

		case "about time":
			say("\"It was I who sent the red moongate to thine homeland to lure thee to Britannia! It took every bit of my strength to make it functional, and still something went wrong. Thou didst arrive in Trinsic, which was not mine intention. It has therefore taken thee much longer to reach me than I anticipated.");
			say("\"Once thou didst arrive in Britannia, the only other way I could contact thee was via the Wisps. After the considerable rest I had since creating the red moongate, I managed to repair the one Orb of the Moons location that would bring thee to me. I cannot roam freely through time and space, doing my work, whilst I am trapped here.\"");
			remove("about time");
			add("Wisps");
			fallthrough;

		case "crisis":
			say("\"The land is under attack by a powerful and malicious being from another dimension, and thou art the only one who can stop him! I have been trapped here by a trick, due to a sorcery which The Guardian has performed. The Guardian has put a wrinkle in the space-time continuum by creating a powerful 'generator' which has made the Moongates and thine Orb of the Moons mostly inoperable.");
			say("\"Thou -must- free me and we must work together in battling The Guardian. The fate of thy people depends upon it. Dost thou accept?\"");
			var0002 = Func090A();
			if (var0002) {
				say("\"Then I have a mission for thee.\"");
				add("mission");
			} else {
				say("\"Then thou shalt be doomed to never finish thy quest. Art thou sure? I give thee one more chance. Dost thou want to help?\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"Then I have a mission for thee.\"");
				} else {
					say("\"Then farewell, Avatar. Leave now. Thou wilt come back when thou dost realize it is thy destiny to help me.\"*");
					abort;
				}
			}
			remove("crisis");
			fallthrough;

		case "mission":
			say("\"I knew thou wouldst not let me down.~~\"Go at once to the Serpent's Spine area. Search for the entrance to a dungeon somewhere northwest of Britain. I believe it may be called 'Dungeon Despise'. This will lead thee to the generator causing the problem. If mine hunch is correct, it will resemble a large Sphere.");
			if (gflags[0x0001]) {
				say("\"Thou may have already seen it.");
			}
			say("\"Thou must find a way to destroy it.");
			if (!gflags[0x0001]) {
				say("\"It may have a defense mechanism. If thou canst not conquer it, return here and describe the defense to me. Perhaps I can help thee more. It might be wise to use the spells Mark and Recall to save thyself the trouble of finding thy way through the entire dungeon a second time, should thou have to travel there again.\"");
				add("Sphere");
			} else {
				say("\"Its defense, as thou dost know, is an unusual Moongate.\"");
				add(["Sphere", "Moongate"]);
			}
			gflags[0x01D3] = true;
			remove("mission");
			fallthrough;

		case "Wisps":
			say("\"Oddly aloof creatures. They have made good messengers in the past.\"");
			remove("Wisps");
			fallthrough;

		case "The Guardian":
			say("\"He is an embodiment of supreme evil. He must be stopped. He thrives on domination and control.\"");
			remove("The Guardian");
			fallthrough;

		case "Sphere":
			say("\"It is a magic generator that The Guardian was able to send from his world. Its purpose is to disable the Moongates. Thou must break its outer defense and enter the structure, taking the smaller Sphere floating inside. Keep the small Sphere, as it will be useful later.\"");
			remove("Sphere");
			fallthrough;

		case "Moongate":
			say("\"The Sphere's outer defense sends thy party back to a specific position in space. Until this defense is broken, thou canst not enter the generator. Thou must find Nicodemus' hourglass.~~\"If I am correct in mine hypothesis, the Sphere's inner defense will involve Moongates. Look for a visual pattern to help thee solve this mystery.\"");
			gflags[0x01D2] = true;
			remove("Moongate");
			add(["hourglass", "Nicodemus"]);
			fallthrough;

		case "hourglass":
			if (!gflags[0x0004]) {
				say("\"It is an enchanted hourglass which will help thee if it is used at the site of the Sphere. Once I am free of the power of the generator, thou canst summon me by using the hourglass.\"");
				remove("hourglass");
			} else {
				say("\"It is of no use to thee now, unless thou dost want to summon me again.\"");
				remove("hourglass");
			}
			fallthrough;

		case "Nicodemus":
			say("\"He is a mage that lives west of the forest of Yew.\"");
			remove("Nicodemus");
			fallthrough;

		case "fix magic":
			if (!gflags[0x0003]) {
				say("The Time Lord thinks a moment.~~\"The ether must be repaired before the mages in Britannia can use magic again. I suggest that thou seest Penumbra in Moonglow. She may be able to help thee with this problem.\"");
				add("Penumbra");
			} else {
				say("\"Magic must be functioning properly now, Avatar. Use it wisely.\"");
			}
			remove("fix magic");
			fallthrough;

		case "Tetrahedron":
			say("\"It is a magic generator that The Guardian has sent from his world. It is controlling the ether which is depended upon by the mages to perform magic. Like the Sphere, thou must penetrate its outer defense, enter the structure, and take the smaller Tetrahedron floating inside.\"");
			remove("Tetrahedron");
			fallthrough;

		case "ethereal defense":
			say("\"It is not surprising that the Tetrahedron has such a defense. Penumbra in Moonglow should be able to help thee with that. It is obvious now that the Tetrahedron must be destroyed before thou canst destroy the Sphere.~~\"I am not sure what kind of inner defense the Tetrahedron may hold. It may be dangerous. Be sure to be well-armed when entering it.\"");
			gflags[0x0007] = true;
			remove("ethereal defense");
			fallthrough;

		case "Penumbra":
			say("\"She is an elderly mage who lives in Moonglow.\"");
			remove("Penumbra");
			fallthrough;

		case "Cube":
			if (!(gflags[0x0004] || gflags[0x0003])) {
				say("\"It is a magic generator which The Guardian has sent from his world. From what thou dost say, it sounds to me like the device he uses to 'speak' to his followers and charm them into submitting to his wishes. I am afraid that before thou canst destroy it, thou must take care of the other magic generators which The Guardian has placed in Britannia.\"");
			} else {
				say("\"It is the third and final magic generator which The Guardian has sent from his world. It is the device he uses to 'speak' to his followers and charm them into submitting to his wishes. Tis in a dungeon near Serpents Hold. Thou must destroy its outer defense, enter it, and take the smaller Cube floating inside.\"");
			}
			remove("Cube");
			if (!gflags[0x0002]) {
				add("Cube defense");
			}
			fallthrough;

		case "Cube defense", "noise":
			say("\"This outer defense can be conquered by using special helmets which cover your ears. The helmets must be made from a rare mineral called 'Caddellite'. It is present in meteors. Seek out Brion, at the Observatory near the Lycaeum. He can give thee more advice on finding this mineral.~~\"The inner defense will most likely involve The Guardian himself. Do not listen to what he might tell thee.\"");
			gflags[0x0008] = true;
			remove(["Cube defense", "noise"]);
			fallthrough;

		case "bye":
			break;
	}
	say("\"Farewell, Avatar. Good luck to thee.\"*");
}

extern void Func0690 object#(0x690) ();
extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func092D 0x92D (var var0000);
extern void Func0691 object#(0x691) ();

void Func026F shape#(0x26F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		if (!AVATAR->is_readied(BG_WEAPON_HAND, 0x026F, FRAME_ANY)) {
			UI_flash_mouse(CURSOR_OUT_OF_RANGE);
			return;
		}
		UI_close_gumps();
		item->Func0690();
	}
	if (event == SCRIPTED) {
		var0000 = false;
		var0001 = get_item_shape();
		if (var0001 == 0x03DF) {
			var0000 = find_nearest(0x029C, 0x0001);
		}
		if (var0001 == 0x026F) {
			var0000 = UI_click_on_item();
		}
		if (var0000->get_item_shape() == 0x029C) {
			var0002 = var0000->find_nearest(0x03DF, 0x0003);
			if (var0002) {
				var0003 = var0002->get_object_position();
				var0004 = var0000->get_object_position();
				if (var0004[0x0001] == var0003[0x0001]) {
					if (var0004[0x0002] == var0003[0x0002]) {
						if ((var0004[0x0003] - 0x0001) == var0003[0x0003]) {
							var0005 = var0000->get_item_frame();
							if ((var0005 >= 0x0008) && (var0005 <= 0x000F)) {
								Func0828(var0002, 0x0000, 0x0002, 0x0000, Func026F, var0002, BG_PATH_SUCCESS);
							}
						}
					}
				}
			}
		}
	}
	if (event == BG_PATH_SUCCESS) {
		var0006 = AVATAR->get_npc_object()->find_nearest(0x029C, 0x0003);
		var0005 = var0006->get_item_frame();
		var0007 = AVATAR->get_npc_object();
		var0008 = Func092D(item);
		if ((var0005 >= 0x000D) && (var0005 <= 0x000F)) {
			var0007->item_say("@The sword is not heated.@");
			var0009 = script var0007 {
				face var0008;
			};
		}
		if ((var0005 == 0x0008) || (var0005 == 0x0009)) {
			var0007->item_say("@The sword is too cool.@");
			var0009 = script var0007 {
				face var0008;
			};
		}
		if ((var0005 >= 0x000A) && (var0005 <= 0x000C)) {
			var0009 = script var0007 {
				face var0008;
				actor frame ready;
				actor frame raise_1h;
				actor frame strike_1h;
				actor frame ready;
				actor frame standing;
			};
			var0002 = AVATAR->get_npc_object()->find_nearest(0x03DF, 0x0003);
			var0009 = script var0002 {
				wait 4;
				call Func0691;
			};
		}
	}
}

extern void Func08FF 0x8FF (var var0000);
extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func092D 0x92D (var var0000);

void Func0270 shape#(0x270) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;

	if (event == DOUBLECLICK) {
		if (!AVATAR->is_readied(BG_WEAPON_HAND, 0x0270, FRAME_ANY)) {
			Func08FF("@Thou must hold that in thine hand.@");
			return;
		}
		var0000 = UI_click_on_item();
		var0001 = var0000->get_item_shape();
		if (var0001 == 0x03A4) {
			if ((var0000->get_item_frame() == 0x0002) || (var0000->get_item_frame() == 0x0003)) {
				var0002 = [2, 1, 0];
				var0003 = [2, 2, 2];
				var0004 = [-5];
				Func0828(var0000, var0002, var0003, var0004, 0x0270, item, BG_PATH_SUCCESS);
				UI_close_gumps();
			} else {
				Func08FF("It seems the tree will yield nothing of value.");
			}
		} else {
			Func08FF("It seems that a pick is not needed for that.");
		}
	}
	if (event == BG_PATH_SUCCESS) {
		var0005 = AVATAR->find_nearby(0x03A4, 0x0003, MASK_NONE);
		for (var0008 in var0005 with var0006 to var0007) {
			var0009 = var0008->get_item_frame();
			if ((var0009 == 0x0002) || (var0009 == 0x0003)) {
				var000A = Func092D(var0008);
			}
		}
		var000B = script AVATAR {
			face var000A;
			actor frame raise_1h;
			wait 2;
			actor frame strike_1h;
			wait 2;
			actor frame raise_1h;
			wait 2;
			actor frame strike_1h;
			wait 1;
			call Func0270;
		};
	}
	if (event == SCRIPTED) {
		if (gflags[0x0321]) {
			var000C = UI_create_new_object(0x00CB);
			var000C->set_item_frame(0x000A);
			var000D = UI_update_last_created([0x097A, 0x0619, 0x0004]);
			AVATAR->find_nearby(0x03A4, 0x0003, MASK_NONE)->set_item_frame(0x0003);
			gflags[0x0321] = false;
		} else {
			var000E = AVATAR->find_nearby(0x03A4, 0x0003, MASK_NONE);
			for (var0008 in var000E with var000F to var0010) {
				var0009 = var000E->get_item_frame();
				if ((var0009 == 0x0003) || (var0009 == 0x0002)) {
					var0011 = 0x0000;
					while (var0011 < 0x0003) {
						var0012 = UI_create_new_object(0x0390);
						var0012->set_item_frame(0x0003 - var0011);
						var0013 = var000E->get_object_position();
						var0013[0x0001] = (var0013[0x0001] + 0x0001) + var0011;
						var0013[0x0002] += 0x0002;
						var0013[0x0003] -= 0x0003;
						var0014 = UI_update_last_created(var0013);
						var0011 += 0x0001;
					}
					var0015 = var0008->find_nearby(0x032A, 0x0005, MASK_NONE);
					if (var0015) {
						var0015->set_item_frame(0x0002);
						var0016 = var0015->set_item_quality(0x0004);
					}
				}
			}
		}
	}
}

extern void Func0925 0x925 (var var0000);
extern var Func081B 0x81B (var var0000);
extern void Func081C 0x81C (var var0000, var var0001);
extern void Func08FE 0x8FE (var var0000);
extern void Func08FF 0x8FF (var var0000);

void Func0273 shape#(0x273) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		UI_play_sound_effect2(0x001B, item);
		var0001 = var0000->get_item_shape();
		var0002 = var0000->get_item_quality();
		if (UI_die_roll(0x0001, 0x001E) < AVATAR->get_npc_prop(DEXTERITY)) {
			var0003 = true;
		} else {
			var0003 = false;
		}
		if (var0001 == 0x020A) {
			if ((var0002 == 0x0000) && var0003) {
				var0000->set_item_shape(0x0320);
				var0000->item_say("Unlocked");
				return;
			}
			if ((var0002 == 0x00FF) && var0003) {
				var0004 = UI_create_new_object(0x02C0);
				if (var0004) {
					var0005 = UI_update_last_created(var0000->get_object_position());
					UI_close_gumps();
					var0005 = var0004->attack_object(var0004, 0x02C0);
					if (var0003) {
						var0000->set_item_shape(0x0320);
						var0000->item_say("Unlocked");
					}
				}
				return;
			}
			var0000->item_say("Pick broke");
			Func0925(item);
			return;
		}
		var0006 = [0x0178, 0x010E, 0x01B0, 0x01B1];
		for (var0009 in var0006 with var0007 to var0008) {
			if (var0001 == var0009) {
				if (var0002 == 0x0000) {
					if (Func081B(var0000) == 0x0002) {
						if (var0003) {
							Func081C(var0000, 0x0000);
							var0000->item_say("Unlocked");
						} else {
							var0000->item_say("Pick broke");
							Func0925(item);
						}
						return;
					}
				} else {
					Func08FE("@Strange that did not work.@");
					return;
				}
			}
		}
		Func08FF("@Try those on a locked chest or door.@");
	}
}

void Func0275 shape#(0x275) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
	} else {
		var0000 = item;
	}
	var0001 = script AVATAR {
		nohalt;
		actor frame ready;
		actor frame raise_2h;
		actor frame strike_2h;
		attack;
		actor frame ready;
	};
	var0001 = AVATAR->set_to_attack(var0000, 0x0275);
}

void Func0276 shape#(0x276) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
	} else {
		var0000 = item;
	}
	AVATAR->halt_scheduled();
	var0001 = script AVATAR {
		nohalt;
		actor frame ready;
		actor frame raise_2h;
		actor frame strike_2h;
		attack;
		actor frame ready;
	};
	var0001 = AVATAR->set_to_attack(var0000, 0x0276);
}

extern void Func0815 0x815 (var var0000);

void Func0281 shape#(0x281) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		UI_play_sound_effect2(0x001B, item);
		var0001 = var0000->get_item_shape();
		var0002 = get_item_quality();
		var0003 = var0000->get_item_quality();
		if (var0000[0x0001]->get_item_shape() in [0x0178, 0x010E, 0x01B0, 0x01B1]) {
			if (var0002 == var0003) {
				Func0815(var0000);
			}
		}
		if (var0001 == 0x020A) {
			if (var0002 == var0003) {
				var0000->item_say("Unlocked");
				var0000->set_item_shape(0x0320);
				if (var0003 == 0x00FD) {
					gflags[0x003E] = true;
				}
			}
		}
		if (var0001 == 0x0320) {
			if (var0002 == var0003) {
				var0004 = var0000->get_cont_items(0x0281, var0002, FRAME_ANY);
				var0005 = false;
				while (var0004) {
					if (var0004 == var0000) {
						var0005 = true;
						break;
					}
					var0004 = var0004->get_container();
				}
				if (var0005) {
					AVATAR->item_say("Key inside");
					return;
				}
				var0000->close_gump();
				var0000->set_item_shape(0x020A);
				var0000->item_say("Locked");
			}
		}
	}
}

void Func0282 shape#(0x282) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = 0x0089;
		UI_play_sound_effect2(0x000E, item);
		book_mode();
		var0001 = item;
		var0002 = var0001->get_item_quality();
		if (var0002 > var0000) {
			say("This is @not a @valid book");
		}
		if (var0002 == 0x0000) {
			say("~~ ~~MORGAN'S GUIDE TO UNIFINISHED NOVELS~~  ~~by Morgan*");
			say("~~     An enlightening discourse on the enigma of blank tomes.");
			say("~Beginning with the heretofore unresolved mysteries of empty...*Page 2*Page 3*Page 4*Page 5*Page 6*Page7");
		}
		if (var0002 == 0x0001) {
			say("~~ ~~ \"HOW DEATH AFFECTS THOSE WHO WORK AROUND IT WITH REGULARITY\"*");
			say("Day 1: Subject (Tiery) seems friendly enough and willing to accept my company.~");
			say("Day 2: Subject exhibiting strange sense of humor, very morbid.~");
			say("Day 3:  No contact with subject.~");
			say("Day 4: Subject makes continual references to recent conversations with cemetery occupants.~");
			say("Day 5: ...");
		}
		if (var0002 == 0x0002) {
			say("MY NOTEBOOK by Alagner~~");
			say("     These are my observations concerning the organization known as The Fellowship.");
			say("Although The Fellowship portends to be a group of optimists with a philosophy called `Triad of Inner Strength', there are many fallacies which can be gleaned by careful examination of the group's `values'.");
			say("The first `value' is Strive For Unity. This implies that that we should all work together in harmony and towards one goal in life. However, careful examination of this tenet reveals that members of The Fellowship consider themselves an elite group, and a prejudicial one at that. They tend to believe that if one is not for them, then they are indeed against them! And if one is against them, then may fortune be with that person, for he/she may very well come to a bad end!");
			say("The second `value' is Trust Thy Brother. This implies that each member trusts implicitly other Fellowship members, and that each will do favors or deeds for another without question. On the other hand, this might mean that a member should do what another says REGARDLESS of the implications of the act. In other words, `do as I say and do not question it!' seems to be the underlying subtext of this tenet.");
			say("The third `value' is Worthiness Precedes Reward. If one does good deeds for The Fellowship, then one will be rewarded. The other side of the coin, of course, is that if one does NOT do good deeds for The Fellowship, then one will get his JUST reward! In The Fellowship, a `reward' can be either `good' or `bad'!");
			say("The Fellowship has been duping the masses of Britannia now for twenty years. They are becoming stronger and stronger. After careful study, I have come to the conclusion that the group is serving some higher, malevolent entity, referred to by the organization's inner circle as `The Guardian'. More information needs to be obtained about The Guardian, but I am certain that he is very dangerous.");
			say("The Fellowship seems to be organized into three distinct grades of members. Grade One consists of the general masses of naive innocents who have joined, thinking that their pathetic little lives will be helped in some way. Grade Two consists of the various branch leaders who make up the inner circle of Fellowship leaders.");
			say("There is also a Grade Three -- those Fellowship leaders who are in administrative positions within the group: men such as Batlin, and the mysterious couple Elizabeth and Abraham who travel the country distributing The Fellowship's funds. (Not much is known about these two -- it is said they are twins -- brother and sister.) I believe that the few Grade Three members are in direct communication with The Guardian and believe they will be serving as his lieutenants should The Guardian ultimately gain power in the land.");
			say("Already, The Guardian is promising to be a powerful threat. Magic in Britannia has taken a turn for the worse in the past few years. I believe that The Guardian has done something to cause this malady. Not many people have noticed that Britannia's problem with Moongates -- they're being so unreliable -- occurred around the same time. It follows that The Guardian is most likely responsible for this serious plague.");
			say("The Guardian also possesses some kind of power which allows him to speak to and `charm' naive innocents so that they will gladly join The Fellowship and become Grade One members. These unfortunate lambs will most likely become The Guardian's slaves should he ever come into power.");
			say("After I have obtained enough proof of my theories concerning The Fellowship, I shall present this notebook to Lord British himself and rid Britannia of these very dangerous, lying fascists.");
		}
		if (var0002 == 0x0003) {
			say("OBSERVATIONS OF BLACK ROCK, by Rudyom The Mage~~");
			say("     The mysterious substance known as Black Rock is completely indestructible. Only by magical means can it be molded and shaped.");
			say("Black Rock can be found in small quantities beneath the ground, sometimes near lodes of iron ore or lead.");
			say("Black Rock can be excavated by conventional means, but melting it down into a malleable substance is impossible, except by magic.");
			say("I have found that a combination of electrical energy and magnetic energy has a profound effect upon the substance. Together, these properties cause Black Rock to become permeable, that is, one can put one's hand through the substance as if it were water!");
			say("Further study reveals that Black Rock might work as a teleportation device if magic, electrical energy, magnetic energy, and the correct alignment of heavenly bodies act together upon the substance. This theory still needs to be tested.");
			say("The Black Rock transmuter I created out of an old wand does not work. It was meant to shoot electrical and magnetic charges into Black Rock, but all it does is make the substance explode! (I must be careful not to let the transmuter get into the wrong hands. Pointing it at a large quantity of Black Rock might produce a devastating explosion!)");
			say("I must quit for the day. The headaches that have been plaguing me have gotten worse. I am forgetting more and more. Very soon, I am afraid, I will forget how to cast simple spells. I believe something might be affecting the magical ether. But I cannot be sure...");
		}
		if (var0002 == 0x0004) {
			say("~~ ~~ STRANGER IN A STRANGE LAND~~ ~~by Robert Heinlein~~First Edition*");
			say("  The struggles of an individual from another planet who finds difficutly assimilating into his new society and culture.");
		}
		if (var0002 == 0x0005) {
			say("~~ ~~CHITTY-CHITTY-BANG-BANG~~ ~~by Ian Fleming*");
			say("    This wonderful childrens's story of a car that could fly has been pleasing youths and adults alike for many generations.");
		}
		if (var0002 == 0x0006) {
			say("~~ ~~THE WIZARD OF OZ ~~ ~~by Frank L. Baum*");
			say("     The tale of a little girl, Dorthy, who, with her dog, Toto, travels through whirlwinds and magic to a fanciful land called Oz. Dorothy's search for ideals in this land win her three new friends. The first, a brainless scarecrow, whose ultimate wisdom teaches her the principle of Truth.  The second, a heartless tin-man, whose undying devotion shows her the principle of Love.  Finally, Dorothy encounters a cowardly lion, who, facing all perils to save her, demonstrates the principle of Courage.");
		}
		if (var0002 == 0x0007) {
			say("~~ ~~ HUBERT'S HAIR-RAISING ADVENTURE ~~ ~~by Bill Peet*");
			say("Hubert the Lion was haughty and vain And especially proud of his elegant mane. ~But conceit of this sort isn't proper at all And Hubert the Lion was due for a fall. ~One day as he sharpened his claws on a rock He received a most horrible, terrible shock.");
			say("~A flaming hot spark flew up into the air, Came down on his head and ignited his hair. ~With a roar of surprise he took off like a streak, Away through the jungle to Zamboozi Creek. ~He leaped in kersplash! with a shower of bubbles, And came bobbing up with a head full of stubbles. ~At first he just stared with a wide-open mouth At the cloud of black smoke drifting off to the south.");
			say("Then he felt with his paws just in back of his ears And he suddenly realized the worst of his fears. ~'I'm ruined,' he shouted, 'oh what'll I do! I'd rather be dead or go live in a zoo! ~And if anyone sees me, oh what a disgrace, So I'd better discover a good hiding place!'");
		}
		if (var0002 == 0x0008) {
			say("~~RECORDS OF THE HIGH COURT OF YEW~~ ~~ ~~");
			gflags[0x0126] = true;
			say("... Hook -- Hook is known to be an extremely dangerous killer, a pirate who left his own band of scalliwags to become a freelance assassin for whomever might meet his price. It is believed that he is linked to at least fourteen murders in Britannia. All of the victims had been mutilated with a sharp object believed to be the handiwork of a hook-hand.");
			say("     It is not known where Hook resides, but many believe he has a secret hideout on Buccaneer's Den. His most recent sighting confirmed that he is travelling with a warrior gargoyle named Forskis.~~");
			say("... Kellin... is wanted in several townships for thievery. He uses many aliases, including Tervis, Kreg, and Hodge. He was last seen near the forest of Yew and is believed to have gone into hiding.~~");
			say("... Sullivan... is wanted in several townships for fraud, thievery, and other petty crimes. He is known to be a member of The Fellowship, though The Fellowship has denied any knowledge of such a member. In many reports of the man's crimes, victims have stated that he claimed to be the Avatar.");
			gflags[0x0159] = true;
		}
		if (var0002 == 0x0009) {
			gflags[0x0233] = true;
			say("Morfin of Paws, Ledger of Venom Sales*");
			say("~~ ~~...July, 0359:~Sale - 3 vials - 300~Sale - 5 vials - 480~ August, 0359:~Sale - 12 vials - 1100~October, 0359:~Sale - 9 vials - 880~December, 0359:~Sale - 10 vials - 1000~Sale - 5 vials - 500~ February, 0360:~Sale - 6 vials - 590~Sale - 4 vials - 400~Sale - 5 vials - 500~April, 0360:~Sale - 6 vials - 620~September, 0360~ Sale - 5 vials - 500~Sale - 5 vials - 480~November, 0360:~ Sale - 10 vials - 990~January, 0361:~Sale - 12 vials - 1200... ");
		}
		if (var0002 == 0x000A) {
			say("~~ ~~ULTIMA: THE AVATAR ADVENTURES ~~ ~~by Rusel DeMaria and Caroline Spector*");
			say("Within the pages of this tome are the details of the many adventurous exploits  of the Avatar, beginning with after the destruction of Exodus. The details within this book are amazingly accurate, and the descriptions should prove to be surprisingly vivid.");
		}
		if (var0002 == 0x000B) {
			say("~~ ~~ ~~ ~~ EVERYTHING AN AVATAR SHOULD KNOW ABOUT SEX:*");
			say("*");
			say("*");
		}
		if (var0002 == 0x000C) {
			say("~~ ~~ENCYCLOPEDIA BRITANNIA ~~ ~~Volume I. A - E.*");
			say("     Another volume in a long series of books detailing every known geographical location and historical personage. This work covers Aakara, the first mayor of Trinsic, through Exodus, the vile offspring of Mondain and Minax.");
		}
		if (var0002 == 0x000D) {
			say("~~ ~~ENCYCLOPEDIA BRITANNIA ~~ ~~Volume II. F - L.*");
			say("     Here is another volume in a long series of books detailing every known geographical location and historical personage. This work covers Faalga, the ancient sage of reptiles, through Lyceaum, the reknowned library that is now a part of Moonglow.");
		}
		if (var0002 == 0x000E) {
			say("~~ ~~ENCYCLOPEDIA BRITANNIA~~ ~~Volume III. M - P.*");
			say("     Here is another volume in a long series of books detailing every known geographical location and historical personage. This tome covers Kanos, an historical tower in ancient Yew, through Pusmoran, the orginator of the rarely-used fourth person point of view.");
		}
		if (var0002 == 0x000F) {
			say("~~ ~~ENCYCLOPEDIA BRITANNIA~~ ~~Volume IV. Q - U.*");
			say("     Here is another volume in a long series of books detailing every known geographical location and historical personage. This book covers Quaaxetlornicom, the mythilogical snow beast of the North, through, Utopia, the proposed manifestation of the time-honored concept of a perfect society.");
		}
		if (var0002 == 0x0010) {
			say("~~ ~~ENCYCLOPEDIA BRITANNIA~~ ~~Volume V. V - Z.*");
			say("     Here is another volume in a long series of books detailing every known geographical location and historical personage. This tome covers Vargaz, contemporary storyteller and compiler of legendary parables, through Zyand, a prehistoric island.");
		}
		if (var0002 == 0x0011) {
			say("~~ ~~KEY TO THE BLACK GATE.*");
			say("~~ ~~ ~~The pages bound within this book contain well-documented clue information from the invaluable sources at Origin Systems.");
		}
		if (var0002 == 0x0012) {
			say("~~ ~~COLLECTED PLAYS ~~ ~~by Raymundo.*");
			say("     Housed inside this anthology of stage works are such greats as \"Three on a Codpiece\", \"The Trials of the Avatar\", \"The Plagiarist\", \"Clue\", \"Thumbs Down\", and several other prize-winning pieces. For convenience in production, several suggested costumes and make-up techniques are listed in the back.");
		}
		if (var0002 == 0x0013) {
			say("~~ ~~NO TIME TO DANCE~~ ~~by B.A. Morler.*");
			say("     The wonderful depiction of the busy life of two industrious scholars, caught betwixt the demands of a forceful taskmaster and the pressure of time.");
		}
		if (var0002 == 0x0014) {
			say("~~ ~~THE SILENCE OF CHASTITY ~~by I.M. Munk.~~");
			say("The treatise on the monks of the Brotherhood of the Rose, including how they compare to their stereotypes.*");
			say("     ...One common misconception is that monks still hold on to the outdated notion that \"silence is golden.\" While this was, perhaps, a tenet they supported as late as 0103, no longer do the monks of the renowned Empath Abbey care to remain speechless...*");
			say("     ...There is no doubt that monks love wine. Not only are there more monk stories centering on the creation of wine, but any visit to the Abbey will reveal just how much of the entire building is devoted to the formation the delicious mixture...");
		}
		if (var0002 == 0x0015) {
			say("~~ ~~MURDER BY MONGBAT~~ ~~by J. Dial.*");
			say("     This extraordianary work depicts an enthralling, but far too gory thriller. Chapter after chapter describes innovative and impressive ways to disembowel people and animals.");
		}
		if (var0002 == 0x0016) {
			say("~~ ~~DOLPHIN IN THE DUNES~~ ~~by Pietre Hueman.*");
			say("     Contained within the pages of this book is what seems to be an allegory for human familial relations. The work is obviously fiction, but the understones suggest extensive study on Hueman's part. Halfway through the work, the point of view shifts, permitting the reader to see multiple sides of each issue.");
		}
		if (var0002 == 0x0017) {
			say("~~ ~~MANDIBLES~~ ~~by Peter Munchley.*");
			say("     Held between the covers of this book is an action-adventure novel about a man-eating sea creature who terrorizes a small coastal town for several months.");
		}
		if (var0002 == 0x0018) {
			say("~~ ~~THE BOOK OF THE FELLOWSHIP~~ ~~by Batlin of Britain.*");
			say("     Good morning to thee, gentle friend and traveller! No matter what time of day it might be when thou art reading this- no matter what the hour of the clock- I say good morning to thee because this very moment brings to thee the coming of the dawn. The dawn, as everyone knows, is the moment when illumination comes. The dawn marks the end of the long dark night. It is the moment that marks a new beginning. It is my humble hope that these words may be for thee a dawning, or at least, a sort of awakening...");
		}
		if (var0002 == 0x0019) {
			say("~~ ~~LORD BRITISH~~The biography of Britannia's longtime ruler~~ ~~ by K.Bennos*");
			say("     ...While many may remember that Lord British was once but one of eight monarchs (back when the lands were known as Sosaria), few are aware that he is not even a native of our own lovely Britannia. His origin is from another world, one from which he entered ours by way of a red moongate (In fact, it is through this same type of gate that the Avatar of legend purportedly enters Britannia.) As ruler of one of the eight kingdoms, he was instrumental in selecting a champion to face Mondain, Minax, and Exodus.~");
			say("     When the terrible machine, Exodus, was defeated, 'twas Lord British behind whom all the people of Sosaria rallied. The unified land become known as Britannia, with Lord British as the sole monarch. Though never let it be said he rules with a tyrannical hand. His reign has always been one of Truth, Love, and Courage, supported by his utmost belief in the eight virtues.~");
			say("     It was Lord British who had the insight to call forth a quest for the Avatar (whom also happened to be the champion from the days of Sosaria), and who gave prosperity and happiness unto the people.~");
			say("     Then came his mysterious disappearance, when the Stranger who became the Avatar was called by his companions to aid in the search for the lost monarch. Note how Lord Blackthorn, affected by the Shadowlords, quickly turned Britannia's fair lands into a place of terror. But find our noble Lord the Avatar did, and Britannia was restored its former, peaceful state.~");
			say("     Then came the gargoyles, and our honorable sovereign thoughtfully requested the return of the Avatar...");
		}
		if (var0002 == 0x001A) {
			say("~~ ~~GARGOYLE LIKE ME~~ ~~by Darok.*");
			say("     Within this work lies a fascinating novel of a human who poses as a Gargoyle to view what life is like from the Gargish point of view. The story is a remarkable mix of historical and entertaining facts from encounters with many gargoyles.~");
			say("     A particular emphasis of the work is the importance of the gargoyle family structure. As there is no evidence of gargoyles having a gender, it is odd how close \"father\" gargoyles maintain a relationship with their (presumably) adopted sons.~");
			say("     The attitudes seems similar to that of how the more intelligent, winged gargoyles treat the wingless. There is an air of condescension, but the feelings of care still exist, as if the wingless were children to be protect and watched over by the winged.");
		}
		if (var0002 == 0x001B) {
			say("~~ ~~TO BE OR NOT TO BE~~ ~~by Wislem.*");
			say("     To be the words comprising the complete Gargish primer, designed to educate the young gargoyle mind, both winged and wingless.");
		}
		if (var0002 == 0x001C) {
			say("~~ ~~BOOK OF PROPHECY~~ ~~by Naxatilor the Seer*");
			say("     An ancient prophecy tells of the final days. When the end of our world shall come. Three signs will precede the end. Thrice shall a being of great evil come into our land, and by this it shall be known that the end is nigh.~");
			say("     This evil one is of another race, who consider the evil one a great prophet. Yet this false prophet follows not the principles of Control, Passion and Diligence.~");
			say("     One day the false prophet will come and desecrate our most holy shrine. And the false prophet will steal our most holy artifact, the Codex of Ultimate Wisdom.~");
			say("     This shall be the first sign of the end.~");
			say("     Then, it is written, the false prophet shall descend deep into the bowels of the earth. And the false prophet will cause the underworld to collapse. This will cause great earthquakes to tear our world asunder, and there will be a time of plague and famine.~");
			say("     This shall be the second sign of the end.~");
			say("     One last time shall the prophet come. This time, the false prophet will come with a band of warriors. And they will destroy all that remains of the gargoyle race.~");
			say("     There is only one way that this prophecy may be averted: That is by the sacrifice of the false prophet.");
		}
		if (var0002 == 0x001D) {
			say("~~ ~~THE BOOK OF FORGOTTEN MANTRAS.*");
			say("akk~hor~kra~maow~detra~sa~nok~spank~a~mi~ah~xiop~yof~ow~ta~goo~ si~yam~vil~wez~forat~asg~sem~tex~as~hiy~eyac~hodis~ni~ baw~fes~upa~yuit~swer~xes~led~zep~bok~mar~sak~ces~blah~swu...");
		}
		if (var0002 == 0x001E) {
			say("~~ ~~STRUCK COMMANDER~~ ~~by Gilberto.*");
			say("     This tome is the fanciful story of a man who, along with several comrades, gains access to a flying vehicle -- much like a cart -- and uses his abilities to fight terrorists and despotic monarchs who employ mercenaries using their own flying carts.");
		}
		if (var0002 == 0x001F) {
			say("~~ ~~GONE WITH THE WISP~~ ~~by Margareta Mitchellino.*");
			say("     This novel, purportedly written by a young gypsy woman, depicts the golden days of Britannia. Filled with short anecdotes Mitchellino claims came from her people, the piece is quite amusing.");
		}
		if (var0002 == 0x0020) {
			say("~~ ~~KARENNA'S WORKOUT~~ ~~by Karenna.*");
			say("     Found within this plain-bound volume is a combat and exercise training manual. The work provides simple yet complete illustrations demonstrating a variety of steps that will not only disable an opponent, but also aids in good cardiovascular circulation.");
		}
		if (var0002 == 0x0021) {
			say("~~ ~~KARENNA'S PREGNANCY WORKOUT~~ ~~by Karenna.*");
			say("     Herein are many words of wisdom for use within the realm of combat and exercise for pregnant women. The drawings included perfectly illustrate in explicit detail how these forms differ from more conventional styles, and how pregnancy truly affects fighting skills.");
		}
		if (var0002 == 0x0022) {
			say("~~ ~~KARENNA'S TOTAL BODY WORKOUT~~ ~~by Karenna.*");
			say("     Found upon the pages of this combat and exercise training manual are words that expand upon the original edition. Sadly, this work has recieved much less attention than Karenna's other two.");
		}
		if (var0002 == 0x0023) {
			say("~~ ~~THE FIVE STAGES OF LAWN CARE~~ ~~by A.P. Berk.*");
			say("     This is the brilliant and witty depiction of the humorous antics of two young boys during one very hot summer in Britannia. From courting to practicing sword-play, the duo never seem to be able to avoid trouble. Though the boys grow up by the end of the story, they don't quite seem to lose all of their youthful instinct.");
		}
		if (var0002 == 0x0024) {
			say("~~ ~~AND THEN THERE WAS KAREN... ~~ ~~by B. MacDae*");
			say("     Within the pages of this tome are words that relate the story of how one man's life was changed by a woman, both during their relationship and after. The tale is bittersweet, but both survive to to become happier people with better outlooks on their lives.");
		}
		if (var0002 == 0x0025) {
			say("~~ ~~THE INTRINSIC COMPLEXITIES OF INVESTIGATING A NEW SPECIES OF FLORA IN THE LAND OF BRITANNIA~~ ~~by Perrin*");
			say("     This scientific journal describes, with examples, the process by which one studies plant life. The book is divided into multiple sections, one for the layman, one for the hobbyist, and one for the learned scholar, and includes a warning about the difficulties of gathering specimens from the poisonous swamps.");
		}
		if (var0002 == 0x0026) {
			say("~~ ~~RINGWORLD ~~ ~~by Larry Niven*");
			say("     Herein lie the words that tell of adventures to be had in the space between Britannia and the heavens. The work, although fictional, preposes that there are many undiscovered lands that lie between Britannia and other suns.");
		}
		if (var0002 == 0x0027) {
			say("~~ ~~THE APOTHECARY'S DESK REFERENCE~~ ~~by Fetoau*");
			say("     It is the author's expectation that thou art reading this to familiarize thyself with the effects of various potions based on their color. The first part of this work will discuss such aspects, with the remaining pages covering the materials and steps required to make such alchemal creations.*");
			say("     Definitions:~~Black potion: Drinking this will render the individual invisible for several minutes.~Blue potion: This mixture will put the imbiber into a deep sleep.~Orange potion: This potion will awaken an individual who was magically put to sleep.~Purple potion: This concoction will provide magical protection for several minutes of hard fighting.~White potion: This potion will provide a small bit of illumination, much like a candle, for a few minutes.~ Yellow potion: This powerful mixture will give healing aid to the imbiber's wounds.~~WARNING: Green potion: This potion is a dangerous toxin, and will poison the imbiber, possibly killing the individual.~ Red potion: This fabulous drink will cure most poisons, including those acquired from the slugs in the swamps and that gained from drinking a GREEN potion.*");
			say("     This next section details how one can best recreate these uncanny concoctions...");
		}
		if (var0002 == 0x0028) {
			say("~~ ~~MAGIC AND THE ART OF HORSE-AND-WAGON MAINTENANCE*");
			say("     This lengthy tome contains wonderous jewels of wisdom concerning all aspects of life. The words exalt the value of basic, common pleasures and denounce the relevance that material possesions have to happiness. The philosophy is simple enough to be easily grasped, yet complete enough to be quite comprehensive.~");
			say("     The main irony of the title is apparent to anyone who has ever cared for a horse, for, as any stablemaster or horse owner can attest, horses need no food or rest.");
		}
		if (var0002 == 0x0029) {
			say("~~ ~~JESSE'S BOOK OF PERFORMANCE ART~~ ~~by Jesse.*");
			say("     This anthology is filled with many performance art scripts. The author, a controversial and eccentric Britannian actor, maintains that many aspects of both acting and performance art are quite similar.~");
			say("     ...Consider the actor. He uses dialogue, facial changes, and movement to convey his lines. His actions, called a PERFORMANCE, combined with the playwrite's script, express an emotion or a message. The performance artist uses the very same techniques. The one possible exception is that he is both the writer AND the performer. In fact, the practice of many facets of performance art can better an actor's skill...");
		}
		if (var0002 == 0x002A) {
			say("~~ ~~THE WRITE STUFF~~ ~~by Perrin*");
			say("     Within these pages is found a treatise on the value of literacy and proper writing skills. The first few chapters briefly discuss the various elements of good literature. The subsequent text analyzes the qualities of the elements to determine -why- they are integral to quality literature. The essay ends with a description of the process by which a promising writer can apply what has been learned to construct better prose.");
		}
		if (var0002 == 0x002B) {
			say("~~ ~~THAT BEER NEEDS A HEAD ON IT! ~~ ~~by Yongi*");
			say("     Found within are many a recipe for the most delicious of alcoholic beverages. Not only are the pages filled with descriptions of the various processes by which one produces these drinks, but also with a great number of suggestions for serving methods. In addition, the back index references each drink by type -and- color.");
		}
		if (var0002 == 0x002C) {
			say("~~ ~~THE PROVISIONER'S GUIDE TO USEFUL EQUIPMENT~~ ~~by Dell*");
			say("     While most suppliers will rave about the effectiveness of a good sword or specially fitted armour, I personally feel that proper exploring gear is much more necessary.~");
			say("     Consider this, dear reader. While thou might happen to encouter a wild bear in thy travels, or, even less likely, a troll, thou art doubtless going to be in need of much more mundane equipment.~");
			say("     With thou possibly be outside city walls when darkness comes? Then buy a torch. And how wilt thou carry thy provisions? A backpack wilt prove necessary. And what about a container for thy refreshment? Purchase a jug or bucket. As for...");
		}
		if (var0002 == 0x002D) {
			say("~~ ~~THE ACCEDENS OF ARMOURY~~ ~~by Legh*");
			say("     This book on heraldry not only describes various houses for ease of recognition, but also demonstrates elements used in their concepton. Thus, this book will also permit the reader to formalize an heraldric symbol of his own.");
		}
		if (var0002 == 0x002E) {
			say("~~ ~~THE BIOPARAPHYSICS OF THE HEALING ARTS~~ ~~by Lady Leigh*");
			say("     Within this rather in-depth and complex look at healing are the ideas considered to be -the- definitive text on healing wounds, curing poison, and resurrecting the recently dead. Within can be found suggested remedies for any known sickness in Britannia, including the dreaded Zoradin's Disease, which causes a loss of vision followed by an extreme sensitivity to noise.~");
			say("     In addition, the book lists a few of the after-effects of healing and curing, such as an increase in appetite, intense restlessness, and slight dizzy spells. Though not for good as an introduction to healing for beginners, the tome is perfect for the seasoned healer.");
		}
		if (var0002 == 0x002F) {
			say("~~ ~~WHAT COLOR IS THY BLADE? ~~ ~~by Menion*");
			say("The first step in effective sword-forging is to fill a crucible with metal. Then, with the bellows, the fire should be made extrememly hot When the flame no longer continues to grow in its glow, set the crucible on the fire to melt the metal.~");
			say("     Afterwards, pour the molten metal\tinto the blade mold and let it cool. Be warned! The crucible is at an extremely high temperature. Lift the cooled blade from the mold. Again heat up the fire and set the blade within. Be careful not to let it lose its shape though. Just set it in there long enough for the blade to become malleable.~");
			say("     When it is ready, finish shaping it on the anvil with the hammer. When thou hast formed a blade of the desired shape, use the quenching barrel to cool the metal. It will harden quickly, so make sure the blade is as sharp as thou dost want it to be.~");
			say("     All that thou is left to do now is to put the pommel over the tang. It takes some doing to make a fine, sturdy sword, but the finished weapon is well worth it!");
		}
		if (var0002 == 0x0030) {
			say("~~ ~~THE BLACKSMITH'S HANDBOOK~~ ~~by Christopher*");
			say("     Within this book can be found the details of fine metal-working. The chapters are broken down into sections related to the specific type of smithy. Armourers need only read the chapters on armour, weapon smiths need only read the chapters on weapon forging, and blacksmiths have the remaining chapters which discuss horseshoes to iron gates.");
		}
		if (var0002 == 0x0031) {
			say("~~ ~~THIRTEEN MONTHS IN A YEAR~~ ~~by Euralyn*");
			say("     This epic details a long, fierce war between swords and spells in a fictional land called Corellethra. The story revolves around a family of sorcerers. In an attempt to usurp his father's power, the youngest brother forms an evil plot of patricide, and must be stopped by an outside group of sell-swords.");
		}
		if (var0002 == 0x0032) {
			say("~~ ~~THE DAY IT DIDN'T WORK~~ ~~by R. Allen G.*");
			say("     This collection of essays details the difficulties in overseeing a group of well-meaning misfits in a mechanical environment --  especially when the overseer is a misfit, as well!");
		}
		if (var0002 == 0x0033) {
			say("~~ ~~NO ONE LEAVES~~ ~~by R. Allen G.");
			say("~~ ~~The sequel to THE DAY IT DIDN'T WORK.*");
			say("     This short tome offers insight to why new mechanical contraptions don't always function at the time agreed upon between mechanician and overseer, despite how constructed they may appear. In addition, the work discusses how to handle presenting the complaints to the tinkerers who worked on them, and how to persuade them to finish the work regardless of how tired they are and how late in the evening it is.");
		}
		if (var0002 == 0x0034) {
			say("~~ ~~A COMPLETE GUIDE TO BRITANNIAN MINERALS, PRECIOUS, AND SEMI-PRECIOUS STONES~~ ~~by B. Ledbetter*");
			say("     Herein one can find the descriptions of a plethora of rocks and gems.~");
			say("     ...One can find lead in a variety of veins. While a common ore, lead is used with such frequency in items such as horse shoes that it is a valuable metal to procure.~");
			say("     ...Gold is quite rare. Though generally without function, gold has maintained its worth by its very rarity. The refined form is so full of shine that many give it to their lovers as tokens of affection. It is a well-known rumor that one who loves enough to give gold loves enough to remain true.~");
			say("     ...Blackrock is an odd substance, only recently discovered. The there seems to be little interest in it, and even less use for it, a small handful of experimenters have noticed it has a profound effect on magic (though these same researches refuse to comment on what, exactly, the material does)...");
		}
		if (var0002 == 0x0035) {
			say("~~ ~~TREES, AND THEN SOME! ~~ ~~by Ben*");
			say("     Previously titled: MY LIFE AS A WOODCUTTER, this classic volume pleased readers more than two centuries ago. Much of it reads like a journal, with humorous commentary added by the author between groups of entries.~");
			say("     Day seven: Today received yet another order for more logs.~~");
			say("     Day eleven: I am amazed at how frequently people are requesting my services. There is no longer any doubt to the rumors of the rapid growth in Britannia's urban areas.~~");
			say("     Day sixteen: Found new species of tree. Has silver looking leaves that sparkle and grow quite large. Size indicates that the trees live very long, but grow slowly.~~");
			say("     Day twenty-eight: Had an odd request for a few of these new \"Silverleaf\" trees.~~");
			say("     Day Forty: Number of requests for Silverleaf has nearly matched that of \"ordinary\" trees. Wonder what they could want them for.~~");
			say("     I wonder why everyone has become so crazy for these special trees. I doubt even one so insane as Lord British's Chuckles would pass these off as any sort of precious metal, though if anyone would, we all know it would be the man who carries so much weight with Lord British (the weight of wine bottles, that is).");
		}
		if (var0002 == 0x0036) {
			say("~~ ~~BLOODIED BLADES AND BUXOM BEAUTIES~~ ~~A.G. Fishmor*");
			say("     This illustrious tome depicts the life of the romantic pirate, Roguerre, as he sails the Northeast Sea. As he travels from port to port, his adventures become increasingly dangerous, and as equally lucrative. The climax of the novel finds Roguerre in the clutches of a despotic island ruler, from whom he must escape -and- save the beautiful native princess.");
		}
		if (var0002 == 0x0037) {
			say("~~ ~~THE HUNDRED AND ELEVEN YEAR, THREE-MONTH, SEVEN-DAY WAR~~ ~~ by Perrin*");
			say("     Within this work of fiction is written the renowned historical treatise that describes an intense and bloody civil war in the land of Britannia. The parable is designed to strike home the advantages the people of Britannia have by remaining unified under the rule of Lord British.");
		}
		if (var0002 == 0x0038) {
			say("~~ ~~BLACK MOON, RED DAY~~ ~~by Euralyn*");
			say("     This novel is set in THIRTEEN MONTHS IN A YEAR's Corellethra. The story describes an epic struggle of man against nature as shifting celestial bodies cause violent changes in the land. In the end, only the mighty, supernatural abilities of a sorcerous family can prevent global destruction.");
		}
		if (var0002 == 0x0039) {
			say("~~ ~~TWO IN THE FOLD~~ ~~by Morian*");
			say("     Herein lies a fable of treachery in the fair city of Britain. A despicable guild of thieves who seek political power in the government sends two of its best members to infiltrate the Royal castle. The true conflict arises when two of the Royal gaurds begin to bicker so violently with each other that they miss important pieces if evidence that lead to the two thieves.");
		}
		if (var0002 == 0x003A) {
			say("~~ ~~THE FOREST OF YEW~~ ~~by Taylor*");
			say("     Though once the large, prosperous city of Justice, Yew has been swallowed by the Deep Forest. However, let not it be said that this turn of events was not by the will of the people.~");
			say("     As the cities grew throughout the land, many found it difficult to continue peaceful existances as simple farmers and herders. More and more it became necessary to learn trades involving the exchange of goods and services, and the was considerably less instances of of self-sufficiency. While most Britannian found this pleasing, there were those who wanted a return to the less mechanical side of life.~");
			say("     And those same people, many of whom came from Yew, began to populate the Deep Forest. Though it will not be long before the growing cities and towns catch up to them, for now, many are able to lose themselves amongst the trees, the deer, and the Emps.~");
			say("     Oddly enough, very few people have actually encountered these ape-like creatures. Little is known about them, they seem to shun human contact. However, observations have revealed that they are definitely herbivores, nevering eating meat. The Emps forge homes from the wood of dead trees, and built shelters high up in the limbs of Silverleaf trees.~");
			say("     Of course, Emps are not the only creatures who...");
		}
		if (var0002 == 0x003B) {
			say("~~ ~~THIS OLDE SHIP~~ ~~by Owen of Minoc*");
			say("     This tome contains much more than just the fundamentals for building ships and other assorted sailing vessels, it has everything any shipwright could ever need. The text is aimed at amateurs (which is what most of thou are in comparison) but holds jewels of wisdom for even the almost skilled shipwright. The latter part of this fine manual is dedicated to the repair of damaged ships, and makes a distinction between working on one's own ships and those crafted by others.");
		}
		if (var0002 == 0x003C) {
			say("~~ ~~THE CARVER CHRONICLES~~ ~~by Morfin*");
			say("     Here, finally in one volume are the details of the skills necessary for butchering. The work discusses several contemporary styles, including the author's own. Be warned, noble reader, that Morfin leads into a graphic level of detail that would turn the stomach of all but the toughest meat carvers.");
		}
		if (var0002 == 0x003D) {
			say("~~ ~~HERO FERTILIZER~~ ~~by Werdron*");
			say("     A warrior's handbook, depicting several esoteric\tfighting styles. Each step is accompanied by a short piece of fiction, permitting the reader better visualization of the detailed style.");
		}
		if (var0002 == 0x003E) {
			say("~~ ~~WHAT COULD BE LEFT BUT THE ASHES~~ ~~by N. Flaims*");
			say("     Herein are the many essays covering an indepth study of the aftermath of a volcanic eruption. The work was extensively researched, and is filled with testamonials from many a survivor. The most interesting story is told by Fendora, a young woman from Minoc, who claims to have experienced a volcanic eruption near every one of the five towns in which she has lived.");
		}
		if (var0002 == 0x003F) {
			say("~~ ~~THE SUMMER OF MY SATISFACTION~~ ~~by Plexes*");
			say("     The story within this novel relates the tale of Good King Kettle, who rules a great land without any troubles.");
		}
		if (var0002 == 0x0040) {
			say("~~ ~~HITHER COMES THE RAIN~~ ~~by Perrin*");
			say("     Within the pages of this book are descriptions of the various effects of Spring weather on plants and animals in Britannia, explaining that Britannia seems to see an increase in the amount of rainfall each year.");
		}
		if (var0002 == 0x0041) {
			say("~~ ~~WHITE RAIN~~ ~~by Perrin*");
			say("     This detailed tome is filled with descriptions of the various effects Winter weather has on plants and animals in Britannia.");
		}
		if (var0002 == 0x0042) {
			say("~~ ~~MILORD CONDUCT~~ ~~by Aleina*");
			say("     Found within is a description of the proper behavior for courtiers and courted individuals. The book reveals many different techniques for both polite and impolite seduction.");
		}
		if (var0002 == 0x0043) {
			say("~~ ~~TO THE DEATH!~~ ~~by Zaksam*");
			say("     This book is an in-depth manual of the fighting styles prevalent in Britannia. The author distinguishes between contemporary and historical styles, and comments on the value of each.");
		}
		if (var0002 == 0x0044) {
			say("~~ ~~BLADE OF THE GRYPHON BARONY~~ ~~by Pebrogdy*");
			say("     This novel is about a knight's fight against the doctrines of his society to win the love of a common maiden.");
		}
		if (var0002 == 0x0045) {
			say("~~ ~~THE WINNING NUMBER~~ ~~by A.P. Berk*");
			say("     Herein is the sequel to THE FIVE STAGES OF LAWN CARE. This novel, which focuses on the same two men, is set ten years after the former work.");
		}
		if (var0002 == 0x0046) {
			say("~~ ~~THE SCENT OF VALOR~~ ~~by Wetterson*");
			say("     Herein can be found the definitive word on chivalry and the duties to a knight's liege.");
		}
		if (var0002 == 0x0047) {
			say("~~ ~~HOW THE WEST WAS~~ ~~by Yuclydia*");
			say("     This tome of history tracks the geography of Britannia from the early centuries to more recent times. The included maps provide a level of detail never before seen in a work of this nature. In addition, the short chapter on the once-important virtues reveals their source from the broader tenets of Truth, Love, and Courage.");
		}
		if (var0002 == 0x0048) {
			say("~~ ~~THY MESSAGE RECEIVED! ~~ ~~by For-Lem. Translated by Jillian*");
			say("     Within this diary is revealed the poor treatment of the gargoyle race since the return of the Codex two centuries ago.~~");
			say("     To have noticed that humans remain uncomfortable with us. They have given us our own island to populate, but is this gift designed to keep us segregated?~");
			say("     To have wondered why so few gargoyles leave Terfin. To have no more doubts, having lived in Vesper. To see the hatred for our race. To see, to FEEL, the disgust. To understand not, for it was humans who destroyed OUR land, not gargoyles.~");
			say("     To seek communication. To seek friendship. To seek trust. To speculate that none are forthcoming. To ask the humans, \"Why?\" To see the terror and loathing and to know there will be no answer given.~");
			say("     To hope for a future of harmony, but to realize that with, segregation, there can be none. To hope for education of both races, for our children and ourselves.*");
			say("     To hope, and to live...");
		}
		if (var0002 == 0x0049) {
			say("~~ ~~RIBALD ENCOUNTERS~~ ~~by Madden*");
			say("     Within the pages of this anthology are many stories full of suggestive prose.");
		}
		if (var0002 == 0x004A) {
			say("~~ ~~THE KNIGHT AND THE THIEF~~ ~~by Hobbs*");
			say("     This novel describes the life of an heroic warrior suffering from delusions of an alternate life as a rogue and cutpurse.");
		}
		if (var0002 == 0x004B) {
			say("~~ ~~THE TRIO~~ ~~by  Leepeartson*");
			say("     Compiled from the music of three master bards, this full volume contains a collection of songs for a variety of stringed and percussion instruments.");
		}
		if (var0002 == 0x004C) {
			say("~~ ~~THE BLACK COMPENDIUM ~~ ~~Written by Mondain, with annotations by the enchantress Minax and magical formulae by the hellspawn Exodus.*");
			say("     To extend one's life is a complicated procedure, taking years to complete. However, there is an additional side effect: invulnerability. I have broken this work down into chapters based on each individual ritual. It is very important that these steps are performed in the order presented.*");
			say("     First, thou must procure a five stone's of the dust of crushed rubies. This must be mixed thoroughly with the ooze of a slime, enough to make the rubies into a thick paste. After thou hast created the paste, set it in an ivory jar and place the entire container in a bucket of olive oil for three years.*");
			say("     The next step is too procure 10 newborn babes, none more than six days old. With a knife cut from the bone of a harpy, thou must remove of the blood from each newborn. To be kept fresh, the blood must be stored in an onyx flask, though mixing of each baby's blood is quite permissible.*");
			say("     Now thou shalt seek out...");
		}
		if (var0002 == 0x004D) {
			say("~~ ~~NO WAY TO JUMP~~ ~~by Desmonth*");
			say("     Herein lies the compilation that discusses various elements found in adventure stories. In addition to an evaluation of their literary worth, one essay demonstrates how to apply such elements in other styles.");
		}
		if (var0002 == 0x004E) {
			say("~~ ~~STEALING THE WIND~~ ~~by Brianna*");
			say("     Kite-building techniques thou hast never seen before, from the simple box kite to the mind-numbing criscross butterfly. Each kite is presented in several forms, from beginning to end. At the end of the essay is a listing of wind variables and flying styles.");
		}
		if (var0002 == 0x004F) {
			say("~~ ~~BROMMER'S FLORA~~ ~~by Brommer*");
			say("     This large tome describes most of common plants indigenous to Britannia.~~");
			say("  ...The Greer plant is especially fascinating, for it spends most of its life huddled with its leaves wrapperd up in a tight ball. However, every so often, the leaves will unfurl, radiating out from the stem...~~");
			say("  ...The Reaper is unique in that it is both plant and animal. Resembling a large tree, the Reaper is able capable of self-animation as well as self-locomotion. Reapers have been known to attack those who cause harm to their home (i.e. the forests), but seldom reveal themselves otherwise...");
		}
		if (var0002 == 0x0050) {
			say("~~ ~~BROMMER'S FAUNA~~ ~~by Brommer*");
			say("     Betwixt the covers of this book can be found details on the most prevalent animals that inhabit the lands of Britannia.~~");
			say("  ...Deer are quite prevalent in the forested areas of Britannia. They are shy creatures, generally shunning the presence of man, whom they know hunt them. Atop their head sit a pair of antlers...~~");
			say("  ...The fox is a small animal, akin to a dog or a wolf. It is an omnivore, and more than willing to make off with a farmer's chicken when it tires of other foods...");
		}
		if (var0002 == 0x0051) {
			say("~~ ~~BROMMER'S BRITANNIA~~ ~~by Brommer*");
			say("     Betwixt the covers of this atlas is a detailed description of the entire continent of Britannia and the nearby islands.*");
			if (event == DOUBLECLICK) {
				var0003 = UI_display_map();
			}
			say("~~ ~~BROMMER'S BRITANNIA~~ ~~by Brommer*");
			say("     Betwixt the covers of this atlas is a detailed description of the entire continent of Britannia and the nearby islands.");
		}
		if (var0002 == 0x0052) {
			say("~~ ~~UP IS OUT~~ ~~by Goodefellow*");
			say("     Herein is discussed the most current theories on gravity and mass. After years of study and research, the author finally put the fruits of his labor down in the pages of this tome, which includes his discussion on falling apples.");
		}
		if (var0002 == 0x0053) {
			say("~~ ~WEAVING~~ ~~by Carlyn*");
			say("     This is a complete sourcebook for a variety of patterns. Included are patterns for clothing, blankets, quilts, and sheets. The introduction even includes a section on weaving one's own cloth.~");
			say("     ...take the bale of wool and stretch it out across the wheel to make the thread. Once that is done, pull the thread across the loom and begin weaving. Shortly thou wilt have a nice stretch of cloth from which canst make a variety of useful things. For variation, use different colored threads on the loom to create exciting patterns.");
		}
		if (var0002 == 0x0054) {
			say("~~ ~~FOLLOW THE STARS~~ ~~by Laurnen*");
			say("     This is a guidebook for navigation, with most of the pages illustrating various constellations and heavenly bodies. The final sections contain maps useful to any ship mate or captain.");
		}
		if (var0002 == 0x0055) {
			say("~~ ~~HOW TO CONQUER THE WORLD IN THREE EASY STEPS~~ ~~by Maximillian the Amazingly Mean*");
			say("     Found within are the ravings of a deranged meglomaniac cleric, describing his plans for the domination of Britannia.");
			say("     ...and after I have acquired the Vas Corp spell, there will be no one to defy me, for all will fear my casting of the spell. Even the loft Lord Brit, himself, will offer his obeisance to me...");
		}
		if (var0002 == 0x0056) {
			say("~~ ~~TREN I, II, III, IV . . . XVII*");
			say("     This autobiography, penned by the obtuse mage, reveals Tren's life in all of his incarnations as he continually strove to possess more powerful beings.");
		}
		if (var0002 == 0x0057) {
			say("~~ ~~SIR KILROY~~ ~~Anonymous*");
			say("     This novel details the rise of a shining white knight, driven to madness by the women in his life.");
		}
		if (var0002 == 0x0058) {
			say("~~ ~~MY CUP RUNNETH OVER~~ ~~by Marseine*");
			say("     This illustrious volume holds many detailed instructions for neophyte vintners. The books even includes tips on selecting choice grapes and proper labeling techiniques. The tome lists several monks from the Brotherhood of the Rose as sources.");
		}
		if (var0002 == 0x0059) {
			say("~~ ~~SPRING PLANTING, AUTUMNM HARVEST*");
			say("     Held within these pages is the explaination of agriculture in detail, including the much misunderstood mulching process. The middle section is an illustrated guide to many gardening implements.");
		}
		if (var0002 == 0x005A) {
			say("~~ ~~SHOOT THE MOON~~ ~~by Oswauld*");
			say("     Herein can be found the guidebook for druidic culture. Details on rituals, spells, and the organizational structure fill the rather large number of pages that make up this fine well-spring of knowledge. ");
		}
		if (var0002 == 0x005B) {
			say("~~ ~~OUTPOST~~ ~~by Gasreth*");
			say("     Betwixt the covers of this volume is invaluable reading for all soldiers. This manual details the tactics and strategies of siege warfare, from the point of view of the attacker -and- the defender.~");
			say("     ...and remember, a soldier's best line of active defense is the cannon. After thy comrades have already loaded the cannon, simply aim the cannon at thy target and fire away!");
		}
		if (var0002 == 0x005C) {
			say("~~ ~~LANDSHIPS~~ ~~by Equinestra*");
			say("     Not only does this extensive tome describe the many riding beasts in Britannia, but it also discusses riding styles and techniques. In addition, it addresses the reasons for the popularity of carts, explaining why so few people choose to continue riding horses. The final chapter covers flying carpets, and how they will ultimately replace all non-magical means of travel.");
		}
		if (var0002 == 0x005D) {
			say("~~ ~~LANDSHIPS OF WAR~~ ~~by Equinestra*");
			say("     An illustrated guide to jousting and barding. This work builds upon the concepts presented in the prequel, LANDSHIPS.");
			say("     ...a preferred tactic of veterans such as Hillard the Mighty was to center themselves atop their carts and fire missiles unto their foes who were unable to surmount the vehicle.");
		}
		if (var0002 == 0x005E) {
			say("~~ ~~WHY GOOD MAGES LIKE BLACK MAGIC~~ ~~by Magus*");
			say("     Despite the rather frivolous title, this complete tome explains the value of applying magic for the benefit of society, as opposed to selfish, personal gain. The concepts presented herein mesh quite well with those exemplified by the virtues.");
		}
		if (var0002 == 0x005F) {
			say("~~ ~~WHEN STARTS THE ADVENTURE~~ ~~by Sabra*");
			say("     Herein can be found a novel relating the travels of a fledgling warrior, struggling to gain skill and respect in a treacherous world. As the warrior gains experience in dealing with opposition, he begins to notice how well the land is balanced in ideaology:  for every evil, there seems to be a good, and vice-versa.");
		}
		if (var0002 == 0x0060) {
			say("~~ ~~WHAT A FOOL BELIEVES~~ ~~by P. Nolan*");
			say("     Within the pages of this book is the story of a bard, a blonde, and a bottle -- the perfect combination for a classic tale of the war between the sexes.");
		}
		if (var0002 == 0x0061) {
			say("~~ ~~THE COMPLEATE HISTORY OF THE LUTE~~ ~~by Devonaillion, with foreword by the Master Bard, Iolo*");
			say("     Herein are the words penned by the illustrious master lute-player, himself. The voluminous work begins with a description of the building process and carefully leads into the music theory. I heartfully and willingly share my title with this young and very talented virtuoso, and recommend that thee follow his words of wisdom well~");
			say("          -- Iolo Arbalest");
		}
		if (var0002 == 0x0062) {
			say("~~ ~~BIRDS OF BRITANNIA~~ ~~by Brother Wayne*");
			say("     Bound here is the comprehensive guide to the avian species, beautifully and colorfully illustrated by many different artists.");
			say("     ...Surprising to many is that the Silver-Winged Pharcelot is not the most prevelent bird in Britannia, though arguably the most visible. Far more popular is the Black-Tipped Grackle, but it's predilection for dark, cool areas make is considerable less visible.");
		}
		if (var0002 == 0x0063) {
			say("~~ ~~I AM NOT A DRAGON~~ ~~by Thomson*");
			say("     Within these pages is a bawdy tale of Belnarth, fictional lord of Serpent's Hold. This volume is part one of a great trilogy involving the humorous exploits of the lord and his fellow knights.");
		}
	}
}

extern var Func0937 0x937 (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern void Func0933 0x933 (var var0000, var var0001, var var0002);

void Func0284 shape#(0x284) () {
	var var0000;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		UI_play_sound_effect2(0x0017, item);
		if (!(Func0937(AVATAR) || (!Func0937(IOLO)))) {
			return;
		}
		if (Func08F7(IOLO)) {
			Func0933(AVATAR, "@Call it.@", 0x0000);
			var0000 = UI_die_roll(0x0001, 0x0002);
			if (var0000 == 0x0001) {
				Func0933(IOLO, "@Tails.@", 0x0010);
				Func0933(AVATAR, "@It is heads.@", 0x0020);
			} else {
				Func0933(IOLO, "@Heads.@", 0x0010);
				Func0933(AVATAR, "@It is tails.@", 0x0020);
			}
			if (UI_die_roll(0x0001, 0x0003) == 0x0001) {
				Func0933(IOLO, "@Again!@", 0x0030);
			}
		}
	}
}

extern void Func08FF 0x8FF (var var0000);

void Func0285 shape#(0x285) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = "@I believe that the current exchange rate is " + "ten crowns per nugget at the mint in Britian.@";
		Func08FF(var0000);
	}
}

extern void Func08FF 0x8FF (var var0000);

void Func0286 shape#(0x286) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = "@I believe the current exchange rate is " + "one hundred crowns per bar at the Britannian mint.@";
		Func08FF(var0000);
	}
}

extern void Func08FE 0x8FE (var var0000);
extern void Func0925 0x925 (var var0000);

void Func0288 shape#(0x288) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		if (var0000->is_npc()) {
			var0000->set_item_flag(ASLEEP);
		} else {
			Func08FE("@Do not waste that!@");
		}
		Func0925(item);
	}
}

extern void Func0835 0x835 (var var0000, var var0001, var var0002);
extern void Func08FD 0x8FD (var var0000);
extern void Func0603 object#(0x603) ();

void Func0289 shape#(0x289) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		if (var0000->is_npc()) {
			var0001 = var0000->get_npc_prop(STRENGTH);
			var0002 = var0000->get_npc_prop(DEXTERITY);
			var0003 = var0000->get_npc_prop(INTELLIGENCE);
			if ((var0001 + 5) > 30) {
				var0001 = 30;
			} else {
				var0001 += 5;
			}
			if ((var0002 + 5) > 30) {
				var0002 = 30;
			} else {
				var0002 += 5;
			}
			if ((var0003 + 5) > 30) {
				var0003 = 30;
			} else {
				var0003 += 5;
			}
			Func0835(var0000, STRENGTH, var0001);
			Func0835(var0000, DEXTERITY, var0002);
			Func0835(var0000, INTELLIGENCE, var0003);
			UI_play_sound_effect2(0x0048, item);
			var0004 = script var0000 {
				nohalt;
				wait 1 hours;
				call Func0603;
				sfx 71;
			};
			remove_item();
		} else {
			Func08FD(0x003C);
		}
	}
}

extern var Func0932 0x932 (var var0000);
extern var Func0937 0x937 (var var0000);

void Func028A shape#(0x28A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		var0000 = AVATAR->get_object_position();
		var0001 = (var0000[0x0001] - 0x03A5) / 0x000A;
		var0002 = (var0000[0x0002] - 0x046E) / 0x000A;
		if (var0001 < 0x0000) {
			var0003 = (" " + Func0932(var0001)) + " West";
		} else {
			var0003 = (" " + Func0932(var0001)) + " East";
		}
		if (var0002 < 0x0000) {
			var0004 = (" " + Func0932(var0002)) + " North";
		} else {
			var0004 = (" " + Func0932(var0002)) + " South";
		}
		if (!UI_is_pc_inside()) {
			item_say(var0004 + var0003);
		} else if (Func0937(IOLO)) {
			IOLO->item_say("@'Twill not function under a roof!@");
		}
	}
}

extern void Func08FF 0x8FF (var var0000);

void Func028B shape#(0x28B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == BG_PATH_SUCCESS) {
		var0000 = AVATAR->find_nearby(0x0369, 0x0001, MASK_NONE);
		var0001 = 0x0000;
		if (UI_get_array_size(var0000) > 0x0000) {
			var0002 = script AVATAR {
				face west;
				actor frame bowing;
				repeat 12 {
					actor frame sitting;
				};
			};
			var0001 = 0x0003;
		}
		halt_scheduled();
		var0002 = script item after var0001 ticks {
			frame 0;
			repeat 12 {
				next frame cycle;
				continue;
				sfx 6;
			};
			call Func028B;
		};
		return;
	}
	if (event == SCRIPTED) {
		var0003 = AVATAR->get_cont_items(0x028D, QUALITY_ANY, FRAME_ANY);
		if (var0003) {
			var0003->remove_item();
		}
		var0004 = UI_create_new_object(0x028E);
		if (var0004) {
			var0004->set_item_flag(TEMPORARY);
			var0004->set_item_flag(OKAY_TO_TAKE);
			var0004->set_item_frame(UI_die_roll(0x0000, 0x0009));
			var0005 = get_object_position();
			var0005[0x0001] += 0x0001;
			var0005[0x0002] += 0x0001;
			var0002 = UI_update_last_created(var0005);
		}
		return;
	}
	if (event == DOUBLECLICK) {
		var0006 = "@I suspect spinning the wool will be more fruitful " + "than spinning an empty wheel.@";
		Func08FF(var0006);
	}
}

extern void Func0809 0x809 (var var0000);

void Func028C shape#(0x28C) () {
	if (event == DOUBLECLICK) {
		Func0809(item);
	}
}

extern void Func062D object#(0x62D) ();
extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func028D shape#(0x28D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		var0000 = get_container();
		if (var0000 == AVATAR->get_npc_object()) {
			event = BG_PATH_SUCCESS;
			item->Func062D();
			return;
		}
		if (var0000) {
			var0001 = set_last_created();
			if (var0001) {
				var0001 = AVATAR->give_last_created();
				if (!var0001) {
					var0001 = var0000->give_last_created();
					UI_flash_mouse(CURSOR_TOO_HEAVY);
					abort;
				}
			} else {
				return;
			}
			event = BG_PATH_SUCCESS;
			item->Func062D();
			return;
		}
		var0002 = -1;
		var0003 = -1;
		var0004 = -1;
		Func0828(item, var0002, var0003, var0004, Func062D, item, BG_PATH_SUCCESS);
	}
}

extern void Func062E object#(0x62E) ();
extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func028E shape#(0x28E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		var0000 = get_container();
		if (var0000 == AVATAR->get_npc_object()) {
			event = BG_PATH_SUCCESS;
			item->Func062E();
			return;
		}
		if (var0000) {
			var0001 = set_last_created();
			if (var0001) {
				var0001 = AVATAR->give_last_created();
				if (!var0001) {
					var0001 = var0000->give_last_created();
					UI_flash_mouse(CURSOR_TOO_HEAVY);
					abort;
				}
				event = BG_PATH_SUCCESS;
				item->Func062E();
			}
			return;
		}
		var0002 = -1;
		var0003 = -1;
		var0004 = -1;
		Func0828(item, var0002, var0003, var0004, Func062E, item, BG_PATH_SUCCESS);
	}
}

void Func0291 shape#(0x291) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if ((var0000 % 0x0002) == 0x0000) {
			var0001 = 1;
		} else {
			var0001 = -1;
		}
		var0000 += var0001;
		set_item_frame(var0000);
	}
}

extern void Func08FE 0x8FE (var var0000);

void Func0292 shape#(0x292) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if ((var0000 == 0x0001) || (var0000 == 0x0002)) {
			var0001 = UI_click_on_item();
			var0002 = var0001->get_item_shape();
			if (var0002 == 0x033F) {
				var0003 = set_last_created();
				if (var0003) {
					var0004 = var0001->get_object_position();
					var0004[0x0001] -= UI_die_roll(0x0001, 0x0002);
					var0004[0x0003] += 0x0001;
					var0003 = UI_update_last_created(var0004);
					if (var0003) {
						var0003 = script item after 60 ticks {
							nohalt;
							call Func0292;
						};
						if (UI_die_roll(0x0001, 0x0002) == 0x0001) {
							Func08FE("@Do not over cook it!@");
						}
					}
				}
			}
		}
	}
	if (event == SCRIPTED) {
		var0004 = get_object_position();
		var0005 = find_nearby(0x033F, 0x0002, MASK_NONE);
		if (UI_get_array_size(var0005) > 0x0000) {
			remove_item();
			var0006 = UI_create_new_object(0x0179);
			if (var0006) {
				var0006->set_item_flag(TEMPORARY);
				set_item_frame(0x0000);
				var0003 = UI_update_last_created(var0004);
				if (var0003) {
					var0007 = UI_die_roll(0x0001, 0x0003);
					if (var0007 == 0x0001) {
						Func08FE("@I believe the bread is ready.@");
					}
					if (var0007 == 0x0002) {
						Func08FE("@Mmm... Smells good.@");
					}
				}
			}
		}
	}
}

extern void Func0809 0x809 (var var0000);

void Func0294 shape#(0x294) () {
	if (event == DOUBLECLICK) {
		Func0809(item);
	}
}

extern void Func08FE 0x8FE (var var0000);
extern void Func0933 0x933 (var var0000, var var0001, var var0002);

void Func0296 shape#(0x296) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if ((event == DOUBLECLICK) || (event == WEAPON)) {
		UI_close_gumps();
		var0000 = UI_click_on_item();
		var0001 = script AVATAR {
			actor frame strike_1h;
			actor frame standing;
		};
		if (!UI_is_water([var0000[0x0002], var0000[0x0003], var0000[0x0004]])) {
			UI_flash_mouse(CURSOR_HAND);
			return;
		}
		var0002 = AVATAR->get_object_position();
		var0002[0x0001] += 0x0001;
		var0003 = false;
		var0004 = 0x0000;
		var0005 = AVATAR->find_nearby(0x01FD, 0x000F, MASK_NONE);
		for (var0008 in var0005 with var0006 to var0007) {
			var0004 += 0x0001;
		}
		if (var0004 != 0x0000) {
			if (UI_die_roll(0x0001, 0x000A) <= var0004) {
				var0003 = true;
			}
		}
		if (var0003) {
			var0008 = UI_create_new_object(0x0179);
			if (var0008) {
				var0008->set_item_frame(0x000C);
				var0008->set_item_flag(OKAY_TO_TAKE);
				var0001 = UI_update_last_created(var0002);
				var0009 = UI_die_roll(0x0001, 0x0003);
				if (var0009 == 0x0001) {
					Func08FE("@Indded, a whopper!@");
					if (SPARK->npc_nearby()) {
						Func0933(SPARK, "@I have seen bigger.@", 0x0010);
					}
				}
				if (var0009 == 0x0002) {
					Func08FE("@What a meal!@");
				}
				if (var0009 == 0x0003) {
					Func08FE(["@That fish does not", "look right.@"]);
				}
			}
		} else {
			var0009 = UI_die_roll(0x0001, 0x0004);
			if (var0009 == 0x0001) {
				Func0933(AVATAR, "@Not even a bite!@", 0x0000);
			}
			if (var0009 == 0x0002) {
				Func0933(AVATAR, "@It got away!@", 0x0000);
				if (IOLO->npc_nearby()) {
					Func0933(IOLO, "@It was the Big One!@", 0x0010);
				}
			}
			if (var0009 == 0x0003) {
				Func0933(AVATAR, "@I've lost my bait.@", 0x0000);
			}
			if (var0009 == 0x0004) {
				Func0933(AVATAR, "@I felt a nibble.@", 0x0000);
			}
		}
	}
}

extern void Func026F shape#(0x26F) ();
extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func0944 0x944 (var var0000);
extern var Func0945 0x945 (var var0000);
extern var Func092D 0x92D (var var0000);
extern void Func0717 object#(0x717) ();
extern void Func068B object#(0x68B) ();
extern void Func068C object#(0x68C) ();
extern void Func068D object#(0x68D) ();

void Func029C shape#(0x29C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == DOUBLECLICK) {
		if (AVATAR->is_readied(BG_WEAPON_HAND, 0x026F, FRAME_ANY)) {
			var0000 = find_nearest(0x03DF, 0x0003);
			if (var0000) {
				var0001 = get_object_position();
				var0002 = var0000->get_object_position();
				if (var0001[0x0001] == var0002[0x0001]) {
					if (var0001[0x0002] == var0002[0x0002]) {
						if (var0001[0x0003] == (var0002[0x0003] + 0x0001)) {
							var0003 = get_item_frame();
							if ((var0003 >= 0x000A) && (var0003 <= 0x000C)) {
								var0000->Func026F();
								return;
							}
						}
					}
				}
			}
		}
		UI_close_gumps();
		var0004 = get_item_frame();
		if ((var0004 >= 0x0008) && (var0004 <= 0x000F)) {
			if (!get_container()) {
				var0005 = [ 0,  1, -1,  1];
				var0006 = [ 2,  1,  2,  0];
				Func0828(item, var0005, var0006, -3, Func029C, item, BG_PATH_SUCCESS);
			} else if (!Func0944(item)) {
				var0007 = Func0945(item);
				var0005 = [ 0,  1, -1,  1];
				var0006 = [ 2,  1,  2,  0];
				Func0828(var0007, var0005, var0006, -3, Func029C, var0007, BG_PATH_SUCCESS);
			} else {
				var0008 = script item {
					wait 2;
					call Func029C;
				};
			}
		}
	}
	if (event == BG_PATH_SUCCESS) {
		var0009 = Func092D(item);
		var0008 = script AVATAR->get_npc_object() {
			face var0009;
			actor frame bowing;
			wait 3;
			actor frame standing;
			call Func029C;
		};
		var0008 = script item {
			wait 3;
			call Func0717;
		};
	}
	if (event == SCRIPTED) {
		var000A = AVATAR->get_npc_object()->get_cont_items(0x029C, QUALITY_ANY, FRAME_ANY);
		if (var000A) {
			var000B = UI_click_on_item();
			var000C = var000B->get_item_shape();
			if (var000C == 0x03DF) {
				if (var000B->get_item_frame() == 0x0001) {
					Func0828(var000B, 0x0000, 0x0002, 0x0000, Func029C, var000B, BG_PATH_FAILURE);
				}
			}
			if (var000C == 0x02E3) {
				if ((var000B->get_item_frame() >= 0x0004) && (var000B->get_item_frame() <= 0x0007)) {
					Func0828(var000B, 0x0001, 0x0000, 0x0000, Func029C, var000B, PATH_SUCCESS_9);
				}
			}
			if (var000C == 0x02E5) {
				var0003 = var000A->get_item_frame();
				if ((var0003 >= 0x0008) && (var0003 <= 0x000C)) {
					Func0828(var000B, 0x0000, 0x0001, 0x0000, Func029C, var000B, PATH_SUCCESS);
				} else {
					AVATAR->get_npc_object()->item_say("@The sword's not hot.@");
				}
			}
		} else {
			AVATAR->get_npc_object()->item_say("@I can't pick it up.@");
			return;
		}
	}
	if (event == BG_PATH_FAILURE) {
		var0009 = Func092D(item);
		var0008 = script AVATAR->get_npc_object() {
			face var0009;
			actor frame bowing;
			wait 3;
			actor frame standing;
		};
		var000A = AVATAR->get_npc_object()->get_cont_items(0x029C, QUALITY_ANY, FRAME_ANY);
		var0008 = script var000A {
			wait 3;
			call Func068B;
		};
	}
	if (event == STARTED_TALKING) {
		var0009 = Func092D(item);
		var0008 = script AVATAR->get_npc_object() {
			face var0009;
			actor frame bowing;
			wait 3;
			actor frame standing;
		};
		var000A = AVATAR->get_npc_object()->get_cont_items(0x029C, QUALITY_ANY, FRAME_ANY);
		var0008 = script var000A {
			wait 3;
			call Func068C;
		};
	}
	if (event == PATH_SUCCESS) {
		var0009 = Func092D(item);
		var0008 = script AVATAR->get_npc_object() {
			face var0009;
			actor frame bowing;
		};
		var0008 = script item {
			wait 5;
			call Func068D;
		};
	}
}

void Func02A3 shape#(0x2A3) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if (var0000 == 0x0000) {
			var0001 = UI_click_on_item();
			UI_play_sound_effect2(0x000F, item);
			if (var0001->is_npc()) {
				var0001->item_say("@Hey, that hurt!@");
				return;
			}
			if (var0001->get_item_shape() == 0x02A3) {
				if (var0001->get_item_frame() == 0x000A) {
					var0002 = script var0001 {
						nohalt;
						say "@I will tell!@";
					};
					var0002 = script var0001 after 16 ticks {
						nohalt;
						say "@The treasure is at@";
					};
					var0002 = script var0001 after 32 ticks {
						nohalt;
						say "@169 South@";
					};
					var0002 = script var0001 after 48 ticks {
						nohalt;
						say "@28 East@";
					};
				}
			}
		}
		if (var0000 == 0x000A) {
			var0003 = UI_die_roll(0x0001, 0x0007);
			if (var0003 == 0x0001) {
				var0002 = script item {
					nohalt;
					say "@Squawk!@";
				};
			}
			if (var0003 == 0x0002) {
				var0002 = script item {
					nohalt;
					say "@Polly want a cracker?@";
				};
			}
			if ((var0003 == 0x0003) || (var0003 == 0x0004)) {
				var0002 = script item {
					nohalt;
					say "@I know where@";
				};
				var0002 = script item after 16 ticks {
					nohalt;
					say "@the treasure is!@";
				};
			}
			if (var0003 == 0x0005) {
				var0002 = script item {
					nohalt;
					say "@Gimmee a cracker!@";
				};
			}
			if ((var0003 == 0x0006) || (var0003 == 0x0007)) {
				var0002 = script item {
					nohalt;
					say "@Pretty bird!@";
				};
				if (SPARK->npc_nearby()) {
					var0002 = script SPARK->get_npc_object() after 16 ticks {
						nohalt;
						say "@Ugly Bird!@";
					};
					var0002 = script item after 32 ticks {
						nohalt;
						say "@Ugly Boy!@";
					};
					var0002 = script SPARK->get_npc_object() after 48 ticks {
						nohalt;
						say "@Hey!!@";
					};
				}
			}
		}
		if ((var0000 == 0x0011) || ((var0000 == 0x0012) || (var0000 == 0x0013))) {
			if (!in_usecode()) {
				var0002 = script item {
					repeat 12 {
						sfx 17;
						frame 17;
						sfx 18;
						frame 19;
					};
					frame 18;
				};
				if (SPARK->npc_nearby()) {
					var0002 = script SPARK->get_npc_object() after 4 ticks {
						say "@That is really weird.@";
					};
				}
			}
		}
		if (var0000 == 0x000B) {
			var0004 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			var0005 = "Party gold: " + var0004;
			item_say(var0005);
		}
		if (var0000 == 0x0014) {
			var0002 = script item {
				repeat 4 {
					sfx 23;
				};
			};
		}
	}
}

void Func02A6 shape#(0x2A6) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if ((var0000 % 0x0002) == 0x0000) {
			var0001 = 1;
		} else {
			var0001 = -1;
		}
		var0000 += var0001;
		set_item_frame(var0000);
	}
}

void Func02B1 shape#(0x2B1) () {
	if (event == DOUBLECLICK) {
		UI_play_music(0x0039, item);
	}
}

void Func02B2 shape#(0x2B2) () {
	if (event == DOUBLECLICK) {
		UI_play_music(0x0038, item);
	}
}

void Func02B3 shape#(0x2B3) () {
	if (event == DOUBLECLICK) {
		UI_play_music(0x003A, item);
	}
}

void Func02B4 shape#(0x2B4) () {
	if (event == DOUBLECLICK) {
		UI_play_music(0x003B, item);
	}
}

void Func02B5 shape#(0x2B5) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		UI_play_music(0x0037, item);
		if (get_item_frame() == 0x0001) {
			UI_close_gumps();
			var0000 = UI_find_nearby_avatar(0x0216);
			for (var0003 in var0000 with var0001 to var0002) {
				var0003->set_schedule_type(TALK);
			}
		}
	}
}

extern void Func00FC shape#(0xFC) ();

void Func02B7 shape#(0x2B7) () {
	if (event == DOUBLECLICK) {
		item->Func00FC();
	}
}

extern void Func0800 0x800 (var var0000);

void Func02B8 shape#(0x2B8) () {
	if (event == DOUBLECLICK) {
		Func0800(item);
	}
}

extern void Func08FF 0x8FF (var var0000);

void Func02BA shape#(0x2BA) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = var0000[0x0001]->get_item_shape();
		if (var0001 == 0x0353) {
			var0000->set_item_shape(0x033B);
			var0000->set_item_frame(UI_die_roll(0x0000, 0x0002));
		} else {
			Func08FF("@Might not those come in handy for cutting cloth into bandages?@");
		}
	}
}

extern void Func0839 0x839 (var var0000, var var0001, var var0002);
extern var Func0827 0x827 (var var0000, var var0001);
extern void Func0905 0x905 (var var0000);

void Func02BD shape#(0x2BD) () {
	var var0000;
	var var0001;

	if ((event == DOUBLECLICK) || (event == SCRIPTED)) {
		Func0839(item, 0x0253, event);
	}
	if (event == BG_PATH_SUCCESS) {
		var0000 = Func0827(AVATAR, item);
		var0001 = script AVATAR {
			face var0000;
			continue;
			actor frame strike_2h;
			actor frame standing;
		};
		Func0839(item, 0x0253, event);
	}
	if (event == READIED) {
		Func0905(item);
	}
}

extern void Func08FE 0x8FE (var var0000);
extern void Func0925 0x925 (var var0000);
extern var Func0932 0x932 (var var0000);
extern void Func02C0 shape#(0x2C0) ();

void Func02BE shape#(0x2BE) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		var0000 = find_nearby(0x02C0, 0x000A, MASK_NONE);
		var0001 = find_nearby(0x02BF, 0x000A, MASK_NONE);
		if (!var0000) {
			Func08FE("@It needs powder!@");
			return;
		}
		if (!var0001) {
			Func08FE("@It needs cannon balls!@");
			return;
		}
		Func0925(var0000[0x0001]);
		Func0925(var0001[0x0001]);
		var0002 = UI_click_on_item();
		var0003 = get_object_position();
		var0004 = var0002[0x0002] - var0003[0x0001];
		var0005 = var0002[0x0003] - var0003[0x0002];
		if (Func0932(var0004) > Func0932(var0005)) {
			if (var0004 > 0x0000) {
				var0006 = EAST;
			} else {
				var0006 = WEST;
			}
		} else if (var0005 > 0x0000) {
			var0006 = SOUTH;
		} else {
			var0006 = NORTH;
		}
		set_item_frame(var0006 / 0x0002);
		fire_projectile(var0006, 0x02BF, 0x001E, 0x02BE, 0x02BE);
	}
	if (event == WEAPON) {
		var0007 = get_item_shape();
		var0008 = get_item_frame();
		if (var0007 == 0x02C0) {
			var0009 = script item after 1 ticks {
				nohalt;
				call Func02C0;
			};
			return;
		}
		if ((var0007 == 0x0178) || (var0007 == 0x010E)) {
			var000A = [0x0000, 0x0001, 0x0002, 0x0008, 0x0009, 0x000A, 0x0010, 0x0011, 0x0012];
		}
		if ((var0007 == 0x01B1) || (var0007 == 0x01B0)) {
			var000A = [0x0000, 0x0001, 0x0002, 0x0004, 0x0005, 0x0006];
		}
		for (var000D in var000A with var000B to var000C) {
			if (var0008 == var000D) {
				remove_item();
				// Note: this should be a return.
				// Need to make UCC optimize this.
				goto labelFunc02BE_01A6;
			}
		}
	}
labelFunc02BE_01A6:
	return;
}

void Func02C0 shape#(0x2C0) () {
	var var0000;
	var var0001;

	if ((event == DOUBLECLICK) || (event == SCRIPTED)) {
		var0000 = get_container();
		if (!var0000->is_npc()) {
			UI_close_gumps();
			var0001 = UI_get_avatar_ref()->attack_object(item, 0x02C0);
		}
	}
}

extern void Func06F6 object#(0x6F6) ();
extern void Func03DE shape#(0x3DE) ();

void Func02C3 shape#(0x2C3) () {
	var var0000;

	if (event == DOUBLECLICK) {
		item->Func06F6();
	}
	if (event == SCRIPTED) {
		if (get_item_shape() == 0x03DE) {
			UI_fade_palette(0x000C, 0x0001, 0x0000);
			var0000 = script item {
				wait 3;
				call Func03DE;
			};
		}
	}
}

void Func02C4 shape#(0x2C4) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		var0001 = var0000;
		if (var0000 == 0x0001) {
			var0001 = 0x0000;
		}
		if (var0000 == 0x0000) {
			var0001 = 0x0001;
		}
		UI_play_sound_effect2(0x001C, item);
		set_item_frame(var0001);
	}
}

extern void Func02DE shape#(0x2DE) ();

void Func02C5 shape#(0x2C5) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		var0000 = get_object_position();
		var0001 = find_nearby(0x02DE, 0x0004, MASK_NONE);
		for (var0004 in var0001 with var0002 to var0003) {
			var0005 = var0004->get_object_position();
			if (var0005[0x0001] == var0000) {
				var0004->Func02DE();
				// Note: this should be a return.
				// Need to make UCC optimize this.
				goto labelFunc02C5_004E;
			}
		}
	}
labelFunc02C5_004E:
	return;
}

extern var Func0908 0x908 ();

void Func02CB shape#(0x2CB) () {
	var var0000;
	var var0001;

	if (event != DOUBLECLICK) {
		return;
	}
	var0000 = Func0908();
	var0001 = get_item_quality();
	if (var0001 > 0x0066) {
		UI_display_runes(0x0032, ["IS", "SIGN ZERO"]);
	} else {
		if (var0001 == 0x0000) {
			UI_display_runes(0x0032, ["here\{dot}lies", "john\{dot}doe", "buried", "where", "he\{dot}died"]);
		}
		if (var0001 == 0x0001) {
			UI_display_runes(0x0032, ["\{dot}garth\{dot}", "sorry", "about", "thy\{dot}\{th}umb"]);
		}
		if (var0001 == 0x0002) {
			UI_display_runes(0x0032, ["LADY M:", "YOUTH IS", "HERS", "FOREVER"]);
		}
		if (var0001 == 0x0003) {
			UI_display_runes(0x0032, ["\{dot}julius\{dot}", "may\{dot}his", "spirit", "re\{st}", "forever"]);
		}
		if (var0001 == 0x0004) {
			UI_display_runes(0x0032, ["here", "lies", "argent", "died\{dot}a", "sargeant"]);
		}
		if (var0001 == 0x0005) {
			UI_display_runes(0x0032, ["\{dot}darek\{dot}", "his", "days", "were", "numbered"]);
		}
		if (var0001 == 0x0006) {
			UI_display_runes(0x0032, ["\{dot}malc\{dot}", "his", "words", "remain", "wi\{th}\{dot}us"]);
		}
		if (var0001 == 0x0007) {
			UI_display_runes(0x0032, ["\{dot}nina\{dot}", "may", "her", "spirit", "soar"]);
		}
		if (var0001 == 0x0008) {
			UI_display_runes(0x0032, ["\{dot}bart\{dot}", "he\{dot}never", "finished", "\{th}e\{dot}joke"]);
		}
		if (var0001 == 0x0009) {
			UI_display_runes(0x0032, ["\{dot}ann\{dot}", "a", "delicate", "flower"]);
		}
		if (var0001 == 0x000A) {
			UI_display_runes(0x0032, ["\{dot}dallas\{dot}", "went", "down", "wi\{th}\{dot}\{th}e", "ship"]);
		}
		if (var0001 == 0x000B) {
			UI_display_runes(0x0032, ["\{dot}alan\{dot}", "looked", "great\{dot}in", "pink"]);
		}
		if (var0001 == 0x000C) {
			UI_display_runes(0x0032, ["here", "lies", "ken", "killed\{dot}by", "a pen"]);
		}
		if (var0001 == 0x000D) {
			UI_display_runes(0x0032, ["\{dot}jeff\{dot}d\{dot}", "died\{dot}wi\{th}", "a\{dot}pencil", "in\{dot}hand"]);
		}
		if (var0001 == 0x000E) {
			UI_display_runes(0x0032, ["\{dot}martin\{dot}", "\{th}e\{dot}notes", "were\{dot}too", "sharp"]);
		}
		if (var0001 == 0x000F) {
			UI_display_runes(0x0032, ["\{dot}tony\{dot}b\{dot}", "a\{dot}credit", "to\{dot}his", "name"]);
		}
		if (var0001 == 0x0010) {
			UI_display_runes(0x0032, ["\{dot}philip\{dot}", "spells", "ma\{st}ered", "him"]);
		}
		if (var0001 == 0x0011) {
			UI_display_runes(0x0032, ["\{dot}chuckles\{dot}", "laughed", "till\{dot}\{th}e", "end"]);
		}
		if (var0001 == 0x0012) {
			UI_display_runes(0x0032, ["\{dot}art\{dot}d\{dot}", "bit\{dot}\{th}e\{dot}rump", "of\{dot}a\{dot}big\{dot}", "bad\{dot}gump"]);
		}
		if (var0001 == 0x0013) {
			UI_display_runes(0x0032, ["\{dot}jim\{dot}g\{dot}", "he\{dot}was", "a\{dot}wonder", "to\{dot}us\{dot}all"]);
		}
		if (var0001 == 0x0014) {
			UI_display_runes(0x0032, ["\{dot}will\{dot}", "he\{dot}was\{dot}a", "rebel\{dot}and", "a\{dot}runner"]);
		}
		if (var0001 == 0x0015) {
			UI_display_runes(0x0032, ["\{dot}mr\{dot}mike\{dot}", "lost\{dot}early", "from\{dot}a\{dot}bout", "with\{dot}gumps"]);
		}
		if (var0001 == 0x0016) {
			UI_display_runes(0x0032, ["\{dot}paul\{dot}", "odd\{dot}how", "awake", "sleep", "made\{dot}him"]);
		}
		if (var0001 == 0x0017) {
			UI_display_runes(0x0032, ["\{dot}zack\{dot}", "he", "demanded", "atomic", "d\{ea}\{th}"]);
		}
		if (var0001 == 0x0018) {
			UI_display_runes(0x0032, ["\{dot}phil\{dot}s\{dot}", "a\{dot}victim", "of", "venomous", "fate"]);
		}
		if (var0001 == 0x0019) {
			UI_display_runes(0x0032, ["\{dot}jeff\{dot}w\{dot}", "danger", "radiation"]);
		}
		if (var0001 == 0x001A) {
			UI_display_runes(0x0032, ["\{dot}tony\{dot}z\{dot}", "a\{dot}good", "source", "for\{dot}gumps"]);
		}
		if (var0001 == 0x001B) {
			UI_display_runes(0x0032, ["\{dot}bill\{dot}b\{dot}", "we\{dot}\{th}ought", "he\{dot}was\{dot}only", "winged"]);
		}
		if (var0001 == 0x001C) {
			UI_display_runes(0x0032, ["\{dot}charles\{dot}c\{dot}", "guest", "victim"]);
		}
		if (var0001 == 0x001D) {
			UI_display_runes(0x0032, ["\{dot}danny\{dot}", "dearly", "depainted"]);
		}
		if (var0001 == 0x001E) {
			UI_display_runes(0x0032, ["\{dot}bob\{dot}", "he\{dot}makes", "\{th}e\{dot}grass", "greener"]);
		}
		if (var0001 == 0x001F) {
			UI_display_runes(0x0032, ["here\{dot}lies", "donna", "she\{dot}is\{dot}a", "gonna"]);
		}
		if (var0001 == 0x0020) {
			UI_display_runes(0x0032, ["\{dot}karl\{dot}", "a\{dot}portrait", "of", "talent"]);
		}
		if (var0001 == 0x0021) {
			UI_display_runes(0x0032, ["\{dot}chris\{dot}d\{dot}", "an", "explosive", "character"]);
		}
		if (var0001 == 0x0022) {
			UI_display_runes(0x0032, ["\{dot}glen\{dot}", "went", "with\{dot}a", "smile"]);
		}
		if (var0001 == 0x0023) {
			UI_display_runes(0x0032, ["\{dot}bruce\{dot}l\{dot}", "had\{dot}a", "fantastic", "ending"]);
		}
		if (var0001 == 0x0024) {
			UI_display_runes(0x0032, ["\{dot}loubet\{dot}", "his", "last", "br\{ea}\{th}"]);
		}
		if (var0001 == 0x0025) {
			UI_display_runes(0x0032, ["\{dot}micael\{dot}p\{dot}", "lo\{ng}\{dot}time", "comi\{ng}\{dot}gone", "for\{dot}good"]);
		}
		if (var0001 == 0x0026) {
			UI_display_runes(0x0032, ["\{dot}jake\{dot}", "\{th}e\{dot}party", "is", "over"]);
		}
		if (var0001 == 0x0027) {
			UI_display_runes(0x0032, ["\{dot}gary\{dot}w\{dot}", "man\{dot}of\{dot}a", "\{th}ousand", "faces"]);
		}
		if (var0001 == 0x0028) {
			UI_display_runes(0x0032, ["\{dot}\{th}e\{dot}b\{ea}\{st}\{dot}", "it\{dot}was\{dot}a", "full", "life"]);
		}
		if (var0001 == 0x0029) {
			UI_display_runes(0x0032, ["here\{dot}lies", "kirk\{dot}died", "from\{dot}too", "much\{dot}work"]);
		}
		if (var0001 == 0x002A) {
			UI_display_runes(0x0032, ["\{dot}targ\{dot}", "a", "wor\{th}y", "opponent"]);
		}
		if (var0001 == 0x002B) {
			UI_display_runes(0x0032, ["here\{dot}lies", "my\{st}ral", "shined", "like\{dot}a", "crystal"]);
		}
		if (var0001 == 0x002C) {
			UI_display_runes(0x0032, ["here\{dot}lies", "marc", "and\{dot}why", "not"]);
		}
		if (var0001 == 0x002D) {
			UI_display_runes(0x0032, ["\{dot}nenad\{dot}", "\{th}e", "music", "maker"]);
		}
		if (var0001 == 0x002E) {
			UI_display_runes(0x0032, ["here\{dot}lies", "john", "his", "work\{dot}was", "never\{dot}done"]);
		}
		if (var0001 == 0x002F) {
			UI_display_runes(0x0032, ["\{dot}bruce\{dot}a\{dot}", "we", "killed", "him"]);
		}
		if (var0001 == 0x0030) {
			UI_display_runes(0x0032, ["\{dot}eric\{dot}", "unaware", "\{th}e\{dot}game", "was", "loaded"]);
		}
		if (var0001 == 0x0031) {
			UI_display_runes(0x0032, ["\{dot}raymond\{dot}", "\{th}e\{dot}world", "is\{dot}not", "enough"]);
		}
		if (var0001 == 0x0032) {
			UI_display_runes(0x0032, ["\{dot}Beth\{dot}", "died", "by", "garriot"]);
		}
		if (var0001 == 0x0033) {
			UI_display_runes(0x0032, ["\{dot}jack\{dot}", "\{ea}ten", "by", "di\{ng}os"]);
		}
		if (var0001 == 0x0034) {
			UI_display_runes(0x0032, ["\{dot}michelle\{dot}", "hu\{ng}\{dot}for", "poisoni\{ng}", "lover"]);
		}
		if (var0001 == 0x0035) {
			UI_display_runes(0x0032, ["\{dot}scott\{dot}h\{dot}", "gone", "today", "gone", "tomorrow"]);
		}
		if (var0001 == 0x0036) {
			UI_display_runes(0x0032, ["\{dot}brian\{dot}", "swallowed", "by", "\{th}e", "mon\{st}er"]);
		}
		if (var0001 == 0x0037) {
			UI_display_runes(0x0032, ["\{dot}sherry\{dot}c\{dot}", "managed", "until", "\{th}e\{dot}end"]);
		}
		if (var0001 == 0x0038) {
			UI_display_runes(0x0032, ["\{dot}karen\{dot}", "quality", "was\{dot}job", "one"]);
		}
		if (var0001 == 0x0039) {
			UI_display_runes(0x0032, ["\{dot}j\{dot}shelton", "here\{dot}i\{dot}lie", "but\{dot}\{st}ill", "i\{dot}roam"]);
		}
		if (var0001 == 0x003A) {
			UI_display_runes(0x0032, ["\{dot}marco\{dot}", "underfed", "under\{dot}gun", "undergrnd"]);
		}
		if (var0001 == 0x003B) {
			UI_display_runes(0x0032, ["\{dot}lynn\{dot}", "she\{dot}had", "\{th}e\{dot}grace", "of\{dot}a\{dot}swan"]);
		}
		if (var0001 == 0x003C) {
			UI_display_runes(0x0032, ["\{dot}chenault\{dot}", "me\{dot}puergo", "canus\{dot}meus", "urit"]);
		}
		if (var0001 == 0x003D) {
			UI_display_runes(0x0032, ["\{dot}j\{dot}crippen\{dot}", "to\{dot}dizzy", "and\{dot}tc", "cocopuff"]);
		}
		if (var0001 == 0x003E) {
			UI_display_runes(0x0032, ["\{dot}tim\{dot}", "\{th}e\{dot}unknown", "tomb\{st}one"]);
		}
		if (var0001 == 0x003F) {
			UI_display_runes(0x0032, ["\{dot}na\{th}an\{dot}", "blown\{dot}away", "by\{dot}grogs", "fireball"]);
		}
		if (var0001 == 0x0040) {
			UI_display_runes(0x0032, ["\{dot}james\{dot}n\{dot}", "last\{dot}words", "i\{dot}drank", "what"]);
		}
		if (var0001 == 0x0041) {
			UI_display_runes(0x0032, ["here\{dot}lies", "Ben", "all\{dot}te\{st}ed", "out"]);
		}
		if (var0001 == 0x0042) {
			UI_display_runes(0x0032, ["\{dot}scott\{dot}", "buried\{dot}an", "axe\{dot}in", "his\{dot}h\{ea}d"]);
		}
		if (var0001 == 0x0043) {
			UI_display_runes(0x0032, ["\{dot}duke\{dot}", "veni", "vidi", "exii"]);
		}
		if (var0001 == 0x0044) {
			UI_display_runes(0x0032, ["\{dot}mike\{dot}h\{dot}", "every\{th}i\{ng}", "fit\{dot}to", "print"]);
		}
		if (var0001 == 0x0045) {
			UI_display_runes(0x0032, ["\{dot}robin\{dot}", "she\{dot}gave", "sunshine", "to\{dot}us\{dot}all"]);
		}
		if (var0001 == 0x0046) {
			UI_display_runes(0x0032, ["\{dot}andrew\{dot}", "\{dot}m\{dot}", "never", "got", "clued\{dot}in"]);
		}
		if (var0001 == 0x0047) {
			UI_display_runes(0x0032, ["\{dot}wayne\{dot}s\{dot}", "\{th}e\{dot}food", "was", "gr\{ea}t"]);
		}
		if (var0001 == 0x0048) {
			UI_display_runes(0x0032, ["\{dot}craig\{dot}c\{dot}", "was", "delivered"]);
		}
		if (var0001 == 0x0049) {
			UI_display_runes(0x0032, ["\{dot}jeff\{dot}f\{dot}", "fed\{dot}but", "never", "ate"]);
		}
		if (var0001 == 0x004A) {
			UI_display_runes(0x0032, ["\{dot}w\{dot}hagy", "food", "for", "\{th}ought"]);
		}
		if (var0001 == 0x004B) {
			UI_display_runes(0x0032, ["\{dot}m\{dot}", "\{dot}stevens\{dot}", "arrived", "wi\{th}\{dot}gifts"]);
		}
		if (var0001 == 0x004C) {
			UI_display_runes(0x0032, ["\{dot}michelle\{dot}", "\{dot}g\{dot}", "bringer", "of", "dinner"]);
		}
		if (var0001 == 0x004D) {
			UI_display_runes(0x0032, ["\{dot}brian\{dot}s\{dot}", "food", "was", "him"]);
		}
		if (var0001 == 0x004E) {
			UI_display_runes(0x0032, ["\{dot}jackie\{dot}", "d\{dot}", "as\{dot}in\{dot}d\{dot}", "for", "dinner"]);
		}
		if (var0001 == 0x004F) {
			UI_display_runes(0x0032, ["\{dot}b\{dot}adams\{dot}", "spained", "a", "perfect", "record"]);
		}
		if (var0001 == 0x0050) {
			UI_display_runes(0x0032, ["\{dot}hal\{dot}", "a\{dot}nice", "fellow", "who\{dot}is", "now\{dot}below"]);
		}
		if (var0001 == 0x0051) {
			UI_display_runes(0x0032, ["\{dot}rover\{dot}", "mans\{dot}best", "friend", "over\{dot}and", "over"]);
		}
		if (var0001 == 0x0052) {
			UI_display_runes(0x0032, ["\{dot}felcore\{dot}", "age\{dot}old", "love", "never", "dies"]);
		}
		if (var0001 == 0x0053) {
			UI_display_runes(0x0032, ["heres", "tony", "morse", "hes\{dot}d\{ea}d", "of\{dot}course"]);
		}
		if (var0001 == 0x0054) {
			UI_display_runes(0x0032, ["heres", "larry", "salamon", "\{dot}", "gross"]);
		}
		if (var0001 == 0x0055) {
			UI_display_runes(0x0032, ["darren", "mcdonald", "who\{dot}is", "faltran"]);
		}
		if (var0001 == 0x0056) {
			UI_display_runes(0x0032, ["\{dot}kevin\{dot}b\{dot}", "died", "away", "from\{dot}\{th}e", "chiltons"]);
		}
		if (var0001 == 0x0057) {
			UI_display_runes(0x0032, ["\{dot}beth", "and", "michael\{dot}", "worm", "food"]);
		}
		if (var0001 == 0x0058) {
			UI_display_runes(0x0032, ["\{dot}a\{dot}h\{dot}", "died", "honorably"]);
		}
		if (var0001 == 0x0059) {
			UI_display_runes(0x0032, ["\{dot}john\{dot}t\{dot}", "gone", "and", "went"]);
		}
		if (var0001 == 0x005A) {
			UI_display_runes(0x0032, ["\{dot}rey\{dot}", "", "installed", "here"]);
		}
		if (var0001 == 0x005B) {
			UI_display_runes(0x0032, ["\{dot}rhoode\{dot}", "a\{dot}more", "deservi\{ng}", "man\{dot}never", "died"]);
		}
		if (var0001 == 0x005C) {
			UI_display_runes(0x0032, ["\{dot}jasner\{dot}", "every", "moment", "she\{dot}is", "missed"]);
		}
		if (var0001 == 0x005D) {
			UI_display_runes(0x0032, ["\{dot}wampol\{dot}", "here\{dot}he", "lied", "now\{dot}here", "he\{dot}lays"]);
		}
		if (var0001 == 0x005E) {
			UI_display_runes(0x0032, ["\{dot}destra\{dot}", "wounded", "by\{dot}a", "lovers", "spurni\{ng}"]);
		}
		if (var0001 == 0x005F) {
			UI_display_runes(0x0032, ["\{dot}mendar\{dot}", "buried", "wi\{th}\{dot}his", "boots\{dot}on"]);
		}
		if (var0001 == 0x0060) {
			UI_display_runes(0x0032, ["\{dot}greghim\{dot}", "old\{dot}age", "never", "looked\{dot}so", "good"]);
		}
		if (var0001 == 0x0061) {
			UI_display_runes(0x0032, ["\{dot}sarnan\{dot}", "was\{dot}not", "missed", "but\{dot}is", "now"]);
		}
		if (var0001 == 0x0062) {
			UI_display_runes(0x0032, ["\{dot}erlemar\{dot}", "gr\{ea}te\{st}", "enchanter", "of\{dot}his", "day"]);
		}
		if (var0001 == 0x0063) {
			UI_display_runes(0x0032, ["\{dot}galler\{dot}", "came\{dot}", "saw\{dot}", "was", "conquered"]);
		}
		if (var0001 == 0x0064) {
			UI_display_runes(0x0032, ["\{dot}elgele\{th}\{dot}", "queen", "for\{dot}a\{dot}day", "worm\{dot}food", "forever"]);
		}
		if (var0001 == 0x0065) {
			UI_display_runes(0x0032, ["\{dot}pantor\{dot}", "\{th}e\{dot}si\{ng}i\{ng}", "never", "stops"]);
		}
		if (var0001 == 0x0066) {
			UI_display_runes(0x0032, ["here\{dot}lies", "beloved", "fa\{th}er", "and", "ma\{st}er"]);
		}
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern void Func032A shape#(0x032A) ();

void Func02CF shape#(0x2CF) () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = AVATAR->get_npc_object()->get_cont_items(0x032A, QUALITY_ANY, 0x0001);
	if (var0000) {
		var0001 = [ 1,  1, -2, -2,  0, -1,  0, -1];
		var0002 = [-1, -2, -1, -2,  1,  1, -4, -4];
		Func0828(item, var0001, var0002,  0, Func032A, var0000, BG_PATH_SUCCESS);
	} else {
		var0000 = AVATAR->get_npc_object()->get_cont_items(0x032A, QUALITY_ANY, 0x0000);
		if (var0000) {
			var0001 = [ 1,  1, -2, -2,  0, -1,  0, -1];
			var0002 = [-1, -2, -1, -2,  1,  1, -4, -4];
			Func0828(item, var0001, var0002, 0, Func032A, var0000, BG_PATH_SUCCESS);
		}
	}
}

extern var Func0908 0x908 ();

void Func02D3 shape#(0x2D3) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = Func0908();
		if (IOLO->npc_nearby()) {
			IOLO->say("\"",
				var0000,
				" dost thou notice the unique Iolo trademark on these bolts?  They are designed for maximum performance with genuine IOLO crossbows, available at a location near Yew.\"");
			IOLO->hide();
		}
	}
}

extern var Func0937 0x937 (var var0000);
extern void Func0904 0x904 (var var0000, var var0001);
extern void Func060A object#(0x60A) ();

void Func02D5 shape#(0x2D5) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if ((event == DOUBLECLICK) && (!in_usecode())) {
		var0000 = UI_die_roll(0x0001, 0x0010);
		halt_scheduled();
		var0001 = script item {
			repeat var0000 {
				sfx 29;
				next frame cycle;
				continue;
				next frame cycle;
				continue;
				next frame cycle;
				continue;
			};
			repeat var0000 {
				next frame cycle;
				continue;
				next frame cycle;
				sfx 29;
			};
			repeat 3 {
				next frame cycle;
				wait 1;
				next frame cycle;
				wait 1;
				next frame cycle;
				wait 1;
				next frame cycle;
				wait 1;
				sfx 29;
			};
			next frame cycle;
			wait 3;
			next frame cycle;
			sfx 29;
			call Func060A;
		};
		if ((UI_game_hour() >= 0x000F) || (UI_game_hour() <= 0x0003)) {
			if (Func0937(SMITHY)) {
				Func0904(SMITHY, ["@Place your bets.@", "@Round she goes!@"]);
			}
			SMITHY->set_schedule_type(HOUND);
			var0002 = find_nearby(0x0208, 0x0007, MASK_NONE);
			var0003 = var0002->find_nearby(0x0284, 0x0005, MASK_NONE);
			for (var0006 in var0003 with var0004 to var0005) {
				var0006->clear_item_flag(OKAY_TO_TAKE);
			}
		}
	}
}

void Func02D8 shape#(0x2D8) () {
	if (event == DOUBLECLICK) {
		if (SPARK->npc_nearby()) {
			SPARK->say("\"Thou dost need a blacksmith to do that. I wager my dad could do it... I mean, could have... if he were still alive...\"");
			SPARK->hide();
		}
	}
}

extern void Func0940 0x940 (var var0000);

void Func02D9 shape#(0x2D9) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		var0000 = get_item_quality();
		if ((var0000 == 0x0000) || (var0000 > 0x0007)) {
			Func0940(0x0019);
			return;
		}
		if (var0000 == 0x0001) {
			if (gflags[0x0157]) {
				var0001 = [0x0A82, 0x0970, 0x0003];
			} else {
				var0001 = [0x0A82, 0x09A0, 0x0003];
			}
		}
		if (var0000 == 0x0002) {
			var0001 = [0x038F, 0x047D, 0x0003];
		}
		if (var0000 == 0x0003) {
			var0001 = [0x0A28, 0x0A25, 0x0003];
		}
		if (var0000 == 0x0004) {
			var0001 = [0x0AF7, 0x00D7, 0x0003];
		}
		if (var0000 == 0x0005) {
			var0001 = [0x009F, 0x0540, 0x0003];
		}
		if (var0000 == 0x0006) {
			var0001 = [0x0609, 0x0773, 0x0003];
		}
		if (var0000 == 0x0007) {
			var0001 = [0x0928, 0x0597, 0x0003];
		}
		if (var0000 == 0x00FF) {
			return;
		}
		UI_display_area(var0001);
	}
}

extern void Func08FF 0x8FF (var var0000);
extern void Func0925 0x925 (var var0000);
extern void Func08FD 0x8FD (var var0000);

void Func02DA shape#(0x2DA) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		if (get_item_frame() == 0x0002) {
			var0000 = "@Praise All! The child is still alive. He must" + " be returned to Lady Tory immediately!@";
			Func08FF(var0000);
		} else {
			var0001 = UI_click_on_item();
			var0002 = var0001->get_item_shape();
			if (var0002 == 0x03DB) {
				Func08FF("@Pardon me my friend, dost thou not think that would be a little crowded?@");
			} else if (var0002 == 0x03E0) {
				var0001->set_item_shape(0x03DB);
				Func0925(item);
			} else {
				Func08FD(0x003C);
			}
		}
	}
}

void Func02DE shape#(0x2DE) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		if (!in_usecode()) {
			if (get_item_frame() < 0x0005) {
				set_item_frame(0x0000);
				var0000 = script item {
					repeat 4 {
						sfx 35;
						next frame cycle;
					};
				};
				return;
			}
			UI_play_sound_effect2(0x0023, item);
			var0001 = get_item_frame();
			if (var0001 < 0x000B) {
				var0000 = script item {
					repeat 1 {
						sfx 34;
						next frame cycle;
					};
					sfx 35;
				};
			}
			if (var0001 == 0x000B) {
				var0000 = script item {
					sfx 35;
					frame 12;
					sfx 35;
					frame 0;
				};
			}
			if (var0001 == 0x000C) {
				UI_play_sound_effect2(0x0023, item);
				set_item_frame(0x0000);
			}
		}
	}
}

extern void Func08FF 0x8FF (var var0000);

void Func02DF shape#(0x2DF) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = ("@I believe those are for the trainers to use.*" + "If thou art in need of practice, why not ") + "seek out a trainer?@";
		Func08FF(var0000);
	}
}

void Func02E3 shape#(0x2E3) () {
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern void Func032A shape#(0x032A) ();

void Func02E4 shape#(0x2E4) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = AVATAR->get_npc_object()->get_cont_items(0x032A, QUALITY_ANY, 0x0000);
	if (var0000) {
		var0001 = [-5, -5];
		var0002 = [-1, -1];
		var0003 = find_nearest(0x01D6, 0x0005);
		if (var0003) {
			Func0828(var0003, var0001, var0002, 0x0000, Func032A, var0000, PATH_SUCCESS_9);
		}
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern void Func032A shape#(0x032A) ();

void Func02E5 shape#(0x2E5) () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = AVATAR->get_npc_object()->get_cont_items(0x032A, QUALITY_ANY, 0x0001);
	if (var0000) {
		var0001 = [-1, -2, -1, -2,  1,  1, -4, -4];
		var0002 = [ 1,  1, -2, -2,  0, -1,  0, -1];
		Func0828(item, var0001, var0002, 0, Func032A, var0000, BG_PATH_SUCCESS);
	} else {
		var0000 = AVATAR->get_npc_object()->get_cont_items(0x032A, QUALITY_ANY, 0x0000);
		if (var0000) {
			var0001 = [-1, -2, -1, -2,  1,  1, -4, -4];
			var0002 = [ 1,  1, -2, -2,  0, -1,  0, -1];
			Func0828(item, var0001, var0002, 0, Func032A, var0000, BG_PATH_SUCCESS);
		}
	}
}

extern var Func0937 0x937 (var var0000);

void Func02E6 shape#(0x2E6) () {
	if (event == DOUBLECLICK) {
		if (SPARK->npc_nearby() && Func0937(SPARK)) {
			SPARK->item_say("@Gee, is that neat.@");
		}
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func0827 0x827 (var var0000, var var0001);
extern var Func0937 0x937 (var var0000);

void Func02E7 shape#(0x2E7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		var0000 = [ 0, -1,  1];
		var0001 = [ 1,  1,  1];
		var0002 = -1;
		Func0828(item, var0000, var0001, var0002, Func02E7, item, BG_PATH_SUCCESS);
	}
	if (event == BG_PATH_SUCCESS) {
		var0003 = Func0827(AVATAR, item);
		var0004 = script AVATAR {
			face var0003;
			continue;
			actor frame bowing;
			actor frame standing;
		};
		var0005 = AVATAR->get_npc_prop(STRENGTH);
		if ((var0005 >= 0) && (var0005 < 4)) {
			var0005 = 0;
		}
		if ((var0005 >= 4) && (var0005 < 8)) {
			var0005 = 1;
		}
		if ((var0005 >= 8) && (var0005 < 12)) {
			var0005 = 2;
		}
		if ((var0005 >= 12) && (var0005 < 15)) {
			var0005 = 3;
		}
		if ((var0005 >= 15) && (var0005 < 18)) {
			var0005 = 4;
		}
		if ((var0005 >= 18) && (var0005 < 23)) {
			var0005 = 5;
		}
		if ((var0005 >= 23) && (var0005 < 27)) {
			var0005 = 6;
		}
		if ((var0005 >= 27) && (var0005 < 30)) {
			var0005 = 7;
		}
		if (var0005 >= 30) {
			var0005 = 8;
		}
		if (var0005 > 3) {
			var0005 -= UI_die_roll(0x0000, 0x0002);
		}
		if (var0005 == 7) {
			var0005 = 6;
		}
		if (var0005 > 7) {
			var0004 = script item after (var0005 + 1) ticks {
				nohalt;
				sfx 24;
			};
			if (CARROCIO->npc_nearby() && Func0937(CARROCIO)) {
				var0004 = script CARROCIO after 15 ticks {
					nohalt;
					say "@Avatar wins a Dragon!@";
				};
				var0004 = UI_add_party_items(0x0001, 0x02E6, QUALITY_ANY, 0x0000, false);
			}
		}
		var0004 = script item {
			frame 0;
			sfx 4;
			repeat var0005 {
				next frame;
			};
			repeat var0005 {
				previous frame;
			};
			frame 0;
		};
	}
}

void Func02E8 shape#(0x2E8) () {
	if (event == DOUBLECLICK) {
		UI_wizard_eye(0x2710, 0x03E8);
	}
}

void Func02E9 shape#(0x2E9) () {
	if (event == DOUBLECLICK) {
		UI_play_music(0x003A, item);
	}
}

void Func02EB shape#(0x2EB) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		var0001 = UI_click_on_item();
		if (var0000 == 0x0000) {
			if (var0001->get_item_shape() == 0x0207) {
				var0002 = HORANCE->find_nearest(0x03F3, 0x0001);
				if ((var0002->get_item_frame() == 0x0001) && ((HORANCE->get_schedule_type() == SLEEP) && (HORANCE->get_item_frame() == 0x000D))) {
					HORANCE->halt_scheduled();
					var0003 = set_last_created();
					if (var0003) {
						var0003 = UI_update_last_created(HORANCE->get_object_position());
						HORANCE->set_schedule_type(WAIT);
						gflags[0x01AF] = true;
					}
				}
			}
		}
		if (var0000 == 0x0001) {
			if (var0001->get_item_shape() == 0x02EC) {
				set_item_frame(0x0000);
			}
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func0490 object#(0x490) ();

void Func02F0 shape#(0x2F0) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if (var0000 == 0x0000) {
			set_item_frame(0x0001);
			UI_play_music(0x0029, item);
			if (Func08F7(ROWENA)) {
				gflags[0x01A7] = true;
				ROWENA->get_npc_object()->Func0490();
			}
		} else {
			set_item_frame(0x0000);
			UI_play_music(0x00FF, item);
		}
	}
}

extern void Func08AD 0x8AD ();

void Func02F2 shape#(0x2F2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		if (get_item_frame() == 0x0005) {
			var0000 = UI_click_on_item();
			var0001 = var0000->get_item_shape();
			if (gflags[0x01AF]) {
				if ((var0001 == 0x0207) || (var0001 == 0x02EB)) {
					var0002 = find_nearby(0x02EB, 0x0028, MASK_NONE);
					if (var0002) {
						var0003 = script var0002 {
							frame 1;
							sfx 45;
							repeat 7 {
								wait 2;
								sfx 37;
							};
							sfx 9;
							remove;
						};
						var0004 = var0002->get_object_position();
						UI_sprite_effect(ANIMATION_FIREWORKS, (var0004[0x0001] - 0x0002), (var0004[0x0002] - 0x0003), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
						remove_item();
					}
					var0003 = script AVATAR {
						wait 28;
						call Func02F2;
					};
				}
			}
		}
	}
	if (event == SCRIPTED) {
		gflags[0x01AA] = true;
		var0005 = [MORDRA, ROWENA, MARKHAM, PAULETTE, QUENTON, FORSYTHE, HORANCE];
		for (var0008 in var0005 with var0006 to var0007) {
			var0008->clear_item_flag(ASLEEP);
			var0008->set_schedule_type(WAIT);
		}
		HORANCE->show_npc_face(0x0001);
		say("As the Soul Cage dissolves into dust, a great transformation comes upon the Liche. Where the evil spirit was caged you see the form of a familiar person. It's Horance! He's a ghost, but he much more resembles a man than an undead terror. ");
		Func08AD();
	}
}

extern void Func0809 0x809 (var var0000);

void Func02F5 shape#(0x2F5) () {
	if (event == DOUBLECLICK) {
		Func0809(item);
	}
}

extern void Func08FF 0x8FF (var var0000);
extern var Func08E7 0x8E7 ();
extern void Func06F6 object#(0x6F6) ();
extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func092D 0x92D (var var0000);
extern void Func0350 shape#(0x350) ();

void Func02F8 shape#(0x2F8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	var0000 = get_item_frame();
	if (event == DOUBLECLICK) {
		if (var0000 <= 0x000B) {
			var0001 = "@Those are beautiful. I am sure that they would fetch " + "a high price at the jewelers' in Britain.@";
			Func08FF(var0001);
		} else {
			if (var0000 == 0x000E) {
				if (!Func08E7()) {
					var0002 = [0x088F, 0x0610, 0x0006];
					UI_display_area(var0002);
					return;
				}
				remove_item();
				UI_play_sound_effect(0x0025);
			}
			if (gflags[0x032F]) {
				if (!gflags[0x0330]) {
					item->Func06F6();
					return;
				}
			}
			if (gflags[0x0333]) {
				if (var0000 == 0x000D) {
					item->Func06F6();
					return;
				}
				if (var0000 == 0x000C) {
					if (!AVATAR->is_readied(BG_WEAPON_HAND, 0x02F8, 0x000C)) {
						Func08FF("@I believe the gem must be held in the weapon hand to break the mirror.@");
						return;
					}
					UI_close_gumps();
					var0003 = script item {
						wait 2;
						call Func02F8;
					};
				}
			}
		}
	}
	if (event == SCRIPTED) {
		var0004 = UI_click_on_item();
		var0005 = var0004->get_item_shape();
		var0006 = var0004->get_item_frame();
		if (var0005 == 0x0350) {
			if (var0006 == 0x0003) {
				Func0828(var0004, 0, 2, -2, Func02F8, var0004, BG_PATH_SUCCESS);
			}
		}
	}
	if (event == BG_PATH_SUCCESS) {
		var0007 = Func092D(item);
		var0003 = script AVATAR->get_npc_object() {
			face var0007;
			wait 2;
			actor frame raise_1h;
			wait 2;
			actor frame reach_1h;
			wait 2;
			actor frame strike_1h;
			sfx 37;
		};
		var0003 = script item {
			wait 10;
			frame 9;
		};
		var0008 = AVATAR->get_npc_object()->get_cont_items(0x02F8, QUALITY_ANY, 0x000C);
		var0003 = script var0008 {
			wait 10;
			frame 13;
			wait 2;
			call Func0350;
		};
		gflags[0x0313] = false;
		gflags[0x0333] = false;
	}
}

extern void Func082F 0x82F ();

void Func02FB shape#(0x2FB) () {
	if ((!in_usecode()) && (event == DOUBLECLICK)) {
		if ((UI_game_hour() >= 0x000F) || (UI_game_hour() <= 0x0003)) {
			SMITHY->set_schedule_type(HOUND);
		}
		Func082F();
	}
}

void Func0301 shape#(0x301) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if ((event == DOUBLECLICK) || (event == WEAPON)) {
		UI_close_gumps();
		var0000 = find_nearby(0x01EE, 0x012C, MASK_NONE);
		for (var0003 in var0000 with var0001 to var0002) {
			var0003->set_schedule_type(IN_COMBAT);
			var0003->set_attack_mode(FLEE);
			var0003->set_oppressor(AVATAR);
		}
		var0004 = get_object_position();
		halt_scheduled();
		UI_sprite_effect(ANIMATION_CLOUDS, var0004[0x0001], var0004[0x0002],  0,  0,  0, 0x0019);
		UI_sprite_effect(ANIMATION_CLOUDS, var0004[0x0001], var0004[0x0002],  2,  0,  1, 0x0019);
		UI_sprite_effect(ANIMATION_CLOUDS, var0004[0x0001], var0004[0x0002], -2,  0,  2, 0x0019);
		UI_sprite_effect(ANIMATION_CLOUDS, var0004[0x0001], var0004[0x0002],  0,  2,  3, 0x0019);
		UI_sprite_effect(ANIMATION_CLOUDS, var0004[0x0001], var0004[0x0002],  0, -2,  4, 0x0019);
		UI_sprite_effect(ANIMATION_CLOUDS, var0004[0x0001], var0004[0x0002],  2,  2,  1, 0x0019);
		UI_sprite_effect(ANIMATION_CLOUDS, var0004[0x0001], var0004[0x0002],  2, -2,  2, 0x0019);
		UI_sprite_effect(ANIMATION_CLOUDS, var0004[0x0001], var0004[0x0002], -2,  2,  3, 0x0019);
		UI_sprite_effect(ANIMATION_CLOUDS, var0004[0x0001], var0004[0x0002], -2, -2,  4, 0x0019);
		remove_item();
	}
}

extern var Func0906 0x906 ();
extern void Func06E1 object#(0x6E1) ();

void Func0302 shape#(0x302) () {
	if ((event == DOUBLECLICK) && Func0906()) {
		UI_close_gumps();
		UI_view_tile([0x0B4C, 0x058C]);
		event = EGG;
		0x0000->Func06E1();
		UI_display_area([0x0B4C, 0x058C, 0x0003]);
	}
}

extern var Func092D 0x92D (var var0000);

void Func0303 shape#(0x303) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == WEAPON) {
		var0000 = item;
	} else {
		var0000 = UI_click_on_item();
	}
	if (var0000) {
		UI_close_gumps();
		var0001 = var0000->get_item_shape();
		if (var0001 == 0x0392) {
			var0002 = Func092D(var0000);
			var0003 = script var0000 {
				wait 5;
				remove;
			};
			var0003 = AVATAR->set_to_attack(var0000, 0x02C0);
			var0003 = script AVATAR {
				face var0002;
				continue;
				actor frame strike_1h;
				actor frame standing;
				attack;
			};
		}
		if (var0001 == 0x0131) {
			var0004 = find_nearby(0x00A8, 0x000C, MASK_ALL_UNSEEN);
			var0005 = AVATAR->find_nearby(0x0193, 0x0050, MASK_NONE);
			if (!var0005) {
				if (!var0004) {
					UI_run_endgame(true);
				}
			} else {
				BATLIN->say("The wand glows faintly. Batlin smirks. \"Not yet, Avatar.\"");
				BATLIN->hide();
				abort;
			}
		}
		UI_play_sound_effect(0x003E);
		UI_lightning();
	}
}

extern void Func0809 0x809 (var var0000);

void Func0305 shape#(0x305) () {
	if (event == DOUBLECLICK) {
		Func0809(item);
	}
}

extern void Func0809 0x809 (var var0000);

void Func0306 shape#(0x306) () {
	if (event == DOUBLECLICK) {
		Func0809(item);
	}
}

extern void Func08FF 0x8FF (var var0000);
extern var Func0829 0x829 (var var0000);

void Func030D shape#(0x30D) () {
	if (event == DOUBLECLICK) {
		if (get_item_flag(ON_MOVING_BARGE)) {
			Func08FF("@The sails must be furled before the planks can be lowered.@");
		} else if (!Func0829(item)) {
			Func08FF("@I think the gangplank is blocked.@");
		}
	}
}

extern void Func08FF 0x8FF (var var0000);
extern void Func0925 0x925 (var var0000);

void Func030E shape#(0x30E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		Func08FF("@Perhaps thou shouldst attack with it.@");
	}
	if (event == WEAPON) {
		var0000 = UI_click_on_item();
		var0001 = [var0000[0x0002], var0000[0x0003], var0000[0x0004]];
		var0002 = UI_create_new_object(0x037F);
		if (var0002) {
			var0002->set_item_flag(TEMPORARY);
			var0003 = UI_update_last_created(var0001);
			if (var0003) {
				var0003 = script var0002 after 100 ticks {
					nohalt;
					remove;
				};
			}
			if (var0000[0x0004] == 0x0000) {
				var0004 = UI_create_new_object(0x00E0);
				if (var0004) {
					var0004->set_item_flag(TEMPORARY);
					var0003 = UI_update_last_created(var0001);
				}
			}
		}
		var0005 = var0000->find_nearby(0x030E, 0x0002, MASK_NONE);
		if (var0005) {
			Func0925(var0005);
		}
	}
}

extern void Func08FE 0x8FE (var var0000);
extern var Func093E 0x93E ();
extern var Func0822 0x822 (var var0000);
extern void Func0821 0x821 (var var0000);
extern var Func0826 0x826 (var var0000);
extern void Func0824 0x824 (var var0000);
extern void Func0311 shape#(0x0311) ();

void Func0311 shape#(0x311) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;

	if (event == DOUBLECLICK) {
		if (gflags[0x0004]) {
			Func08FE(["@How odd!@", "@It work before.@"]);
			return;
		}
		if (gflags[0x0057] || (!Func093E())) {
			var0000 = UI_click_on_item();
			var0001 = Func0822(var0000);
			var0002 = AVATAR->find_direction(var0001);
			if ((var0002 == NORTH) || (var0002 == SOUTH)) {
				var0003 = 0x0001;
				var0004 = 0x030B;
			} else {
				var0003 = 0x0002;
				var0004 = 0x009D;
			}
			var0001[var0003] += 0x0002;
			if (!UI_is_not_blocked(var0001, var0004, 0x0000)) {
				var0005 = [0x0001, 0x0002, 0x0003];
				for (var0008 in var0005 with var0006 to var0007) {
					var0001[0x0003] += 0x0001;
					if (UI_is_not_blocked(var0001, var0004, 0x0000)) {
						break;
					}
				} nobreak {
					UI_flash_mouse(CURSOR_HAND);
					return;
				}
			}
			UI_close_gumps();
			var0009 = UI_create_new_object(var0004);
			if (var0009) {
				UI_close_gumps();
				var000A = UI_update_last_created(var0001);
				var0001[var0003] -= 0x0002;
				UI_play_music(0x0033, 0x0000);
				var0009->set_item_flag(TEMPORARY);
				var000A = var0009->set_item_quality(var0002);
				var000A = script var0009 {
					frame 0;
					repeat 10 {
						next frame cycle;
					};
					repeat 5 {
						frame 4;
						repeat 5 {
							next frame cycle;
						};
					};
					frame 4;
					repeat 3 {
						previous frame cycle;
					};
					remove;
				};
				var000B = 0x0005 - AVATAR->get_distance(var0009);
				var000C = new script {
					face (FACE_NORTH + var0002);
				};
				if (var000B > 0x0000) {
					var000C = var000C & new script {
						wait var000B;
					};
				}
				var000A = AVATAR->run_script(var000C);
				var000D = AVATAR->get_object_position();
				if (var0003 == 0x0001) {
					var0003 = 0x0002;
				} else {
					var0003 = 0x0001;
				}
				if (var0001[var0003] < var000D[var0003]) {
					var000E = 1;
				} else {
					var000E = -1;
				}
				var0001[var0003] += var000E;
				var000A = UI_path_run_usecode(var0001, Func0311, var0009, BG_PATH_SUCCESS);
				if (var000A) {
					UI_set_path_failure(Func0311, var0009, BG_PATH_FAILURE);
					var000F = get_container();
					var0010 = UI_get_party_list();
					while (true) {
						if (var000F) {
							if (var000F in var0010) {
								break;
							}
							var000F = var000F->get_container();
						} else {
							remove_item();
							var000A = UI_add_party_items(0x0001, 0x0311, 0x0000, 0x0000, false);
							break;
						}
					}
				} else {
					Func0821(var0009);
				}
			}
		}
	}
	if (event == BG_PATH_FAILURE) {
		if (Func0826(item)) {
			Func0821(item);
			Func08FE(["@No, Avatar.@", "@Let thyself enter.@"]);
		}
	}
	if (event == BG_PATH_SUCCESS) {
		if (Func0826(item)) {
			Func0821(item);
			Func0824(item);
		}
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func0827 0x827 (var var0000, var var0001);
extern void Func0816 0x816 (var var0000);

void Func0313 shape#(0x313) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		var0000 = -1;
		var0001 = -1;
		var0002 = -3;
		Func0828(item, var0000, var0001, var0002, Func0313, item, BG_PATH_SUCCESS);
	}
	if (event == BG_PATH_SUCCESS) {
		var0003 = Func0827(AVATAR, item);
		var0004 = script AVATAR {
			face var0003;
			continue;
			actor frame bowing;
			actor frame standing;
		};
		Func0816(item);
	}
	if (event == SCRIPTED) {
		Func0816(item);
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func0827 0x827 (var var0000, var var0001);
extern var Func080E 0x80E (var var0000);
extern void Func0836 0x836 (var var0000, var var0001);

void Func0314 shape#(0x314) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		var0000 = -1;
		var0001 = -1;
		var0002 = -3;
		Func0828(item, var0000, var0001, var0002, Func0314, item, BG_PATH_SUCCESS);
	}
	if ((event == BG_PATH_SUCCESS) || (event == SCRIPTED)) {
		if (event != SCRIPTED) {
			var0003 = Func0827(AVATAR, item);
			var0004 = script AVATAR {
				face var0003;
				continue;
				actor frame strike_1h;
				actor frame standing;
			};
		}
		var0005 = get_item_frame();
		if ((var0005 % 0x0002) == 0x0000) {
			set_item_frame(var0005 + 0x0001);
		} else {
			set_item_frame(var0005 - 0x0001);
		}
		UI_play_sound_effect2(0x001C, item);
		var0006 = get_item_quality();
		var0007 = find_nearby(0x0366, 0x000F, MASK_NONE);
		var0008 = find_nearby(0x0203, 0x000F, MASK_NONE);
		var0007 &= var0008;
		var0008 = [];
		for (var000B in var0007 with var0009 to var000A) {
			if (var000B->get_item_quality() == var0006) {
				var0008 &= var000B;
			}
		}
		var0004 = Func080E(var0008);
		Func0836(item, SHAPE_ANY);
	}
}

extern void Func08FE 0x8FE (var var0000);
extern void Func0925 0x925 (var var0000);

void Func0316 shape#(0x316) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		if (var0000->is_npc()) {
			var0000->set_item_flag(INVISIBLE);
		} else {
			if (var0000->get_item_flag(TEMPORARY)) {
				var0000->set_item_flag(INVISIBLE);
			}
			Func08FE("@Do not waste that!@");
		}
		UI_play_sound_effect2(0x0043, item);
		Func0925(item);
	}
}

extern void Func0809 0x809 (var var0000);

void Func031C shape#(0x31C) () {
	if (event == DOUBLECLICK) {
		Func0809(item);
	}
}

extern void Func0710 object#(0x710) ();
extern var Func0908 0x908 ();

void Func031D shape#(0x31D) () {
	var var0000;
	var var0001;

	var0000 = get_item_quality();
	if (var0000 == 0x002D) {
		item->Func0710();
		return;
	}
	UI_play_sound_effect2(0x000E, item);
	book_mode();
	if (var0000 > 0x0033) {
		say("This is not a valid scroll");
		return;
	}
	if (var0000 == 0x0000) {
		say("From the Desk of Lord British");
		return;
	}
	if (var0000 == 0x0001) {
		say("How to keep the Avatar busy for hours looking for a clue--");
		say("(please scroll forward)*");
		say("How to keep the Avatar very busy for hours looking for a clue--");
		say("(please scroll forward)*");
		say("How to keep the Avatar very very busy for hours looking for a clue --");
		say("(please scroll forward)*");
		say("How to keep the Avatar very -very- very busy for hours looking for a clue --");
		say("(please scroll forward)*");
		say("How to keep the Avatar so very -very- very incredibly busy for hours looking for a clue --");
		say("(please scroll forward)*");
		say("How to keep the Avatar so very -very- absolutely unbelievably and incredibly busy for hours looking for a clue --");
		say("(please scroll forward)*");
		say("When thou art not so busy, thou shouldst seek out Margareta the gypsy in Minoc and have thy fortune told!");
		say("Signed -  Chuckles");
		return;
	}
	if (var0000 == 0x0002) {
		say("KEEP BRITANNIA CLEAN -- SEND THE GARGOYLES BACK! ~~ ~~ ~~ Paid for by the Britannian Purity League");
		return;
	}
	if (var0000 == 0x0003) {
		if (gflags[0x012B]) {
			say("The cutting down of Silverleaf Trees will be done no longer by you. Your compliance is desired. You are thanked, Woodsman.~~Salamon~~ ~~Ben, the logger");
		} else {
			say("The cutting down of Silverleaf Trees will be done no longer by you. Your compliance is desired. You are thanked, Woodsman.~~Salamon");
		}
		return;
	}
	if (var0000 == 0x0004) {
		say("Bill of Punative Action for the Distribution of Waste Products in Lock Lake~~78934979.S3, section 835~~");
		say("Whereby the members of the offending party shall be immersed in the lake, heretofore refered to as Lock Lake, up to their necks for not more than three consecutive days and not fewer than...");
		return;
	}
	if (var0000 == 0x0005) {
		say("\"Thou hast received payment. Make the delivery tonight.\"");
		return;
	}
	if (var0000 == 0x0006) {
		say("Once the construction is complete, store the blackrock in the hold of The Crown Jewel.");
		return;
	}
	if (var0000 == 0x0007) {
		var0001 = Func0908();
		say("Finster - Britain (x)");
		say("Duncan - Buccaneer's Den (x)");
		say("Christopher - Trinsic (x)");
		say("Frederico - Minoc (x)");
		say("Tania - Minoc (x)");
		say("Alagner - New Magincia  (x)");
		say("Lord British - Britain ( )");
		say(var0001,
			", the Avatar - ( )");
		return;
	}
	if (var0000 == 0x0008) {
		say("The stone pedestal should be four feet high, three feet wide and two feet deep. Atop each of the three pedestals shall be set the three receptacles: the tetrahedron, the sphere, and the cube.~~All of these items for the defense mechanism of the portal have already been constructed by the Trinsic blacksmith.");
		return;
	}
	if (var0000 == 0x0009) {
		say("Crown Jewel~~Sunrise tomorrow - sail for the Isle of the Avatar!");
		return;
	}
	if (var0000 == 0x000A) {
		gflags[0x023F] = true;
		say("To tell you the amount of explosives is quite adequate to destroy the altars. To remind you of the need for silence, and of the punishment it will help you avoid.~~--Runeb");
		return;
	}
	if (var0000 == 0x000B) {
		say("The Narwhal shall be a fine, fine vessel, measuring 100 cubits from bow to stern. She shall be constructed of the finest Yew wood, with a ballast of thirty-seven cubits. After the planks are retrograded, I shall preceriprocate the bottom decks to insure their verbosity.~Each bunk shall fit exactly within the 3 foot by four 14 cubit cabin, except for the first mate and sergeant's quarters, which will be octagnal the size...~~ ~~Owen of Minoc");
		return;
	}
	if (var0000 == 0x000C) {
		say("BRITANNIAN TAX COUNCIL");
		say("TAX DECLARATION");
		say("To insure the proper record-keeping of thine income and spending, first replicate in triplicate the files numbered 37-A through 1204-W of the forms. Following each copy, compile the aggregate number of expenditures and multiply by tables 3, 69, 106. The next involves...");
		return;
	}
	if (var0000 == 0x000D) {
		say("First thou must needs fill a crucible with metal. Then, using the bellows, make the fire as hot as possible. When the flame no longer continues to glow, thou art ready to proceed by setting the crucible on the fire to melt the metal.~~ Afterwards, pour the molten metal into the blade mold and let it cool. Be warned! The crucible is at an extremely high temperature. Do not burn thyself.~~ With the tongs, lift the cooled blade from the mold. Again heat up the fire and set the blade within. Be careful not to let it lose its shape though. Just set it in there long enough to become malleable.~~ When it is ready, take it to the anvil and finish shaping it with the hammer. When thou hast the desired blade, find the quenching barrel and plunge the sword in the cool water. It will quickly harden.~~ All that thou must needs do now is to put the pommel over the tang. It takes some doing to make a fine, sturdy sword, but the finished weapon is well worth it!");
		return;
	}
	if (var0000 == 0x000E) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: The Scaly Eel~~COMPLETION DATE: 7-21-0355~~ INSPECTION DATE: 8-2-0355~~SHIPWRIGHT: Gargan of Trinsic");
		return;
	}
	if (var0000 == 0x000F) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: The Beast~~COMPLETION DATE: 3-12-0358~~ INSPECTION DATE: 3-19-0358~~SHIPWRIGHT: Clint of Britain");
		return;
	}
	if (var0000 == 0x0010) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: The Excellencia~~COMPLETION DATE:~~ INSPECTION DATE:~~SHIPWRIGHT: Owen of Minoc");
		return;
	}
	if (var0000 == 0x0011) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: The Nymphet~~COMPLETION DATE: 12-22-0357~~ INSPECTION DATE: 1-3-0358~~SHIPWRIGHT: Russell of New Magincia");
		return;
	}
	if (var0000 == 0x0012) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: The Lusty Wench~~COMPLETION DATE: 6-14-0327~~ INSPECTION DATE: 6-24-0359~~SHIPWRIGHT: Kethron of Moonglow");
		return;
	}
	if (var0000 == 0x0013) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: The Dragon's Breath~~COMPLETION DATE: 5-18-0342~~ INSPECTION DATE: 5-23-0342~~SHIPWRIGHT: Rohden of Britain");
		return;
	}
	if (var0000 == 0x0014) {
		say("       ZARA's DANCE~For the lute.");
		return;
	}
	if (var0000 == 0x0015) {
		say("       WINDY NIGHT~For the harp.");
		return;
	}
	if (var0000 == 0x0016) {
		say("       ONE OF THE BEAST~For the harpsichord.");
		return;
	}
	if (var0000 == 0x0017) {
		say("       SPRING FIRE~For the xylophone.");
		return;
	}
	if (var0000 == 0x0018) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME:~~COMPLETION DATE:~~INSPECTION DATE:~~ SHIPWRIGHT:");
		return;
	}
	if (var0000 == 0x0019) {
		say("Bill of Underwater Scavenging and Cricket Playing~~23568976.Y7, section 069~~Whereby the participants belonging to the first party of the first team may also engage in supplementary treasure seeking within the bounds of two-hundred and thirty-nine feet from the docks. ~~Whereby the participants belonging to the second party of the second team may follow accordingly provided they use no handkerchiefs within the bounds of seven and one-half feet of the first party of the first part. ~~Be it known the second party of the first part may not involve outside...");
		return;
	}
	if (var0000 == 0x001A) {
		say("   G.J.'S SKETCH PAD");
		return;
	}
	if (var0000 == 0x001B) {
		say("~~Between these columns, upon this pedestal, once sat the CODEX OF ULTIMATE WISDOM.~~Now it lies in the infinite darkness of the Void, forever shining as a beacon of knowledge to the races of man and gargoyle.~~Those who would seek the wisdom contained therein must unite the mystic lenses in the same manner as the Avatar did more than two hundred years ago.~Lord British~~To search for Singularity through Control, Passion, and Dilligence.~~Lord Draxinusom");
		return;
	}
	if (var0000 == 0x001C) {
		say("~     Ownership of Horse and Carriage~~This writ entitles the bearer to ownership and use of the wagon and its accompanying horse, Fletcher. Misuse of this writ by those not in full ownership of aforementioned wagon and horse is punishable under section 7890.3D5 of the Private Ownership of Goods and Livestock Act, as enforced by the Britannian Tax Council.");
		return;
	}
	if (var0000 == 0x001D) {
		say("~     Ownership of Horse and Carriage~~This writ entitles the bearer to ownership and use of the wagon and its accompanying horse, Brikabrak. Misuse of this writ by those not in full ownership of aforementioned wagon and horse is punishable under section 7890.3D5 of the Private Ownership of Goods and Livestock Act, as enforced by the Britannian Tax Council.");
		return;
	}
	if (var0000 == 0x001E) {
		say("Bill of Indoor Animal Housing~~89634510.P4, section 402~~");
		say("Whereby the participants belonging to the owning party are permitted to store both animal and goods related to the care of said animal indoors, providing...");
		return;
	}
	if (var0000 == 0x001F) {
		say("Bill of Carriage Construction ~~48382745.F3, section 058~~");
		say("Whereby wood-builders and metal-workers may cross skills without the need for guild officiation limited by the following principles...");
		return;
	}
	if (var0000 == 0x0020) {
		say("Bill of Cabin Construction Near Granite Zoned Districts~~ 48923013.Q4, section 193~~");
		say("Whereby the participants belonging to the Stone Masons's Guild may register compliants unto the party of the Cabin Builders, represented here as and/or by members for the Wood-Builders Guild with the intent of...");
		return;
	}
	if (var0000 == 0x0021) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: Anne's Revenge~~COMPLETION DATE:11-23-0198 ~~INSPECTION DATE: 1-17-0199~~SHIPWRIGHT: Alluria of New Magincia");
		return;
	}
	if (var0000 == 0x0022) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: Golden Hinde~~COMPLETION DATE: 7-08-0105 ~~INSPECTION DATE: 7-12-0105~~SHIPWRIGHT: Gendra of Trinsic");
		return;
	}
	if (var0000 == 0x0023) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: Bounty~~COMPLETION DATE: 5-27-0185 ~~INSPECTION DATE: 6-04-0185~~SHIPWRIGHT: Gibson of Minoc");
		return;
	}
	if (var0000 == 0x0024) {
		var0001 = Func0908();
		say("Dearest Iolo,~     In Buccaneer's Den I came across an old pirate who told me he had sailed across the waters of Britannia more times than I was summers old. On a gamble, I asked if he had ever heard of the legendary Serpent Isle. He had! And he even had a map that would tell how to locate the island. I bought the map and have already begun my search. However, I made a copy so that thou mayest follow me after thy current adventures have ended. I have left the copy with Lord British, but he promised he wouldst not give it to thee until thou hast completed thy explorations with ",
			var0001,
			".~~     'Til I see thee again, my love!~     Gwenno");
		return;
	}
	if (var0000 == 0x0025) {
		say("~~All is not as it seems...");
		return;
	}
	if (var0000 == 0x0026) {
		say("~     Ownership of Horse and Carriage~~This writ entitles the bearer to ownership and use of the wagon and its accompanying horse, ____________. Misuse of this writ by those not in full ownership of aforementioned wagon and horse is punishable under section 7890.3D5 of the Private Ownership of Goods and Livestock Act, as enforced by the Britannian Tax Council.");
		return;
	}
	if (var0000 == 0x0027) {
		say("~Very well. It is agreed that we attack Lord British's castle at the dawning of the seventh day.~~Fransisa~Corwin~ Brax~Athelas");
		return;
	}
	if (var0000 == 0x0028) {
		say("~     Selwyn's Last Will:~~");
		say("     I do hearby bequeath my firedoom staff to anyone who is mighty and cunning enough to penetrate the defenses of my fortress and slay my pet.~~");
		say("     May all who read this rot in death!~");
		say("          Selwyn");
		return;
	}
	if (var0000 == 0x0029) {
		say("     Throne of `Change' keeps thee at bay, but `Virtue' shall show the way!");
		return;
	}
	if (var0000 == 0x002A) {
		say("     I have been here for more days than I am able to remember, though I have not forgotten the day I entered this forsaken cave which has become my tomb. That was 2-29-0227. But my food ran out long ago, and the rats are more interested in eating me than letting me eat them. My strength is gone, as is my will. If thou dost find this, please tell Mythra I love her.");
		say("     --Denyel");
	}
	if (var0000 == 0x002B) {
		say("~     Lord British's Last Will and Testament:~~");
		say("     Being of sound mind and body, I hereby bequeath all of my belongings to... Nell, my beloved chambermaid. She has kept me warm so many nights, which is more than I can say for most of my bloody subjects! And to our unborn child, I bequeath my crown. Long live the king. Or queen, whichever it shall be!~~");
		say("          Lord British");
		return;
	}
	if (var0000 == 0x002C) {
		say("By proclamation of Lord British this is an official document denoting ownership of the heretofore mentioned sailing vessel. Forgery of this title is prohibited under law no. 1989832.A5, section 809.");
		say("     DEED~~SHIP NAME: Golden Ankh~~COMPLETION DATE: 3-8-0338~~ INSPECTION DATE: 3-18-0338~~SHIPWRIGHT: Clint of Britain");
		return;
	}
	if (var0000 == 0x002D) {
		item->Func0710();
		return;
	}
	if (var0000 == 0x002F) {
		say("Day 1: I circumvented the living statues and made it through the gate. Despite the long boat ride, I feel no weakness. I suspect the excitement of the quest gives my strength. I will rest soon.");
		say("Day 2: In the large room I encountered the lightening at the \"X.\" Very clever that -- predicting I would not trust  the marking. I will not be so foolish  again.");
		say("Day 3: I found a large chamber, one in which I can see fully its entire contents. Yet, there are invisible barriers that prevent me from entering.");
		say("Day 4: The barriers are not what I first suspected. They are walls. I can see the exit, and yet I cannot reach it. This is maddening!");
		say("Day 5: I wish I had brought more rations. I did not expect to be caught like this. I will starve soon if I do not find the way out... and food and water!");
		say("Day: I am still without food and whales... I seee but cannot... well hilp arrive in time!? I think but am thoughtful...");
		return;
	}
	if (var0000 == 0x0030) {
		say("... I have been in this wretched place for more weeks than I care to remember -- than I COULD remember were I to try. I have seen far too much in the way of deception and falsehood. I am forced to wonder how this maze of tunnels can demonstrate Truth. There is one lesson I can claim to have learned, thou I wonder with whom I can ever share it: I am not the Avatar. I wish with my last breath good luck to he... or she...  who can truly claim the Avatarhood. As I lay here dying, I ask but one request of the finder:  remember well my strug...");
		return;
	}
	if (var0000 == 0x0031) {
		say("... I write this with what little hope I have left. Frenke has now died -- killed by shooting balls of flame. I will attempt to navigate the treacherous tunnel of fire alone. Should my quest succeed, I will emerge the Avatar. I relflect not upon my other destiny...");
		say("     This will be my last entry. My ink is all but gone, much like my will. I no longer marvel at how a man can give up, like the poor fool we found at the end of the invisible maze. But I refuse to succumb to the call of my weary bones. I will trudge on.");
		return;
	}
	if (var0000 == 0x0032) {
		say("       SCROLL OF INFINITY~~ artifact TalismanOfInfinity -~ if Reality is Magic -~ if Locale(Artifact) is Void -~ Convex is FindInBritannia(ConvexLens)~ Concave is FindInBritannia(ConcaveLens)~ ~ if DoLightTest(Concave, Convex) -~ TalismanList is BritanniaSearch(Talisman)~ ~~ Counter is 0~ foreach Talisman in TalismanList -~ if KnowType(Talisman) is Truth -~ Counter is Counter and 1~ --~ if KnowType(Talisman) is Love -~ Counter is Counter and 1~ --~ if KnowType(Talisman) is Courage -~ Counter is Counter and 1~ --~ ~ if Counter is 3 -~ DoVoidAccess()~ ~~ InifinityAction is Action(Instance,~ aPlanarTravel, Britannia,~ aCallBack, TalismanOfInfinity)~ --~ if Reality is PseudoScience -~ EvilEntity is EntitySearch(All, Powerful, Evil)~ if EvilEntity -~ Check is PushReality(EvilEntity)~ if not Check -~ Test(\"Thou shalt never see this!\")");
		return;
	}
	if (var0000 == 0x0033) {
		say("The Diary of Erethian:~~");
		say("Entry #1:");
		say("     Perhaps someday I shall have the time and inclination to write on this parchment, but for now it pleases me not to.");
	}
}

void Func031E shape#(0x31E) () {
	if (event == DOUBLECLICK) {
		set_item_shape(0x031F);
		UI_play_sound_effect2(0x000E, item);
	}
}

extern var Func090B 0x90B (var var0000);
extern var Func0834 0x834 ();

void Func0326 shape#(0x326) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == PROXIMITY) {
		abort;
	}
	var0000 = get_npc_object()->get_schedule_type();
	0xFEFD->show_npc_face(0x0000);
	add(["name", "job", "bye"]);
	if (gflags[0x003D]) {
		add("password");
	}
	say("You see a tough-looking guard who takes his job -very- seriously.");
	converse (0) {
		case "name":
			say("\"My name is not important.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"I keep villains and knaves out of Trinsic and keep a record of all who leave. Thou must have a password to leave.\"");
			add("password");
			fallthrough;

		case "password":
			say("\"What is the password?\"");
			var0001 = ["Uhh, I don't know", "Long live the king", "Please"];
			if (gflags[0x003D]) {
				var0001 &= "Blackbird";
			}
			var0002 = Func090B(var0001);
			if (var0002 == "Blackbird") {
				var0003 = Func0834();
				var0003 = true;
				if (var0003) {
					say("\"Very well, thou mayest pass.\"*");
					abort;
				}
			} else {
				say("\"Thou dost not know the password. Sorry. The Mayor can give thee the proper password.\"");
				gflags[0x0042] = true;
			}
			fallthrough;

		case "bye":
			break;
	}
	say("\"Goodbye.\"*");
}

// Note: patched to fix underflows
extern var Func083C 0x83C (var var0000);
extern var Func083A 0x83A ();
extern void Func0933 0x933 (var var0000, var var0001, var var0002);
extern void Func060B object#(0x60B) ();

void Func0329 shape#(0x329) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if ((event == DOUBLECLICK) && (!in_usecode())) {
		UI_close_gumps();
		var0000 = Func083C(Func083A());
		if ((UI_game_hour() >= 0x000F) || (UI_game_hour() <= 0x0003)) {
			for (var0003 in var0000 with var0001 to var0002) {
				var0003->clear_item_flag(OKAY_TO_TAKE);
			}
			SMITHY->set_schedule_type(HOUND);
		}
		var0004 = UI_find_nearby_avatar(0x032E);
		var0005 = UI_find_nearby_avatar(0x0329);
		var0006 = UI_find_nearby_avatar(0x0332);
		if (UI_get_array_size(var0006) > 0x0000) {
			if (UI_get_array_size(var0005) == 0x0003) {
				if (UI_get_array_size(var0004) >= 0x0001) {
					gflags[0x001F] = false;
					gflags[0x0020] = false;
					gflags[0x0021] = false;
					Func0933(AVATAR, "@Spin baby!@", 0x0000);
					for (var0009 in var0005 with var0007 to var0008) {
						var000A = UI_die_roll(0x0000, 0x0002) * 0x0008;
						var0009->halt_scheduled();
						var000B = script var0009 {
							repeat 22 {
								next frame cycle;
								sfx 29;
							};
							repeat var000A {
								next frame cycle;
								sfx 29;
							};
							call Func060B;
						};
					}
				}
			}
		}
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func0944 0x944 (var var0000);
extern var Func0945 0x945 (var var0000);
extern var Func092D 0x92D (var var0000);
extern var Func093C 0x93C (var var0000, var var0001);
extern void Func0692 object#(0x692) ();
extern void Func0693 object#(0x693) ();
extern void Func0694 object#(0x694) ();
extern void Func0695 object#(0x695) ();

void Func032A shape#(0x32A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;
	var var001F;
	var var0020;
	var var0021;
	var var0022;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		var0000 = get_item_frame();
		if (var0000 == 0x0006) {
			return;
		}
		if (!get_container()) {
			var0001 = [ 0,  1,  1,  1, -1, -1,  0, -1];
			var0002 = [ 1,  1,  0, -1,  1,  0, -1, -1];
			Func0828(item, var0001, var0002, -3, Func032A, item, EGG);
		} else if (!Func0944(item)) {
			UI_close_gumps();
			var0003 = Func0945(item);
			var0001 = [ 0,  1, -1,  1];
			var0002 = [ 2,  1,  2,  0];
			Func0828(var0003, var0001, var0002, -3, Func032A, item, EGG);
		} else {
			UI_close_gumps();
			var0004 = script item {
				wait 2;
				call Func032A;
			};
		}
	}
	if (event == EGG) {
		var0003 = Func0945(item);
		var0005 = Func092D(var0003);
		if (var0003->is_npc()) {
			var0004 = script AVATAR->get_npc_object() {
				face var0005;
				actor frame ready;
				wait 3;
				actor frame standing;
			};
			var0004 = script item {
				wait 3;
				call Func0692;
				wait 2;
				call Func032A;
			};
		} else {
			var0004 = script AVATAR->get_npc_object() {
				face var0005;
				actor frame bowing;
				wait 3;
				actor frame standing;
			};
			var0004 = script item {
				wait 3;
				call Func0692;
				wait 2;
				call Func032A;
			};
		}
	}
	if (event == SCRIPTED) {
		var0000 = get_item_frame();
		var0006 = UI_click_on_item();
		var0007 = var0006->get_item_shape();
		if ((var0007 == 0x02D1) || (var0007 == 0x03DD)) {
			if (var0000 == 0x0002) {
				AVATAR->get_npc_object()->item_say("@No, thank thee.@");
			} else if (var0000 == 0x0000) {
				AVATAR->get_npc_object()->item_say("@The bucket is empty.@");
			} else {
				AVATAR->get_npc_object()->item_say("@Ahhh, how refreshing.@");
				var0004 = script item {
					frame 0;
				};
			}
			return;
		}
		if (var0006->is_npc()) {
			var0001 = [ 0,  2,  0, -2];
			var0002 = [ 2,  0, -2,  0];
			if (var0000 == 0x0000) {
				AVATAR->get_npc_object()->item_say("@The bucket is empty.@");
			} else {
				var0004 = script var0006 {
					repeat 50 {
						wait 1;
					};
				};
				Func0828(var0006, var0001, var0002, 0x0000, Func032A, var0006, WEAPON);
			}
		}
		if (var0007 == 0x02E5) {
			var0001 = [-1, -2, -1, -2,  1,  1, -4, -4];
			var0002 = [ 1,  1, -2, -2,  0, -1,  0, -1];
			Func0828(var0006, var0001, var0002, 0, Func032A, item, BG_PATH_SUCCESS);
		}
		if (var0007 == 0x02CF) {
			var0001 = [ 1,  1, -2, -2,  0, -1,  0, -1];
			var0002 = [-1, -2, -1, -2,  1,  1, -4, -4];
			Func0828(var0006, var0001, var0002, 0, Func032A, item, BG_PATH_SUCCESS);
		}
		if (var0007 == 0x02E3) {
			if ((var0006->get_item_frame() >= 0x0004) && (var0006->get_item_frame() <= 0x0007)) {
				var0001 = [-1, -2,  1,  1, -1, -2, -4, -4];
				var0002 = [ 1,  1, -1, -2, -4, -4, -1, -2];
				if (var0000 == 0x0000) {
					AVATAR->get_npc_object()->item_say("@The bucket is empty.@");
				}
				if (var0000 > 0x0001) {
					return;
				}
				if (var0000 == 0x0001) {
					Func0828(var0006, var0001, var0002, 0, Func032A, var0006, BG_PATH_FAILURE);
				}
			} else {
				return;
			}
		}
		if ((var0007 == 0x0152) || ((var0007 == 0x01B3) || ((var0007 == 0x02BD) || ((var0007 == 0x0292) || (var0007 == 0x0339))))) {
			var0001 = [ 2,  0, -2,  0];
			var0002 = [ 0,  2,  0, -2];
			if (var0000 == 0x0000) {
				AVATAR->get_npc_object()->item_say("@The bucket is empty.@");
			}
			if (var0000 > 0x0001) {
				return;
			}
			if (var0000 == 0x0001) {
				Func0828(var0006, var0001, var0002, -5, Func032A, var0006, BG_PATH_FAILURE);
			}
		}
		if (var0007 == 0x02E4) {
			if (var0000 == 0x0000) {
				var0008 = var0006->find_nearest(0x01D6, 0x0003);
				if (var0008) {
					var0001 = [-5, -5];
					var0002 = [-1, -1];
					Func0828(var0008, var0001, var0002, 0, Func032A, item, PATH_SUCCESS_9);
				}
			} else {
				AVATAR->get_npc_object()->item_say("@The bucket is full.@");
			}
		}
		if (var0007 == 0x01D6) {
			if (var0000 == 0x0000) {
				var0001 = [-5, -5];
				var0002 = [-1, -1];
				Func0828(var0006, var0001, var0002, 0, Func032A, item, PATH_SUCCESS_9);
			} else {
				AVATAR->get_npc_object()->item_say("@The bucket is full.@");
			}
		}
		if (var0007 == 0x014B) {
			if (var0000 == 0x0000) {
				AVATAR->get_npc_object()->item_say("@The bucket is empty.@");
				return;
			}
			var0006 = Func093C(var0006[0x0001], var0006);
			var0006[0x0001] = var0006[0x0001];
			var0006[0x0002] += 0x0001;
			var0009 = UI_path_run_usecode(var0006, Func032A, item, PATH_SUCCESS);
		}
		if (var0006[0x0001] == 0x0000) {
			if (var0000 == 0x0000) {
				AVATAR->get_npc_object()->item_say("@The bucket is empty.@");
				return;
			}
			var0006 = Func093C(var0006[0x0001], var0006);
			var0006[0x0002] += 0x0001;
			var0009 = UI_path_run_usecode(var0006, Func032A, item, PATH_SUCCESS);
		}
	}
	if (event == WEAPON) {
		var000A = AVATAR->get_npc_object()->get_cont_items(0x032A, QUALITY_ANY, FRAME_ANY);
		var0000 = var000A->get_item_frame();
		var000B = Func092D(item);
		var000C = (var000B + 0x0004) % 0x0008;
		if (var0000 == 0x0002) {
			var000D = script item {
				face var000C;
				wait 2;
				say "@Foul miscreant!@";
				wait 5;
			};
		} else {
			var000D = script item {
				face var000C;
				wait 2;
				say "@Hey, stop that!@";
				wait 5;
			};
		}
		var000E = script AVATAR->get_npc_object() {
			face var000B;
			actor frame strike_1h;
			actor frame ready;
			actor frame standing;
		};
		var000F = script var000A {
			wait 2;
			frame 0;
		};
	}
	if (event == BG_PATH_SUCCESS) {
		var0010 = false;
		var0010 = AVATAR->get_npc_object()->find_nearest(0x02E5, 0x0005);
		if (!var0010) {
			var0010 = AVATAR->get_npc_object()->find_nearest(0x02CF, 0x0005);
		}
		if (var0010) {
			var0000 = get_item_frame();
			var0011 = var0010->get_item_frame();
			if (var0000 > 0x0001) {
				return;
			}
			if (var0000 == 0x0001) {
				if ((var0011 == 0x0003) || (var0011 == 0x0007)) {
					AVATAR->get_npc_object()->item_say("@The trough is full.@");
					return;
				}
				var0012 = var0011 + 0x0001;
				var0013 = 0x0000;
			} else if ((var0011 == 0x0000) || (var0011 == 0x0004)) {
				AVATAR->get_npc_object()->item_say("@The trough is empty.@");
				return;
			} else {
				var0012 = var0011 - 0x0001;
				var0013 = 0x0001;
			}
			var0005 = Func092D(var0010);
			var000E = script AVATAR->get_npc_object() {
				face var0005;
				actor frame bowing;
				wait 2;
				actor frame standing;
			};
			var0014 = script var0010 {
				wait 2;
				frame var0012;
				continue;
				sfx 40;
			};
			var000F = script item {
				wait 2;
				frame var0013;
			};
		}
	}
	if (event == BG_PATH_FAILURE) {
		var000A = AVATAR->get_npc_object()->get_cont_items(0x032A, QUALITY_ANY, 0x0001);
		var0000 = var000A->get_item_frame();
		var0007 = get_item_shape();
		var0015 = get_item_frame();
		if (var0007 == 0x02E3) {
			if (var0015 == 0x0004) {
				AVATAR->get_npc_object()->item_say("@There are only coals.@");
				return;
			}
			if (var0015 == 0x0007) {
				var0016 = script item {
					call Func0693;
					continue;
					previous frame cycle;
					previous frame cycle;
					previous frame cycle;
				};
			}
			if (var0015 == 0x0006) {
				var0016 = script item {
					call Func0693;
					continue;
					previous frame cycle;
					previous frame cycle;
				};
			}
			if (var0015 == 0x0005) {
				var0016 = script item {
					call Func0693;
					continue;
					previous frame cycle;
				};
			}
			var0005 = Func092D(item);
			var000E = script AVATAR->get_npc_object() {
				face var0005;
				actor frame bowing;
				wait 2;
				actor frame standing;
			};
		}
		if ((var0007 == 0x0152) || ((var0007 == 0x01B3) || (var0007 == 0x02BD))) {
			var0017 = get_object_position();
			if (var0015 == 0x0010) {
				var0018 = 0x0002;
				var0005 = Func092D(item);
				var000E = script AVATAR->get_npc_object() {
					face var0005;
					actor frame strike_1h;
					actor frame ready;
					actor frame standing;
					wait 1;
					say "@I can't douse it.@";
				};
			} else {
				var0018 = 0x0003;
				var0019 = get_item_quality();
				if (var0007 == 0x0152) {
					var001A = 0x0150;
				}
				if (var0007 == 0x01B3) {
					var001A = 0x01E1;
				}
				if (var0007 == 0x02BD) {
					var001A = 0x0253;
				}
				remove_item();
				var001B = UI_create_new_object(var001A);
				var0004 = var001B->set_item_quality(var0019);
				var001B->set_item_frame(var0015);
				var001C = UI_update_last_created(var0017);
				var0005 = Func092D(item);
				var000E = script AVATAR->get_npc_object() {
					face var0005;
					actor frame strike_1h;
					actor frame ready;
					actor frame standing;
				};
			}
			if ((var0017[0x0003] == 0x0002) || (var0017[0x0003] == 0x0003)) {
				var0018 += 0x0001;
			}
			if ((var0017[0x0003] == 0x0004) || (var0017[0x0003] == 0x0005)) {
				var0018 += 0x0002;
			}
			if ((var0017[0x0003] == 0x0006) || (var0017[0x0003] == 0x0007)) {
				var0018 += 0x0003;
			}
			if ((var0017[0x0003] == 0x0008) || (var0017[0x0003] == 0x0009)) {
				var0018 += 0x0004;
			}
			if ((var0017[0x0003] == 0x000A) || (var0017[0x0003] == 0x000B)) {
				var0018 += 0x0005;
			}
			if ((var0017[0x0003] == 0x000C) || (var0017[0x0003] == 0x000D)) {
				var0018 += 0x0006;
			}
			var001D[0x0001] = var0017[0x0001] - var0018;
			var001D[0x0002] = var0017[0x0002] - var0018;
			UI_sprite_effect(ANIMATION_POOF, var001D[0x0001], var001D[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x002E);
		}
		if (var0007 == 0x0339) {
			if (var0015 == 0x0000) {
				AVATAR->get_npc_object()->item_say("@There are only coals.@");
				return;
			}
			var001E = script item {
				frame 0;
			};
			var0005 = Func092D(item);
			var000E = script AVATAR->get_npc_object() {
				face var0005;
				actor frame bowing;
				wait 2;
				actor frame standing;
			};
			var001F = get_object_position();
			UI_sprite_effect(ANIMATION_POOF, var001F[0x0001], var001F[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x002E);
		}
		if (var0007 == 0x0292) {
			if (var0015 == 0x0000) {
				var0005 = Func092D(item);
				var000E = script AVATAR->get_npc_object() {
					face var0005;
					actor frame bowing;
					wait 2;
					actor frame standing;
				};
				set_item_frame(0x0002);
			}
		}
	}
	if (event == STARTED_TALKING) {
		var0020 = AVATAR->get_npc_object()->find_nearest(0x02E4, 0x000A);
		var0021 = var0020->get_item_frame();
		if ((var0021 >= 0x0000) && (var0021 <= 0x000B)) {
			var0021 = 0x0001;
		}
		if ((var0021 >= 0x000C) && (var0021 <= 0x0017)) {
			var0021 = 0x000D;
		}
		var0022 = script var0020 {
			wait 1;
			frame var0021;
			wait 2;
			next frame cycle;
			wait 1;
			next frame cycle;
			wait 1;
			next frame cycle;
			wait 1;
			next frame cycle;
			wait 1;
			next frame cycle;
		};
		var000E = script AVATAR->get_npc_object() {
			face east;
			actor frame strike_1h;
			wait 2;
			face south;
			wait 1;
			actor frame raise_1h;
			wait 1;
			actor frame reach_1h;
			wait 1;
			actor frame ready;
			wait 1;
			actor frame strike_1h;
			wait 4;
		};
		var000F = script item {
			wait 17;
			call Func0695;
		};
	}
	if (event == PATH_SUCCESS) {
		var000E = script AVATAR->get_npc_object() {
			face north;
			actor frame bowing;
			wait 3;
			actor frame standing;
		};
		var000F = script item {
			wait 3;
			call Func0694;
		};
	}
}

extern var Func093D 0x93D (var var0000, var var0001);
extern var Func0908 0x908 ();
extern void Func08FF 0x8FF (var var0000);
extern var Func0932 0x932 (var var0000);
extern void Func08FE 0x8FE (var var0000);
extern void Func0609 object#(0x609) ();

void Func0334 shape#(0x334) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	var0000 = item;
	var0001 = var0000->get_item_quality();
	if (event == EGG) {
		if (get_item_shape() != 0x0334) {
			var0000 = var0000->find_nearby(0x0334, 0x0005, MASK_ALL_UNSEEN);
			var0000 = Func093D(var0000, var0000);
			if (!var0000) {
				abort;
			}
		}
		var0001 = var0000->get_item_quality();
		var0002 = [];
		if (var0001 == 0x0007) {
			var0002 = [0x0258, 0x026F, 0x022D];
		}
		if (var0001 == 0x0008) {
			var0002 = 0x0273;
		}
		if (var0001 == 0x0009) {
			var0002 = 0x0280;
		}
		if (var0001 == 0x000A) {
			var0002 = 0x028E;
		}
		if (var0001 == 0x000B) {
			var0002 = [0x0284, 0x0285, 0x0286];
		}
		var0003 = false;
		for (var0006 in var0002 with var0004 to var0005) {
			if (var0000->find_nearby(var0006, 0x0005, MASK_ALL_UNSEEN)) {
				if (var0001 < 0x000B) {
					var0001 += 0x0001;
					var0007 = var0000->set_item_quality(var0001);
					UI_close_gumps();
					var0003 = true;
					break;
				}
				var0008 = var0000->get_object_position();
				UI_sprite_effect(ANIMATION_TELEPORT, var0008[0x0001], var0008[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_play_sound_effect(0x0044);
				var0000->remove_item();
				UI_close_gumps();
				abort;
			}
		}
		if (!var0003) {
			abort;
		}
	}
	if (event == SCRIPTED) {
		LORD_BRITISH->kill_npc();
		LORD_BRITISH->halt_scheduled();
		LORD_BRITISH->remove_npc();
		return;
	}
	var0009 = Func0908();
	if (var0001 > 0x0041) {
		var000A = "This is not a valid plaque ";
	} else if (var0001 == 0x0000) {
		var000A = ["important", "event", "to\{dot}be", "recorded", "here"];
	} else if (var0001 == 0x0001) {
		var000A = ["tomb\{dot}of", "kronos", "forgotten", "but\{dot}not", "forgiven"];
	} else if (var0001 == 0x0002) {
		var000A = ["royal", "\{th}\{ea}tre"];
	} else if (var0001 == 0x0003) {
		var000A = ["FELLOWSHIP", "HALL"];
	} else if (var0001 == 0x0004) {
		var000A = ["TEST", "OF", "STRENGTH"];
	} else if (var0001 == 0x0005) {
		var000A = ["MEDITATION", "RETREAT"];
	} else if (var0001 == 0x0006) {
		var000A = ["SHRINE OF", "THE CODEX"];
	} else if (var0001 == 0x0007) {
		var000A = ["hammer", "here", "to", "enter"];
	} else if (var0001 == 0x0008) {
		var000A = ["pick\{dot}item", "carefully", "to\{dot}k\{ee}p", "goi\{ng}"];
		Func08FF(["By Jove, I think thou art on the right track!", "The sign appears to have changed!", "Look at it now!"]);
	} else if (var0001 == 0x0009) {
		var000A = ["a\{dot}golden", "ring\{dot}of", "tru\{th}", "faces\{dot}\{th}\{ee}"];
	} else if (var0001 == 0x000A) {
		var000A = ["grasp", "not", "at", "\{th}r\{ea}ds"];
	} else if (var0001 == 0x000B) {
		var000A = ["\{th}e", "royal\{dot}mint", "shall\{dot}not", "hold\{dot}\{th}\{ee}", "back"];
	} else if (var0001 == 0x000C) {
		var000A = "GO THIS WAY";
	} else if (var0001 == 0x000D) {
		var000A = ["DO NOT", "GO", "THIS WAY"];
	} else if (var0001 == 0x000E) {
		var000A = ["DO NOT GO", "IN", "THE", "WOODEN DOOR"];
	} else if (var0001 == 0x000F) {
		var000A = ["DO NOT", "GO IN", "THE", "WINDOWED", "DOOR"];
	} else if (var0001 == 0x0010) {
		var000A = ["GO", "IN", "THE", "STEEL", "DOOR"];
	} else if (var0001 == 0x0011) {
		var000A = ["DO NOT", "GO", "IN THE", "GREEN DOOR"];
	} else if (var0001 == 0x0012) {
		var000A = ["ONLY", "ONE", "OF THESE", "SIGNS", "IS TRUE"];
	} else if (var0001 == 0x0013) {
		var000A = ["AT LEAST", "TWO SIGNS", "ARE", "FALSE"];
	} else if (var0001 == 0x0014) {
		var000A = ["NATIONAL", "BRANCH"];
	} else if (var0001 == 0x0015) {
		var000A = ["ART THOU", "AN", "AVATAR?"];
	} else if (var0001 == 0x0016) {
		var000A = ["RESERVE", "THY", "SEATS", "NOW!"];
	} else if (var0001 == 0x0017) {
		var000A = ["THE BONES OF", "ZOG:", "EARLIEST", "BRITANNIAN", "FOSSIL"];
	} else if (var0001 == 0x0018) {
		var000A = ["SWAMP BOOTS", "ONCE WORN", "BY THE", "AVATAR"];
	} else if (var0001 == 0x0019) {
		var000A = ["MANITTZI'S", "HARPSICORD", "USED WHILE", "COMPOSING"];
	} else if (var0001 == 0x001A) {
		var000A = ["\{dot}ANIA", "OF", "SPRING\{dot}"];
	} else if (var0001 == 0x001B) {
		var000A = ["\{dot}marney\{dot}", "skara\{dot}braes", "fine\{st}", "flower"];
	} else if (var0001 == 0x001C) {
		var000A = ["\{th}e", "wayfarers", "inn"];
	} else if (var0001 == 0x001D) {
		var000A = ["\{th}e", "blue", "boar"];
	} else if (var0001 == 0x001E) {
		var000A = ["royal", "museum"];
	} else if (var0001 == 0x001F) {
		var000A = ["\{th}e", "music", "hall"];
	} else if (var0001 == 0x0020) {
		var000A = ["town", "hall"];
	} else if (var0001 == 0x0021) {
		var000A = ["royal", "mint"];
	} else if (var0001 == 0x0022) {
		var000A = ["THE", "THRONE", "OF", "MANY", "CHANGES"];
	} else if (var0001 == 0x0023) {
		var000A = ["THE", "THRONE", "OF", "VIRTUE"];
	} else if (var0001 == 0x0024) {
		var000A = ["LORD", "BRITISH'S", "MUSKET"];
	} else if (var0001 == 0x0025) {
		var000A = ["THE", "STONES", "OF", "VIRTUE"];
	} else if (var0001 == 0x0026) {
		var000A = ["SILVER", "HORN", "ONCE USED", "BY THE", "GARGOYLES"];
	} else if (var0001 == 0x0027) {
		var000A = ["TO SUMMON", "THE", "SILVER", "SNAKES"];
	} else if (var0001 == 0x0028) {
		var000A = ["THE ANKH", "", "SYMBOL OF", "THE", "VIRTUES"];
	} else if (var0001 == 0x0029) {
		var000A = ["LORD", "BRITISH"];
	} else if (var0001 == 0x002A) {
		var000A = ["THE", "AVATAR"];
	} else if (var0001 == 0x002B) {
		var000A = ["THE", "VORTEX", "CUBE"];
	} else if (var0001 == 0x002C) {
		var000A = ["THE", "RUNES", "OF", "THE", "VIRTUES"];
	} else if (var0001 == 0x002D) {
		var000A = ["\{th}e", "game", "of", "knights", "bridge"];
	} else if (var0001 == 0x002E) {
		var000A = ["DO NOT", "ENTER"];
	} else if (var0001 == 0x002F) {
		var000A = ["blow", "horn", "to", "summon", "ferry"];
	} else if (var0001 == 0x0030) {
		var0008 = get_object_position();
		var000B = LORD_BRITISH->get_object_position();
		if ((Func0932(var0008[0x0001] - var000B[0x0001]) <= 0x0002) && (Func0932(var0008[0x0002] - var000B[0x0002]) <= 0x0002)) {
			var0007 = script item {
				call Func0609;
				call Func0609;
				call Func0609;
				remove;
			};
			var0007 = script LORD_BRITISH {
				wait 3;
				sfx 19;
				actor frame standing;
				actor frame kneeling;
				sfx 86;
				continue;
				actor frame sleeping;
				call Func0334;
			};
			Func08FE(["", "@He's dead, Avatar!@", "@Yancey-Hausman will pay!@"]);
			var0007 = script AVATAR {
				nohalt;
				speech 26;
			};
			return;
		}
		var000A = ["THE", "THRONE", "ROOM", "OF", "LORD", "BRITISH"];
	} else if (var0001 == 0x0031) {
		var000A = ["SEE IF", "THOU ART", "THE NEXT", "LORD OF", "BRITANNIA"];
	} else if (var0001 == 0x0032) {
		var000A = ["in", "lovi\{ng}", "memory", "of", "mama"];
	} else if (var0001 == 0x0033) {
		var000A = ["BEWARE", "THE", "DRAGON"];
	} else if (var0001 == 0x0034) {
		var000A = ["for", "\{th}e", "love", "of", "marney"];
	} else if (var0001 == 0x0035) {
		var000A = ["\{dot}j\{dot}r\{dot}r\{dot}t\{dot}", "a\{dot}gr\{ea}t", "man", "a\{dot}gr\{ea}t", "writer"];
	} else if (var0001 == 0x0036) {
		var000A = ["THE", "BRITANNIAN", "LENS"];
	} else if (var0001 == 0x0037) {
		var000A = ["THE", "GARGOYLE", "LENS"];
	} else if (var0001 == 0x0038) {
		var000A = ["EX", "POR"];
	} else if (var0001 == 0x0039) {
		var000A = ["\{th}e", "te\{st}", "of", "love"];
	} else if (var0001 == 0x003A) {
		var000A = ["\{th}e", "te\{st}", "of", "courage"];
	} else if (var0001 == 0x003B) {
		var000A = ["nor\{th}", "is", "\{th}e", "way"];
	} else if (var0001 == 0x003C) {
		var000A = ["tru\{th}", "is", "tru\{th}"];
	} else if (var0001 == 0x003D) {
		var000A = ["only", "app\{ea}rances", "are", "deceptive"];
	} else if (var0001 == 0x003E) {
		var000A = ["well", "done"];
	} else if (var0001 == 0x003F) {
		var000A = ["\{th}e", "keys", "of", "tru\{th}"];
	} else if (var0001 == 0x0040) {
		var000A = ["tru\{st}\{dot}not", "always\{dot}\{th}e", "obvious", "path"];
	} else if (var0001 == 0x0041) {
		var000A = ["\{th}ou", "do\{st}\{dot}not", "wish\{dot}to", "see\{dot}\{th}is"];
	}
	UI_display_runes(0x0033, var000A);
}

extern void Func0925 0x925 (var var0000);
extern void Func08FE 0x8FE (var var0000);

void Func0336 shape#(0x336) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if (var0000 == 0x0000) {
			var0001 = UI_click_on_item();
			var0002 = var0001->get_item_shape();
			if ((var0002 == 0x02DA) || (var0002 == 0x0360)) {
				set_item_frame(0x0001);
			} else if (var0001->get_item_shape() == 0x0336) {
				if (var0001->get_item_frame() == 0x0002) {
					Func0925(item);
				}
			} else {
				Func08FE("@Those are for babies.@");
			}
		}
		if (var0000 == 0x0001) {
			var0001 = UI_click_on_item();
			if (var0001->is_npc()) {
				var0001->set_schedule_type(IN_COMBAT);
				var0001->set_attack_mode(FLEE);
				var0001->set_oppressor(AVATAR);
				Func0925(item);
			} else if (var0001->get_item_shape() == 0x0336) {
				if (var0001->get_item_frame() == 0x0002) {
					Func0925(item);
				}
			}
		}
		if (var0000 == 0x0002) {
			Func08FE("@That is for dirty diapers.@");
		}
	}
}

extern void Func08FE 0x8FE (var var0000);

void Func0337 shape#(0x337) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if (var0000 < 0x0002) {
			Func08FE("@Finger-painting again?@");
		} else {
			var0001 = UI_click_on_item();
			var0002 = var0001->get_item_shape();
			if (var0002 == 0x0337) {
				if (var0001->get_item_frame() < 0x0002) {
					var0001 = UI_click_on_item();
					if (var0001->get_item_shape() == 0x0345) {
						var0003 = var0001->get_item_frame() % 0x0008;
						var0004 = UI_die_roll(0x0001, 0x000A);
						if (var0004 == 0x0001) {
							var0005 = "@Looks great!@";
						}
						if (var0004 == 0x0002) {
							var0005 = "@Do not quit your day job.@";
						}
						if (var0004 == 0x0003) {
							var0005 = "@I can barely" & "see the numbers.@";
						}
						if (var0004 == 0x0004) {
							var0005 = "@Stay within the lines.@";
						}
						if (var0004 == 0x0005) {
							var0005 = "@What is it?@";
						}
						Func08FE(var0005);
						if (var0003 < 0x0007) {
							var0001->set_item_frame(var0001->get_item_frame() + 0x0001);
						}
					} else if (var0001->is_npc()) {
						Func08FE("@Tattooing?@");
					} else {
						Func08FE(["@The stain will", "never come out.@"]);
					}
				}
			} else {
				Func08FE("@Use pigments!@");
			}
		}
	}
}

extern void Func08FF 0x8FF (var var0000);
extern void Func08FE 0x8FE (var var0000);
extern var Func0937 0x937 (var var0000);
extern void Func0925 0x925 (var var0000);

void Func033B shape#(0x33B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		if (var0000->is_npc()) {
			var0001 = var0000->get_npc_prop(STRENGTH);
			var0002 = var0000->get_npc_prop(HEALTH);
			if (var0002 == var0001) {
				Func08FF("@It does not appear as though a bandage is needed.@");
			} else {
				if (var0000->get_npc_number() == AVATAR) {
					Func08FE("@Much better.@");
				} else if (Func0937(var0000)) {
					var0003 = UI_die_roll(0x0001, 0x0003);
					if (var0003 == 0x0001) {
						var0000->item_say("@Ah, much better!@");
					}
					if (var0003 == 0x0002) {
						var0000->item_say("@Thank thee!@");
					}
					if (var0003 == 0x0003) {
						var0000->item_say("@That looks better.@");
					}
				}
				var0003 = UI_die_roll(0x0001, 0x0004);
				if ((var0002 + var0003) > var0001) {
					var0003 = var0001 - var0002;
				}
				var0003 = var0000->set_npc_prop(HEALTH, var0003);
				Func0925(item);
			}
		} else {
			Func08FE("@Do not soil the bandages.@");
		}
	}
}

extern var Func081F 0x81F (var var0000);

void Func033C shape#(0x33C) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	if (get_item_quality() == 0x0000) {
		var0000 = Func081F(item);
	}
}

extern var Func0908 0x908 ();
extern void Func08FF 0x8FF (var var0000);

void Func0345 shape#(0x345) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = ("@Thou shouldst use the brush and pigments, " + Func0908()) + ".@";
		Func08FF(var0000);
	}
}

extern void Func0269 shape#(0x269) ();

void Func0347 shape#(0x347) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if (var0000 == 0x0001) {
			if (gflags[0x0004]) {
				0x0269->get_npc_object()->Func0269();
				UI_play_sound_effect2(0x0043, item);
			}
		}
	}
}

extern var Func080D 0x80D ();
extern void Func0812 0x812 (var var0000);
extern var Func08B3 0x8B3 (var var0000);
extern void Func08FF 0x8FF (var var0000);

void Func0348 shape#(0x348) () {
	var var0000;
	var var0001;

	var0000 = get_barge();
	if ((event == DOUBLECLICK) && (!(var0000 == 0x0000))) {
		if (!get_item_flag(ON_MOVING_BARGE)) {
			if (Func080D()) {
				Func0812(var0000);
			} else if (Func08B3(item)) {
				UI_close_gumps();
			}
		} else if (var0000->get_item_flag(OKAY_TO_LAND)) {
			clear_item_flag(ON_MOVING_BARGE);
			clear_item_flag(ACTIVE_BARGE);
			var0001 = script var0000 {
				repeat 10 {
					descent;
					nop;
				};
			};
			UI_play_music(0x00FF, 0x0000);
		} else {
			Func08FF("@I do not believe that we can land here safely.@");
		}
	}
}

extern void Func0813 0x813 (var var0000, var var0001, var var0002);

void Func034A shape#(0x34A) () {
	if (get_item_frame() == 0x0004) {
		Func0813(item, 0x0002, 0x005B);
	}
}

extern var Func0820 0x820 (var var0000);

void Func034D shape#(0x34D) () {
	var var0000;

	if (event != DOUBLECLICK) {
		return;
	}
	if (get_item_quality() == 0x0000) {
		var0000 = Func0820(item);
	}
}

extern void Func06F6 object#(0x6F6) ();

void Func0350 shape#(0x350) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if (var0000 == 0x0003) {
			var0001 = script item {
				sfx 67;
				continue;
				repeat 4 {
					next frame cycle;
					wait 4;
				};
				wait 2;
				call Func06F6;
			};
		}
	}
	if (event == SCRIPTED) {
		gflags[0x032F] = true;
		item->Func06F6();
	}
}

extern void Func08FF 0x8FF (var var0000);

void Func0353 shape#(0x353) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = ("@That appears to be fine cloth, no doubt it would fetch " + "a fair price in Minoc. Or, perhapse, thou couldst cut ") + "it into bandages with shears.@";
		Func08FF(var0000);
	}
}

extern var Func090A 0x90A ();
extern void Func06F9 object#(0x6F9) ();

void Func0356 shape#(0x356) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		if (gflags[0x0317]) {
			abort;
		}
		var0000 = get_item_frame();
		if (var0000 == 0x0010) {
			0xFEE1->show_npc_face(0x0000);
			if (gflags[0x030C]) {
				say("\"Our gratitude is thine, Avatar. Thou hast saved Britannia from what might have become a second Age of Darkness. Again, thou dost prove thy worthiness to be the instrument of Lord British.\"");
				abort;
			}
			if (gflags[0x0318]) {
				say("\"Salutations, Avatar. I can assist thee no more, but remember my words: the Psyche returns to the Core...\"*");
				abort;
			}
			if (!gflags[0x0316]) {
				say("Suddenly, your mind is filled with the crystal-clear resonance of an authoritative voice.~\"Greeting to thee. I am the keeper of Truth. Dost thou seek the wisdom and boon of Truth?\"");
				gflags[0x0316] = true;
			} else {
				say("The Shrine of Truth speaks. \"Greetings, seeker. Once again I ask thee, Dost thou seek my enlightenment?\"");
			}
			if (Func090A()) {
				say("\"Very well. Prepare thyself.\" The voice falls silent.*");
				var0001 = script item {
					wait 1;
					call Func06F9;
				};
			} else {
				say("\"I wish thee well, then.\"*");
				abort;
			}
		}
		if (var0000 == 0x000E) {
			0xFEE1->show_npc_face(0x0001);
			if (gflags[0x030C]) {
				say("\"Thy Love for life is boundless. Thine heart-felt actions are a shining example to all of Britannia.\"*");
				abort;
			}
			if (gflags[0x0327]) {
				say("\"Welcome, Avatar. I can help thee no further, save to offer the advice I gave before: A great evil stirs in Britannia...\"*");
				abort;
			}
			if (!gflags[0x031A]) {
				say("An unearthly beautiful voice sighs gently into your conciousness. \"Greetings, Avatar. I represent the embodiment of Love. If thou dost seek enlightenment , thou must take the Test of\tLove. Its path lies through the glowing, blue portal to the south.\"*");
				gflags[0x031A] = true;
			} else {
				say("\"I welcome thee again, seeker. I cannot aid thee until thy successful completion of the Test of Love.\"*");
			}
			abort;
		}
		if (var0000 == 0x000F) {
			0xFEE1->show_npc_face(0x0002);
			if (gflags[0x030C]) {
				say("\"Thine onus is abated and Britannia is free of Exodus' grasp once more. Thy deeds will long be rembered as the most courageous in the history of this land.\"*");
				abort;
			}
			if (gflags[0x0341]) {
				say("\"Hail, mighty Avatar! Thou must not fail in thy quest to find the Talisman of Infinity. Remember: the scroll that will unlock its secret lies within this castle.\"*");
				abort;
			}
			if (!gflags[0x0329]) {
				say("A strong, vibrant voice rings out in your mind. \"Greetings seeker! I am the Keeper of Courage. If thou hast the will to seek my reward, thou must enter the portal to the south.\"*");
				gflags[0x0329] = true;
			} else {
				say("\"Again I say to thee, my path lies through the portal to the south. Enter if thou hast the Courage, seeker...\"*");
			}
			abort;
		}
	}
	if (event == WEAPON) {
		var0000 = get_item_frame();
		if (var0000 == 0x0010) {
			0xFEE1->say("\"Thou hast mastered the Test of Truth, and so a boon of great intellect and magical ability will be bestowed upon thee. Use -- and respect -- thy powers well, Avatar.\"");
		}
		if (var0000 == 0x000E) {
			0xFEE1->show_npc_face(0x0001);
			say("\"My heart is gladdened to learn that Love is a Principle thou dost hold dear, evident by thy successful completion of the Test of Love. Now, then, shall a blessing of quickness and skill be thine.\"");
		}
		if (var0000 == 0x000F) {
			0xFEE1->show_npc_face(0x0002);
			say("\"Well done, mighty warrior! The unsurpassed Courage which flows through thy veins could be none other than that of the Avatar. Thou hast proven thyself worthy of the reward of Courage with Valor, Sacrifice, Honor, and Spirituality... Receive it now\tin Humility.\"*");
		}
		0xFEE1->hide();
		var0002 = script AVATAR->get_npc_object() {
			wait 2;
			actor frame bowing;
			wait 2;
			actor frame kneeling;
			wait 10;
			actor frame bowing;
			wait 2;
			actor frame standing;
		};
		var0001 = script item {
			wait 8;
			call Func0356;
		};
	}
	if (event == SCRIPTED) {
		var0000 = get_item_frame();
		if (var0000 == 0x0010) {
			if (!gflags[0x0318]) {
				var0003 = AVATAR->get_npc_object()->get_object_position();
				UI_sprite_effect(ANIMATION_TELEPORT, (var0003[0x0001] - 0x0001), (var0003[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_play_sound_effect(0x0043);
				var0004 = AVATAR->get_npc_object()->get_npc_prop(INTELLIGENCE);
				var0004 &= AVATAR->get_npc_object()->get_npc_prop(MAX_MANA);
				var0004 &= AVATAR->get_npc_object()->get_npc_prop(MANA);
				if (!(var0004[0x0001] >= 30)) {
					var0005 = AVATAR->get_npc_object()->set_npc_prop(INTELLIGENCE, 30 - var0004[0x0001]);
				}
				if (!(var0004[0x0002] >= 30)) {
					var0005 = AVATAR->get_npc_object()->set_npc_prop(MAX_MANA, 30 - var0004[0x0002]);
					var0005 = AVATAR->get_npc_object()->set_npc_prop(MANA, 30 - var0004[0x0003]);
				}
				gflags[0x0318] = true;
				var0006 = script item {
					wait 15;
					call Func0356;
				};
			} else {
				0xFEE1->say("\"Thou hast now experienced the full meaning of the Principle of Truth. The value of such is beyond measure, for truth shall guide thee throughout thy life's endeavors.\"");
				say("The statue's voice takes on a warning tone. \"Know this Truth: the Psyche returns to the Core...\" With that said, the statue becomes quiet once more.*");
				gflags[0x0317] = false;
				abort;
			}
		}
		if (var0000 == 0x000E) {
			if (!gflags[0x0327]) {
				var0003 = AVATAR->get_npc_object()->get_object_position();
				UI_sprite_effect(ANIMATION_TELEPORT, (var0003[0x0001] - 0x0001), (var0003[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_play_sound_effect(0x0043);
				var0004 = AVATAR->get_npc_object()->get_npc_prop(DEXTERITY);
				var0004 &= AVATAR->get_npc_object()->get_npc_prop(COMBAT);
				if (!(var0004[0x0001] >= 30)) {
					var0005 = AVATAR->get_npc_object()->set_npc_prop(DEXTERITY, 30 - var0004[0x0001]);
				}
				if (!(var0004[0x0002] >= 30)) {
					var0005 = AVATAR->get_npc_object()->set_npc_prop(COMBAT, 30 - var0004[0x0002]);
				}
				gflags[0x0327] = true;
				var0006 = script item {
					wait 15;
					call Func0356;
				};
			} else {
				0xFEE1->show_npc_face(0x0001);
				say("\"Now hast thou earnestly experienced all that is Love. 'Tis a benefit never to be taken lightly, for Love is a formidible motivator. Remember always the lessons in Compassion, Sacrifice, and Justice thou hast mastered.\"");
				say("The voice of the Keeper of Love fills with compassion as she speaks. \"Do have a care, Avatar. For a great evil stirs within Britannia, I know not the source.\"*");
				gflags[0x0317] = false;
				abort;
			}
		}
		if (var0000 == 0x000F) {
			if (!gflags[0x0341]) {
				var0003 = AVATAR->get_npc_object()->get_object_position();
				UI_sprite_effect(ANIMATION_TELEPORT, (var0003[0x0001] - 0x0001), (var0003[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_play_sound_effect(0x0043);
				var0004 = AVATAR->get_npc_object()->get_npc_prop(STRENGTH);
				var0004 &= AVATAR->get_npc_object()->get_npc_prop(HEALTH);
				if (!(var0004[0x0001] >= 30)) {
					var0005 = AVATAR->get_npc_object()->set_npc_prop(STRENGTH, 30 - var0004[0x0001]);
				}
				if (!(var0004[0x0002] >= 30)) {
					var0005 = AVATAR->get_npc_object()->set_npc_prop(HEALTH, 30 - var0004[0x0002]);
				}
				gflags[0x0341] = true;
				var0006 = script item {
					wait 15;
					call Func0356;
				};
				return;
			}
			0xFEE1->show_npc_face(0x0002);
			say("Urgency breaks into the voice of the statue. \"I lay upon thee a geas, and as thou art the Avatar, thou art bound to respond. Thy quest is to seek the Talisman of Infinity. Within this castle there lies a scroll which can tell thee of its use. Go now, for time grows short.*");
			gflags[0x0317] = false;
			abort;
		}
	}
}

extern void Func08FF 0x8FF (var var0000);
extern void Func0933 0x933 (var var0000, var var0001, var var0002);

void Func035F shape#(0x35F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if (var0000 == 0x0000) {
			var0001 = UI_click_on_item();
			var0002 = var0001->get_object_position();
			var0003 = var0001->get_item_shape();
			var0004 = -1;
			if (var0003 == 0x03FA) {
				var0004 = var0002[0x0001] - UI_die_roll(0x0000, 0x0003);
				var0005 = var0002[0x0002];
				var0006 = var0002[0x0003] + 0x0002;
			}
			if (var0003 == 0x03EB) {
				var0004 = var0002[0x0001];
				var0005 = var0002[0x0002] - UI_die_roll(0x0000, 0x0002);
				var0006 = var0002[0x0003] + 0x0002;
			}
			if (var0004 == -1) {
				Func08FF("@Why not put the flour on the table first?@");
			} else {
				var0007 = UI_create_new_object(0x0292);
				if (var0007) {
					var0007->set_item_flag(TEMPORARY);
					var0007->set_item_frame(0x0000);
					var0008 = UI_update_last_created([var0004, var0005, var0006]);
				}
			}
		}
		if ((var0000 == 0x0008) || (var0000 == 0x0009)) {
			var0001 = UI_click_on_item();
			if (var0001->get_item_shape() == 0x0292) {
				if (var0001->get_item_frame() == 0x0002) {
					var0001->set_item_frame(0x0001);
				}
			}
			Func0933(var0001, "@Hey! That really hurt!@", 0x0000);
		}
		if ((var0000 == 0x000D) || (var0000 == 0x000E)) {
			set_item_frame(0x0000);
		}
	}
}

extern void Func080A 0x80A (var var0000, var var0001);

void Func0369 shape#(0x369) () {
	var var0000;

	if (event == DOUBLECLICK) {
		var0000 = get_container();
		if (var0000) {
			return;
		}
		Func080A(item, 0x0369);
	}
}

extern void Func0833 0x833 (var var0000, var var0001);
extern void Func03A7 shape#(0x3A7) ();

void Func036C shape#(0x36C) () {
	if (event == SCRIPTED) {
		set_item_shape(0x036C);
		abort;
	}
	if (event == DOUBLECLICK) {
		UI_flash_mouse(CURSOR_HAND);
		return;
	}
	Func0833(item, Func03A7);
}

extern var Func093C 0x93C (var var0000, var var0001);
extern void Func061C object#(0x61C) ();

void Func0378 shape#(0x378) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		if (get_item_frame() == 0x0001) {
			UI_play_music(0x0030, item);
			var0000 = Func093C(item, find_nearby(0x0378, 0x007D, MASK_NONE));
			if (UI_get_array_size(var0000) == 0x0001) {
				var0001 = get_object_position();
				var0002 = var0000->get_object_position();
				if (var0001[0x0001] < var0002[0x0001]) {
					var0003 = true;
				} else {
					var0003 = false;
				}
				if (gflags[0x0197]) {
					var0004 = false;
				} else {
					var0004 = true;
				}
				if (var0003 == var0004) {
					var0005 = AVATAR->find_nearby(0x009B, 0x0064, MASK_NONE);
					if (var0005) {
						var0005->set_camera();
						var0005->get_barge()->Func061C();
					}
				}
			}
		} else {
			UI_play_music(0x0018, item);
		}
	}
}

void Func0379 shape#(0x379) () {
	var var0000;
	var var0001;

	if ((event == DOUBLECLICK) || (event == SCRIPTED)) {
		var0000 = UI_create_new_object(0x01B8);
		if (var0000) {
			var0001 = get_object_position();
			var0001[0x0001] += 0x0003;
			var0001[0x0002] += 0x0003;
			var0000->set_item_frame(UI_die_roll(0x0000, 0x0007));
			if (UI_update_last_created(var0001)) {
				set_item_shape(0x020E);
				UI_play_sound_effect2(0x006A, item);
			}
		}
	}
}

extern void Func092A 0x92A (var var0000, var var0001);

void Func037D shape#(0x37D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = get_item_quality();
		var0001 = UI_click_on_item();
		UI_play_sound_effect2(0x005A, item);
		if (var0000 == 0x0001) {
			var0001->set_item_flag(ASLEEP);
		}
		if (var0000 == 0x0002) {
			var0002 = UI_die_roll(0x0001, 0x000A);
			var0003 = 0x000D - var0002;
			Func092A(var0001, var0003);
		}
		if (var0000 == 0x0003) {
			var0001->clear_item_flag(POISONED);
			var0001->clear_item_flag(PARALYZED);
			var0001->clear_item_flag(ASLEEP);
			var0001->clear_item_flag(CHARMED);
			var0001->clear_item_flag(CURSED);
		}
		if (var0000 == 0x0004) {
			var0001->set_item_flag(POISONED);
		}
		if (var0000 == 0x0005) {
			var0001->clear_item_flag(ASLEEP);
		}
		if (var0000 == 0x0006) {
			var0001->set_item_flag(PROTECTION);
		}
		if (var0000 == 0x0007) {
			UI_cause_light(0x0064);
		}
		if (var0000 == 0x0008) {
			var0001->set_item_flag(INVISIBLE);
		}
	}
}

extern void Func0832 0x832 (var var0000, var var0001);
extern void Func036C shape#(0x36C) ();

void Func03A7 shape#(0x3A7) () {
	if (event == SCRIPTED) {
		set_item_shape(0x03A7);
		abort;
	}
	if (event == DOUBLECLICK) {
		UI_flash_mouse(CURSOR_HAND);
		return;
	}
	Func0832(item, Func036C);
}

extern void Func0832 0x832 (var var0000, var var0001);
extern void Func012F shape#(0x12F) ();

void Func03A8 shape#(0x3A8) () {
	if (event == SCRIPTED) {
		set_item_shape(0x03A8);
		abort;
	}
	if (event == DOUBLECLICK) {
		UI_flash_mouse(CURSOR_HAND);
		return;
	}
	Func0832(item, Func012F);
}

extern var Func0937 0x937 (var var0000);

void Func03B0 shape#(0x3B0) () {
	var var0000;

	if (event == DOUBLECLICK) {
		if (get_item_frame()) {
			if (Func0937(AVATAR)) {
				AVATAR->item_say("ptui!");
				if (!UI_in_gump_mode()) {
					var0000 = script item after 3 ticks {
						sfx 24;
					};
				}
			}
		}
	}
}

void Func03B2 shape#(0x3B2) () {
	var var0000;

	var0000 = get_npc_object()->get_schedule_type();
	if (event == PROXIMITY) {
		abort;
	}
	0xFEFE->show_npc_face(0x0000);
	add(["name", "job", "bye"]);
	say("You see a tough-looking guard who takes his job -very- seriously.");
	converse (0) {
		case "name":
			say("\"I am a guard.\"");
			remove("name");
			fallthrough;

		case "job":
			say("The man looks at you like you are an ignoramus. \"I am a guard, idiot. Thou shouldst go about thy business.\"");
			fallthrough;

		case "bye":
			break;
	}
	say("\"Goodbye.\"*");
}

extern void Func083E 0x83E (var var0000, var var0001);

void Func03B5 shape#(0x3B5) () {
	UI_close_gumps();
	Func083E(item, event);
}

extern void Func083E 0x83E (var var0000, var var0001);

void Func03B6 shape#(0x3B6) () {
	UI_close_gumps();
	Func083E(item, event);
}

extern void Func0805 0x805 (var var0000);
extern void Func0807 0x807 (var var0000);
extern void Func0803 0x803 (var var0000);

void Func03C8 shape#(0x3C8) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = get_item_frame();
		if (var0000 == 0x0000) {
			Func0805(item);
		}
		if (var0000 == 0x0001) {
			Func0807(item);
		}
		if (var0000 == 0x0002) {
			Func0803(item);
		}
	}
	if (event == SCRIPTED) {
		var0001 = get_object_position();
		UI_sprite_effect(ANIMATION_TELEPORT, (var0001[0x0001] - 0x0003), (var0001[0x0002] - 0x0003), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	}
}

extern var Func082E 0x82E (var var0000);

void Func03D5 shape#(0x3D5) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = var0000->get_item_shape();
		var0002 = var0000->get_object_position();
		if ((var0001 == 0x0241) && (var0000->get_item_frame() == get_item_frame())) {
			var0003 = set_last_created();
			if (var0003) {
				var0002[0x0003] += 0x0002;
				var0003 = UI_update_last_created(var0002);
			}
		} else {
			UI_flash_mouse(CURSOR_HAND);
		}
		var0003 = Func082E(item);
	}
}

void Func03DB shape#(0x3DB) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		// Equivalent code to everything up to, and including, the call
		// to run_script:
		//var0001 = script item {
		//	repeat 2 {
		//		frame 0;
		//		frame 1;
		//		frame 2;
		//		sfx 17;
		//		frame 2;
		//		frame 1;
		//		frame 0;
		//		frame 3;
		//		frame 4;
		//		sfx 17;
		//		frame 4;
		//		frame 3;
		//		frame 0;
		//	};
		//};
		var0000 = new script {
			frame 0;
			frame 1;
			frame 2;
			sfx 17;
			frame 2;
			frame 1;
			frame 0;
			frame 3;
			frame 4;
			sfx 17;
			frame 4;
			frame 3;
			frame 0;
		};
		// Note: need to add a way to do this in UCC without hard-coding the
		// opcodes like this. Specifically, data flow so that the repeat
		// can detect the number of bytes needed from the given array.
		var0001 = item->run_script(var0000 & [(byte)0x0B, -26, 2]);
		if (UI_die_roll(0x0001, 0x000A) == 0x0001) {
			var0002 = get_object_position();
			set_item_shape(0x03E0);
			var0003 = UI_create_new_object(0x02DA);
			var0003->set_item_flag(TEMPORARY);
			var0003->set_item_flag(OKAY_TO_TAKE);
			if (var0003) {
				var0001 = UI_update_last_created(var0002);
				if (var0001) {
					var0003->item_say("@Whaaahh!!@");
				}
			}
		}
	}
}

void Func03DE shape#(0x3DE) () {
	var var0000;

	if (event == DOUBLECLICK) {
		if (!gflags[0x0301]) {
			gflags[0x0301] = true;
			AVATAR->show_npc_face(UI_is_pc_female());
			say("You feel as if your mind is being probed, delicately at first, then with more insistance. Images of long past memories flit before your eyes and old emotions resurface. At one point, the images pause as you remember the words Love, Sol, Moons, and Death then a strange sense of deja vu comes over you as the vision comes up to the current time. The images cease and a vast wave of power overwhelms you. A wall of darkness falls...");
			AVATAR->hide();
			var0000 = script AVATAR->get_npc_object() {
				actor frame bowing;
				wait 1;
				actor frame kneeling;
				wait 1;
				actor frame sleeping;
				repeat 5 {
					wait 1;
				};
			};
			var0000 = script item {
				wait 5;
				call Func02C3;
			};
		} else {
			AVATAR->show_npc_face(UI_is_pc_female());
			say("Your mind is quickly probed, then cast aside, leaving you feeling slightly ill and filled with an irrational sense of forboding.");
		}
	}
	if (event == SCRIPTED) {
		UI_fade_palette(0x000C, 0x0001, 0x0001);
		var0000 = script AVATAR->get_npc_object() {
			wait 3;
			actor frame kneeling;
			wait 2;
			actor frame bowing;
			wait 1;
			actor frame standing;
		};
	}
}

extern void Func026F shape#(0x26F) ();

void Func03DF shape#(0x3DF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		if (AVATAR->is_readied(BG_WEAPON_HAND, 0x026F, FRAME_ANY)) {
			var0000 = find_nearest(0x029C, 0x0003);
			if (var0000) {
				var0001 = var0000->get_object_position();
				var0002 = get_object_position();
				if (var0001[0x0001] == var0002[0x0001]) {
					if (var0001[0x0002] == var0002[0x0002]) {
						if (var0001[0x0003] == (var0002[0x0003] + 0x0001)) {
							var0003 = var0000->get_item_frame();
							if ((var0003 >= 0x000A) && (var0003 <= 0x000C)) {
								item->Func026F();
							}
						}
					}
				}
			}
		}
	}
}

void Func03E0 shape#(0x3E0) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		// Equivalent code to everything up to, and including, the call
		// to run_script:
		//var0001 = script item {
		//	repeat 2 {
		//		frame 0;
		//		frame 1;
		//		frame 2;
		//		sfx 17;
		//		frame 2;
		//		frame 1;
		//		frame 0;
		//		frame 3;
		//		frame 4;
		//		sfx 17;
		//		frame 4;
		//		frame 3;
		//		frame 0;
		//	};
		//};
		var0000 = new script {
			frame 0;
			frame 1;
			frame 2;
			sfx 17;
			frame 2;
			frame 1;
			frame 0;
			frame 3;
			frame 4;
			sfx 17;
			frame 4;
			frame 3;
			frame 0;
		};
		// Note: need to add a way to do this in UCC without hard-coding the
		// opcodes like this. Specifically, data flow so that the repeat
		// can detect the number of bytes needed from the given array.
		var0001 = item->run_script(var0000 & [(byte)0x0B, -26, 2]);
	}
}

extern void Func0800 0x800 (var var0000);

void Func03F3 shape#(0x3F3) () {
	if (event == DOUBLECLICK) {
		Func0800(item);
	}
}

void Func03F5 shape#(0x3F5) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		if (!in_usecode()) {
			// Equivalent code to everything up to, and including, the call
			// to run_script:
			//var0001 = script item {
			//	repeat 2 {
			//		frame 0;
			//		frame 1;
			//		frame 2;
			//		sfx 17;
			//		frame 2;
			//		frame 1;
			//		frame 0;
			//		frame 3;
			//		frame 4;
			//		sfx 17;
			//		frame 4;
			//		frame 3;
			//		frame 0;
			//	};
			//};
			var0000 = new script {
				frame 0;
				frame 1;
				frame 2;
				sfx 17;
				frame 2;
				frame 1;
				frame 0;
				frame 3;
				frame 4;
				sfx 17;
				frame 4;
				frame 3;
				frame 0;
			};
			halt_scheduled();
			// Note: need to add a way to do this in UCC without hard-coding the
			// opcodes like this. Specifically, data flow so that the repeat
			// can detect the number of bytes needed from the given array.
			var0001 = item->run_script(var0000 & [(byte)0x0B, -26, 2]);
		}
	}
}

extern void Func0893 0x893 ();
extern void Func0892 0x892 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern void Func0891 0x891 ();
extern void Func0890 0x890 ();
extern void Func0894 0x894 (var var0000);

void Func03F7 shape#(0x3F7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		if (get_cont_items(0x031D, 0x00F3, 0x0004)) {
			0xFEE0->show_npc_face(0x0000);
			if (gflags[0x0328]) {
				Func0893();
			}
			if (!gflags[0x031C]) {
				Func0892();
			}
			if (gflags[0x031F]) {
				if (!gflags[0x0322]) {
					var0000 = Func0931(PARTY, 0x0001, 0x0282, 0x0090, FRAME_ANY);
					if (var0000) {
						say("\"Hast thou in thy possesion the book on the Stone of Castambre?\"");
						if (Func090A()) {
							say("His eyes reveal his hope. As he takes the book from you, it almost appears as if he is smiling.\"");
							Func0891();
						} else {
							say("\"That is, indeed, a pity,\" he says, shaking his head in sadness.");
						}
					}
				}
			}
			if (!gflags[0x0314]) {
				say("\"Greetings to thee, honorable one. I can but assume that my presence here was thy doing.\" It becomes quickly apparent that this creature possesses a greater\tcapability for speech than his fallen companion.");
				if (gflags[0x031C]) {
					var0001 = AVATAR->find_nearby(0x019E, 0x0028, MASK_NONE);
					for (var0004 in var0001 with var0002 to var0003) {
						var0005 = var0004->get_item_frame();
						if ((var0005 == 0x0004) || (var0005 == 0x0005)) {
							say("The recently raised golem stares down at the prone, lifeless body of Bollux. Quickly he looks up at you.~\"Wh-what has happened?\"");
							Func0890();
							return;
						}
					}
				} else {
					say("\"Now thou must excuse me, for I am off to find my fellow sentry.\"*");
					gflags[0x0314] = true;
					abort;
				}
			} else if (gflags[0x031E]) {
				say("\"Hail, friend. I hope that I may assist thee in some way.\"");
				Func0890();
			} else {
				say("\"Art thou here to aid me in healing my brother?\"");
				if (Func090A()) {
					say("\"Very good. I am pleased to call thee friend.\"");
					gflags[0x031E] = true;
					Func0890();
				} else {
					say("\"Then begone, for I have work to do!\"*");
					abort;
				}
			}
		} else if (get_cont_items(0x031D, 0x00F4, 0x0004) || (find_nearby(0x031D, 0x0001, MASK_ALL_UNSEEN)->get_item_quality() == 0x00F4)) {
			Func0894(item);
		}
	}
}

extern void Func0269 shape#(0x269) ();

void Func03FD shape#(0x3FD) () {
	0x0269->get_npc_object()->Func0269();
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern void Func08DD 0x8DD ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);
extern void Func06AA object#(0x6AA) ();
extern void Func06FA object#(0x6FA) ();

void Func0401 object#(0x401) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	gflags[0x0014] = true;
	var0000 = Func0908();
	var0001 = UI_get_party_list();
	var0002 = IOLO->get_npc_object();
	var0003 = Func0909();
	var0004 = UI_is_pc_female();
	if (event == EGG) {
		if ((!gflags[0x003B]) && ((!gflags[0x005C]) && AVATAR->get_item_flag(DONT_RENDER))) {
			UI_play_music(0x0023, 0x0000);
			var0005 = script AVATAR->get_npc_object() after 125 ticks {
				nohalt;
				call Func06AA;
			};
			var0005 = script IOLO->get_npc_object() {
				nohalt;
				music 35, 1;
				say "@There, there...@";
			};
			var0005 = script PETRE->get_npc_object() after 16 ticks {
				nohalt;
				say "@'Tis horrible!@";
			};
			var0005 = script IOLO->get_npc_object() after 33 ticks {
				nohalt;
				say "@I know, 'tis shocking!@";
			};
			var0005 = script PETRE->get_npc_object() after 49 ticks {
				nohalt;
				say "@Who could have done it?@";
			};
			var0005 = script IOLO->get_npc_object() after 65 ticks {
				nohalt;
				say "@I know not...@";
			};
			var0005 = script PETRE->get_npc_object() after 81 ticks {
				nohalt;
				say "@He had no enemies...@";
			};
			var0005 = script IOLO->get_npc_object() after 97 ticks {
				nohalt;
				say "@Poor man.@";
			};
			var0005 = script PETRE->get_npc_object() after 113 ticks {
				nohalt;
				say "@What is to be done?@";
			};
			var0005 = script IOLO->get_npc_object() after 129 ticks {
				nohalt;
				say "@I know not...@";
			};
			gflags[0x005C] = true;
			abort;
		}
		IOLO->add_to_party();
	}
	if ((gflags[0x003B] == false) && (event == SCRIPTED)) {
		IOLO->say("A rather large, familiar man looks up and sees you. The shock that is evident from his dumbfounded expression quickly evolves into delight. He smiles broadly.~~\"",
			var0000,
			"! If I did not trust the infallibility of mine own eyes, I would not believe it! I was just thinking to myself, 'If only the Avatar were here!' Then...~~\"Lo and behold! Who says that magic is dying! Here is living proof that it is not!~~ \"Dost thou realize, ",
			var0000,
			", that it hath been 200 Britannian years since we last met? Why, thou hast not aged at all!\"");
		say("Iolo winks conspiratorially. He whispers, \"Due no doubt to the difference in the structure of time in our original homeland and that of Britannia?\"~~He resumes speaking aloud. \"I have aged a little, as thou canst see. But of course, I have stayed here in Britannia all this time.~~\"Oh, but Avatar! Wait until I tell the others! They will be happy to see thee! Welcome to Trinsic!\"*");
		PETRE->show_npc_face(0x0000);
		if (var0004) {
			var0006 = "her";
		} else {
			var0006 = "him";
		}
		say("The distraught peasant interrupts Iolo. \"Show ",
			var0006,
			" the stables, milord. 'Tis horrible!\"*");
		PETRE->hide();
		IOLO->say("Iolo nods, his joy fading quickly as he is reminded of the reason he was standing there in the first place.~~ \"Ah, yes. Our friend Petre here discovered something truly ghastly this morning. Take a look inside the stables. I shall accompany thee.\"");
		if (!UI_mouse_exists()) {
			say("Iolo takes you aside and whispers, \"Avatar, for the sake of our mutual sanity, I strongly suggest that thou shouldst purchase a mouse.\"");
		}
		var0007 = script AVATAR->get_npc_object() after 5 ticks {
			nohalt;
			finish;
			wait 20;
			call Func06FA;
		};
		Func08DD();
		IOLO->add_to_party();
		PETRE->get_npc_object()->set_schedule_type(TEND_SHOP);
		FINNIGAN->get_npc_object()->set_schedule_type(TALK);
		IOLO->get_npc_object()->halt_scheduled();
		PETRE->get_npc_object()->halt_scheduled();
		if (!gflags[0x003B]) {
			var0005 = script item {
				nohalt;
				music 0, 0;
			};
			gflags[0x003B] = true;
		}
		abort;
	}
	if (event == DOUBLECLICK) {
		var0000 = Func0908();
		var0001 = UI_get_party_list();
		var0002 = IOLO->get_npc_object();
		var0003 = Func0909();
		IOLO->show_npc_face(0x0000);
		var0008 = Func08F7(PETRE);
		var0009 = Func08F7(SHAMINO);
		var000A = false;
		var000B = false;
		add(["name", "job", "bye"]);
		if (gflags[0x02EA]) {
			if (UI_get_timer(0x000B) < 0x0001) {
				say("\"I am sorry, I do not join thieves.\"");
				abort;
			}
			say("\"All right, I suppose thou hast learned thy lesson. I shall rejoin.\"");
			IOLO->add_to_party();
			gflags[0x02EA] = false;
			abort;
		}
		if (!gflags[0x0057]) {
			add("Trinsic");
		}
		if (var0002 in var0001) {
			add("leave");
		}
		if (!(var0002 in var0001)) {
			add("join");
		}
		if (gflags[0x003F]) {
			add("Fellowship");
		}
		if (var0008) {
			add("Petre");
		}
		if (gflags[0x003C] && (!gflags[0x0057])) {
			add("murder");
		} else {
			add("stables");
		}
		if (gflags[0x003C]) {
			remove("stables");
		}
		say("\"Yes, my friend?\" Iolo asks.");
		converse (0) {
			case "name":
				say("Your friend snorts. \"What, art thou joking, ",
					var0003,
					"? Thou dost not know thine old friend Iolo?\"");
				remove("name");
				fallthrough;

			case "stables":
				say("\"Thou must see for thyself, ",
					var0000,
					". Brace thyself, my friend. 'Tis truly a horrible sight.\"*");
				abort;

			case "job":
				say("\"Why, right now 'tis adventuring with that most courageous of all legendary heroes, the Avatar!\"");
				add("Avatar");
				remove("job");
				fallthrough;

			case "Avatar":
				say("\"Why, there is no doubt -thou- art the Avatar, ",
					var0000,
					"! However, thou mayest have some trouble convincing those who do not know thy face.~~\"Of course, thou -shouldst- be safe around thy friends!\"");
				remove("Avatar");
				add(["trouble", "friends"]);
				fallthrough;

			case "trouble":
				say("\"Well, after all, thou hast been gone for 200 years! Most of those who would recognize thee are long gone! Sorry to be blunt and all, my friend, but there it is.\"");
				remove("trouble");
				fallthrough;

			case "murder":
				if (!gflags[0x003D]) {
					say("\"Ugly, is it not? From what I have heard, neither Christopher nor Inamo deserved so grisly a death. Thou shouldst certainly ask everyone in town about it.\"");
					add(["Christopher", "Inamo"]);
				} else {
					say("\"I wish thee luck in determining what is going on. I haven't a clue!\" Iolo grins broadly, patting you on the back.");
				}
				remove("murder");
				fallthrough;

			case "Lord British":
				var000A = true;
				if (gflags[0x0065]) {
					say("\"Well, between thee and me, I think that he hath aged much more than I!\"");
					say("\"Full of information, that chap. But he never seems to leave Britain anymore.\"");
				} else {
					say("\"My liege will be enormously pleased to see thee. We should travel to Britain post haste. I am sure he can give thee some valuable information and update thee on much of what thou hast missed in the 200 years of thine absence.\"");
				}
				if (!var000B) {
					add("Britain");
				}
				add("information");
				remove("Lord British");
				fallthrough;

			case "information":
				say("\"Certainly. LB is always a repository of the most amazing facts, eh? Probably something to do with listening and not always talking.\"");
				if (var0009) {
					say("\"Right, Shamino?\"~~Shamino grunts and turns away as Iolo grins mischievously.");
				}
				say("\"Speaking of information, reminds me of something! I have a little item which might be useful to thee. 'Tis an abacus. Use it to tally up all of our gold.\"");
				remove("information");
				fallthrough;

			case "friends":
				say("\"Thou must mean Shamino and Dupre.\"");
				remove("friends");
				add(["Shamino", "Dupre"]);
				fallthrough;

			case "Dupre":
				var000C = Func08F7(DUPRE);
				if (var000C) {
					say("\"Why, he is right there, ",
						var0003,
						".\"*");
					DUPRE->say("\"I am right here, ",
						var0003,
						".\"*");
					DUPRE->hide();
					IOLO->say("\"See? I told thee!\"");
				} else {
					say("\"I am sure we shall find him somewhere. Last I heard, he was in Jhelom. Didst thou know he was knighted?\"");
					if (Func090A()) {
						say("\"Hard to believe, is it not?\"");
					} else {
						say("\"It's true! Lord British knighted him recently. Why he did so, I cannot imagine!\"");
						if (!var000A) {
							add("Lord British");
						}
					}
				}
				remove("Dupre");
				fallthrough;

			case "Shamino":
				if (var0009) {
					say("\"Why, he is right there, ",
						var0003,
						".\"*");
					SHAMINO->say("\"I am right here, ",
						var0003,
						".\"*");
					SHAMINO->hide();
					IOLO->say("\"See? I told thee!\"");
				} else {
					say("\"Thy best bet in finding that rascal is to look in Britain. He has a girlfriend employed as an actress at the Royal Theatre.\"");
					if (!var000B) {
						add("Britain");
					}
				}
				remove("Shamino");
				fallthrough;

			case "Trinsic":
				say("\"The town has changed little, has it not? Everyone seems a little defensive, though. When we ran into each other, I was passing through and had stopped to visit my friend Finnigan.\"");
				remove("Trinsic");
				add(["defensive", "Finnigan"]);
				fallthrough;

			case "defensive":
				say("\"I think it best for thee to speak with them thyself. There have been many changes since last thou didst visit, Avatar. I think thou wilt feel at times a bit... well, old-fashioned.\"");
				remove("defensive");
				fallthrough;

			case "Britain":
				var000B = true;
				say("\"It has grown since thou last saw it. Paws is now a virtual township of Britain! It dominates the east coast of Britannia.~~\"Lord British's castle is still the overwhelming feature.\"");
				remove("Britain");
				if (!var000A) {
					add("Lord British");
				}
				add("Paws");
				fallthrough;

			case "Paws":
				say("\"It still lies between Britain and Trinsic, but it has grown further into Britain itself.\"");
				remove("Paws");
				fallthrough;

			case "Finnigan":
				say("\"He is a good man. The Mayor of Trinsic, he is. I have known him for years.\"");
				remove("Finnigan");
				fallthrough;

			case "Christopher":
				say("\"I did not know him, ",
					var0003,
					".\"");
				remove("Christopher");
				fallthrough;

			case "Inamo":
				say("\"I never spoke with him. It is truly a shame. There are not many gargoyles living amongst the humans. This will only discourage the practice even more.\"");
				remove("Inamo");
				add("gargoyles");
				fallthrough;

			case "leave":
				say("Iolo looks hurt. \"Thou dost really want me to leave?\"");
				var000D = Func090A();
				if (var000D) {
					say("\"Dost thou want me to wait here or dost thou want me to go home to Yew?\"");
					UI_clear_answers();
					var000E = Func090B(["wait here", "go home"]);
					if (var000E == "wait here") {
						say("\"Very well. I shall wait here until thou dost return and ask me to rejoin.\"*");
						IOLO->remove_from_party();
						IOLO->get_npc_object()->set_schedule_type(WAIT);
						abort;
					}
					say("\"Farewell, then. I shall always rejoin if thou dost so desire.\" Iolo turns away from you.*");
					IOLO->remove_from_party();
					IOLO->get_npc_object()->set_schedule_type(LOITER);
					abort;
				}
				say("\"Whew. Thou didst frighten me!\"");
				fallthrough;

			case "join":
				say("\"I was waiting until thou didst ask me!\"");
				var000F = 0x0000;
				for (var0012 in var0001 with var0010 to var0011) {
					var000F += 0x0001;
				}
				if (var000F < 0x0008) {
					IOLO->add_to_party();
					remove("join");
					add("leave");
				} else {
					say("\"It seems that thou hast enough members travelling with thee already! I shall wait until someone leaves the group.\"");
				}
				fallthrough;

			case "gargoyles":
				say("\"Since thou wert last in Britannia, the Gargoyles have begun to integrate with the humans. Most of them live on Sutek's old island, which was renamed 'Terfin'. However, thou mayest see one here and there throughout the land.\"");
				remove("gargoyles");
				fallthrough;

			case "Fellowship":
				say("\"I do not know much about them, except that they originated about twenty Britannian years ago. They seem to do good deeds and are looked at with favor by most everyone. They have branch offices all over Britannia. I have not personally had any dealings with them.\"");
				remove("Fellowship");
				fallthrough;

			case "Petre":
				say("\"He is just an acquaintance.\"");
				remove("Petre");
				fallthrough;

			case "bye":
				break;
		}
		say("\"'Tis always a pleasure to speak with thee, my friend.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(IOLO);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);

void Func0402 object#(0x402) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	if (event == DOUBLECLICK) {
		var0000 = Func0908();
		var0001 = "Avatar";
		var0002 = UI_get_party_list();
		var0003 = UI_is_pc_female();
		var0004 = SPARK->get_npc_object();
		var0005 = false;
		var0006 = false;
		var0007 = false;
		if (!gflags[0x0015]) {
			SPARK->show_npc_face(0x0001);
		} else if (var0004 in var0002) {
			SPARK->show_npc_face(0x0000);
		} else {
			SPARK->show_npc_face(0x0001);
		}
		if (gflags[0x0046]) {
			var0008 = var0000;
		}
		if (gflags[0x0047]) {
			var0008 = var0001;
		}
		var0009 = Func0909();
		if (!gflags[0x0015]) {
			say("You see a boy who appears to be a young teen. He is dirty and unkempt. He looks as if he has been crying, but he sits up straight and looks sharp when he sees you.");
			say("\"Who art thou and what dost thou want?\" You realize the boy has a sling in hand.");
			say("You face the boy and tell him who you are.");
			var000A = Func090B([var0000, var0001]);
			if (var000A == var0000) {
				say("\"So? What makes thee so special?\"*");
				var0008 = var0000;
				gflags[0x0046] = true;
			} else {
				say("\"The last time I heard -that- one I fell off a prehistoric creature from Eodon!\"");
				var0008 = var0001;
				gflags[0x0047] = true;
			}
			var000B = Func08F7(IOLO);
			if (var000B) {
				IOLO->say("\"Boy, this is the Avatar! ");
				if (!var0003) {
					say("Upon my word he is! He has come to help thee!\"*");
				} else {
					say("Upon my word she is! She has come to help thee!\"*");
				}
				IOLO->hide();
				SPARK->show_npc_face(0x0001);
			}
			say("Then the boy narrows his eyes, studying you. He slowly lowers his weapon, ready to act in case it's a trap. You admire the boy's obvious experience in dealing with strangers.");
			say("You and Spark stare at each other. He is not sure what to do. Finally, he nods his head. \"All right. I believe thee. Thou dost look like paintings I have seen. I am sorry, ",
				var0009,
				".\"");
			gflags[0x0015] = true;
		} else {
			say("\"Yes, ",
				var0008,
				"?\" Spark asks. \"What dost thou want?\"");
		}
		add(["name", "job", "murder", "bye"]);
		if (gflags[0x0048]) {
			add("key");
		}
		if (gflags[0x003E]) {
			remove("key");
		}
		if (var0004 in var0002) {
			add("leave");
		}
		if (gflags[0x0049] && (!(var0004 in var0002))) {
			add("join");
		}
		if (gflags[0x003E] && (!gflags[0x0064])) {
			add(["gold", "medallion", "scroll"]);
		}
		converse (0) {
			case "name":
				say("\"I have always been called Spark.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I have no job. I am only fourteen, so I am just learning how to best help Father in the smithy,\" he says, proudly. But then he suddenly realizes something which terrifies him. \"And now that Father is dead, I am an orphan!\"");
				add(["smithy", "Father", "orphan"]);
				fallthrough;

			case "smithy":
				say("\"Father was the best blacksmith in Britannia. People were always coming from everywhere to get him to make this and that.\"");
				remove("smithy");
				fallthrough;

			case "orphan":
				say("\"My mother died a long time ago. I can just barely remember her.\"");
				remove("orphan");
				fallthrough;

			case "murder":
				if (!gflags[0x0043]) {
					say("\"I cannot believe Father is dead. And poor Inamo, too. It is so strange. I -dreamed- it was happening. Well, in a way.~~\"Last night I was having a nightmare about Father. I dreamed that he screamed, and it woke me up. I looked around the house, but he was not in his bed. I was wide awake, so I went out to find him.\"");
					add(["Inamo", "nightmare", "find"]);
				} else {
					say("\"I am sure thou canst find the man who killed Father!\"");
					say("\"Dost thou want me to repeat everything I know about the murder?\"");
					if (Func090A()) {
						say("\"What dost thou want to know about?\"");
						add(["my story", "key", "chest"]);
					} else {
						say("\"All right.\"");
					}
				}
				remove("murder");
				fallthrough;

			case "chest":
				if (gflags[0x003E]) {
					say("\"I am not sure if it's the same one, but I think I saw Father with a scroll just like the one in the chest one or two days ago. I know he was making something special for someone. I am fairly certain it was at his shop. As for the medallion, he usually wore it. I do not know why it was in the chest. And the gold-- I have never seen so much gold in my life. I cannot imagine why father had it.\"");
				} else {
					say("\"Thou shouldst try opening the chest.\"");
				}
				remove("chest");
				fallthrough;

			case "my story":
				say("\"It is so strange. I -dreamed- it was happening. Well, in a way.~~\"Last night I was having a nightmare about Father. I dreamed that he screamed, and it woke me up. I looked around the house, but he was not in his bed. I was wide awake, so I went out to find him.\"");
				remove("my story");
				add(["find", "nightmare"]);
				fallthrough;

			case "nightmare":
				say("\"I know it sounds witless, but... I dreamed that a big red-faced man was watching down on everything and... He looked down... And he noticed Father... That is all I remember.\"");
				remove("nightmare");
				fallthrough;

			case "find":
				say("\"No, I did not find him. At least, not right away. But I did see something.\"");
				add("something");
				remove("find");
				fallthrough;

			case "something":
				say("\"I was in front of the stables. I saw a man and a wingless gargoyle running from behind the building. They ran toward the dock. Then I went inside and found... Father.\"~~Spark's voice falters, and he begins to sob a little.");
				add(["man", "gargoyle"]);
				remove("something");
				fallthrough;

			case "man":
				say("\"All I saw of him was that the man had a hook for a right hand.\"");
				add("hook");
				remove("man");
				fallthrough;

			case "gargoyle":
				say("\"I cannot tell one gargoyle from another. I could not identify him, except that he had no wings.\"");
				remove("gargoyle");
				fallthrough;

			case "hook":
				if (!gflags[0x0043]) {
					if (!(var0004 in var0002)) {
						say("\"Wilt thou go find the Man with the Hook? Let me help thee!\" the boy pleads. His tears cease, and his face takes on a determined, forceful look.");
						gflags[0x0043] = true;
						say("\"Take me with thee! Please! I must avenge Father's death! If thou dost not take me with thee, I will follow thee anyway!\"");
						say("The boy is all excited now. \"I am an expert with a slingshot! I can strike sewer rats with almost every shot! And I am small -- I do not eat much! Please take me! Please ask me to join thee!\"*");
						var000B = Func08F7(IOLO);
						if (var000B) {
							IOLO->say("Iolo whispers to you. \"I do not know about taking a child on the road with us, ",
								var0009,
								".\"*");
							IOLO->hide();
							SPARK->show_npc_face(0x0001);
							say("Suddenly, Spark lets his sling fly. His target, a small fly hovering above Iolo's head, is smacked out of the air. You laugh as Iolo\tyelps, jumps away, curses and runs his fingers through his hair. ");
							UI_play_sound_effect(0x0001);
						} else {
							say("Suddenly, Spark lets his sling fly. His target, a small fly hovering above your head, is smacked out of the air. ");
						}
						say("\"I told thee I am good! May I join?\"");
						var000C = Func090A();
						if (var000C) {
							SPARK->hide();
							SPARK->say("\"Hooray!\" the boy leaps with delight.");
							add("leave");
							SPARK->add_to_party();
						} else {
							say("\"Fine.\" The boy looks angry. \"But I'll follow thee anyway.\"");
							SPARK->add_to_party();
							add("leave");
						}
						gflags[0x0049] = true;
					} else {
						say("\"I know thou wilt find that man.\"");
					}
				} else {
					say("\"I know thou wilt find that man.\"");
				}
				remove("hook");
				fallthrough;

			case "join":
				say("\"'Tis about time thou didst ask again!\"");
				var000D = 0x0000;
				for (var0010 in var0002 with var000E to var000F) {
					var000D += 0x0001;
				}
				if (var000D < 0x0008) {
					SPARK->add_to_party();
					SPARK->hide();
					SPARK->say("\"Hooray!\"");
				} else {
					say("\"Well, on second thought, it looks like too big of a crowd. I do not like crowds.\"");
				}
				remove("join");
				add("leave");
				fallthrough;

			case "leave":
				say("\"Don't make me go!\" Spark cries. \"Dost thou really want me to go?\" He looks at you with puppy-dog eyes.");
				var0011 = Func090A();
				if (var0011) {
					SPARK->hide();
					SPARK->show_npc_face(0x0001);
					say("\"Well, should I just wait here or dost thou want me to go home to Trinsic?\"");
					UI_clear_answers();
					var000A = Func090B(["wait here", "go home"]);
					if (var000A == "wait here") {
						say("\"All right. I shall wait here until thou dost return and ask me to rejoin.\"*");
						SPARK->remove_from_party();
						SPARK->get_npc_object()->set_schedule_type(WAIT);
						abort;
					}
					say("Spark bows his head and murmurs, \"Goodbye, then.\"*");
					SPARK->remove_from_party();
					SPARK->get_npc_object()->set_schedule_type(LOITER);
					abort;
				}
				say("\"Thou wilt not be sorry!\"");
				fallthrough;

			case "Father":
				say("\"Father was the blacksmith. I cannot believe that he has been murdered! He had no enemies that I know of. Unless it was The Fellowship.\"");
				add("Fellowship");
				remove("Father");
				fallthrough;

			case "Fellowship":
				say("\"Well, at first they harassed Father and me when they came around asking us to join. I suppose they do good things. Many people like them. Father eventually joined the group after he went to Britain and took one of their tests.\"");
				add("tests");
				gflags[0x003F] = true;
				remove("Fellowship");
				fallthrough;

			case "tests":
				say("\"I do not know anything about them. I never took one. Maybe thou shouldst ask the man at the Fellowship Branch. Klog.\"");
				add(["branch", "Klog"]);
				remove("tests");
				fallthrough;

			case "branch":
				say("\"The Fellowship has branches all over Britannia.\"");
				remove("branch");
				fallthrough;

			case "Klog":
				say("\"He is the head of the Fellowship Branch here in Trinsic. He and Father got into an argument a week ago when Klog and two of his friends came over to talk with Father.\"");
				add(["argument", "friends"]);
				remove("Klog");
				fallthrough;

			case "argument":
				say("\"I don't know what it was about. Perhaps thou shouldst ask Klog.\"");
				remove("argument");
				fallthrough;

			case "friends":
				say("\"I do not remember what they look like. I did not recognize them.\tThey were most likely some other members of The Fellowship.\"");
				remove("friends");
				fallthrough;

			case "key":
				if (gflags[0x003E]) {
					say("\"That key opened my Father's chest, did it not?\"");
				} else {
					var0012 = Func0931(PARTY, 0x0001, 0x0281, 0x00FD, FRAME_ANY);
					if (var0012) {
						say("\"That looks like the key to Father's chest. I wondered where it was!\"");
					} else {
						say("\"What key? Dost thou have the key to Father's chest? Where is it?\"");
					}
				}
				remove("key");
				fallthrough;

			case "gold":
				say("The boy's eyes widen. \"I had no idea that Father had that much money hidden away!\"");
				say("\"I suppose I could give it to thee if thou art going to look for those who killed my Father!\"");
				remove("gold");
				var0006 = true;
				fallthrough;

			case "medallion":
				say("\"Father was a member of The Fellowship. I don't know why the medallion was in the chest -- he usually wore it.\"");
				remove("medallion");
				var0007 = true;
				fallthrough;

			case "scroll":
				say("\"I am not sure if it's the same one, but I think I saw Father with a scroll just like that one or two days ago. I know he was making something special for someone. I am fairly certain it was at his shop.\"");
				add("shop");
				remove("scroll");
				var0005 = true;
				fallthrough;

			case "shop":
				say("\"It's in the southwest corner of town.\"");
				remove("shop");
				fallthrough;

			case "Inamo":
				say("\"He was a very nice gargoyle. He helped Father a lot and did tasks in the stables. I cannot think why anyone would want to kill him!\"");
				remove("Inamo");
				fallthrough;

			case "bye":
				break;
		}
		say("\"All right, I will speak with thee later.\"*");
		if (var0005 && (var0006 && var0007)) {
			gflags[0x0064] = true;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0403 object#(0x403) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		SHAMINO->show_npc_face(0x0000);
		var0000 = UI_is_pc_female();
		var0001 = UI_get_party_list();
		var0002 = SHAMINO->get_npc_object();
		var0003 = Func0908();
		add(["name", "job", "bye"]);
		if (gflags[0x02EC]) {
			if (UI_get_timer(0x000B) < 0x0001) {
				say("\"I am sorry, I do not join thieves.\"");
				abort;
			}
			say("\"All right, I suppose thou hast learned thy lesson. I shall rejoin.\"");
			SHAMINO->add_to_party();
			gflags[0x02EC] = false;
			abort;
		}
		if (gflags[0x006D]) {
			add("Amber");
		}
		if (gflags[0x006E]) {
			add("settle down");
		}
		if (var0002 in var0001) {
			add("leave");
		}
		if (!(var0002 in var0001)) {
			add("join");
		}
		if (!gflags[0x0016]) {
			say("Your old friend Shamino stands before you and you marvel that he has finally progressed into what some might call 'middle age'.");
			gflags[0x0016] = true;
		} else {
			say("\"Yes, ",
				var0003,
				"?\" Shamino asks.");
		}
		converse (0) {
			case "name":
				say("Your friend looks at you like you have lost your head. \"'Tis Shamino. -Sha-mi-no-.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I should hope 'twould be adventuring with thee! I am weary of loitering about Britain. There is much we could be accomplishing! Where hast thou been, anyway?\"");
				if (!gflags[0x00D5]) {
					say("\"But please tell me what brings thee here!\"");
					add("murder in Trinsic");
				}
				add(["Britain", "accomplishing"]);
				fallthrough;

			case "accomplishing":
				say("\"Well, I do not know if thou art aware, but we are having many problems with magic in general, and with the Moongates.\"");
				remove("accomplishing");
				add(["magic", "Moongates"]);
				fallthrough;

			case "Britain":
				say("\"Yes, I have been in Britain as of late, attempting to find work. Thou dost know that adventuring comes around too infrequently. One must find -other- diversions. Which reminds me... I have thy pocketwatch.\"");
				remove("Britain");
				add(["diversions", "pocketwatch"]);
				fallthrough;

			case "pocketwatch":
				if (!gflags[0x00D9]) {
					say("\"Thou didst leave it when thou didst last visit Britannia. Here\tit is.\"");
					var0004 = UI_add_party_items(0x0001, 0x009F, QUALITY_ANY, FRAME_ANY, false);
					if (var0004) {
						say("Shamino hands you the pocketwatch.");
						gflags[0x00D9] = true;
					} else {
						say("\"Oops. Thine hands are too full to take it. Ask me about it later.\"");
					}
				} else {
					say("\"I already gave thee the pocketwatch, ",
						var0003,
						". I hope thou didst not lose it again!\"");
				}
				remove("pocketwatch");
				fallthrough;

			case "diversions":
				say("\"The usual. I do not see our old friends often, and Lord British rarely finds work for me. I certainly have no time\tfor wenching or drinking -- I have grown up a bit.\"*");
				remove("diversions");
				var0005 = Func08F7(IOLO);
				if (var0005) {
					IOLO->say("\"Ahem, I have heard something about an actress, no?\"*");
					IOLO->hide();
					SHAMINO->say("\"What dost thou know of it?\"*");
					IOLO->say("\"",
						var0003,
						", ask him about 'Amber'.\"*");
					IOLO->hide();
					SHAMINO->say("\"Thou art a swine, Iolo.\"");
					add(["Amber", "friends", "Lord British"]);
				}
				fallthrough;

			case "Lord British":
				if (!gflags[0x0098]) {
					say("\"I suggest that thou proceed immediately to see him!\"*");
					abort;
				}
				say("\"I am glad I do not look as aged as -he- does!\"");
				remove("Lord British");
				fallthrough;

			case "friends":
				say("\"Thou dost mean Iolo and Dupre, I presume?\"");
				remove("friends");
				add(["Iolo", "Dupre"]);
				fallthrough;

			case "Iolo":
				var0005 = Func08F7(IOLO);
				if (var0005) {
					say("\"Dost thou mean that miserable excuse for an archer?\"*");
					IOLO->say("\"Watch what thou dost say, scoundrel!\"*");
					IOLO->hide();
					SHAMINO->say("\"Yes, that's Iolo!\"");
				} else {
					say("\"Surely he is around somewhere. Where didst thou last leave him?\"");
				}
				remove("Iolo");
				fallthrough;

			case "Dupre":
				var0006 = Func08F7(DUPRE);
				if (var0006) {
					say("\"Dost thou mean that incorrigible wencher and drunkard?\"*");
					DUPRE->say("\"Do not forget that my mere thumb can squash in thy face like a marshmallow.\"*");
					SHAMINO->say("\"Yes, that's Dupre!\"*");
					DUPRE->say("\"That's -Sir- Dupre to thee!\"*");
					SHAMINO->say("\"Sir Dupuke? Didst thou say Sir Dupuke?\"*");
					DUPRE->say("\"Du-pre-!\"*");
					SHAMINO->say("\"Pardon -me-, Sir Dupuke!\"*");
					DUPRE->say("\"I'm not going to listen to this anymore.\"*");
					DUPRE->hide();
					SHAMINO->show_npc_face(0x0000);
				} else if (!gflags[0x0017]) {
					say("\"I believe he is in Jhelom.\"");
				} else {
					say("\"He must be around somewhere!\"");
				}
				remove("Dupre");
				fallthrough;

			case "join":
				var0007 = 0x0000;
				var0001 = UI_get_party_list();
				for (var000A in var0001 with var0008 to var0009) {
					var0007 += 0x0001;
				}
				if (var0007 < 0x0008) {
					say("Shamino looks relieved. \"I am -so- glad thou didst ask me that.\" He gathers his gear and prepares to follow you.");
					SHAMINO->add_to_party();
				} else {
					say("\"Hmmm. I do not like big crowds. I shall wait until thy group is smaller before joining.\"");
				}
				add("leave");
				remove("join");
				fallthrough;

			case "leave":
				say("\"Hmmm. Dost thou merely want me to wait here or dost thou want me to go home?\"");
				UI_clear_answers();
				var000B = Func090B(["wait here", "go home"]);
				if (var000B == "wait here") {
					say("\"Very well. I shall await thy return.\"*");
					SHAMINO->remove_from_party();
					SHAMINO->get_npc_object()->set_schedule_type(WAIT);
					abort;
				}
				say("\"I really hate to, but if thou dost insist.\" Shamino\tgrudgingly gathers his belongings.*");
				SHAMINO->remove_from_party();
				SHAMINO->get_npc_object()->set_schedule_type(LOITER);
				abort;

			case "murder in Trinsic":
				say("Shamino listens as you tell him the story. \"I would be honored to join and help thee in investigating this matter.\"");
				gflags[0x00D5] = true;
				remove("murder in Trinsic");
				fallthrough;

			case "Moongates":
				if (!gflags[0x0004]) {
					say("\"I am confounded by their inability to function properly.\"");
				} else {
					say("\"'Tis a pity that thou art marooned here.\"");
				}
				remove("Moongates");
				fallthrough;

			case "magic":
				if (!gflags[0x0003]) {
					if (!gflags[0x006C]) {
						say("\"Magic all over Britannia seems to be disturbed. Say, dost thou remember Nicodemus in the great forest? He has gone mad and is terribly silly. Perhaps we should visit him.\"");
						gflags[0x006C] = true;
					} else {
						say("\"It does not work well. I do not understand it.\"");
					}
				} else {
					say("\"It will probably work extremely well now, ",
						var0003,
						".\"");
				}
				remove("magic");
				fallthrough;

			case "Amber":
				say("You see a light shine in Shamino's eyes as you mention her name. He is obviously smitten.~~\"She is an actress I know.\"");
				remove("Amber");
				gflags[0x006B] = true;
				fallthrough;

			case "settle down":
				say("\"That woman! She cannot understand that I must have mine adventuring! I cannot settle down. -Yet-! Soon maybe.\"~~Shamino looks concerned. \"I have grown up. A bit.\"");
				remove("settle down");
				fallthrough;

			case "bye":
				break;
		}
		say("Shamino bows slightly.*");
	}
	if (event == PROXIMITY) {
		Func092E(SHAMINO);
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0404 object#(0x404) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;

	if (event == DOUBLECLICK) {
		DUPRE->show_npc_face(0x0000);
		if (gflags[0x02EB]) {
			if (UI_get_timer(0x000B) < 0x0001) {
				say("\"I am sorry, I do not join thieves.\"");
				abort;
			}
			say("\"All right, I suppose thou hast learned thy lesson. I shall rejoin.\"");
			DUPRE->add_to_party();
			gflags[0x02EB] = false;
			abort;
		}
		var0000 = Func0909();
		var0001 = UI_get_party_list();
		var0002 = DUPRE->get_npc_object();
		var0003 = Func0908();
		var0004 = Func08F7(IOLO);
		var0005 = Func08F7(SHAMINO);
		var0006 = Func08F7(SPARK);
		var0007 = IOLO->get_npc_object()->is_dead();
		var0008 = SHAMINO->get_npc_object()->is_dead();
		var0009 = SPARK->get_npc_object()->is_dead();
		var000A = SPRELLIC->get_npc_object()->is_dead();
		var000B = VOKES->get_npc_object()->is_dead();
		var000C = SYRIA->get_npc_object()->is_dead();
		var000D = TIMMONS->get_npc_object()->is_dead();
		var000E = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (var0002 in var0001) {
			add("leave");
		}
		if (gflags[0x0006]) {
			add("Fellowship");
		}
		if (var0006) {
			add("Spark");
		}
		if (!gflags[0x0017]) {
			say("You see the familiar face of your good friend, Dupre. While somewhat older, he still seems full of his usual casual good humor.");
			gflags[0x0017] = true;
		} else {
			say("\"How may I assist thee, ",
				var0003,
				"?\" asks Sir Dupre.");
		}
		converse (0) {
			case "name":
				say("\"Why, dost thou not recognize me? It is I, Lord British!\" he laughs. \"Dost thou not know thy friend Dupre when thou seest him, ",
					var0003,
					"?\"");
				if (var0005) {
					SHAMINO->say("\"Do not be so modest, Sir Dupre. Thou shouldst tell the Avatar that thou hast been knighted since last you met.\"*");
					SHAMINO->hide();
					DUPRE->say("Sir Dupre looks quite embarrassed. \"Well, yes, I would have gotten around to that.\"");
				} else if (var0004) {
					IOLO->say("\"Do not be so modest, Sir Dupre. Thou shouldst tell the Avatar that thou hast been knighted since last you met.\"*");
					IOLO->hide();
					DUPRE->say("Sir Dupre looks quite embarrassed. \"Well, yes, I would have gotten around to that.\"");
				}
				remove("name");
				fallthrough;

			case "job":
				if (!gflags[0x016D]) {
					say("\"I have not seen our old friends in some time. Currently I am conducting a study of all of the various drinking establishments of Britannia. At present I am about halfway through. But it is nothing that could keep me from adventuring with thee, ",
						var0003,
						".\"");
					add(["friends", "Jhelom", "join"]);
				} else {
					say("\"My job is currently to try and keep thee and thy friends out of trouble as much as possible!\" He winks and gives you a good-natured grin.");
					add("friends");
				}
				fallthrough;

			case "friends":
				say("\"Our old friends -- Iolo and Shamino.\"");
				remove("friends");
				add(["Iolo", "Shamino"]);
				fallthrough;

			case "join":
				var000F = 0x0000;
				var0001 = UI_get_party_list();
				for (var0012 in var0001 with var0010 to var0011) {
					var000F += 0x0001;
				}
				if (var000F < 0x0008) {
					say("\"It would be both an honor and a pleasure to join thee on thine adventures once again.\"");
					gflags[0x016D] = true;
					DUPRE->add_to_party();
					add("leave");
				} else {
					say("\"Hmm. Too crowded for my liking. Come back if thou shouldst diminish thy group by a member or two.\"");
				}
				remove("join");
				fallthrough;

			case "leave":
				say("\"Dost thou want me to wait here or dost thou truly want me to leave and go home?\"");
				UI_clear_answers();
				var0013 = Func090B(["wait here", "go home"]);
				if (var0013 == "wait here") {
					say("\"Very well. I shall await thy return.\"*");
					DUPRE->remove_from_party();
					DUPRE->get_npc_object()->set_schedule_type(WAIT);
					gflags[0x016D] = false;
					abort;
				}
				say("\"I shall depart thy company if that is truly thy wish. If thou shouldst ever need me again, thou hast only to ask.\" He turns away from you, obviously disappointed.*");
				DUPRE->remove_from_party();
				gflags[0x016D] = false;
				DUPRE->get_npc_object()->set_schedule_type(LOITER);
				abort;
				// Dead code
				add("join");
				remove("leave");
				fallthrough;

			case "Jhelom":
				say("\"It is something like the old times of Britannia, during the days of thy last visit, only more bloodthirsty. The local sport in Jhelom is duelling.\"");
				remove("Jhelom");
				add(["old times", "duelling"]);
				fallthrough;

			case "old times":
				say("\"These people still believe that any problem can be solved by hitting something or stabbing someone. They remind me of a more primitive but less complicated time. Perhaps that is why people live here-- to escape their modern problems.\"");
				remove("old times");
				fallthrough;

			case "duelling":
				if (!gflags[0x016A]) {
					if (!(var000B && (var000C && var000D))) {
						say("\"Right now the town is buzzing about three local fighters, all of whom have challenged another man to a duel. The challenged one's name is Sprellic.\"");
						add(["fighters", "Sprellic"]);
					} else {
						say("\"Perhaps now that several of Jhelom's local ruffians have been well smited things in that town will calm down. Although I doubt they will for long.\"");
					}
				} else {
					say("\"Perhaps since thou hast shown the town that disagreements can be settled without bloodshed things will calm down for a while in Jhelom. But I doubt it.\"");
				}
				remove("duelling");
				fallthrough;

			case "Sprellic":
				if (var000A) {
					say("\"I feel a bit sorry that we never did intercede on behalf of that innkeeper fellow, Sprellic. He did need our help, desperately.\" Dupre eyes look a bit sad.");
				} else if (!gflags[0x016A]) {
					if (!(var000B && (var000C && var000D))) {
						say("\"I doubt he has ever held a sword in his life. When I bet I usually bet on the underdog, but not even I am so foolhardy with my money as to bet on him. The man is no fighter, he is the innkeeper!\"");
						add(["foolhardy", "innkeeper"]);
					} else {
						say("\"Thou didst save the life of that poor little man Sprellic. He certainly got himself in a lot of trouble.\" Dupre cannot keep himself from grinning. \"Still, all's well that ends well.\"");
					}
				}
				remove("Sprellic");
				fallthrough;

			case "foolhardy":
				say("\"To this Sprellic fellow, foolhardy would be a compliment! He looks like he has never been in a fight in his entire life. I do not know why he would provoke someone into a duel. It is a puzzlement.\"");
				remove("foolhardy");
				if (gflags[0x0186]) {
					add("misunderstanding");
				}
				fallthrough;

			case "misunderstanding":
				say("You tell Dupre what Sprellic told you. \"Hmmm. I suppose I judged the man too harshly. I think thou, er, we shouldst do something about this!\"");
				remove("misunderstanding");
				fallthrough;

			case "innkeeper":
				if (!gflags[0x0186]) {
					say("\"I know not the specifics of his story but thou mayest ask him for thyself. He went back to his house about an hour ago and has not come out. He must be having a very hard time finding something.\"");
				} else {
					say("\"The poor man has been hiding in his house and will not come out.\"");
				}
				remove("innkeeper");
				fallthrough;

			case "Iolo":
				if (var0007) {
					say("\"Terrible what happened to our poor friend Iolo. We must try and get his body to a healer while there may still be time to revive him. I do miss him so.\"");
				} else if (var0004) {
					say("\"",
						var0003,
						", there is a strange old man following thee, and he bears a vague resemblance to Iolo! It is most odd.\"*");
					IOLO->say("\"Thy drinking must have blurred thy vision, Sir Dupre.\"*");
					DUPRE->say("\"Then thou hadst better join me for one later. It will give thee the chance to catch up to me.\"");
					IOLO->hide();
					DUPRE->show_npc_face(0x0000);
				} else {
					say("\"We should find that rascal Iolo and have him join us as well.\"");
				}
				remove("Iolo");
				fallthrough;

			case "fighters":
				say("\"Two men and a woman. Their names are Timmons, Vokes, and Syria. Respectively.\"");
				remove("fighters");
				fallthrough;

			case "Shamino":
				if (var0008) {
					say("\"A sad fate to befall our fine comrade Shamino. He will be sorely missed. We must try and get his remains to a healer. Perhaps he may still be revived.\"");
				} else if (var0005) {
					say("Sir Dupre snorts, \"From what I had heard Shamino was all but settled down and retired from the adventuring life.\"*");
					SHAMINO->say("\"I still have a few wild oats left to sow, thank thee very much.\"*");
					DUPRE->say("\"Then it is good to see another member of our old sowing circle once again!\"");
					SHAMINO->hide();
					DUPRE->show_npc_face(0x0000);
				} else {
					say("\"Let us go and find Shamino and make this a proper reunion!\"");
				}
				remove("Shamino");
				fallthrough;

			case "Fellowship":
				if (var000E) {
					say("Sir Dupre stares at the Fellowship medallion around your neck for a long moment. \"Thou must be joking,\" he snorts.");
				}
				say("\"I still cannot believe that thou hast joined The Fellowship. If thou didst wish to prove that thou wouldst do anything, no matter how ridiculous to fulfill thy quest, then thou hast succeeded.\"");
				remove("Fellowship");
				fallthrough;

			case "Spark":
				if (var0009) {
					say("\"Spark, the poor brave lad, is no longer with us. We should endeavor to get his body to a healer so he may be revived.\"");
				} else {
					say("Dupre points a thumb at Spark. \"He is joining us, as well?\" He mutters at you, \"Art thou trying to make me feel old, ",
						var0003,
						"?\"");
				}
				remove("Spark");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I shall speak with thee later, then.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(DUPRE);
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern void Func089E 0x89E (var var0000, var var0001, var var0002);
extern var Func090B 0x90B (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0405 object#(0x405) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == DOUBLECLICK) {
		JAANA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = JAANA->get_npc_object();
		var0002 = Func0908();
		add(["name", "job", "bye"]);
		if (var0001 in UI_get_party_list()) {
			add("leave");
		}
		if (!((var0001 in UI_get_party_list()) && gflags[0x0018])) {
			add("join");
		}
		if (gflags[0x00E4]) {
			if (gflags[0x00EF]) {
				add("Lord Heather");
			}
		}
		if (gflags[0x0028]) {
			add("heal");
		}
		if (!gflags[0x0018]) {
			say("You are surprised to see your old companion Jaana, looking only slightly aged since your last visit.");
			gflags[0x0018] = true;
		} else {
			say("\"Yes, ",
				var0002,
				"?\" Jaana asks.");
		}
		converse (0) {
			case "name":
				say("\"Why, I am Jaana. Thou shouldst remember me!\"");
				remove("name");
				if (gflags[0x00E4]) {
					add("Lord Heather");
				}
				gflags[0x00EF] = true;
				fallthrough;

			case "job":
				say("\"I have been the Cove Healer for some time now, and can provide thee with mine healing services. Since magic is not reliable, I have been yearning to join a party of adventurers, such as mine old friends. I miss the old life!\"");
				add(["heal", "friends", "magic"]);
				gflags[0x0028] = true;
				if (!(var0001 in UI_get_party_list())) {
					add("join");
				}
				fallthrough;

			case "heal":
				if (var0001 in UI_get_party_list()) {
					if (gflags[0x0029]) {
						var0003 = UI_get_timer(0x000A);
					} else {
						var0003 = 0x0005;
					}
					if (var0003 < 0x0004) {
						say("\"I am sorry, I must wait a while before I can heal again.\"");
					} else {
						Func089E(0x0000, 0x0000, 0x0000);
					}
				} else {
					Func089E(0x001E, 0x000F, 0x0190);
				}
				fallthrough;

			case "friends":
				say("\"Our old friends -- Iolo, Shamino, and Dupre. The men who conquer evil in the name of Lord British!\"");
				remove("friends");
				add(["Iolo", "Shamino", "Dupre", "Lord British"]);
				fallthrough;

			case "join":
				var0004 = 0x0000;
				var0005 = UI_get_party_list();
				for (var0008 in var0005 with var0006 to var0007) {
					var0004 += 0x0001;
				}
				if (var0004 < 0x0008) {
					say("\"I would be honored to join thee, ",
						var0000,
						"!\"");
					JAANA->add_to_party();
					add("leave");
					remove("join");
				} else {
					say("\"I do believe thou dost have too many members travelling in thy group. I shall wait until someone leaves and thou dost ask me again.\"");
				}
				fallthrough;

			case "leave":
				say("\"Dost thou want me to wait here or should I go home?\"");
				UI_clear_answers();
				var0009 = Func090B(["wait here", "go home"]);
				if (var0009 == "wait here") {
					say("\"Very well. I shall wait until thou dost return.\"*");
					JAANA->remove_from_party();
					JAANA->get_npc_object()->set_schedule_type(WAIT);
					abort;
				}
				say("\"I shall obey thy wish. I would be happy to re-join if thou shouldst ask. Goodbye.\"*");
				JAANA->remove_from_party();
				JAANA->get_npc_object()->set_schedule_type(LOITER);
				abort;

			case "magic":
				if (!gflags[0x0003]) {
					say("\"My magic has been affected by something in the air, but I have found that my senses are still with me. Hast thou noticed that the mages in the land are afflicted in the head? It is most disconcerting. Nevertheless, I can manage to cast a spell or two most of the time.\"");
				} else {
					say("\"I feel that the ether is flowing smoothly now. Magic is alive again!\"");
				}
				remove("magic");
				fallthrough;

			case "Lord Heather":
				say("Jaana blushes. \"Yes, I have been seeing our Town Mayor for some time now.\"");
				remove("Lord Heather");
				var000A = Func08F7(LORD_HEATHER);
				if (var000A) {
					LORD_HEATHER->say("\"I see that thou art leaving Cove for a while, my dear?\"*");
					JAANA->say("\"Yes, milord. But I shall return. I promise thee.\"*");
					LORD_HEATHER->say("\"I shall try not to worry about thee, but it will be difficult.\"*");
					JAANA->say("\"Do not worry. I shall be safe with the Avatar.\"*");
					LORD_HEATHER->say("\"I do hope so.\" The Mayor embraces Jaana.*");
					LORD_HEATHER->hide();
					JAANA->show_npc_face(0x0000);
				}
				fallthrough;

			case "Iolo":
				var000B = Func08F7(IOLO);
				if (!var000B) {
					say("\"Where is he? 'Twould be good to see him!\"");
				} else {
					say("\"He looks the same to me! Perhaps he has a little more waistline than before... but that is to be expected if one stays away from adventuring for too long!\"*");
					IOLO->say("\"What dost thou mean? 'Little more waistline' indeed!\"*");
					IOLO->hide();
					JAANA->say("\"No offense intended, Iolo!\"");
				}
				remove("Iolo");
				fallthrough;

			case "Shamino":
				var000C = Func08F7(SHAMINO);
				if (!var000C) {
					say("\"Oh, I would love to see him. I wonder where he might be.\"");
				} else {
					say("\"Shamino, thou dost not look like a 'kid' anymore! What didst happen? Didst thou reach the venerable age of thirty?\"*");
					SHAMINO->say("\"Hmph. I am still a kid at heart.\"*");
					SHAMINO->hide();
					JAANA->say("\"That is a relief.\" She grins cheekily.");
				}
				remove("Shamino");
				fallthrough;

			case "Dupre":
				var000D = Func08F7(DUPRE);
				if (!var000D) {
					say("\"I miss having a drink or two with that rogue! Let's go find that knight!\"");
				} else {
					say("\"For someone recently knighted, he has retained his good looks and boyish charm, hasn't he?\"*");
					DUPRE->say("\"Thou dost mean 'mannish' charm, dost thou not?\"*");
					JAANA->say("\"Oh, pardon -me-, sir. Thine immaturity confused me for a moment.\"*");
					DUPRE->say("\"Art thou going to let her get away with that, ",
						var0002,
						"?\"");
					var000E = Func090A();
					if (var000E) {
						say("Dupre is speechless and turns away in a huff.*");
						DUPRE->hide();
					} else {
						say("\"Good!\" Jaana winks at you from behind his back.*");
						DUPRE->hide();
					}
				}
				remove("Dupre");
				JAANA->show_npc_face(0x0000);
				fallthrough;

			case "Lord British":
				say("\"I have not seen our liege in many years.\"");
				remove("Lord British");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(JAANA);
	}
}

extern var Func0908 0x908 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08EE 0x8EE ();
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func0406 object#(0x406) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	if (event == DOUBLECLICK) {
		var0000 = Func0908();
		var0001 = "Avatar";
		var0002 = UI_get_party_list();
		var0003 = false;
		var0004 = TRELLEK->get_npc_object();
		var0005 = TSERAMED->get_npc_object();
		var0006 = Func0931(PARTY, 0x0001, 0x0304, QUALITY_ANY, FRAME_ANY);
		TRELLEK->show_npc_face(0x0000);
		if (!gflags[0x0154]) {
			if (!var0006) {
				say("The creature ignores you.*");
				abort;
			}
			Func08EE();
		}
		add(["name", "job", "bye"]);
		if (gflags[0x0136]) {
			var0007 = var0000;
		}
		if (gflags[0x0137]) {
			var0007 = var0001;
		}
		if (!gflags[0x0019]) {
			if (!gflags[0x013C]) {
				say("The ape-like creature peers at you intently for a few minutes. Then, shrugging, it walks cautiously up to you. \"I am Trellek. Your name is?\"");
				var0008 = Func090B([var0000, var0001]);
				if (var0008 == var0000) {
					gflags[0x0136] = true;
				}
				if (var0008 == var0001) {
					gflags[0x0137] = true;
				}
				gflags[0x013C] = true;
				gflags[0x0019] = true;
			} else {
				say("The Emp peers at you intensely for a few minutes. Then, shrugging, it walks cautiously up to you. \"I am Trellek. Your name is?\"");
				var0008 = Func090B([var0000, var0001]);
				if (var0008 == var0000) {
					gflags[0x0136] = true;
					var0007 = var0000;
				}
				if (var0008 == var0001) {
					gflags[0x0137] = true;
					var0007 = var0001;
				}
				gflags[0x0019] = true;
			}
			say("\"You are greeted.\"");
		} else {
			say("\"You are greeted, ",
				var0007,
				".\"");
		}
		if (gflags[0x0138] && (!gflags[0x0156])) {
			if (gflags[0x0158]) {
				if (gflags[0x0155]) {
					if (!gflags[0x0156]) {
						add("Saralek's idea");
					}
				} else {
					add("No permission");
				}
			} else if (!gflags[0x0132]) {
				add("wisps");
			}
		}
		if (gflags[0x00E2]) {
			add("Julius");
		}
		if (gflags[0x0151] && (!gflags[0x0132])) {
			add("join");
		}
		converse (0) {
			case "name":
				say("\"My name is still Trellek.\"");
				remove("name");
				fallthrough;

			case "job":
				say("He gives you a puzzled look.~~\"The meaning of `job' is not clear to me. Is `work' the word meant by you?\"");
				var0009 = Func090A();
				if (var0009) {
					say("\"I am a gatherer of food.\"");
					add("gatherer");
				} else {
					say("\"No job is had by me.\"");
				}
				fallthrough;

			case "gatherer":
				say("\"All Emps are food-gatherers. Mainly fruits are sought by us.\"");
				remove("gatherer");
				add(["fruits", "Emps"]);
				fallthrough;

			case "fruits":
				say("\"Fruits are pleasant-tasting, like the honey you gave us!\"");
				remove("fruits");
				fallthrough;

			case "Emps":
				say("\"I am an Emp. Saralek is an Emp. Salamon is an Emp. You,\" he smiles, \"are a human.\"");
				remove("Emps");
				add(["Saralek", "Salamon"]);
				fallthrough;

			case "Saralek":
				say("\"Saralek is my bonded-one. `Wife' is what you would call her. My home is her home.\"");
				add("home");
				remove("Saralek");
				fallthrough;

			case "home":
				say("\"Silverleaf trees are our homes,\" he nods.");
				remove("home");
				add("Silverleaf trees");
				fallthrough;

			case "Silverleaf trees":
				say("\"Silverleaf trees cannot be explained by me in human terms. I am sorry. Another human should be asked by you?\" he shrugs, imitating the human gesture rather well.");
				remove("Silverleaf trees");
				fallthrough;

			case "Salamon":
				say("\"Salamon is the wisest Emp. Humans have been met by her. -Many- things have been seen by her. She is very experienced and knowledgeable.\"");
				remove("Salamon");
				fallthrough;

			case "wisps":
				say("\"Wisps are known to me,\" he nods. \"Wisps are found in the woods. What is your concern?\"");
				add(["woods", "talk to wisps"]);
				remove("wisps");
				fallthrough;

			case "No permission":
				say("\"For you to talk to wisps is still your wish? Then helping you is my goal. A whistle can be made by me.\"");
				remove("No permission");
				add("whistle");
				fallthrough;

			case "Saralek's idea":
				say("\"Correct was my bonded-one. A whistle can be made by me.\"");
				add("whistle");
				remove("Saralek's idea");
				fallthrough;

			case "woods":
				say("\"The residence of the wisps is a stone building in a mountain in the middle of the forest.\"");
				remove("woods");
				fallthrough;

			case "whistle":
				say("\"A whistling sound is made by Emps when talking is done by us. An imitation of that sound can be created by a special whistle,\" he says enthusiastically.~~He begins quickly searching around for a dead, hollow, fallen tree branch. Shortly he finds one that meets his satisfaction. Apparently embarrassed, he turns his back to you, and makes motions similar to one twisting a cork from a flagon.~~After a few minutes of this, he turns around and presents the whistle to you.");
				var000A = UI_add_party_items(0x0001, 0x02B5, QUALITY_ANY, 0x0001, false);
				if (var000A) {
					say("\"Here is your whistle.\"");
					Func0911(0x0032);
					gflags[0x0156] = true;
				} else {
					say("\"Fewer items must be carried by you to take this whistle.\"");
				}
				remove("whistle");
				fallthrough;

			case "talk to wisps":
				say("\"Your statement is a mystery. For me to talk to wisps is what you want?\"");
				var000B = Func090A();
				if (var000B) {
					say("He looks around, apparently surveying the area.~~ \"No wisps are here for conversation.\"");
					add("go there");
				} else {
					say("\"Your want is not conveyed to me.\" He shrugs.");
				}
				remove("talk to wisps");
				fallthrough;

			case "Julius":
				UI_play_music(0x001A, 0x0000);
				say("\"Julius was a good human. His great deed was saving Emp family from big fire years ago.\" He stares at you directly.~~\"But, his story is sad, being about his death from too much smoke in his body. His body is in the cemetery near the Abbey. He is one human that Emps call 'hero'.\"");
				gflags[0x0129] = true;
				remove("Julius");
				fallthrough;

			case "join", "go there":
				say("\"Your wish is for me to travel with you?\"");
				var0003 = Func090A();
				if (var0003) {
					say("\"My wish is that also. But that is not the wish of Saralek, my wife. Permission from her must first be gained.\"");
					gflags[0x0132] = true;
				} else {
					say("\"You are very odd, ",
						var0007,
						".\"");
				}
				var0003 = true;
				remove(["go there", "join"]);
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good luck is hoped for you.\"*");
	}
	if (event == PROXIMITY) {
		var000C = UI_part_of_day();
		var000D = TRELLEK->get_npc_object()->get_schedule_type();
		var000E = UI_die_roll(0x0001, 0x0004);
		var0006 = Func0931(PARTY, 0x0001, 0x0304, QUALITY_ANY, FRAME_ANY);
		if (var000D == LOITER) {
			if (var0006) {
				if (var000E == 0x0001) {
					var000F = "@You are greeted.@";
				}
				if (var000E == 0x0002) {
					var000F = "@Hello is said to you.@";
				}
				if (var000E == 0x0003) {
					var000F = "@A good day is hoped for you.@";
				}
				if (var000E == 0x0004) {
					var000F = "@The day is nice.@";
				}
			}
		}
		if (var000D == SLEEP) {
			var000F = "@Zzzzz...@";
		}
		TRELLEK->item_say(var000F);
	}
}

extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern void Func08E5 0x8E5 (var var0000, var var0001);
extern var Func08F7 0x8F7 (var var0000);
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func0407 object#(0x407) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == DOUBLECLICK) {
		SENTRI->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = UI_is_pc_female();
		var0002 = UI_get_party_list();
		var0003 = SENTRI->get_npc_object();
		var0004 = Func0908();
		var0005 = SENTRI->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (var0003 in var0002) {
			add("leave");
		}
		if (!gflags[0x001A]) {
			say("You see a dashing, slender man, stylishly dressed, with a lot of flair.");
			gflags[0x001A] = true;
		} else {
			say("\"How may I help thee, ",
				var0004,
				"?\" Sentri asks.");
		}
		converse (0) {
			case "name":
				say("\"Thou dost not remember me? I am Sentri! We have gone adventuring together in the past!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"When I am not adventuring with old friends, I am a trainer in Britain. I specialize in combat involving swordsmanship. I am quite good at that, as thou dost remember.\"");
				var0002 = UI_get_party_list();
				if (!(var0003 in var0002)) {
					say("\"But I would drop everything to join thy group if thou art not too encumbered.\"");
					add("join");
				}
				add(["Britain", "swordsmanship", "train", "friends"]);
				fallthrough;

			case "friends":
				say("\"I do not see our old friends Iolo, Shamino, or Dupre much.\"");
				remove("friends");
				add(["Iolo", "Shamino", "Dupre"]);
				fallthrough;

			case "swordsmanship":
				say("Sentri draws his sword so quickly it is like a flash of lightning. He does a few fancy moves, slashing the air with the blade. \"No foe shall stand after I am finished with him!\"");
				remove("swordsmanship");
				fallthrough;

			case "join":
				var0006 = 0x0000;
				var0002 = UI_get_party_list();
				for (var0009 in var0002 with var0007 to var0008) {
					var0006 += 0x0001;
				}
				if (var0006 < 0x0006) {
					say("Sentri bows. \"I am very pleased to join thy group.\"");
					gflags[0x00DB] = true;
					SENTRI->add_to_party();
					add("leave");
				} else {
					say("\"I like small crowds, Avatar. Thou art travelling with a group too large for my tastes. If thou shouldst lose someone along the way, return and I shall be happy to join thee.\"");
				}
				remove("join");
				fallthrough;

			case "leave":
				say("\"Dost thou want me to wait here or go home?\"");
				UI_clear_answers();
				var000A = Func090B(["wait here", "go home"]);
				if (var000A == "wait here") {
					say("\"Very good. I shall wait here until thou dost return.\"*");
					gflags[0x00DB] = false;
					SENTRI->remove_from_party();
					SENTRI->get_npc_object()->set_schedule_type(WAIT);
					abort;
				}
				say("\"Farewell, ",
					var0004,
					". If thou dost need my services again, I shall be only too happy to comply.\"*");
				gflags[0x00DB] = false;
				SENTRI->remove_from_party();
				SENTRI->get_npc_object()->set_schedule_type(LOITER);
				abort;

			case "Britain":
				say("\"I am becoming weary of the place. It is having growth pains of which the bourgeoisie are unaware. All is not as serene as the noblemen present it.\"");
				remove("Britain");
				add("not serene");
				fallthrough;

			case "not serene":
				say("\"Well, for example, try going to one of the smaller towns, say, Paws. It is a poor man's place. It reeks, too. And 'tis only just beyond the Britain town limits. More money should be put into improving the land as a whole, not just in building new buildings in the capitol city. I do not know what Lord British is thinking!\"");
				remove("not serene");
				add("Lord British");
				fallthrough;

			case "train":
				if (!gflags[0x00DB]) {
					var0005 = SENTRI->get_npc_object()->get_schedule_type();
					if ((var0005 == DUEL) || ((var0005 == LOITER) || (var0005 == WAIT))) {
						say("\"My fee is 30 gold for a training session. Is this all right?\"");
						if (Func090A()) {
							Func08E5(DEXTERITY, 30);
						} else {
							say("\"Then I shall rob someone else!\" Sentri laughs aloud.");
						}
					} else {
						say("\"I am afraid I must adhere to my policy of training only during my business hours. This applies to -all- of my friends.\"");
						remove("train");
					}
				} else {
					say("\"Since I am a member of thy group, I shall train thee for free!\"");
					Func08E5(DEXTERITY, 0);
				}
				fallthrough;

			case "Iolo":
				var000B = Func08F7(IOLO);
				if (var000B) {
					say("\"How art thou, friend? Thou dost look like thou couldst use a little training thyself!\"*");
					IOLO->say("\"What is this? Everyone doth make fun of my physique!\"*");
					IOLO->hide();
					SENTRI->say("\"I am not making fun, Iolo. I am serious!\" Sentri laughs.");
				} else {
					say("\"I miss that fellow!\"");
				}
				remove("Iolo");
				fallthrough;

			case "Shamino":
				var000C = Func08F7(SHAMINO);
				if (var000C) {
					say("\"Say, Shamino, art thou still spending thy time dressing in women's clothes?\"*");
					SHAMINO->say("\"-What-?!?!\"*");
					SENTRI->say("\"Or art thou wasting away thy life in a healer's den, now that thou art in thy middle ages?\"*");
					SHAMINO->say("\"Careful, friend. Those are fighting words!\"*");
					SENTRI->say("Sentri punches Shamino good-naturedly. \"And that is all they are, my dear friend. Words! 'Tis good to see thee!\"");
					SHAMINO->hide();
					SENTRI->show_npc_face(0x0000);
				} else {
					say("\"'Twould be good to share a joke or two with him!\"");
				}
				remove("Shamino");
				fallthrough;

			case "Dupre":
				var000D = Func08F7(DUPRE);
				if (var000D) {
					say("\"Ah, my good friend Dupre! Hast thou some good ale on thee?\"*");
					DUPRE->show_npc_face(0x0000);
					var000E = Func0931(DUPRE, 0x0001, 0x0268, QUALITY_ANY, 0x0003);
					if (var000E) {
						say("\"Art thou joking? I -always- have ale!\"*");
						SENTRI->say("\"Then we should have some before someone else does!\"");
						DUPRE->say("\"'Twould be a pleasure. However, I must be prudent and save the ale for when we need it.\"*");
						SENTRI->say("Sentri feels of Dupre's head. \"Art thou feeling all right, Dupre? Or has knighthood done something to thy brain?\"");
						DUPRE->hide();
						SENTRI->show_npc_face(0x0000);
					} else {
						say("\"No, but I would be glad to stop in a pub and share a few pints with thee!\"*");
						SENTRI->say("\"Mmmm! Sounds good to me! Next time we pass a place, let us stop!\"");
						DUPRE->hide();
						SENTRI->show_npc_face(0x0000);
					}
				} else {
					say("\"I want to see that no-good trouble-maker! He is a knight now, I hear! Sir Dupre indeed!\"");
				}
				remove("Dupre");
				fallthrough;

			case "Lord British":
				say("\"I never see him much. He stays in that castle of his all the time. He never gets out. No wonder he hasn't a clue what is going on in this country.\"");
				remove("Lord British");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Until later.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(SENTRI);
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func0408 object#(0x408) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	if (event == DOUBLECLICK) {
		JULIA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_get_party_list();
		var0002 = JULIA->get_npc_object();
		var0003 = Func0908();
		var0004 = Func08F7(SPARK);
		add(["name", "job", "bye"]);
		if (gflags[0x010B]) {
			add("plans");
		}
		if (var0004) {
			if (!gflags[0x0121]) {
				add("Spark");
			}
		}
		if (var0002 in var0001) {
			add("leave");
		}
		if (gflags[0x0101]) {
			add("join");
		}
		if (!gflags[0x001B]) {
			say("You see Julia, a member of your party of adventurers from one of your previous visits to Britannia.");
			gflags[0x001B] = true;
		} else {
			say("\"It is good to speak with thee again, ",
				var0003,
				",\" Julia greets you.");
		}
		converse (0) {
			case "name":
				say("\"Has it really been that long, ",
					var0003,
					"? 'Tis I, Julia!\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"Since accompanying thee on thine adventures when thou wast last in Britannia, I have become the tinker of Minoc. I repair things for the people of the town. But my duties and obligations are not so pressing as to prevent me from joining thee again shouldst thou wish it. After all, when thou art in Britannia, thou hast usually come to repair very important things and help put the world to rights.\"");
					add(["tinker", "Minoc"]);
					if (!(var0002 in var0001)) {
						add("join");
					}
				} else {
					say("\"Now is not the proper time for a joyous reunion, ",
						var0003,
						". This town has been touched by a mysterious evil. There have been murders committed in Minoc.\"");
					gflags[0x011F] = true;
					add(["murders", "Minoc"]);
				}
				fallthrough;

			case "tinker":
				say("\"It is not really what I wish to do with the rest of my life. I do not have the patience to be a proper tinkerer. If thou didst ask me, I would say I have sacrificed enough!\"");
				remove("tinker");
				fallthrough;

			case "join":
				var0005 = 0x0000;
				var0001 = UI_get_party_list();
				for (var0008 in var0001 with var0006 to var0007) {
					var0005 += 0x0001;
				}
				if (var0005 < 0x0006) {
					if (gflags[0x0101]) {
						say("\"Well... All right. But I did not like thee telling me to leave!\"");
					} else {
						say("\"Aye! It would be my pleasure!\"");
					}
					gflags[0x0108] = true;
					JULIA->add_to_party();
					add(["Iolo", "Shamino", "Dupre", "leave"]);
					remove("join");
				} else {
					say("\"I believe thou hast enough travellers for one group.\"");
				}
				remove("join");
				fallthrough;

			case "leave":
				say("\"Art thou sure thou dost want me to leave?\"");
				if (Func090A()) {
					say("\"Dost thou want me to wait here or should I go home?\"");
					UI_clear_answers();
					var0009 = Func090B(["wait here", "go home"]);
					if (var0009 == "wait here") {
						say("\"Very well. I shall wait here until thou dost return.\"*");
						gflags[0x0101] = true;
						gflags[0x0108] = false;
						JULIA->remove_from_party();
						JULIA->get_npc_object()->set_schedule_type(WAIT);
						abort;
					}
					say("\"Well! Fine, if that is thy wish, I shall leave!\"*");
					gflags[0x0101] = true;
					gflags[0x0108] = false;
					JULIA->remove_from_party();
					JULIA->get_npc_object()->set_schedule_type(LOITER);
					abort;
				}
				say("\"Then I shall stay.\"");
				remove("leave");
				fallthrough;

			case "Minoc":
				say("\"'Tis a terrible thing to be happening in our town, these murders. Minoc was once a safe and quiet place.\"");
				remove("Minoc");
				add(["safe and quiet", "murders"]);
				fallthrough;

			case "safe and quiet":
				say("\"Well, at least safe, if not necessarily quiet. Especially with all the commotion caused by Owen and his monument.\"");
				remove("safe and quiet");
				add(["Owen", "monument"]);
				fallthrough;

			case "Owen":
				say("\"Owen is our local shipwright. Frankly, I think he is something of a fool.\"");
				remove("Owen");
				fallthrough;

			case "monument":
				say("\"The Fellowship wanted to build a statue of Owen. That way they can use him as an example of the success of the Fellowship philosophy. It would also increase Owen's business to the point of upsetting the local economy and driving the Artist's Guild out of business!\"");
				if (gflags[0x00F7]) {
					say("\"And it would have worked if thou hadst not put a stop to their plans.\"");
				}
				remove("monument");
				fallthrough;

			case "murders":
				say("\"Frederico and Tania were killed at the Minoc sawmill in a manner most gruesome.\"");
				remove("murders");
				add(["Frederico and Tania", "gruesome"]);
				fallthrough;

			case "Frederico and Tania":
				say("\"Frederico was the leader of the Gypsies, and Tania was his wife. They lived outside of town. I know nothing more about them.\"");
				remove("Frederico and Tania");
				fallthrough;

			case "gruesome":
				say("\"The manner in which Frederico and Tania were murdered suggests a ritual killing. From what I have been hearing it is similar to one that thou hast run across in Trinsic\tand one that occurred in Britain a while ago. 'Tis a most puzzling mystery.\"");
				remove("gruesome");
				fallthrough;

			case "plans":
				var000A = Func0931(PARTY, 0x0001, 0x031D, 0x000B, FRAME_ANY);
				if (var000A) {
					say("\"May I see them?\" She examines every line of the plans carefully. \"These designs are unsound. Ships built to these specifications will easily capsize and sink. Thou shouldst show these plans to the Mayor.\"");
					gflags[0x00FD] = true;
				} else {
					say("\"Karl has the plans to the ships Owen built that sank?! I would very much like see them. Perhaps I could help discover why those tragedies occurred.\"");
				}
				remove("plans");
				fallthrough;

			case "Iolo":
				var000B = Func08F7(IOLO);
				if (!var000B) {
					say("\"Perhaps we should go find Iolo and have him join us as well.\"");
				} else {
					say("\"Hello, Iolo.\"*");
					IOLO->say("\"'Tis a pleasure to see thee again, Julia.\"*");
					IOLO->hide();
					JULIA->show_npc_face(0x0000);
				}
				remove("Iolo");
				fallthrough;

			case "Shamino":
				var000C = Func08F7(SHAMINO);
				if (!var000C) {
					say("\"Perhaps we should go find Shamino and have him join us as well.\"");
				} else {
					say("\"Hello, Shamino!\"*");
					SHAMINO->say("\"Oh, Julia! Good of thee to be joining us again!\"*");
					SHAMINO->hide();
					JULIA->show_npc_face(0x0000);
				}
				remove("Shamino");
				fallthrough;

			case "Dupre":
				var000D = Func08F7(DUPRE);
				if (!var000D) {
					say("\"Perhaps we should go find Sir Dupre and have him join us as well.\"");
				} else {
					say("\"Once again our paths cross, Sir Dupre!\"*");
					DUPRE->say("\"Julia! I was just wondering if we would ever see thee again!\"*");
					JULIA->say("\"Well, thou canst wonder no more, Dupre.\"*");
					DUPRE->say("\"",
						var0003,
						", just between thou, myself and the lamppost, thou hadst better watch Julia. She hath a temper.\"*");
					DUPRE->hide();
					JULIA->show_npc_face(0x0000);
				}
				remove("Dupre");
				fallthrough;

			case "Spark":
				say("\"And who is this fine young lad?\"");
				if (var0004) {
					SPARK->say("\"My name is Spark, milady.\"*");
					JULIA->say("\"He is a cute one! And so well-mannered!\"");
					SPARK->say("Spark turns beet red.");
					SPARK->hide();
					JULIA->show_npc_face(0x0000);
					gflags[0x0121] = true;
				}
				remove("Spark");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0003,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(JULIA);
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0409 object#(0x409) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		KATRINA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_get_party_list();
		var0002 = KATRINA->get_npc_object();
		var0003 = Func0908();
		var0004 = Func08F7(SHAMINO);
		var0005 = Func08F7(IOLO);
		var0006 = Func08F7(DUPRE);
		add(["name", "job", "bye"]);
		if (var0002 in var0001) {
			add("leave");
		}
		if (gflags[0x018D]) {
			add("Henry");
		}
		if (gflags[0x017D]) {
			add("locket");
		}
		if (gflags[0x0180]) {
			add("strangers");
		}
		if (!gflags[0x001C]) {
			say("You see your old companion Katrina looking only slightly older than when you saw her during your last visit.");
			gflags[0x001C] = true;
		} else {
			say("\"Hello again, ",
				var0003,
				"!\" Katrina greets you with a smile.");
		}
		converse (0) {
			case "name":
				say("\"Why,\" she blinks at you, \"I know it has been a long time, but surely thou cannot have forgotten me. I am Katrina. One of thine old companions.\"");
				say("You share a friendly laugh at your reunion.");
				add(["old companions", "time"]);
				remove("name");
				fallthrough;

			case "old companions":
				say("\"Ah, yes, Iolo, Shamino, and Dupre.\"");
				remove("old companions");
				add(["Iolo", "Shamino", "Dupre"]);
				fallthrough;

			case "time":
				say("\"Although there is a vast difference in how time passes in our world and in this one, I am certain I have aged at least a bit,\" she says pleasantly.");
				remove("time");
				fallthrough;

			case "job":
				if (!(var0002 in var0001)) {
					say("\"Why, after last accompanying thee on thine adventures I settled down to the peaceful life of a shepherd in New Magincia.\"");
					add(["shepherd", "New Magincia"]);
					if (!(var0002 in var0001)) {
						say("\"If thou dost have need of me I could join thy party again.\"");
						add("join");
					}
				} else {
					say("\"Following thee around, ",
						var0000,
						"! I shall never miss New Magincia!\"");
					add("New Magincia");
				}
				fallthrough;

			case "shepherd":
				say("\"I watch over my flock, and the townspeople as well, when they need me.\"");
				remove("shepherd");
				fallthrough;

			case "join":
				var0007 = 0x0000;
				var0001 = UI_get_party_list();
				for (var000A in var0001 with var0008 to var0009) {
					var0007 += 0x0001;
				}
				if (var0007 < 0x0006) {
					say("\"It would be an honor, ",
						var0000,
						"!\"");
					KATRINA->add_to_party();
					add("leave");
					remove("join");
				} else {
					say("\"I prefer smaller crowds, Avatar. Perhaps later.\"");
				}
				remove("join");
				fallthrough;

			case "leave":
				say("\"Dost thou want me to wait here or shall I go on home?\"");
				UI_clear_answers();
				var000B = Func090B(["wait here", "go home"]);
				if (var000B == "wait here") {
					say("\"I shall be happy to wait here until thou dost return.\"*");
					KATRINA->remove_from_party();
					KATRINA->get_npc_object()->set_schedule_type(WAIT);
					abort;
				}
				say("\"If thou dost think it best, I shall. If thou dost need me again thou dost have but to ask.\"*");
				KATRINA->remove_from_party();
				KATRINA->get_npc_object()->set_schedule_type(LOITER);
				abort;

			case "New Magincia":
				say("\"We are isolated here. We get no news from the world outside. Life is much the same as it was the last time thou didst visit Britannia two hundred years ago. I have many friends here.\"");
				add("isolated");
				remove("New Magincia");
				fallthrough;

			case "isolated":
				say("\"That is the way we like it here. Now we have three other strangers on the island -- besides thee. Of course, thou couldst hardly be called a stranger. This is the largest number of visitors we have had in years.~~\"But, never fear, ",
					var0003,
					", I am seldom lonely.\"");
				remove("isolated");
				add(["lonely", "visitors"]);
				fallthrough;

			case "lonely":
				say("\"I have many friends here. When I am lonely, I speak with Alagner the Sage, Russell the shipwright, or Henry the peddler.\"");
				remove("lonely");
				add(["Alagner", "Russell", "Henry"]);
				fallthrough;

			case "Alagner":
				say("\"He is a wise man who knows many things and tells wonderful stories. Alagner came here to retreat from the outside world. I know not why.\"");
				remove("Alagner");
				fallthrough;

			case "Russell":
				say("\"He has a sailor's heart, an artist's soul and a craftsman's hands. He never lived his dream of sailing the world. His ships do that for him.\"");
				remove("Russell");
				fallthrough;

			case "Henry":
				say("\"Henry has been a very dear friend for years. He is a simple but good man who does not have an ounce of hate in his heart for anyone. I am so fond of him that I gave him a valuable heirloom.\"");
				remove("Henry");
				add("heirloom");
				fallthrough;

			case "locket", "heirloom":
				say("\"Since he does not have much money, I gave Henry my gold locket so he could present it to his sweetheart Constance. I have not talked to him lately, but I must confess I am worried about him.\"");
				remove("locket");
				remove("heirloom");
				add("worried");
				fallthrough;

			case "worried":
				say("\"Soon after Henry left carrying the locket, I saw the three strangers on the island, wandering off in the same direction.\"");
				remove("worried");
				fallthrough;

			case "visitors", "strangers":
				say("\"The three visitors come from Buccaneer's Den. I met them shortly after their arrival and we spoke briefly. Robin is the one dressed like a gambler and the other two, Battles and Leavell, appear to be bullies.\"");
				remove(["strangers", "visitors"]);
				gflags[0x0180] = true;
				fallthrough;

			case "Iolo":
				if (!var0005) {
					say("\"Iolo should be in our party adventuring with us.\"");
				} else {
					say("\"How hast thou been keeping thyself all these years, Iolo?\"*");
					IOLO->say("\"The years have not been as kind to me as they obviously have been to thee, milady.\"*");
					KATRINA->say("\"Ha! I see thou art still a scallywag, Iolo.\"*");
					IOLO->hide();
					KATRINA->show_npc_face(0x0000);
				}
				remove("Iolo");
				fallthrough;

			case "Shamino":
				if (!var0004) {
					say("\"Shamino should be here with us.\"");
				} else {
					say("\"Is that a gray hair I see in thine hair, Shamino?\"*");
					SHAMINO->say("\"It is not! Where?\"*");
					KATRINA->say("\"Perhaps it is but a trick of the light.\"*");
					SHAMINO->hide();
					KATRINA->show_npc_face(0x0000);
				}
				remove("Shamino");
				fallthrough;

			case "Dupre":
				if (!var0006) {
					say("\"I cannot help but miss Dupre a little. I have not seen him since he was knighted.\"");
				} else {
					say("\"Sir Dupre, hast thou finished thy studies yet?\"*");
					DUPRE->say("Dupre looks confounded. \"My studies, milady?\"*");
					KATRINA->say("\"Of all the various drinking establishments in Britannia!\"*");
					DUPRE->say("\"Oh, yes, of course, my studies! Continuing mine education has always been of the utmost importance to me.\"*");
					DUPRE->hide();
					KATRINA->show_npc_face(0x0000);
				}
				remove("Dupre");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Pleasant days, ",
			var0003,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(KATRINA);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func093C 0x93C (var var0000, var var0001);
extern var Func08F7 0x8F7 (var var0000);
extern void Func08F2 0x8F2 (var var0000, var var0001);
extern void Func08F4 0x8F4 (var var0000, var var0001);
extern var Func08F5 0x8F5 (var var0000, var var0001);
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern void Func08F3 0x8F3 (var var0000);

void Func040A object#(0x40A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;
	var var001F;
	var var0020;
	var var0021;
	var var0022;
	var var0023;
	var var0024;
	var var0025;
	var var0026;
	var var0027;
	var var0028;
	var var0029;
	var var002A;

	if (event == DOUBLECLICK) {
		TSERAMED->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = UI_get_party_list();
		var0003 = Func093C(AVATAR->get_npc_object(), var0002);
		var0004 = TSERAMED->get_npc_object();
		var0005 = TRELLEK->get_npc_object();
		if (UI_is_pc_female() == 0x0000) {
			var0006 = "Abraham";
		} else {
			var0006 = "Elizabeth";
		}
		var0007 = UI_get_array_size(var0002);
		var0008 = "";
		if (var0007 > 0x0001) {
			var0008 = "s";
		}
		var0009 = 0x0000;
		var000A = false;
		var000B = false;
		var000C = false;
		var000D = false;
		var000E = false;
		var000F = false;
		var0010 = false;
		var0011 = false;
		var0012 = false;
		var0013 = false;
		var0014 = false;
		var0015 = false;
		var0016 = false;
		var0017 = var0004->find_nearby(0x0211, 0x000D, MASK_NONE);
		var0018 = var0004->find_nearby(0x01FE, 0x000D, MASK_NONE);
		var0019 = var0004->find_nearby(0x0214, 0x000D, MASK_NONE);
		var001A = var0004->find_nearby(0x01EE, 0x0014, MASK_NONE);
		var001B = false;
		if (Func08F7(0x00E5) || Func08F7(0x00E4)) {
			var001B = true;
		}
		var001C = "valiant warrior";
		if (gflags[0x015E]) {
			var001C = "noble enchanter";
		}
		if ((!gflags[0x001D]) && gflags[0x015D]) {
			Func08F2(var0000, var0006);
			abort;
		}
		if (var0004 in var0002) {
			Func08F4(var0000, var0007);
			if (var001B) {
				add("hermits");
			}
			if (var0017) {
				add("slime");
			}
			if (var0018) {
				add("foxes");
			}
			if (var0019) {
				add("harpies");
			}
			if (var001A) {
				say("\"We need not be concerned about these bees, so long as we have a number of my trusty arrows.\"");
				add("bees");
			}
			add("Fellowship");
			var0013 = true;
		} else {
			say("\"Greetings, traveller",
				var0008,
				".\"");
		}
		if (gflags[0x015D]) {
			var001C = "lowly deceiver";
		}
		add(["name", "job", "bye"]);
		if (gflags[0x001D] && (var0007 == 0x0001)) {
			gflags[0x015F] = true;
		}
		if (gflags[0x0162] && (!(var0004 in var0002))) {
			add(var0006);
		}
		if ((!gflags[0x015F]) && ((var0007 > 0x0001) && gflags[0x001D])) {
			add("introduce");
		}
		converse (0) {
			var0002 = UI_get_party_list();
			var001D = "";
			case "name" (remove):
				if (gflags[0x001D] == true) {
					say("\"I am Tseramed the woodsman. Thou art a ",
						var001C,
						".\"");
				} else {
					say("\"I am called Tseramed. Art thou Fellowship members? How art thou called?\"");
					UI_push_answers();
					var0009 += 0x0001;
					add([var0000, "Fellowship"]);
					if (!gflags[0x0161]) {
						add("Avatar");
					}
				}
				fallthrough;

			case "Avatar" (remove):
				gflags[0x0161] = true;
				say("\"The Avatar! This is a strange chance. Tell me Avatar, by what name art thou called?\"");
				fallthrough;

			case var0000:
				remove(var0000);
				gflags[0x001D] = true;
				say("\"Well met, ",
					var0000,
					"\"");
				if (gflags[0x0161]) {
					say("Thy demeanor is noble.");
				}
				if (var0007 == 0x0001) {
					gflags[0x015F] = true;
				}
				UI_pop_answers();
				if (!gflags[0x015F]) {
					say("Perhaps thou couldst introduce me to thy companions?\"");
					add("introduce");
				}
				fallthrough;

			case "Fellowship" (remove):
				if (gflags[0x001D]) {
					if ((var0004 in var0002) || gflags[0x0162]) {
						say("\"I do not trust The Fellowship, and most especially ",
							var0006,
							".\"");
						add(var0006);
					} else {
						say("\"I have no love for The Fellowship. We shall speak of it when I know thee better.\"");
					}
				} else {
					say("\"Yes. Perhaps I am addressing the illustrious ",
						var0006,
						"?\"");
					add(var0006);
				}
				fallthrough;

			case var0006:
				remove(var0006);
				if (gflags[0x001D]) {
					say("\"Not long ago The Fellowship began to spread its influence throughout Britannia.");
					say("\"In their early days they attracted many bright and enthusiastic young people, among them my love, Lady M.");
					say("A woman so intelligent could not help but rise in their ranks. Her direct superior was ",
						var0006,
						".");
					say("One black evening she fell gravely ill. According to friends of mine, ",
						var0006,
						" forbade her to visit the local healer. By the time I learned of this, she had already passed away.");
					say("She rests now forever in the Yew graveyard, may her sleep be peaceful. I searched the land for ",
						var0006,
						", but never found my quarry. In fact, it seems that every time I near my prey, they have already vanished! My search shall never be truly over.\"");
					remove(var0006);
					add(["Yew", "Lady M."]);
				} else {
					UI_pop_answers();
					gflags[0x015D] = true;
					var001E = "";
					if (gflags[0x0161]) {
						var001E = "thou dost tarnish the title of Avatar!";
					}
					say("\"Knave, ",
						var001E,
						" I have not forgotten thy wrong doing, nor the evil crime that followed it.");
					say("Oh soul as black as pitch!\"");
					Func08F2(var0000, var0006);
					abort;
				}
				fallthrough;

			case "Lady M." (remove):
				say("\"Youth is hers forever.\"");
				fallthrough;

			case "job":
				if (!var000A) {
					var000A = true;
					if (var0004 in var0002) {
						say("\"I travel with thee, ",
							var001C,
							", to aid thee with my wood craft.\"");
						add("forest");
					} else {
						say("\"I am but a humble woodsman. I garner my living from the forest and find knowledge in its depths.");
						say("I have explored all this region.\"");
						add("knowledge");
						add("forest");
					}
				} else {
					say("\"As I said, my woodcraft encompasses all this forest, even the caves in the mountain.\"");
					add("forest");
					add("caves");
				}
				fallthrough;

			case "introduce":
				var0003 = Func08F5(var0002, var0003);
				remove("introduce");
				fallthrough;

			always:
				if (gflags[0x001D] && (!var0013)) {
					if ((var0004 in var0002) || (UI_get_array_size(var0003) == 0x0000)) {
						add("Fellowship");
						var0013 = true;
					}
				}
				var001F = 0x0000;
				fallthrough;

			case "forest":
				var001F = 0x0001;
				fallthrough;

			case "caves", "secret places":
				var001F = 0x0002;
				fallthrough;

			case "knowledge":
				var001F = 0x0003;
				fallthrough;

			always:
				if (var001F > 0x0000) {
					if ((!gflags[0x015F]) || (!gflags[0x001D])) {
						var0020 = ["We may speak more after introductions...", "Perhaps introductions are in order first."];
						var0021 = var0020[UI_die_roll(0x0001, UI_get_array_size(var0020))];
						say("\"",
							var0021,
							"\"");
						var001F = 0x0000;
						add("introduce");
					}
				}
				if (var001F == 0x0001) {
					var000D = true;
					say("\"The forest is a wild place, but tamed somewhat in recent years. Within, ",
						var001C,
						", thou mayest still find creatures spoken of only in legend.\"");
					add("creatures");
				}
				if (var001F == 0x0002) {
					var000C = true;
					say("\"North of my hut is a deep bore-hole into the mountains. Within live bees of a size to rival sheep, or hounds. Their wings stir up leaves as they fly, and they humm with a noise to make men flee in fear.\"");
					say("\"Some have entered, never to return. Perhaps they are there still... Death is greedy, and holds a fate for those of like intent.\"");
					add(["mountains", "bees", "death"]);
				}
				if (var001F == 0x0003) {
					remove("knowledge");
					say("\"Many years have I dwelt by the mountains. Many spans have vanished under my roaming feet. Into the depths of the dark swamp I have gone, and to the heights of the mountains. I know the trees of the forest, and the secret places in the earth.\"");
					add(["mountains", "swamp", "secret places"]);
				}
				fallthrough;

			case "swamp" (remove):
				say("\"North of the mountain spur is a dense swamp. Killing slime [lurk within, guarding a clear spring. All about the water is foul and noisome.");
				say("Into thy boots the foul concoction will seep, bringing on nausea and dizziness. The wise traveller wears swamp boots in such places.");
				say("East, North, and West that mire is drained. Through Yew and past the Abbey the westward river flows. The others both bend north into the sea.\"");
				add(["slime", "Yew", "Abbey", "sea"]);
				fallthrough;

			case "Abbey" (remove):
				say("\"Empath Abbey is its proper name ",
					var0001,
					". They practice ancient arts there, the eldest being the fermentation and distillation of spirits. Demand for their products is high in Yew.\"");
				add("Yew");
				fallthrough;

			case "Yew" (remove):
				say("\"Citizens of a reclusive nature feel at peace there. Within the forest lie its buildings, many so grown-over as to seem a part of the wood.\"");
				say("\"East of my dwelling the wood is thick, but a woodcrafty traveller may find the houses there.\"");
				fallthrough;

			case "sea" (remove):
				say("\"The sea!  Its waves sooth a rough mood, but its fury is unrivaled. Ask those who live upon it! A gift it is, to live by it and reap its natural harvest. I cast in a line when I may.");
				say("Dost thou wonder what mysteries the sea must hold?\"");
				if (Func090A()) {
					say("\"I also wonder. But the doings of those who travel upon it are more familiar to me. I have seen pirates land upon the northern coast.\"");
					add("pirates");
				} else {
					say("\"Perhaps thou art not as fond of the sea as I...\"");
				}
				fallthrough;

			case "pirates" (remove):
				say("\"Perhaps they land to cache their booty in the forest. I have never followed them.\"");
				fallthrough;

			case "mountains":
				var000B = true;
				say("\"Vaulting in from the coast looms a narrow spine. Dangerous and sharp rear the crags of those mountains. Caves there hold danger, and death for the unwary.\"");
				add(["caves", "death"]);
				fallthrough;

			case "death" (remove):
				say("\"Death for the greedy. Death for any who steal from the dwellers in the caves.\"");
				add("caves");
				fallthrough;

			case "creatures" (remove):
				say("\"Aye. Such as would devour the unwary and pick bones dry. In the forest are harpies, and slime on the margins of the swamp, and bees in the caves.");
				say("\"Good game live also in the forest: Foxes and the like.\"");
				add(["slime", "foxes", "harpies", "bees"]);
				fallthrough;

			case "harpies" (remove):
				if (var0019) {
					say("\"Harpies! To battle! Let us slay them at once!\"");
				} else {
					say("\"A malformed flying horror. Thou wouldst not want to meet one.\"");
				}
				fallthrough;

			case "slime":
				var000E = true;
				say("\"A dangerous organism is the greenish slime. Acidic to touch, it will hurl pseudopods at its prey from three paces.");
				say("\"Never sleeping, it has no mind and is composed in the main of\tpoisonous substances. It engulfs and devours hapless animals voraciously.\"");
				if (var0017) {
					say("\"Attack it with flame! Slime has no defense against it.\"");
				}
				fallthrough;

			case "foxes":
				var000F = true;
				if (var0004->find_nearby(0x01FE, 0x000A, MASK_NONE)) {
					var001D = "  See how lustrous is the coat of that fox.";
				}
				say("\"Cunning is the fox, and shy of humans. We shall never belong to the forest as they do.",
					var001D,
					"\"");
				fallthrough;

			case "bees":
				var0011 = true;
				if (var001A) {
					say("\"Bees such as these may be tamed with my special arrows!\"");
					add("arrows");
				} else {
					say("\"Such bees as thou hast never seen! Large as a wolf they are, with wings stretching over a span in length.");
					say("A creature stung by them will pass into a deep, death-like sleep.\"");
					if (!(var0004 in var0002)) {
						say("\"I have hunted them on many occasions, for I use their poison on my arrows. And I like their honey. Perhaps together we might journey into the cave for some?\"");
						add(["join", "arrows"]);
					}
				}
				fallthrough;

			case "arrows" (remove):
				say("\"I fashion my arrows from the stingers of giant bees. With them one may put a foe to sleep.\"");
				var0022 = "";
				var0023 = 0x0000;
				if (gflags[0x0153]) {
					var0023 = PARTY->count_objects(0x03B3, QUALITY_ANY, FRAME_ANY);
					if (var0023 > 0x0006) {
						var0023 = 0x0006;
					}
					var0024 = PARTY->count_objects(0x0238, QUALITY_ANY, FRAME_ANY);
					if ((var0004 in var0002) && ((var0024 < 0x0006) && (var0023 > 0x0000))) {
						var0022 = "Shall I fashion these stingers into arrows?";
					}
				} else {
					var0022 = "If thou wouldst like, I would be happy to give thee a dozen of my special arrows. Art thou interested?";
					var0023 = 0x000C;
				}
				if (var0022 != "") {
					say(var0022,
						"");
					if (Func090A()) {
						var0025 = UI_add_party_items(var0023, 0x0238, QUALITY_ANY, FRAME_ANY, false);
						if (var0025) {
							var0026 = "";
							if (var0023 > 0x0001) {
								var0026 = "s";
							}
							say("\"Use them with care, for even a scratch may put one to sleep!\" he says, handing you ",
								var0023,
								" arrow",
								var0026,
								".");
							if (gflags[0x0153]) {
								var001F = UI_remove_party_items(var0023, 0x03B3, QUALITY_ANY, FRAME_ANY, true);
							}
							gflags[0x0153] = true;
						} else {
							say("\"Perhaps when thou art carrying less I can give them to thee.\"");
						}
					} else {
						say("\"Very well, ",
							var0001,
							".\"");
					}
				}
				fallthrough;

			case "join" (remove):
				if (var0007 < 0x0008) {
					TSERAMED->add_to_party();
					say("\"I would be honored, ",
						var0001,
						".\"");
					add("Fellowship");
				} else {
					say("\"'Twould appear, ",
						var0001,
						", that thou already hast more than enough travelling companions.\"");
				}
				fallthrough;

			case "leave":
				var0027 = true;
				say("\"Dost thou want me to wait here or should I go home?\"");
				UI_clear_answers();
				var0028 = Func090B(["wait here", "go home"]);
				if (var0028 == "wait here") {
					say("\"Very well! I shall wait for thee!\"*");
					TSERAMED->remove_from_party();
					TSERAMED->get_npc_object()->set_schedule_type(WAIT);
					abort;
				}
				say("\"Very well, ",
					var0001,
					". Fare thee well.\"*");
				TSERAMED->remove_from_party();
				TSERAMED->get_npc_object()->set_schedule_type(LOITER);
				abort;

			always:
				var0029 = false;
				fallthrough;

			case "hermits":
				var0029 = true;
				fallthrough;

			always:
				if ((var000C && var000B) && (!var0012)) {
					say("\"Speaking of caves and mountains, there are some who dwell near, or perhaps in, the cave of bees. They are hermits.\"");
					var0029 = true;
					var0012 = true;
					add("bees");
				}
				if (var0029) {
					remove("hermits");
					if (!gflags[0x0152]) {
						say("\"One day I glimpsed a man and a woman deep within the cave as I was hunting. Since then I have seen them twice. I believe they are former citizens of Yew, though I do not know how they live in harmony with the bees.\"");
						if (var001B) {
							say("\"These are the people I saw!\"");
						}
						gflags[0x0152] = true;
						add("bees");
					} else if (var001B) {
						say("\"These people are the hermits I spoke of before.\"");
					} else {
						say("\"Perhaps those hermits are still living in the cave.\"");
					}
					var0012 = true;
				}
				if ((var000E && var000F) && (!var0010)) {
					say("\"This puts me in mind of a story. Wouldst thou like to hear it?\"");
					if (Func090A()) {
						say("\"One day while walking along the edge of the swamp I happened upon a strange sight. A fox was held at bay on a small hillock in the midst of the swamp, and all about the hillock writhed green slime.");
						say("Slowly the slime crept up toward the fox, when suddenly the fox trotted directly across the surface of the ooze!");
						say("Unharmed, the fox dashed off into the wood, leaving the slime writhing behind. By this I guess that the victims of slime are those caught sleeping, or unaware.\"");
					} else {
						say("\"Perhaps another time.\"");
					}
					var0010 = true;
				}
				if (var000E) {
					remove("slime");
				}
				if (var000F) {
					remove("foxes");
				}
				if (var0011) {
					remove("bees");
				}
				if (var000C) {
					remove("caves");
					remove("secret places");
					remove("death");
				}
				if (var000B) {
					remove("mountains");
				}
				if (var000D) {
					remove("forest");
				}
				if (gflags[0x0161] && ((var0004 in var0002) && (!gflags[0x0162]))) {
					Func08F3(var0002);
					gflags[0x0162] = true;
				}
				if (var0004 in var0002) {
					remove("join");
				}
				fallthrough;

			case "bye":
				if ((var0004 in var0002) || var0027) {
					var0016 = true;
				}
				if (gflags[0x001D] && (!var0016)) {
					if (!gflags[0x0161]) {
						say("\"Thy pardon, ",
							var0001,
							", but thy visage brings to my mind a statue that I once saw.  'Twas a likeness of the ancient hero known as the Avatar.");
						say("Art thou not that same honorable soul?\"");
						if (Func090A()) {
							var002A = "That sculptor did thee justice.";
							if (UI_is_pc_female() == 0x0001) {
								var002A = "Thou art more fair by far than any likeness in stone could portray.";
							}
							say("\"Noble hero, it is an honor to make thine aquaintance. ",
								var002A,
								"\"");
							gflags[0x0161] = true;
						} else {
							say("\"I must be mistaken. Farewell.\"");
							break;
						}
					} else {
						say("\"^",
							var0001,
							", if it pleases thee, I would be honored to travel with thee. I have skill in arms, and I can offer my knowledge and wood craft to thee...\"");
						add("join");
						var0016 = true;
					}
				} else {
					say("\"'Til next time, ",
						var0001,
						".\"*");
					break;
				}
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func040B object#(0x40B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		var0000 = Func0909();
		var0001 = UI_get_party_list();
		var0002 = UI_is_pc_female();
		add(["name", "job", "bye"]);
		PETRE->show_npc_face(0x0000);
		if (!gflags[0x0014]) {
			if (var0002) {
				var0003 = "woman";
			} else {
				var0003 = "man";
			}
			say("The peasant looks at you as if he has seen a ghost! \"Iolo! This ",
				var0003,
				" did appear from thin air! Help me!\"*");
			abort;
		}
		if (!gflags[0x004B]) {
			say("You see a distraught peasant. \"Art thou really the Avatar?\"");
			var0004 = Func090A();
			if (var0004) {
				say("Petre bows before you. \"^",
					var0000,
					".\"");
				gflags[0x004B] = true;
				PETRE->set_schedule_type(LOITER);
			} else {
				say("Petre looks confused. \"Thou shouldst not make fun of me!\" He turns away.*");
				gflags[0x004B] = true;
				abort;
			}
		} else {
			say("\"What is it, ",
				var0000,
				"?\" Petre asks.");
		}
		if (gflags[0x003C]) {
			add(["murder", "footprints"]);
		}
		if (gflags[0x003F]) {
			add(["Fellowship", "Klog", "Spark"]);
		}
		converse (0) {
			if (!gflags[0x003C]) {
				say("\"Look in the stables! 'Tis horrible! I will answer thy questions, but first look in the stables!\"*");
				abort;
			}
			case "name":
				say("\"I am called Petre,\" the man sniffs.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the stables caretaker.\"");
				add("stables");
				fallthrough;

			case "stables":
				say("\"I have worked here for years. I can sell thee a nice horse and carriage if thou dost want one. The animal and the carriage are located in a small shelter just outside the north gate of the town.\"");
				if (!gflags[0x0057]) {
					say("\"Right now the place gives me the creeps!\"~~His eyes are wild with fright.");
				} else {
					say("\"The Mayor did not let me clean in there until twenty-four hours after thou didst leave Trinsic. He thought we had to keep the place of the crime unsullied. Well, if thou dost ask me, I can tell thee that it still stinks like the end of the world in there!\"");
				}
				remove("stables");
				add("carriage");
				fallthrough;

			case "murder":
				say("\"I discovered poor Christopher and Inamo earlier this morning. I did not touch a thing. Made me sick, it did!\"");
				remove("murder");
				add(["Christopher", "Inamo"]);
				fallthrough;

			case "Christopher":
				say("\"Nice man. He made the shoes for mine horses.\"");
				remove("Christopher");
				fallthrough;

			case "Inamo":
				say("\"He worked for very little money. Did basic chores around the stables and the pub. I let him sleep in the little back room. He must have been in the wrong place at the wrong time.\"");
				remove("Inamo");
				fallthrough;

			case "carriage":
				say("\"The horse and carriage combination sells for 60 gold. Dost thou want a title?\"");
				var0005 = Func090A();
				if (var0005) {
					var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var0006 >= 0x003C) {
						var0007 = UI_add_party_items(0x0001, 0x031D, 0x001C, FRAME_ANY, false);
						if (var0007) {
							say("\"Very good. Nothing like a little business transaction to take my mind off the ghastly scene in the stables.\"");
							var0008 = UI_remove_party_items(0x003C, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						} else {
							say("\"Oh, my. Thine hands are too full to take the title!\"");
						}
					} else {
						say("\"Oh. Thou dost not have enough gold to buy the title.\"");
					}
				} else {
					say("\"Some other time, then.\"");
				}
				remove("carriage");
				fallthrough;

			case "footprints":
				say("\"They doth lead out the back way, yes? They must be the tracks of the murderer!\"~~His eyes widen a bit more.~~\"Or... murderers!\"");
				remove("footprints");
				fallthrough;

			case "Fellowship":
				say("\"I do not want to join them, but they seem all right.\"");
				remove("Fellowship");
				fallthrough;

			case "Klog":
				say("\"I do not know the man too well. I have no dealings with him.\"");
				remove("Klog");
				fallthrough;

			case "Spark":
				if (!(SPARK in var0001)) {
					say("\"That be Christopher's son. Nice lad.\"");
				} else {
					say("Petre ruffles the boy's hair.~~\"This here is Christopher's son. He's a good lad, is Spark, when he's not pilfering things from honest shopkeepers.\"");
				}
				remove("Spark");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye,\" the man sniffs.*");
	}
	if (event == PROXIMITY) {
		Func092E(PETRE);
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern void Func0883 0x883 ();
extern void Func0885 0x885 ();
extern void Func0884 0x884 ();
extern var Func0886 0x886 ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func040C object#(0x40C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == DOUBLECLICK) {
		FINNIGAN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func0908();
		var0002 = Func08F7(SPARK);
		var0003 = UI_is_pc_female();
		do {
			if ((gflags[0x005A] == true) && (gflags[0x0048] == false)) {
				say("\"Hast thou properly searched the stables?\"");
				if (Func090A()) {
					say("\"What didst thou find?\"");
					UI_clear_answers();
					var0004 = ["nothing", "a bucket", "a body"];
					if (gflags[0x003C]) {
						var0004 &= "a key";
					}
					var0005 = Func090B(var0004);
					if (var0005 == "a key") {
						if (!var0002) {
							say("\"Hmmm, a key. Perhaps if thou dost ask Christopher's son about it, he may know what it is for.\"");
						} else {
							say("\"Ask Spark about it. He may know something.\"");
						}
						gflags[0x0048] = true;
						break;
					}
					if (var0005 == "a body") {
						say("\"I know that! What ELSE didst thou find? Thou shouldst look again, Avatar!\"*");
						abort;
					}
					if (var0005 == "a bucket") {
						say("\"Yes, obviously it is filled with poor Christopher's own blood. But surely there was something else that might point us in the direction of the killer or killers - thou shouldst look again, Avatar.\"*");
						abort;
					}
					if (var0005 == "nothing") {
						say("\"Thou shouldst look again, 'Avatar'!\"*");
						abort;
					}
				} else {
					say("\"Well, do so, then come speak with me!\"*");
					abort;
				}
			}
			if (gflags[0x0059]) {
				say("\"Hmmm. Hast thou reconsidered mine offer to investigate the murder?\"");
				if (Func090A()) {
					say("\"Splendid. Then thou must really be the Avatar after all!\"");
					gflags[0x0059] = false;
					Func0883();
				} else {
					say("\"Then leave our people to work it out for themselves.\"*");
					FINNIGAN->hide();
					var0006 = Func08F7(IOLO);
					if (var0006) {
						IOLO->say("\"Avatar! I am ashamed of thee! Thou shouldst reconsider!\"*");
						IOLO->hide();
					}
					abort;
				}
			} else if (!gflags[0x004C]) {
				halt_scheduled();
				FINNIGAN->get_npc_object()->set_schedule_type(LOITER);
				say("You see a middle-aged nobleman.");
				gflags[0x004C] = true;
				var0006 = Func08F7(IOLO);
				if (var0006) {
					say("\"Iolo! Who is this stranger?\"*");
					IOLO->say("\"Why, this is the Avatar!\" Iolo proudly proclaims. \"Canst thou believe it? May I introduce thee? This is Finnigan, the Town Mayor. And this is ",
						var0001,
						", the Avatar!");
					if (var0003) {
						say("\"I simply cannot believe she is here!\"*");
					} else {
						say("\"I simply cannot believe he is here!\"*");
					}
					FINNIGAN->say("The Mayor looks you up and down, not sure if he believes Iolo or not. He looks at Iolo skeptically.");
					IOLO->say("\"I swear to thee, it is the Avatar!\"");
					IOLO->hide();
					FINNIGAN->show_npc_face(0x0000);
				} else {
					say("\"I have heard that thou art the Avatar. I am not certain that I believe it.");
				}
				say("The mayor looks at you again as if he were studying every pore on your face. Finally, he smiles.");
				say("\"Welcome, Avatar.\"");
				say("But just as suddenly, Finnigan's face becomes stern.");
				say("\"A horrible murder has occurred. If thou art truly the Avatar, perhaps thou canst help us solve it. I would feel better if thou takest this matter into thine hands. Thou shalt be handsomely rewarded if thou dost discover the name of the killer. Dost thou accept?\"");
				var0005 = Func090A();
				if (var0005) {
					var0007 = Func08F7(PETRE);
					if (var0007) {
						say("\"Petre here knows something about all of this.\"*");
						PETRE->say("The peasant interjects. \"I discovered poor Christopher and the Gargoyle Inamo early this morning.\"*");
						PETRE->hide();
					} else {
						FINNIGAN->say("\"Petre, the stables caretaker, discovered poor Christopher and Inamo early this morning.\"");
					}
					FINNIGAN->say("The Mayor continues. \"Hast thou searched the stables?\"");
					Func0885();
				} else {
					say("\"Well, thou could not be the real Avatar then!\"*");
					gflags[0x0059] = true;
					abort;
				}
			} else {
				say("\"Yes, Avatar?\" Finnigan asks.");
			}
		} while (false);
		add(["name", "job", "murder", "bye"]);
		if (gflags[0x005B]) {
			add("report");
		}
		if (gflags[0x003F]) {
			add(["Fellowship", "Klog"]);
		}
		if (gflags[0x0042] && (!gflags[0x003D])) {
			add("password");
		}
		if (gflags[0x0045] && (!gflags[0x0044])) {
			add("Pay me now, please");
		}
		converse (0) {
			case "name":
				say("\"My name is Finnigan.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the Mayor of Trinsic and have been since I arrived here three years ago.\"");
				add("Trinsic");
				fallthrough;

			case "Trinsic":
				if (var0003) {
					var0008 = "by one who claimed she was the Avatar.";
				} else {
					var0008 = "by one who claimed he was the Avatar.";
				}
				say("\"Trinsic was once the city of Honor. I suppose it still is. Our Rune of Honor was taken many years ago ",
					var0008,
					" I believe it now resides in the Royal Museum in Britain, yet the empty pedestal still remains in the center of town. I feel this is symbolic of the town itself. It is rather empty -- of people, of life, and of honor. 'Tis sad, really.\"");
				say("\"Then there is this murder, of course. We have temporarily closed the gates of the city and require a password to get in or out.\"");
				remove("Trinsic");
				add("password");
				fallthrough;

			case "Pay me now, please":
				say("\"Of course, ",
					var0001,
					". Here is thy gold.\"");
				var0009 = UI_add_party_items(0x0064, 0x0284, QUALITY_ANY, FRAME_ANY, true);
				if (!var0009) {
					say("\"Oh, I am sorry, ",
						var0001,
						". Thou still cannot carry this amount. Thou must return to me later.\"");
				} else {
					say("\"Here thou art.\"");
					gflags[0x0045] = false;
					gflags[0x0044] = true;
				}
				remove("Pay me now, please");
				fallthrough;

			case "murder":
				if (!gflags[0x003D]) {
					say("\"A crime like this has never happened in Trinsic before. I cannot believe this happened to Christopher and Inamo. Please -- explore the town! I would appreciate it if thou wouldst bring me a report on thy progress. Be sure to ask everyone in town about the murder. After speaking with Christopher's son, thou mightest next want to speak with Gilberto, the guard on watch at the dock last night.\"");
					say("The mayor hesitates, then leans in to speak quietly.");
					say("\"Actually, I have seen something like this before. It was about four years ago, in Britain.\"");
					add(["Gilberto", "Christopher", "Inamo", "Britain", "report"]);
					gflags[0x005B] = true;
					remove("murder");
				} else {
					say("\"I hope thou art progressing on the murder investigation.\"");
				}
				fallthrough;

			case "Britain":
				say("\"'Twas before I came to Trinsic. There was a murder with strikingly similar aspects. A body was found mutilated exactly like poor Christopher. It appeared to be a ritualistic killing. I would wager that whoever was responsible for that murder is the culprit behind this one.\"");
				remove("Britain");
				fallthrough;

			case "son":
				say("\"Christopher's son is called Spark. Their house is in the northwest area of town.\"");
				remove("son");
				fallthrough;

			case "Gilberto":
				say("\"He was struck from behind early this morning and was knocked senseless. Johnson, the morning watch, found him unconscious. He is recuperating at Chantu the Healer's house on the west side of town.\"");
				remove("Gilberto");
				add(["Johnson", "Chantu"]);
				fallthrough;

			case "Chantu":
				say("\"He is our town healer. He hath been here for years. Nice fellow.\"");
				remove("Chantu");
				fallthrough;

			case "report":
				if (gflags[0x0044]) {
					say("\"I am satisfied with thy report. Please carry on thine investigation, Avatar.\"");
				} else if (!gflags[0x005D]) {
					say("\"Art thou ready to answer some questions concerning the investigation?\"");
					var000A = Func090A();
					if (var000A) {
						gflags[0x005D] = true;
						Func0884();
					} else {
						say("\"Oh. Well, carry on with thine investigation.\"");
					}
				} else {
					say("\"Shall we continue thy report?\"");
					var000B = Func090A();
					if (var000B) {
						Func0884();
					} else {
						say("\"Oh. Well, carry on with thine investigation.\"");
					}
				}
				remove("report");
				fallthrough;

			case "Fellowship":
				say("\"Why, they are an extremely helpful group. Their branch office is just east of mine. Very optimistic group of people.\"");
				remove("Fellowship");
				fallthrough;

			case "Klog":
				say("\"He is the Fellowship branch leader. Kind man.\"");
				remove("Klog");
				fallthrough;

			case "Johnson":
				say("\"He is probably at the dock right now.\"");
				remove("Johnson");
				fallthrough;

			case "Christopher":
				say("\"Christopher was the local blacksmith. He lives, or rather -lived-, with his son in the northwest part of town. The blacksmith's shop is in the southwest corner. Christopher was not a rich man by any means -- he barely kept himself and his son alive. But he certainly enjoyed his work.\"");
				remove("Christopher");
				add("son");
				fallthrough;

			case "Inamo":
				say("\"The Gargoyle Inamo slept in the stables, as I understand it. I believe he emigrated here from Terfin a few months ago. It seems that he was merely a chance victim of someone intent on violence.\"");
				remove("Inamo");
				fallthrough;

			case "password":
				if (gflags[0x0044] && (!gflags[0x003D])) {
					say("\"Oh, dost thou want the password now?\"");
					if (Func090A()) {
						if (Func0886()) {
							say("\"Excellent! I have no doubts now that thou art the one true Avatar!\"");
							say("\"Oh-- I almost forgot! The password to leave or enter the town is `Blackbird'!\"*");
							gflags[0x003D] = true;
							Func0911(0x0064);
							abort;
						}
						say("\"Hmmm. I am afraid that I still have my doubts about thou being the Avatar. My public duty disallows me to give thee the password. I am sorry.\"");
						abort;
					}
					say("The Mayor shrugs and looks at you as if you were mad.*");
					abort;
				}
				say("\"I will give thee the password when thou hast given me a report on the progress of thine investigation.\"");
				add("report");
				gflags[0x0042] = true;
				remove("password");
				fallthrough;

			case "bye":
				break;
		}
		say("The Mayor nods his head at you and goes on about his business.*");
	}
	if (event == PROXIMITY) {
		var000C = FINNIGAN->get_npc_object()->get_schedule_type();
		var000D = UI_die_roll(0x0001, 0x0004);
		if (var000C == LOITER) {
			if (var000D == 0x0001) {
				var000E = "@What a day...@";
			}
			if (var000D == 0x0002) {
				var000E = "@Another day, another gold coin...@";
			}
			if (var000D == 0x0003) {
				var000E = "@I shall search the area here...@";
			}
			if (var000D == 0x0004) {
				var000E = "@I am too old for this...@";
			}
			FINNIGAN->item_say(var000E);
		} else {
			Func092E(FINNIGAN);
		}
	}
}

extern var Func090B 0x90B (var var0000);
extern var Func0834 0x834 ();

void Func040D object#(0x40D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == PROXIMITY) {
		abort;
	}
	GILBERTO->show_npc_face(0x0000);
	var0000 = UI_part_of_day();
	add(["name", "job", "murder", "bye"]);
	if (gflags[0x003D]) {
		add("password");
	}
	if (gflags[0x003F]) {
		add(["Fellowship", "Klog"]);
	}
	if ((var0000 == NIGHT) || ((var0000 == MIDNIGHT) || (var0000 == EARLY))) {
		add("ship");
	}
	if (gflags[0x0043]) {
		add("Hook");
	}
	if (!gflags[0x004D]) {
		say("You see a grumpy fellow with a bloody bandage on his head.");
		gflags[0x004D] = true;
		GILBERTO->get_npc_object()->set_schedule_type(MAJOR_SIT);
	} else {
		say("\"Dost thou need something else?\" Gilberto asks. You notice his wound is healing nicely.");
	}
	converse (0) {
		case "name":
			say("\"I am Gilberto.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"I have the night watch at the dock gate.\"");
			fallthrough;

		case "murder":
			say("\"It must have occurred shortly before I was knocked out.\"");
			add("knocked");
			remove("murder");
			fallthrough;

		case "knocked":
			say("\"It was just about sunrise. I was looking out to the sea. All of a sudden, I felt a blow on the back of mine head.\"~~ He winces in pain.");
			add(["blow", "pain"]);
			remove("knocked");
			fallthrough;

		case "pain":
			say("Gilberto still seems a little wobbly, but his gesture indicates that he does not desire your aid.~\"My skull is still ringing, but I shall be all right momentarily.\"");
			remove("pain");
			fallthrough;

		case "blow":
			say("\"The next thing I knew, I was on the ground. Johnson, the guard for the next watch, was shaking me. I had been out about ten minutes. I knew that because the sun had just peeked over the horizon. And 'The Crown Jewel' had gone and sailed!\"");
			add(["Johnson", "Crown Jewel"]);
			remove("blow");
			fallthrough;

		case "Crown Jewel":
			say("\"Did I forget to say? That is a ship that was docked here all night. I believe it was about to sail for Britain. Thou couldst ask Gargan the Shipwright to make sure. Anyway, I did not see mine attackers,\" the guard grumbles.");
			gflags[0x0040] = true;
			add(["attackers", "Gargan"]);
			remove("Crown Jewel");
			fallthrough;

		case "attackers":
			say("\"Hmmm. I wonder if they jumped onto the ship! They could be all the way to Britain by now!\"");
			remove("attackers");
			fallthrough;

		case "Gargan":
			say("\"He is a good man but thou mayest not wish to stand too close to him. Thou mayest catch something.\"");
			remove("Gargan");
			fallthrough;

		case "ship":
			say("\"If thou dost want a ship, thou must get a deed from the shipwright. Thou must also have the password to leave town.\"");
			remove("ship");
			add("password");
			fallthrough;

		case "password":
			say("\"What is it?\"");
			var0001 = ["Uhh, I don't know", "Long live the king", "Please"];
			if (gflags[0x003D]) {
				var0001 &= "Blackbird";
			}
			var0002 = Func090B(var0001);
			if (var0002 == "Blackbird") {
				var0003 = Func0834();
				if (var0003) {
					say("\"All right. Thou mayest pass.\"*");
				} else {
					say("\"Thou mayest not pass.\"*");
				}
				abort;
			}
			say("\"Thou dost not know the password. The Mayor can give thee the proper password.\"");
			fallthrough;

		case "Johnson":
			say("\"He takes the morning watch at the dock.\"");
			remove("Johnson");
			fallthrough;

		case "Fellowship":
			say("He shrugs.~~\"Thou art asking the wrong man. I suppose they are all right. I have never had trouble with them.\"");
			remove("Fellowship");
			fallthrough;

		case "Hook":
			say("The guard thinks a moment.~~\"No. I cannot say that I saw a man with a hook.\"");
			remove("Hook");
			fallthrough;

		case "Klog":
			say("\"I have not had many dealings with him.\"");
			remove("Klog");
			fallthrough;

		case "bye":
			break;
	}
	say("\"Goodbye. Watch thy back.\"*");
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func0834 0x834 ();

void Func040E object#(0x40E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == PROXIMITY) {
		abort;
	}
	JOHNSON->show_npc_face(0x0000);
	var0000 = UI_part_of_day();
	if (var0000 == NIGHT) {
		var0001 = Func08FC(JOHNSON, KLOG);
		if (var0001) {
			say("\"I will speak with thee after the Fellowship meeting.\"*");
		} else {
			say("\"I must get to the Fellowship meeting! I am late! May we speak tomorrow?\"*");
		}
		abort;
	}
	add(["name", "job", "bye"]);
	if (gflags[0x003D]) {
		add("password");
	}
	if (gflags[0x003C]) {
		add("murder");
	}
	if (gflags[0x003F]) {
		add(["Fellowship", "Klog", "Hook"]);
	}
	if (gflags[0x0040]) {
		add("Crown Jewel");
	}
	if (!gflags[0x004E]) {
		say("You see an alert and no-nonsense guard.");
		gflags[0x004E] = true;
	} else {
		say("\"What is it?\" Johnson asks, sternly.");
	}
	converse (0) {
		case "name":
			say("\"Johnson.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"I have the morning watch guarding the dock. I authorize the comings and goings of every ship.\"");
			add("ship");
			fallthrough;

		case "murder":
			say("\"I did hear of this. When I arrived at my post at sunrise, I found Gilberto lying felled on the ground. If thou art asking if I saw anything -- I did not. No one hath passed by me since I arrived at the dock.\"");
			remove("murder");
			fallthrough;

		case "Crown Jewel":
			say("\"The boat left just after sunrise. It did sail to Britain, I believe. Thou canst ask Gargan the Shipwright about that.\"");
			remove("Crown Jewel");
			fallthrough;

		case "Fellowship":
			say("\"Yes, I am a member. Wouldst thou like to join?\"");
			var0002 = Func090A();
			if (var0002) {
				say("\"Then thou shouldst go to see Batlin in Britain.\"");
			} else {
				say("\"'Tis thy loss.\"");
			}
			remove("Fellowship");
			fallthrough;

		case "Klog":
			say("\"Good man. He is our branch leader here in Trinsic.\"");
			remove("Klog");
			fallthrough;

		case "ship":
			say("\"If thou dost want a ship, thou must get a deed from the shipwright. Thou must also have the password to leave town.\"");
			add(["password", "deed"]);
			remove("ship");
			fallthrough;

		case "password":
			say("\"What is it?\"");
			var0003 = ["Uhh, I don't know", "Long live the king", "Please"];
			if (gflags[0x003D]) {
				var0003 &= "Blackbird";
			}
			var0002 = Func090B(var0003);
			if (var0002 == "Blackbird") {
				var0004 = Func0834();
				if (var0004) {
					say("\"Very well, thou mayest pass.\"*");
				} else {
					say("\"Thou mayest not pass.\"*");
				}
				abort;
			}
			say("\"Thou dost not know the password. I am sorry. The Mayor may give thee the proper password.\"");
			gflags[0x0042] = true;
			fallthrough;

		case "Hook":
			say("\"A man with a hook? No, I saw no one all night or all morning.\"");
			remove("Hook");
			fallthrough;

		case "deed":
			say("\"Thou canst purchase that from Gargan the Shipwright.\"");
			remove("deed");
			fallthrough;

		case "bye":
			break;
	}
	say("\"Good day.\"*");
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func040F object#(0x40F) () {
	var var0000;
	var var0001;

	if (event == PROXIMITY) {
		abort;
	}
	EIKO->show_npc_face(0x0000);
	var0000 = Func0909();
	var0001 = Func08F7(AMANDA);
	if (!gflags[0x02C4]) {
		say("You see a stunningly attractive oriental woman. She is armed to the teeth.");
		gflags[0x02C4] = true;
	} else {
		say("\"Thou dost wish to speak with me again?\" asks Eiko.");
	}
	if (gflags[0x02DC] && (!gflags[0x02DD])) {
		add("Stay thine hand!");
	}
	converse (["name", "job", "bye"]) {
		case "name":
			say("\"My name is Eiko.\"");
			remove("name");
			fallthrough;

		case "job":
			if (!gflags[0x02DD]) {
				say("\"I have no job. I have a quest. My quest is shared with mine half-sister, Amanda.\"");
				add("quest");
			} else {
				say("\"We are leaving this dungeon now that our quest is over.\"");
			}
			add("Amanda");
			fallthrough;

		case "quest":
			say("\"Eighteen years ago my father was murdered by a cyclops called Iskander Ironheart. Mine half-sister Amanda and I are his only surviving kin and we have vowed to avenge him.\"");
			gflags[0x02DB] = true;
			remove("quest");
			add(["father", "Iskander"]);
			fallthrough;

		case "father":
			say("\"Our father was a mage named Kalideth. He was working to find a cause of the disturbances of the ethereal waves that have been preventing magic from working for the past twenty years and more, as well as the madness that has afflicted all mages since then.\"");
			if (var0001) {
				AMANDA->say("\"Our father was a wise and kind man. His death was a loss for all of Britannia.\" She sniffs.");
				if (!gflags[0x02DD]) {
					say("\"His killer deserves to die.\"");
				}
				AMANDA->hide();
				EIKO->show_npc_face(0x0000);
			}
			remove("father");
			fallthrough;

		case "Amanda":
			say("\"Neither one of us knew that the other existed until after the death of our father.\"");
			if (var0001) {
				AMANDA->say("\"I had always felt like I had a sister somewhere. But I attributed those feelings to the natural loneliness a child feels upon losing a father. Learning about each other has been the only good thing that has happened to me since father's death.\"");
				AMANDA->hide();
				EIKO->show_npc_face(0x0000);
			}
			remove("Amanda");
			fallthrough;

		case "Iskander":
			say("\"Yes, I know I am not pronouncing it correctly. I understand he has a more human nickname that is actually a translation from the ancient cyclops language. But I do not know what it is.\"");
			remove("Iskander");
			fallthrough;

		case "Stay thine hand!":
			say("You explain to Eiko what you have learned. Kalideth had gone mad when he fought with Iskander and the source of what is causing the problems with magic and the mage's minds was the thing that really killed Kalideth!");
			say("\"Then if thou hast discovered the true force that killed my father, my vengeance against Kalideth would be unjust.\"");
			if (var0001) {
				AMANDA->show_npc_face(0x0000);
				if (!gflags[0x02DE]) {
					say("\"How canst thou say that? I thought that thou wert my sister? Thou art a traitor!\"");
					AMANDA->hide();
					EIKO->show_npc_face(0x0000);
					gflags[0x02DD] = true;
				}
			}
			remove("Stay thine hand!");
			fallthrough;

		case "bye":
			break;
	}
	say("\"Farewell.\"");
}

extern var Func0908 0x908 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08AB 0x8AB ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func0410 object#(0x410) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = Func0908();
		var0001 = UI_part_of_day();
		var0002 = false;
		var0003 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
		if (var0001 == NIGHT) {
			Func08AB();
		}
		add(["name", "job", "murder", "bye"]);
		if (gflags[0x003F]) {
			add(["argument", "test"]);
			var0002 = true;
		}
		if (gflags[0x0043]) {
			add("Hook");
		}
		if (gflags[0x003E]) {
			add(["gold", "medallion", "scroll"]);
		}
		if (gflags[0x0040]) {
			add("Crown Jewel");
		}
		KLOG->show_npc_face(0x0000);
		if (!gflags[0x004F]) {
			say("This man exudes kindness and geniality. \"Ah, Avatar! I recognized thee at once! Word has moved through town quickly. I had heard thou wert here.\"");
			gflags[0x004F] = true;
		} else {
			say("\"Hello again, ",
				var0000,
				",\" Klog asks. \"How may I help thee?\"");
		}
		converse (0) {
			case "name":
				say("\"My name is Klog.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the Trinsic branch leader for The Fellowship. I work here with my wife Ellen.\"");
				add(["Fellowship", "Ellen"]);
				fallthrough;

			case "murder":
				if (var0003) {
					say("The Cube vibrates. \"Hook did a splendid job, did he not? Too bad\tI missed it. Had to keep up appearances and remain at home.\tHad to have an alibi.\"");
				} else {
					say("\"Well,\" the man says, reflecting, \"I was home all night, and my wife Ellen will certainly verify that. But, as we say in The Fellowship, 'Worthiness Precedes Reward'. Christopher must have done something bad. And the poor gargoyle Inamo! 'Tis a pity.\"");
				}
				remove("murder");
				add(["Christopher", "Inamo"]);
				fallthrough;

			case "Fellowship":
				if (!gflags[0x0006]) {
					say("\"The Fellowship meets here at the branch office in Trinsic every night at nine. Thou art welcome to attend.");
					Func0919();
					add("philosophy");
				} else {
					say("\"Why, thou shouldst know all about our little family by now!\"");
				}
				remove("Fellowship");
				fallthrough;

			case "Ellen":
				say("\"She is my wife and bookkeeper for our branch.\"");
				remove("Ellen");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "Christopher":
				say("\"Christopher was a valued member of The Fellowship for some time. Unfortunately, we got into a petty argument last week.\"");
				remove("Christopher");
				if (!var0002) {
					add("argument");
				}
				fallthrough;

			case "Inamo":
				say("\"I did not know the gargoyle. It sounds as if he was in the wrong place at the wrong time. 'Tis a pity.\"");
				remove("Inamo");
				fallthrough;

			case "argument":
				say("\"Last week Christopher stated that he wanted to leave The Fellowship! Canst thou imagine? Well, we simply attempted to speak with him and alter his decision. The man verbally assaulted me and my companions with no provocation!\"");
				remove("argument");
				add("companions");
				fallthrough;

			case "test":
				say("\"Batlin in Britain will be happy to administer our test to thee. Thou shouldst certainly take it. Who knows? Thou mayest find something within thee that needs improving.\"");
				remove("test");
				fallthrough;

			case "companions":
				say("\"They have gone to Fellowship Headquarters in Britain. They were here delivering Fellowship funds. Their names are Elizabeth and Abraham.\"");
				gflags[0x0041] = true;
				remove("companions");
				fallthrough;

			case "gold":
				if (var0003) {
					say("The Cube vibrates. \"That was payment for delivery of the plans for the Black Gate pedestals.\"");
					add("Black Gate");
				} else {
					say("\"I do not know what thou art talking about.\"");
				}
				remove("gold");
				fallthrough;

			case "Black Gate":
				say("\"All I know is that it is being built on the Isle of the Avatar.\"");
				remove("Black Gate");
				fallthrough;

			case "medallion":
				say("\"Christopher had expressed interest in leaving The Fellowship. Perhaps he had stored it for safekeeping.\"");
				remove("medallion");
				fallthrough;

			case "scroll":
				if (var0003) {
					say("The Cube vibrates. \"Christopher received his reward prior to showing his worthiness. He reneged on delivery of\tthe plans for the pedestal. It was merely a warning.\"");
				} else {
					say("\"I do not know anything about that.\"");
				}
				remove("scroll");
				fallthrough;

			case "Crown Jewel":
				if (var0003) {
					say("The Cube vibrates. \"That is Hook's ship.\"");
				} else {
					say("\"I do not know that ship.\"");
				}
				remove("Crown Jewel");
				fallthrough;

			case "Hook":
				if (var0003) {
					say("The Cube vibrates. \"He is the one who was assigned to kill Christopher. I do not know where he is now.\"");
				} else {
					say("\"I am afraid I do not know a man of that description.\"");
				}
				remove("Hook");
				fallthrough;

			case "bye":
				break;
		}
		say("\"If there is anything else I may help thee with, ",
			var0000,
			", let me know.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(KLOG);
	}
}

extern var Func0909 0x909 ();
extern void Func0860 0x860 (var var0000, var var0001, var var0002);
extern void Func092E 0x92E (var var0000);

void Func0411 object#(0x411) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		CHANTU->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		add(["name", "job", "murder", "services", "bye"]);
		if (gflags[0x003F]) {
			add(["Fellowship", "Klog"]);
		}
		if (!gflags[0x0052]) {
			say("You see a solemn fellow in healer's robes.");
			gflags[0x0052] = true;
		} else {
			say("\"Hello, again,\" Chantu says. \"How may I help thee?\"");
		}
		converse (0) {
			case "name":
				say("\"My name is Chantu,\" he says with a slight bow.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the Trinsic healer. I can perform a heal, a poison cure, or a resurrection on any of thy friends. Or on thee, of course.\"");
				fallthrough;

			case "murder":
				say("\"'Tis a sad state for Britannia when events such as these happen. Christopher was a good man. I hope that the villain is caught.\"");
				remove("murder");
				fallthrough;

			case "services":
				Func0860(0x001E, 0x0032, 0x0190);
				fallthrough;

			case "Fellowship":
				say("The healer frowns. \"The Fellowship does not appreciate the efforts of healers in Britannia. Although they do admirable things, The Fellowship is short-sighted when evaluating the need for healers. They believe that our work can be done through their so-called 'Triad of Inner Strength'.\"");
				if (var0001) {
					say("Chantu notices your medallion and his eyes widen.");
					say("\"Excuse me, ",
						var0000,
						", I did not mean to offend thee.\"");
				}
				remove("Fellowship");
				fallthrough;

			case "Klog":
				say("The healer shrugs. \"He does his duty as he sees fit. And I do mine.\"");
				remove("Klog");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye.\"*");
	}
	if (event == PROXIMITY) {
		var0002 = CHANTU->get_npc_object()->get_schedule_type();
		var0003 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == PATROL) {
			if (var0003 == 0x0001) {
				var0004 = "@Feeling better?@";
			}
			if (var0003 == 0x0002) {
				var0004 = "@How are we today?@";
			}
			if (var0003 == 0x0003) {
				var0004 = "@Thy fever has lessened.@";
			}
			if (var0003 == 0x0004) {
				var0004 = "@Try to sleep...@";
			}
			CHANTU->item_say(var0004);
		} else {
			Func092E(CHANTU);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090B 0x90B (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func0872 0x872 ();
extern void Func0873 0x873 ();
extern void Func0874 0x874 ();
extern void Func092E 0x92E (var var0000);

void Func0412 object#(0x412) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		DELL->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = Func0909();
		var0002 = Func0908();
		var0003 = DELL->get_npc_object()->get_schedule_type();
		var0004 = "Avatar";
		if (var0000 == NIGHT) {
			var0005 = Func08FC(DELL, KLOG);
			if (var0005) {
				say("Dell frowns at you for distracting him during the Fellowship meeting.*");
			} else {
				say("\"I do not have time to talk with thee! I must get to the meeting of The Fellowship! Come to my shop tomorrow!\"*");
			}
			abort;
		}
		add(["name", "job", "murder", "bye"]);
		if (!gflags[0x0053]) {
			say("You see a stern shopkeeper who might once have been a strong fighter.");
			if (var0003 == TEND_SHOP) {
				say("\"Thou hast entered my shop, so thou had best buy something.\"");
			}
			say("\"Who might I be addressing?\"");
			var0006 = Func090B([var0002, var0004]);
			if (var0006 == var0002) {
				say("\"Hmph. My name is Dell.\"");
			} else {
				say("\"Oh, art thou really? I did not know there were so many of thee! Why, only last week did an 'Avatar' come through here! He took me for 20 gold, too! An expert trickster, he was!\"~~Dell looks you up and down. \"Avatar, indeed! I do not like Avatars. But never mind that. I am called Dell. What dost thou want?\"");
			}
			gflags[0x0053] = true;
		} else {
			say("\"How may I help thee?\" Dell asks.");
		}
		converse (0) {
			case "name":
				say("\"My name is Dell. Did I not say that already?\"");
				remove("name");
				fallthrough;

			case "job":
				say("Dell looks disgruntled. \"I sell weapons, armour, and provisions when I am not doing work for The Fellowship.\"");
				add("buy");
				if (var0003 == TEND_SHOP) {
					say("\"If thou art not going to buy anything, then get thy face out of my sight!\"");
				}
				add("Fellowship");
				fallthrough;

			case "murder":
				say("\"I am afraid I know nothing about it save for what is being said in the street, so do not ask me. If thou art not going to buy anything, then thou art wasting my time. Go away.\"");
				remove("murder");
				var0007 = Func08F7(IOLO);
				if (var0007) {
					IOLO->say("Iolo whispers to you, \"Pleasant chap, is he not?\"");
					IOLO->hide();
					DELL->show_npc_face(0x0000);
				}
				fallthrough;

			case "Fellowship":
				Func0919();
				remove("Fellowship");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "buy":
				if (var0003 == TEND_SHOP) {
					say("\"Certainly, ",
						var0001,
						". What type of ware wouldst thou wish to see?\"");
					UI_push_answers();
					add(["nothing", "weapons", "armour", "provisions"]);
				} else {
					say("\"Come to my shop during business hours.\"");
				}
				fallthrough;

			case "weapons":
				Func0872();
				fallthrough;

			case "armour":
				Func0873();
				fallthrough;

			case "provisions":
				Func0874();
				fallthrough;

			case "nothing":
				UI_pop_answers();
				fallthrough;

			case "bye":
				break;
		}
		say("\"Hmpf.\"");
		if (var0003 == TEND_SHOP) {
			say("\"Spend more money next time thou dost come in.\"*");
		}
	}
	if (event == PROXIMITY) {
		var0000 = UI_part_of_day();
		var0003 = DELL->get_npc_object()->get_schedule_type();
		var0008 = UI_die_roll(0x0001, 0x0004);
		if (var0003 == TEND_SHOP) {
			if (var0008 == 0x0001) {
				var0009 = "@Buy something!@";
			}
			if (var0008 == 0x0002) {
				var0009 = "@Armour! Weapons!@";
			}
			if (var0008 == 0x0003) {
				var0009 = "@Swamp boots? Bedrolls?@";
			}
			if (var0008 == 0x0004) {
				var0009 = "@Finest goods here!@";
			}
			DELL->item_say(var0009);
		} else {
			Func092E(DELL);
		}
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func0842 0x842 ();
extern void Func092E 0x92E (var var0000);

void Func0413 object#(0x413) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == DOUBLECLICK) {
		var0000 = UI_part_of_day();
		var0001 = Func0908();
		var0002 = Func0909();
		var0003 = APOLLONIA->get_npc_object()->get_schedule_type();
		var0004 = UI_is_pc_female();
		APOLLONIA->show_npc_face(0x0000);
		add(["name", "job", "murder", "bye"]);
		if (var0003 == WAITER) {
			add(["food", "drink", "room", "buy"]);
		}
		if (!gflags[0x0051]) {
			say("You see a gorgeous and voluptuous woman in her thirties.");
			gflags[0x0051] = true;
		} else {
			say("\"Hello again!\" Apollonia says, her eyes twinkling.");
		}
		converse (0) {
			case "name":
				if (!var0004) {
					var0005 = "as her tongue licks her upper lip.";
				} else {
					var0005 = "as she sizes you up.";
				}
				say("\"My name is Apollonia,\" she says, ",
					var0005,
					"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Why, I run the Honorable Hound Pub and Inn,\" she purrs.");
				if (var0003 == WAITER) {
					say("\"Wouldst thou like a room? Or wouldst thou like something to eat or drink? Just say so and I shall try and please thee with my delicacies.\"");
					if (!var0004) {
						say("~~You realize she is flirting with you.");
						add("flirt");
					}
				} else {
					say("\"I shall be happy to serve thee during business hours!\"");
				}
				add(["Honorable Hound"]);
				fallthrough;

			case "Honorable Hound":
				say("\"I can think of no better place in all of Trinsic to lay thine head to rest or to nibble upon treats to satisfy thine appetite.\"");
				remove("Honorable Hound");
				fallthrough;

			case "murder":
				say("Apollonia shuts her eyes and shakes her head as if she had just bitten into a very sour lemon. \"Oooh. That was so... hideous! How could anyone do something so horrible? Art thou searching for information? I do hope thou dost find the person responsible.\"");
				remove("murder");
				fallthrough;

			case "food":
				say("\"We serve the finest meat, fish, and cake. Our specialty is a Silverleaf meal. If thou wouldst like to buy something, please say so!\"");
				add("Silverleaf");
				remove("food");
				fallthrough;

			case "drink":
				say("\"I can offer thee mead, wine and ale.\"");
				remove("drink");
				fallthrough;

			case "room":
				say("\"Our rooms are cheap. Only 6 gold per person per night. Want a room?\"");
				if (Func090A()) {
					var0006 = UI_get_party_list();
					var0007 = 0x0000;
					for (var000A in var0006 with var0008 to var0009) {
						var0007 += 0x0001;
					}
					var000B = var0007 * 0x0006;
					var000C = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var000C >= var000B) {
						var000D = UI_add_party_items(0x0001, 0x0281, 0x00FF, FRAME_ANY, true);
						if (!var000D) {
							say("\"Oh dear. Thou art carrying too much to take the room key.\"");
						} else {
							say("\"Here is thy room key. It is good only until thou dost leave.\"");
							var000E = UI_remove_party_items(var000B, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						}
					} else {
						say("\"Thou dost not have enough gold, ",
							var0002,
							".\"");
					}
				} else {
					say("\"Some other night, then.\"");
				}
				remove("room");
				fallthrough;

			case "Silverleaf":
				say("\"Mmmm. What a delicacy! It is the most wonderful delicacy that thou shalt ever eat! It is worth every gold piece spent.\"");
				remove("Silverleaf");
				fallthrough;

			case "flirt":
				say("Apollonia blushes and bats her eyelashes. \"Oh, ",
					var0001,
					"! I would wager that thou dost say that to all the barmaids!\"");
				remove("flirt");
				fallthrough;

			case "buy":
				Func0842();
				fallthrough;

			case "bye":
				break;
		}
		if (!var0004) {
			say("Apollonia blows a kiss at you. \"Do come again!\"*");
		} else {
			say("Apollonia waves at you. \"Do come again!\"*");
		}
	}
	if (event == PROXIMITY) {
		Func092E(APOLLONIA);
	}
}

extern var Func090A 0x90A ();
extern void Func08BD 0x8BD (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func0414 object#(0x414) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		MARKUS->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = MARKUS->get_npc_object()->get_schedule_type();
		add(["name", "job", "murder", "bye"]);
		if (!gflags[0x0054]) {
			say("You see a solid-looking but seemingly bored fighter.");
			gflags[0x0054] = true;
		} else {
			say("\"Yes?\" Markus asks.");
		}
		converse (0) {
			case "name":
				say("\"I am Markus the trainer.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a trainer here in Trinsic,\" he says gruffly. \"If thou dost wish to increase thy skill in combat I can help thee.\"");
				add(["Trinsic", "train"]);
				fallthrough;

			case "murder":
				say("\"I heard about it, but I assure thee I know nothing of the details.\" Markus yawns.");
				remove("murder");
				fallthrough;

			case "Trinsic":
				say("The fighter shrugs. \"The town is all right.\" He sniffs.");
				remove("Trinsic");
				fallthrough;

			case "train":
				if (var0001 == TEND_SHOP) {
					say("\"The cost to train with me is 20 gold. Too costly, right?\"");
					if (!Func090A()) {
						Func08BD(COMBAT, 20);
					} else {
						say("Markus yawns. \"Very well.\"");
					}
				} else {
					say("\"Please come to my place of business during normal daylight hours.\"");
					remove("train");
				}
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye,\" the fighter bows.*");
	}
	if (event == PROXIMITY) {
		Func092E(MARKUS);
	}
}

extern var Func0909 0x909 ();
extern void Func088D 0x88D ();
extern var Func090A 0x90A ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0415 object#(0x415) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		GARGAN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = GARGAN->get_npc_object()->get_schedule_type();
		add(["name", "job", "murder", "bye"]);
		if (gflags[0x0040]) {
			add("Crown Jewel");
		}
		if (gflags[0x003F]) {
			add("Fellowship");
		}
		if (gflags[0x0043]) {
			add("Hook");
		}
		var0002 = 0x0000;
		if (!gflags[0x0055]) {
			say("You see a salty old sailor who reeks of tobacco.");
			gflags[0x0055] = true;
		} else {
			say("\"Yes, matey?\" Gargan asks, coughing.");
		}
		converse (0) {
			case "name":
				say("\"My name is Gargan.\"~He sniffs loudly.");
				remove("name");
				var0002 += 0x0001;
				if (var0002 == 0x0006) {
					Func088D();
				}
				fallthrough;

			case "job":
				say("\"I am the Trinsic shipwright. If thou wouldst like to know about a ship or a sextant, just say so.\"");
				say("Gargan coughs.");
				add(["ship", "sextant"]);
				var0002 += 0x0001;
				if (var0002 == 0x0006) {
					Func088D();
				}
				fallthrough;

			case "ship":
				say("\"Thou dost want to buy a ship?\" the old man asks, smiling. (Apparently not too many folks buy ships these days.)~\"My ships are sturdy and well built. They may not be built by Owen, but they are fine vessels! But thou must first purchase a deed.\"");
				say("Gargan wipes his runny nose on his sleeve.");
				remove("ship");
				add(["Owen", "deed"]);
				var0002 += 0x0001;
				if (var0002 == 0x0006) {
					Func088D();
				}
				fallthrough;

			case "sextant":
				if (!(var0001 == DESK_WORK)) {
					say("\"Well, ye'll have to come to the shop when it is is open.\"");
				} else {
					say("\"I sell sextants for 80 gold. Want one?\"~Gargan clears his throat.");
					if (Func090A()) {
						var0003 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var0003 >= 0x0050) {
							var0004 = UI_add_party_items(0x0001, 0x028A, QUALITY_ANY, FRAME_ANY, true);
							say("\"Here ye are!\"");
							if (!var0004) {
								say("\"Thine arms are too full to carry the sextant!\"~Gargan sneezes.");
							}
						} else {
							say("\"Thou dost not have enough gold, sailor.\" ~Gargan sneezes.");
						}
					} else {
						say("\"Suit thyself.\"~Gargan sneezes.");
					}
					remove("sextant");
					var0002 += 0x0001;
					if (var0002 == 0x0006) {
						Func088D();
					}
				}
				fallthrough;

			case "Owen":
				say("\"Thou hast not heard of Owen? Finest shipwright in the land. He lives in Minoc.\"~Gargan coughs.");
				remove("Owen");
				var0002 += 0x0001;
				if (var0002 == 0x0006) {
					Func088D();
				}
				fallthrough;

			case "deed":
				if (!(var0001 == DESK_WORK)) {
					say("\"Well, ye'll have to come to the shop when it is open.\"");
				} else {
					if (gflags[0x0058]) {
						say("\"I already sold thee the deed to 'The Scaly Eel'! It was the only ship I had!\"");
						say("Gargan coughs loudly.");
					} else {
						say("\"The deed I can sell thee is for the ship 'The Scaly Eel.' It goes for 600 gold. Interested?\"");
						var0005 = Func090A();
						if (var0005) {
							var0003 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
							if (var0003 >= 0x0258) {
								var0006 = UI_add_party_items(0x0001, 0x031D, 0x000E, FRAME_ANY, true);
								if (var0006) {
									say("\"All right, then!\" the sailor replies. He hands you the deed and takes your gold.~Gargan sneezes.");
									var0007 = UI_remove_party_items(0x0258, 0x0284, QUALITY_ANY, FRAME_ANY, true);
									gflags[0x0058] = true;
								} else {
									say("\"Thou'rt already carrying enough to sink a galleon, ",
										var0000,
										"! If thou wilt leave something behind, mayhaps thou wilt be able to sail, and I will be glad, indeed, to sell thee the deed.\"~Gargan sneezes.");
								}
							} else {
								say("\"Sorry, matey,\" Gargan says. \"Thou dost not have enough gold!\"~Gargan sneezes.");
							}
						} else {
							say("\"Some other time, then,\" the sailor shrugs, disappointed.~Gargan sneezes.");
						}
					}
					remove("deed");
					var0002 += 0x0001;
					if (var0002 == 0x0006) {
						Func088D();
					}
				}
				fallthrough;

			case "murder":
				say("\"I heard about that. Terrible thing to happen. Can't say I saw or heard anything, though.\"~Gargan coughs, clears his throat loudly, then spits.");
				var0008 = Func08F7(SPARK);
				if (var0008) {
					SPARK->say("\"Ooooh, yuck!\"");
					SPARK->hide();
					GARGAN->show_npc_face(0x0000);
				}
				remove("murder");
				var0002 += 0x0001;
				if (var0002 == 0x0006) {
					Func088D();
				}
				fallthrough;

			case "Crown Jewel":
				say("\"Yes, that ship was docked overnight.\" He consults his log. \"She sailed for Britain at sunrise. I do not recall seeing anyone get on or off.\"~Gargan snorts and coughs a couple of times.");
				remove("Crown Jewel");
				var0002 += 0x0001;
				if (var0002 == 0x0006) {
					Func088D();
				}
				fallthrough;

			case "Hook":
				say("\"Matey, I have always seen pirates and sailors with peglegs and hooks. If thou hast seen one, thou hast seen another.\" But the man suddenly frowns. \"Hmm. Now that thou dost mention it, I -did- see a man with a hook late last night after sundown. I was leaving the shop and saw him outside. There was a wingless gargoyle with him. They were walking east.\"");
				say("Gargan sneezes, then coughs a couple of times.");
				var0008 = Func08F7(SPARK);
				if (var0008) {
					SPARK->say("\"I told thee! It was him!\"");
					SPARK->hide();
					GARGAN->show_npc_face(0x0000);
				}
				remove("Hook");
				var0002 += 0x0001;
				if (var0002 == 0x0006) {
					Func088D();
				}
				fallthrough;

			case "Fellowship":
				say("\"I am too old to pay attention to them.\"~Gargan wipes his runny nose on his sleeve.");
				remove("Fellowship");
				var0002 += 0x0001;
				if (var0002 == 0x0006) {
					Func088D();
				}
				fallthrough;

			case "bye":
				break;
		}
		say("\"May thy day have smooth sailing,\" the sailor starts to say, but a coughing spasm interrupts him.*");
	}
	if (event == PROXIMITY) {
		Func092E(GARGAN);
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func0416 object#(0x416) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		CAROLINE->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		if (var0000 == NIGHT) {
			var0001 = Func08FC(CAROLINE, KLOG);
			if (var0001) {
				say("Caroline asks you to keep your voice down. The Fellowship meeting is in progress.*");
			} else {
				say("\"Oh! I cannot stop to speak with thee now! I am late for the Fellowship meeting!\"*");
			}
			abort;
		}
		add(["name", "job", "murder", "bye"]);
		if (!gflags[0x0056]) {
			say("You see a young woman with a bright smile.");
			gflags[0x0056] = true;
		} else {
			say("\"Hello again!\" Caroline says brightly.");
		}
		converse (0) {
			case "name":
				say("\"My parents named me Caroline,\" she says proudly.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I have no 'job' per se. I have devoted mine energies to helping The Fellowship. I hope to recruit new members.\"");
				add("Fellowship");
				fallthrough;

			case "murder":
				say("She looks concerned. \"'Tis awful! Christopher was a nice man. Didst thou know he was one of our members? I cannot believe he is dead...\"");
				remove("murder");
				add("members");
				fallthrough;

			case "members":
				say("\"Of The Fellowship. We meet every night at the hall. Thou shouldst visit!\"");
				remove("members");
				fallthrough;

			case "Fellowship":
				Func0919();
				remove("Fellowship");
				add(["society", "philosophy"]);
				fallthrough;

			case "society":
				say("\"Every night at nine o'clock we have a meeting in the Fellowship hall. Thou mayest consider thyself invited to attend.\"");
				remove("society");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye!\"*");
	}
	if (event == PROXIMITY) {
		var0002 = CAROLINE->get_npc_object()->get_schedule_type();
		var0003 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == WANDER) {
			if (var0003 == 0x0001) {
				var0004 = "@Come to Fellowship Hall!@";
			}
			if (var0003 == 0x0002) {
				var0004 = "@Strive For Unity!@";
			}
			if (var0003 == 0x0003) {
				var0004 = "@Trust Thy Brother!@";
			}
			if (var0003 == 0x0004) {
				var0004 = "@Worthiness Precedes Reward!@";
			}
			CAROLINE->item_say(var0004);
		} else {
			Func092E(CAROLINE);
		}
	}
}

extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);
extern void Func08B4 0x8B4 (var var0000, var var0001, var var0002);
extern void Func08B5 0x8B5 ();
extern void Func092E 0x92E (var var0000);
extern var Func092D 0x92D (var var0000);

void Func0417 object#(0x417) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;

	var0000 = false;
	if (event == DOUBLECLICK) {
labelFunc0417_000C:
		var0001 = Func0908();
		if (gflags[0x001E]) {
			LORD_BRITISH->say("\"Fool!! What possessed thee to cast that damned Armageddon Spell? I knew it was dangerous! Thou didst know it was dangerous!! Now look at us! We are all alone on the entire planet! Britannia is ruined! What kind of Avatar art thou!?! Now, with no Moongates working, we are both forced to spend eternity in this blasted wasteland!~~\"Of course, it could be viewed as a clever solution to all of our problems. After all, not even this so-called Guardian would want Britannia now!\"*");
			abort;
		}
		if (gflags[0x030C]) {
			if (!gflags[0x030D]) {
				var0000 = true;
				LORD_BRITISH->say("\"I felt the passing of the remains of Exodus from this realm. It has lifted a great weight from my shoulders. And so Avatar, I cannot let this accomplishment go unrewarded. Please kneel, my friend.\" Lord British holds out his hands as you obey his command.");
				// I see no way other than this
				goto labelFunc0417_0743;
			}
		} else if (!gflags[0x02FE]) {
			add("rumble");
		}
		var0002 = UI_get_party_list();
		var0003 = Func08F7(IOLO);
		var0004 = Func08F7(DUPRE);
		var0005 = Func08F7(SHAMINO);
		LORD_BRITISH->show_npc_face(0x0000);
		var0006 = false;
		var0007 = false;
		var0008 = false;
		add(["name", "job", "bye", "Fellowship"]);
		if (!gflags[0x00DD]) {
			add("Orb of the Moons");
		}
		if (gflags[0x00CD] && (!gflags[0x00CC])) {
			add("Weston");
		}
		if (gflags[0x00D3]) {
			add("heal");
		}
		if (gflags[0x0127]) {
			add("The Guardian");
		}
		if (gflags[0x00D4]) {
			remove("The Guardian");
		}
		if (!gflags[0x0098]) {
			say("You see your old friend Lord British, looking a bit older than when you last saw him. His eyes gleam at the sight of you.~~\"Welcome, my friend,\" he says, embracing you. \"Please. Tell me what brings thee to Britannia! Or, more importantly, what 'brought' thee here?\"");
			gflags[0x0098] = true;
			add(["red Moongate", "Orb of the Moons"]);
		} else {
			say("\"Yes, ",
				var0001,
				"?\" Lord British asks.");
		}
		converse (0) {
			case "name":
				say("Lord British laughs. \"What, art thou joking, Avatar? Dost thou not recognize thine old friend?\"");
				remove("name");
				fallthrough;

			case "job":
				say("Lord British rolls his eyes. \"Must we go through this formality?\" He laughs, shaking his head.");
				say("\"Very well. As thou well knowest, I am sovereign of Britannia and have been for some time now. Even though I come from thine homeland, I have chosen to live my life here.\"");
				add(["Britannia", "homeland"]);
				fallthrough;

			case "homeland":
				say("\"I know that it has been many a year since I visited our Earth, but surely thou dost remember that the two of us hail from the same time and place? And, as brothers in origin, thou shouldst also remember that thou canst ask me for aid at any time thou mightest require it.\"");
				remove("homeland");
				add("aid");
				fallthrough;

			case "aid":
				say("\"Do not forget, Avatar, that I have the power to heal thee. That is one bit of magic that still seems to work for me. And I could probably provide thee with some equipment and a spellbook.\"");
				add(["equipment", "spellbook"]);
				if (!gflags[0x00D3]) {
					add("heal");
				}
				gflags[0x00D3] = true;
				remove("aid");
				fallthrough;

			case "Britannia":
				say("\"The state of the land could not be more prosperous. Dost thou realize that thou hast been away for 200 Britannian years?\" Lord British wags a finger at you.~~ \"I am certain that thy friends have rued thine absence. 'Tis a shame thou didst stay away so long! But... I am so very happy to see thee. Britannia is prosperous and abundant. Look around thee. Explore the newly refurbished castle. Travel the land. Peace is prominent in all quarters.~~\"Yes, Britannia has never been better. Well, almost never.\"");
				remove("Britannia");
				add(["friends", "castle", "almost never"]);
				if (!gflags[0x0066]) {
					add("magic");
				}
				fallthrough;

			case "almost never":
				say("\"Well, 'things' are indeed fine. It is the 'people' I am concerned about.~~\"There is something wrong in Britannia, but I do not know what it is. Something is hanging over the heads of the Britannian people. They are unhappy. One can see it in their eyes. There is nothing that is unifying the population, since there has been peace for so long.~~\"Perhaps thou couldst determine what is happening. I implore thee to go out amongst the people. Watch them in their daily tasks. Speak with them. Work with them. Break bread with them. Perhaps they need someone like the Avatar to take an interest in their lives.\"");
				remove("almost never");
				fallthrough;

			case "red Moongate":
				say("You relate the story of how a red Moongate appeared behind your house and mysteriously took you to Trinsic.~~Lord British's brow creases as you speak. Finally he says, \"I did not send the red Moongate to fetch thee. Someone or something must have activated that Moongate. And that is strange indeed, because we have been having a bit of trouble with Moongates as of late. In fact, we have been having trouble with magic in general!\"");
				remove("red Moongate");
				if (!var0007) {
					add("Moongates");
				}
				if (!var0008) {
					add("magic");
				}
				fallthrough;

			case "Orb of the Moons":
				say("\"Mine has not worked since the troubles with magic began. In fact, none of the Moongates have been working reliably for quite a while!");
				say("\"Didst thou bring thine Orb of the Moons?\"");
				if (Func090A()) {
					say("\"Really? Where is it? Thou dost not have it on thee! ");
				} else {
					say("\"I see. ");
				}
				say("\"Hmmm. Thou might be stranded in Britannia. Here. Why not try mine? I shall let thee borrow it. Perhaps it will work for thee. Be careful, though. The Moongates have become dangerous.\"");
				var0009 = UI_add_party_items(0x0001, 0x0311, QUALITY_ANY, FRAME_ANY, false);
				if (var0009) {
					say("Lord British hands you his Orb of the Moons.");
					gflags[0x00DD] = true;
				} else {
					say("\"Thine hands are too full to take the Orb!\"");
				}
				remove("Orb of the Moons");
				if (!var0007) {
					add("Moongates");
				}
				if (!var0008) {
					add("magic");
				}
				fallthrough;

			case "castle":
				say("\"Yes, it has been redecorated since thy last visit. The architects and workers did a splendid job.\"~~The ruler leans toward you with a sour look on his face.~~ \"The only mar in the entire complex is that damn nursery!\"");
				remove("castle");
				add("nursery");
				fallthrough;

			case "nursery":
				say("\"I will not go near the place! Kings and dirty diapers do not mix. The Great Council talked me into implementing the nursery after several of my staff started having families. Although it was probably a necessity, I shall pretend it does not exist!\"");
				remove("nursery");
				fallthrough;

			case "Trinsic":
				say("\"I have not been down there in many years. Has something happened there?\"");
				remove("Trinsic");
				UI_push_answers();
				add(["a murder", "nothing much"]);
				fallthrough;

			case "nothing much":
				say("\"Indeed. Then it seems that Trinsic has not changed much since I saw it last.\" His eyes twinkle.");
				UI_pop_answers();
				remove("nothing much");
				fallthrough;

			case "a murder":
				say("\"Murder? In Trinsic?\" The ruler looks concerned.~~\"I have heard nothing about it. Art thou investigating it?\"");
				var000A = Func090A();
				if (var000A) {
					say("\"Very good. It pleases me that thou art concerned about my people.\"");
				} else {
					say("\"Ah, but perhaps thou shouldst!\"");
				}
				say("The king pauses a moment. \"Now that thou dost mention it, I have had reports of other similar murders in the past few months. In fact, there was one here in Britain three or four years ago. The body was mutilated in a ritualistic fashion. Apparently there is a maddened killer on the loose. But I have no doubt that someone such as thee, Avatar, can find him!\"");
				remove("a murder");
				UI_pop_answers();
				add(["ritualistic", "killer"]);
				fallthrough;

			case "ritualistic":
				say("\"I do not recall many details. Thou shouldst ask Patterson, the town mayor, about it. He may remember more.\"");
				remove("ritualistic");
				gflags[0x00D1] = true;
				fallthrough;

			case "killer":
				say("\"That is, of course, only an assumption on my part. But that is all we have had to work with. Unless thou hast already uncovered some useful information?\"");
				remove("killer");
				if (gflags[0x0043]) {
					add("Hook");
				}
				if (gflags[0x0040]) {
					add("Crown Jewel");
				}
				fallthrough;

			case "Fellowship":
				say("\"They are an extremely useful and productive group of citizens. Thou shouldst most certainly visit the Fellowship Headquarters here in Britain and speak with Batlin. The Fellowship has done many good deeds throughout Britannia, including feeding the poor, educating and helping those in need, and promoting general good will and peace.\"");
				remove("Fellowship");
				add(["Batlin", "Headquarters"]);
				fallthrough;

			case "Headquarters":
				say("\"Yes, it is not far from the castle, to the southwest. It is just south of the theatre.\"");
				remove("Headquarters");
				fallthrough;

			case "Batlin":
				say("\"He is a druid who began The Fellowship about twenty years ago. He is highly intelligent, and is a warm and gentle human being.\"");
				remove("Batlin");
				fallthrough;

			case "Hook":
				say("\"A man with a hook?\" The king rubs his chin.~~\"No, I do not recall ever meeting a man with a hook.\"");
				remove("Hook");
				fallthrough;

			case "Crown Jewel":
				say("\"I am afraid I cannot possibly know of every ship that comes through our ports. Thou shouldst check with Clint the Shipwright if thou hast not done so.\"");
				remove("Crown Jewel");
				fallthrough;

			case "friends":
				say("\"Thou must mean Iolo, Shamino, and Dupre, of course.\"");
				remove("friends");
				add(["Iolo", "Shamino", "Dupre"]);
				fallthrough;

			case "Iolo":
				say("\"I have seen our friend rarely over the years. I understand he has been spending most of his time in Trinsic.\"");
				if (var0003) {
					say("\"Hello, Iolo! How art thou?\"*");
					IOLO->say("\"I am well, my liege! 'Tis good to see thee!\"*");
					IOLO->hide();
					LORD_BRITISH->show_npc_face(0x0000);
				}
				remove("Iolo");
				add("Trinsic");
				fallthrough;

			case "Shamino":
				say("\"That rascal does not come around very often, though I understand he spends most of his time in Britain these days!\"");
				if (var0005) {
					say("\"What dost thou have to say for thyself, Shamino?\"*");
					SHAMINO->say("\"Mine apologies, milord,\" Shamino says.*");
					LORD_BRITISH->say("\"What's this I hear of a woman? An actress? Hmmmm?\"*");
					SHAMINO->say("Shamino blushes and shuffles his feet.*");
					LORD_BRITISH->say("\"I suspected as much!\" the ruler says, laughing.");
					SHAMINO->hide();
					LORD_BRITISH->show_npc_face(0x0000);
				}
				remove("Shamino");
				fallthrough;

			case "Dupre":
				say("\"I have not seen that one since I knighted him. Typical -- I do the man a favor and he disappears! I heard he might be in Jhelom.\"");
				if (var0004) {
					say("\"Where hast thou been, Sir Dupre?\"*");
					DUPRE->say("\"Oh, here and there, milord,\" the fighter replies.*");
					LORD_BRITISH->say("\"I have very few friends from our homeland here in Britannia. Thou must make a point to visit more often! Especially since thou art a knight!\"*");
					DUPRE->say("\"If thou dost wish it, milord,\" Dupre says, bowing.*");
					DUPRE->hide();
					LORD_BRITISH->show_npc_face(0x0000);
				}
				remove("Dupre");
				add("Jhelom");
				fallthrough;

			case "Jhelom":
				say("\"A rather violent place, by all accounts. I have not had the pleasure of a visit in quite a while.\"");
				remove("Jhelom");
				fallthrough;

			case "magic":
				say("\"Something is awry. Magic has not been working for the longest time. I even have trouble creating food with magic! It must be something to do with the magical ether.~~\"There are those who say that magic is dying, what with the trouble with the Moongates and the situation with Nystul. I am beginning to suspect that they might be right!\"");
				say("Lord British studies you a moment.");
				say("\"Perhaps magic will work much better for thee. Thou hast not been in Britannia long. It is possible that whatever has affected magic has not made its mark upon thee yet. Please try it. A spellbook is stored with the rest of thine equipment.\"");
				gflags[0x0066] = true;
				remove("magic");
				add(["Nystul", "spellbook", "equipment"]);
				var0008 = true;
				if (!var0007) {
					add("Moongates");
				}
				fallthrough;

			case "Nystul":
				if (!gflags[0x0003]) {
					if (!gflags[0x0099]) {
						say("\"Er... try talking to him.\"");
					} else {
						say("The king lowers his voice.~~\"He is acting oddly, isn't he? Something has happened to his mind. He doesn't seem to be able to concentrate on magic anymore.\"");
					}
				} else {
					say("\"He is beginning to act much more normally.\"");
				}
				remove("Nystul");
				fallthrough;

			case "Moongates":
				say("\"The Moongates are not functioning! We cannot use them as we have in the past. Not only are they dysfunctional, they are, in fact, dangerous! One of my trusted sages used mine own Orb of the Moons to travel to the Shrine of Humility, and his body did shatter upon entering the gate! If only that mage in Cove hadn't gone mad!\"");
				remove("Moongates");
				add(["mad mage", "Cove"]);
				var0007 = true;
				fallthrough;

			case "mad mage":
				say("The ruler leans forward and speaks quietly.~~\"There is a mad mage in Cove by the name of Rudyom. Dost thou remember him? Rudyom was working with a magical substance called 'blackrock'. Before he went mad, he claimed that this mineral could solve the problems of the Moongates. I suggest that thou shouldst go to Cove and find him. Try to learn what it was he was doing with this blackrock material. It could be our only hope.\"");
				gflags[0x0065] = true;
				Func0911(0x0014);
				remove("mad mage");
				add("Rudyom");
				fallthrough;

			case "Rudyom":
				say("\"He was a brilliant and respected mage. But something happened to him in recent years. He seemed to go completely senile.\"");
				if (gflags[0x0099]) {
					say("Suddenly, something jars Lord British's memory. \"I wonder if there is a connection with what happened to Rudyom and what has befallen Nystul!\"");
				}
				remove("Rudyom");
				fallthrough;

			case "Cove":
				say("\"Surely thou dost remember Cove. It is a very pleasant town to the east of Britain. Quite relaxing.\"");
				remove("Cove");
				fallthrough;

			case "The Guardian":
				say("\"I do not know of a 'Guardian'. Art thou sure he really exists? Thou shouldst investigate further.\"");
				gflags[0x00D4] = true;
				remove("The Guardian");
				fallthrough;

			case "spellbook":
				say("\"Yes, I have a spellbook stored away with the rest of the equipment.\"");
				remove("spellbook");
				fallthrough;

			case "equipment":
				say("\"Thou art welcome to any of mine equipment. I keep it in a locked storeroom here in the castle. Thou wilt find the key in my study.\"");
				remove("equipment");
				add(["storeroom", "study"]);
				fallthrough;

			case "storeroom":
				say("\"I am sure thou canst find it.\"~~The ruler smiles slyly. \"Consider it something of a game!\"");
				remove("storeroom");
				fallthrough;

			case "study":
				say("\"'Tis in the western end of the castle.\"");
				remove("study");
				fallthrough;

			case "heal":
				Func08B4(0x0000, 0x0000, 0x0000);
				var0006 = true;
				fallthrough;

			case "Weston":
				say("Lord British listens to your story about Weston. He looks concerned.~~\"I do not recall this case. Let me check... Hmmm...\" He quickly scans a large scroll.~~\"Imprisoned for the theft of one apple from the Royal Orchards... Ludicrous! Someone must have usurped mine authority. Thou mayest consider this man pardoned. An investigation will commence immediately into the circumstances surrounding his arrest, and into this fellow, Figg. My thanks to thee, Avatar.\"");
				gflags[0x00CC] = true;
				Func0911(0x0014);
				WESTON->remove_npc();
				remove("Weston");
				fallthrough;

			case "rumble":
				say("Lord British looks at you gravely, \"The foundation of Britannia was shaken with the rising of an island. This event was no random disaster, it was one of sorcerous intent.\"");
				add("island");
				remove("rumble");
				fallthrough;

			case "island":
				say("\"Yes, ",
					var0001,
					". I felt a great disturbance in the ether when this island arose from the sea. The island is none other than the Isle of Fire where thou defeated the Hellspawn Exodus.\"");
				add(["Isle of Fire", "Exodus"]);
				remove("island");
				fallthrough;

			case "Isle of Fire":
				say("\"",
					var0001,
					", thou shouldst know that when I created the shrines of the Virtues, I also set upon this island three great shrines, dedicated to the Priciples of Truth, Love, and Courage.");
				say("They reside within the walls of the Castle of Fire. I never revealed this to thee before as I thought them forever lost when the Isle of Fire mysteriously sank beneath the waves.");
				say("The shrines are meant for the use of an Avatar only, and therefore a talisman will be necessary to use one.");
				say("The talismans are guarded by tests that thou shouldst have no problem passing if thou wishest to seek thier counsel.\"");
				Func08B5();
				remove("Isle of Fire");
				fallthrough;

			case "Exodus":
				say("\"Thy battle with that strange mixture of machine and spirit is now legendary. Do be careful if thou art going to the isle, for the remains of that being now reside in one of the chambers of the Castle of Fire.\"");
				remove("Exodus");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0001,
			". Do come back soon.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(LORD_BRITISH);
	}
labelFunc0417_0743:
	if (var0000 == true) {
		var000B = Func092D(item);
		var000C = (var000B + 0x0004) % 0x0008;
		var000D = script item {
			face var000C;
			wait 1;
			wait 2;
			wait 3;
			call Func0417;
			wait 3;
			wait 2;
			wait 11;
			call Func0417;
		};
		var000E = script AVATAR->get_npc_object() {
			face var000B;
			wait 1;
			actor frame bowing;
			wait 1;
			actor frame kneeling;
			wait 6;
			actor frame bowing;
			wait 1;
			actor frame standing;
		};
	}
	if (event == SCRIPTED) {
		if (gflags[0x001E]) {
			event = DOUBLECLICK;
			// I see no way other than this
			goto labelFunc0417_000C;
			// Dead code
			abort;
		}
		if (!gflags[0x030D]) {
			gflags[0x030D] = true;
			var000F = AVATAR->get_npc_object()->get_object_position();
			UI_sprite_effect(ANIMATION_TELEPORT, (var000F[0x0001] - 0x0001), (var000F[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x0043);
			var0010 = AVATAR->get_npc_object()->get_npc_prop(STRENGTH);
			var0010 &= AVATAR->get_npc_object()->get_npc_prop(HEALTH);
			if (!(var0010[0x0001] >= 60)) {
				var0011 = AVATAR->get_npc_object()->set_npc_prop(STRENGTH, 60 - var0010[0x0001]);
			}
			if (!(var0010[0x0002] >= 60)) {
				var0011 = AVATAR->get_npc_object()->set_npc_prop(HEALTH, 60 - var0010[0x0002]);
			}
		} else {
			LORD_BRITISH->show_npc_face(0x0000);
			var0001 = Func0908();
			say("\"I congratulate and thank thee, ",
				var0001,
				". Thy deeds continue to speak well of thee.\"");
			abort;
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func08C5 0x8C5 ();
extern void Func08C6 0x8C6 ();

void Func0418 object#(0x418) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == PROXIMITY) {
		abort;
	}
	NYSTUL->show_npc_face(0x0000);
	add(["name", "job", "bye"]);
	if (!gflags[0x0099]) {
		say("You see your old friend Nystul, now a decrepit old man in mage's robes. He seems lost in thought, far away.");
		gflags[0x0099] = true;
	} else if (!gflags[0x0003]) {
		say("\"Do I know thee?\" Nystul asks.");
	} else {
		say("\"Yes, Avatar?\" Nystul asks.");
	}
	converse (0) {
		case "name":
			if (!gflags[0x0003]) {
				say("The mage looks confused a moment. \"My name is Nystul? Yes, that is it!\"");
			} else {
				say("\"Why, 'tis Nystul!\"");
			}
			remove("name");
			fallthrough;

		case "job":
			if (!gflags[0x0003]) {
				say("\"Well, I used to perform quite a bit of magic,\" he says apologetically. \"At least... I -think- I used to do so. There is a man named Lord British, I think. I work for him.\"");
			} else {
				say("\"I am Lord British's personal mage!\"");
			}
			add(["magic", "Lord British"]);
			fallthrough;

		case "magic":
			if (!gflags[0x0003]) {
				say("\"Sometimes the magic works, sometimes it doth not.\" He waves his hand, and drops his wand. \"Oops!\" he cries, as he bends to pick it up.");
				var0000 = Func08F7(SPARK);
				if (var0000) {
					SPARK->say("\"Art thou sure this man is not really the jester?\"");
					SPARK->hide();
					NYSTUL->say("\"Anyway, as I was saying, uhm, what was I saying? Oh yes. Magic. I can still sell thee some spells or reagents if thou wouldst like.\"");
				}
			} else {
				say("\"The magic is much better now. My spells all work very nicely. I thank thee, Avatar, for clearing the ether. Interested in any spells or reagents?\"");
			}
			remove("magic");
			add(["spells", "reagents"]);
			fallthrough;

		case "spells":
			say("\"Dost thou wish to buy some spells?\"");
			var0001 = Func090A();
			if (var0001) {
				Func08C5();
			} else {
				say("\"Oh. Never mind, then.\"");
			}
			fallthrough;

		case "reagents":
			say("\"Dost thou wish to buy some reagents?\"");
			var0002 = Func090A();
			if (var0002) {
				Func08C6();
			} else {
				say("\"Oh. Never mind, then.\"");
			}
			fallthrough;

		case "Lord British":
			if (!gflags[0x0003]) {
				say("\"Lord who? Dost thou mean that old man who sometimes sits on the throne?\"");
			} else {
				say("\"He is the greatest ruler this land has ever known and I am proud to serve him.\"");
			}
			remove("Lord British");
			fallthrough;

		case "bye":
			break;
	}
	if (!gflags[0x0003]) {
		say("\"Are we going somewhere?\"*");
	} else {
		say("\"Goodbye, Avatar. Do come see us again soon.\"*");
	}
}

extern var Func090A 0x90A ();
extern void Func0862 0x862 ();
extern void Func0861 0x861 ();
extern var Func090B 0x90B (var var0000);

void Func0419 object#(0x419) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		CHUCKLES->show_npc_face(0x0000);
		if (!gflags[0x009A]) {
			say("You are wary of conversing with that trickster Chuckles, but decide to anyway.");
			gflags[0x009A] = true;
			add(["name", "job", "bye"]);
		} else {
			say("\"I will speak if thou dost play The Game, friend,\" Chuckles says.");
			add(["job", "bye", "Game"]);
		}
		converse (0) {
			case "name":
				say("\"I must not say my name, lest I break the rule of The Game!\"");
				remove("name");
				add("Game");
				fallthrough;

			case "job":
				say("\"I was, am, and shall be the Court...Fool! I could give thee a clue if I wish, but for now my job is to play The Game.\"");
				add("Game");
				fallthrough;

			case "clue":
				if (!gflags[0x006F]) {
					say("\"Art thou sure thou canst play The Game?\"");
					var0000 = Func090A();
					if (var0000) {
						Func0862();
					} else {
						say("\"Thou must play The Game to get the clue!\"");
					}
				} else {
					say("\"Oops. I did give thee one!\"");
					remove("clue");
				}
				fallthrough;

			case "Game":
				say("\"Thou must play The Game if thou dost want to speak with me.\"");
				UI_clear_answers();
				add(["I don't understand", "What are the rules?", "I know The Game", "Explain it"]);
				remove("Game");
				gflags[0x0073] = true;
				fallthrough;

			case "I don't understand":
				Func0861();
				remove("I don't understand");
				fallthrough;

			case "Explain it":
				Func0861();
				remove("Explain it");
				fallthrough;

			case "What are the rules?":
				say("\"Thou must just learn The Game and then jump in and play it!\"");
				remove("What are the rules?");
				fallthrough;

			case "I know The Game":
				say("\"Then just play it!\"");
				remove("I know the Game");
				UI_clear_answers();
				var0001 = Func090B(["What do we converse about?", "About what do we talk?", "Of what do we speak?"]);
				if (var0001 == "Of what do we speak?") {
					say("\"Of what thou wouldst like.\"");
					UI_clear_answers();
					add(["the weather", "Lord British", "thou", "a joke"]);
				} else {
					Func0861();
				}
				fallthrough;

			case "the weather":
				Func0861();
				remove("weather");
				fallthrough;

			case "Lord British":
				Func0861();
				remove("Lord British");
				fallthrough;

			case "thou":
				say("\"Why dost thou want to speak of me? Canst thou not think of a thing much more fun of which to speak?\"");
				remove("thou");
				UI_clear_answers();
				add(["women", "girls", "food", "supper"]);
				fallthrough;

			case "a joke":
				say("\"I do not think I can tell a good joke whilst I play The Game! 'Twould be hard! Hmm. Ah! I have one! Why did the hen cross the road? To get to the side she was not on!\"");
				remove("a joke");
				fallthrough;

			case "women":
				Func0861();
				remove("women");
				fallthrough;

			case "girls":
				say("\"There be a lot of fine girls in our fair town! Or is it 'fair girls in our fine town'?\" Chuckles shrugs his shoulders.");
				remove("girls");
				fallthrough;

			case "food":
				say("\"There is good food at the pub! As for me, I like to eat on the floor of my room!\"");
				UI_clear_answers();
				var0002 = Func090B(["Where is the tavern?", "Where is the Blue Boar?", "The pub serves mutton?", "Is there liquor?"]);
				if (var0002 == "Where is the Blue Boar?") {
					say("\"Thou canst get a good meal there! But I could give thee a good -clue-!\"");
					UI_clear_answers();
					add(["clue", "job", "bye"]);
				} else {
					Func0861();
				}
				fallthrough;

			case "supper":
				Func0861();
				remove("supper");
				fallthrough;

			case "bye":
				break;
		}
		if (gflags[0x0073]) {
			say("\"So long, my friend! Do not forg... I mean, do not lose how to play The Game!\"*");
		} else {
			say("\"Bye for now!\"*");
		}
	}
	if (event == PROXIMITY) {
		var0003 = CHUCKLES->get_npc_object()->get_schedule_type();
		if (var0003 == DANCE) {
			var0004 = UI_die_roll(0x0001, 0x0004);
			if (var0004 == 0x0001) {
				var0005 = "@Hi!@";
			}
			if (var0004 == 0x0002) {
				var0005 = "@Want to play The Game?@";
			}
			if (var0004 == 0x0003) {
				var0005 = "@Let us play The Game!@";
			}
			if (var0004 == 0x0004) {
				var0005 = "Shall we dance?@";
			}
			CHUCKLES->item_say(var0005);
		}
	}
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern void Func0852 0x852 ();
extern void Func0911 0x911 (var var0000);
extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern void Func084F 0x84F ();
extern void Func0850 0x850 ();
extern void Func084D 0x84D ();
extern void Func0851 0x851 ();
extern void Func092E 0x92E (var var0000);

void Func041A object#(0x41A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	if (event == DOUBLECLICK) {
		BATLIN->show_npc_face(0x0000);
		var0000 = BATLIN->get_npc_object()->get_schedule_type();
		var0001 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
		if (var0001) {
			say("Batlin's eyes narrow to red slits as he peers practically through you.");
			say("\"Thou hast the Cube! Thou cannot use it against -me-!\"");
			say("With that, Batlin turns with a flourish, and vanishes before your eyes!*");
			gflags[0x00DA] = true;
			BATLIN->get_npc_object()->remove_npc();
			abort;
		}
		if (gflags[0x001E]) {
			say("Batlin looks at you and his gaze returns to the Armageddon winter storm. \"Many years ago, Avatar, I went to Skara Brae, the ghost city. The way the world is now reminds me of that dead place. In Skara Brae I had a spiritual experience so profound that I have never spoken of to another soul. I would like to share that experience with thee now, Avatar.");
			say("\"There at Skara Brae I saw a man who was called The Tortured One. I asked this dead man, pray tell, what is the answer to the question of Life and Death? He gave me no reply, and I asked him again. I beseeched him to impart some small parcel of wisdom upon me. What is the answer to the question of Life and Death?! He said nothing, but in his eyes... In his eyes I could see, Avatar, that he could not answer me for there was no answer to give. No answers to the question of Life and Death! It was then I understood. No meanings! No virtues! No values!!!... I commend thee, Avatar, for reaching that same liberating illumination!\"*");
			abort;
		}
		if (gflags[0x0038]) {
			say("\"Art thou ready to answer questions from the Book of Fellowship?\"");
			if (Func090A()) {
				Func0852();
				if (!gflags[0x0038]) {
					if (var0000 == PREACH) {
						say("\"Excellent, Avatar!\"");
						say("Fighting a tremble of hesitation you take a long deep drink from the goblet. Batlin steps up to you. \"May the news spread far and wide that our newest member is none other than the Avatar!\"");
						say("The other Fellowship members cheer with pleasure.");
					} else {
						say("\"Very good, Avatar.\"");
					}
					var0002 = UI_add_party_items(0x0001, 0x03BB, QUALITY_ANY, 0x0001, false);
					gflags[0x0091] = true;
					gflags[0x0006] = true;
					Func0911(0x01F4);
					if (var0002) {
						say("\"Allow me to present thee with thy Fellowship medallion.\" Batlin gives you the medallion. \"Please -- wear thy medallion at all times for it shall be a symbol to all who see it that thou dost walk with the Fellowship. Ready it to thy neck immediately! Oh, and... welcome to The Fellowship, Avatar.\"*");
						gflags[0x0090] = true;
					} else {
						say("\"Thou art too encumbered to receive thy Fellowship medallion. Thou must lighten thy load.\"*");
					}
					var0003 = script item {
						nohalt;
						speech 23;
					};
					abort;
				}
				say("\"My dear Avatar. Thou must realize that thou must know everything there is to know about The Fellowship before I can induct thee. Please study thy Book of Fellowship and return to me.");
				say("Your mind seems unclear. I would not be surprised if thou dost not understand\tanother soul with whom thou dost speak.\"");
				set_item_flag(CONFUSED);
				abort;
			}
			say("\"Come back when thou art ready.\"*");
			abort;
		}
		var0004 = Func0909();
		var0005 = UI_wearing_fellowship();
		var0006 = UI_part_of_day();
		var0000 = BATLIN->get_npc_object()->get_schedule_type();
		var0007 = Func0908();
		if (var0000 == PREACH) {
			if (gflags[0x008D] && (!gflags[0x0091])) {
				Func084F();
			} else {
				Func0850();
			}
		}
		add(["name", "job", "bye"]);
		if (gflags[0x0041]) {
			add("Elizabeth and Abraham");
		}
		if (gflags[0x0096]) {
			if (!gflags[0x0006]) {
				add("join");
			}
		}
		if (gflags[0x00D7] || (gflags[0x00D6] && (!gflags[0x0109]))) {
			add("package");
		}
		if (gflags[0x0109]) {
			add("delivered package");
			remove("package");
		}
		if (gflags[0x0102]) {
			add("package delivered");
		}
		if (gflags[0x011E]) {
			add("package delivered");
		}
		if (gflags[0x008E]) {
			remove(["delivered package", "package delivered"]);
			if (gflags[0x0097]) {
				add("chest");
			}
		}
		if (gflags[0x008D]) {
			remove("chest");
		}
		if (gflags[0x0091]) {
			if (!gflags[0x0090]) {
				add("medallion");
			}
		}
		if (gflags[0x0094]) {
			add("apples");
		}
		if (gflags[0x008A] || (gflags[0x008C] || gflags[0x000A])) {
			add("voice");
		}
		if (gflags[0x008B]) {
			add("Meditation Retreat");
		}
		if (!gflags[0x009B]) {
			say("You see a rotund older gentleman, who is at once humble yet dignified. His gentle eyes exude caring for his fellow person.");
			gflags[0x009B] = true;
			if (var0005 && (!gflags[0x0006])) {
				say("The man's eyes focus on the Fellowship medallion around your neck.");
				say("\"My dear friend, thou art falsely impersonating a Fellowship member! Remove that medallion at once!\"*");
				abort;
			}
		} else if (var0005 && (!gflags[0x0006])) {
			say("\"I shall not speak to thee unless thou dost remove that Fellowship medallion. Thou art falsely impersonating a Fellowship member!\"*");
			abort;
		} else {
			say("\"",
				var0007,
				", my dear, dear friend! How wonderful to see thee again!\" says Batlin.");
		}
		converse (0) {
			case "name":
				say("\"My name, good friend, is Batlin. And indeed it is truly a privilege to meet the Avatar in the flesh.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I was once a druid. Now I am the leader and the originator of The Fellowship. It is rapidly growing throughout Britannia and keeps me very busy, as thou canst well imagine. Ha! Ha! Ha!\"");
				add("Fellowship");
				fallthrough;

			case "Fellowship":
				say("\"The Fellowship was formed twenty years ago with the full approval and support of Lord British. It is a society of spiritual seekers who strive to reach the highest levels of human potential and to share this knowledge freely with all people.\"");
				remove("Fellowship");
				add("spiritual");
				fallthrough;

			case "spiritual":
				say("\"The Fellowship advances the philosophy of sanguine cognition, a way to apply a positive order of thought to one's life through what is called the Triad of Inner Strength.\"");
				remove("spiritual");
				add(["sanguine cognition", "Triad"]);
				fallthrough;

			case "sanguine cognition":
				say("\"We strive to avoid the mistakes made by mystics and sages since the dawn of time. They apply the standards of the past, such as the virtues, for example, to qualify the present, and thus they do not perceive it correctly. We seek to examine our present lives each on our own terms and see the world the way it is.\"");
				remove("sanguine cognition");
				add("virtues");
				fallthrough;

			case "virtues":
				say("\"They are perfectly adequate for those who feel that they still need them for whatever reason. But no one, not even thyself, thou must admit, Avatar, can fulfill them perfectly. Therefore they are a philosophy that is ultimately based upon failure. We have never claimed that our teachings are a substitute for the virtues. However, ours is a belief that is based upon success, not failure.\"");
				remove("virtues");
				fallthrough;

			case "Triad":
				say("\"The Triad of Inner Strength is simply three basic values that, when applied in unison, enable one to be more creative, satisfied and successful in life.\"");
				remove("Triad");
				add("values");
				fallthrough;

			case "values":
				say("\"The three values of the Triad of Inner Strength are Strive For Unity, Trust Thy Brother and Worthiness Precedes Reward.\"");
				remove("values");
				add(["Unity", "Trust", "Worthiness"]);
				fallthrough;

			case "Unity":
				say("\"When we say Strive For Unity, it is simply our way of expressing how the people of Britannia should all cooperate and work together. A worthwhile sentiment, I am certain thou wouldst concur.\"");
				remove("Unity");
				add("join");
				fallthrough;

			case "Trust":
				say("\"What The Fellowship means by this is that people are all the same and the world is, generally speaking, a supportive, nurturing place. The trust we place in each other is like the pinions that hold our society together. Quite true, wouldst thou not say?\"");
				remove("Trust");
				add("join");
				fallthrough;

			case "Worthiness":
				say("\"Allow me to explain the meaning of Worthiness Precedes Reward. Each one of us seeks something which we desire from life and we must strive to be worthy of that which we seek. It would be difficult for thee to disagree I am quite sure.\"");
				remove("Worthiness");
				add("join");
				fallthrough;

			case "Elizabeth and Abraham":
				if (!gflags[0x0105]) {
					say("\"Ah, my good colleagues Elizabeth and Abraham were just here. They left this morning for Minoc on Fellowship business. They deal with the distribution and collection of funds.\"");
					gflags[0x0087] = true;
				}
				if (gflags[0x0105] && (!gflags[0x016B])) {
					say("\"I have not seen my colleagues since they were last here. They are busy folk.\"");
				}
				if (gflags[0x0217] && (!gflags[0x016B])) {
					say("\"I have not seen my colleagues since they were last here. They are busy folk.\"");
				}
				if (gflags[0x016B] && (!gflags[0x0284])) {
					say("Batlin smiles and shakes his head. \"Thou art not having much luck tracking them down, art thou? They were here, having done some work in Jhelom, but now they have gone to Vesper to see about starting a branch there.\"");
					gflags[0x0088] = true;
				}
				if (gflags[0x0284]) {
					say("\"I have not seen my colleagues since they were last here. They are busy folk.\"");
				}
				remove("Elizabeth and Abraham");
				fallthrough;

			case "join":
				if (gflags[0x0006]) {
					say("\"But thou art already a member, Avatar! One can only join once!\"");
				} else if (gflags[0x0096] && (!gflags[0x0097])) {
					say("\"Thou hast not completed thy tasks. Remember that Worthiness Precedes Reward. Once thou hast completed the missions, thou mayest join.\"");
				} else {
					Func084D();
				}
				remove("join");
				fallthrough;

			case "package":
				if (gflags[0x00D7] && (!gflags[0x008F])) {
					say("\"Ah! I do hope thine hands are not too full to take the package.\"");
					var0008 = BATLIN->find_object(0x031E, QUALITY_ANY, FRAME_ANY);
					var0009 = var0008->set_last_created();
					var000A = AVATAR->give_last_created();
					if (var000A) {
						say("\"Excellent! Here it is. Thou must now be on thy way!\"*");
						gflags[0x008F] = true;
						abort;
					}
					var000A = BATLIN->give_last_created();
					say("\"Avatar! I am tired of this! Please make room in thine inventory for the package!\"*");
					abort;
				}
				Func0851();
				fallthrough;

			case "delivered package":
				say("\"Congratulations, Avatar, and our thanks to thee for successfully delivering our package to Elynor of Minoc. Now we have another task at hand before thou canst join The Fellowship. Because thou didst deliver the package thou hast proven thyself worthy of performing another mission.\"");
				remove("delivered package");
				add("mission");
				fallthrough;

			case "package delivered":
				say("\"Avatar, didst thou deliver the package to Elynor of Minoc?\"");
				var000B = Func090A();
				if (var000B) {
					say("\"Didst thou open the package?\"");
					var000C = Func090A();
					if (var000C) {
						say("\"Thou knew that thou wast instructed not to open it. We put trust in thee to carry out our instructions to the letter and that trust was broken.\"");
						add("mission");
					} else {
						say("\"That is not what Elynor of Minoc tells us. We put trust in thee to carry out our instructions to the letter and that trust was broken.");
					}
					if (gflags[0x011E]) {
						say("\"I understand that the contents of the package were missing as well, and this is very serious indeed!");
					}
					say("\"I am afraid that thou must carry out a mission for us as a test of trust if thou art to begin truly walking with The Fellowship.\"");
					add("mission");
				} else {
					say("Batlin's eyes open wide in surprise.");
					say("\"What has happened? Hast thou lost the package?\"");
					var000D = Func090A();
					if (var000D) {
						say("\"Tsk. Tsk. Tsk. That is most unfortunate. We put trust in thee to deliver the package and that trust was broken. I am afraid that thou must carry out a mission for us as a test of trust if thou art to begin truly walking with The Fellowship.\"");
						add("mission");
					} else {
						say("\"Please deliver our package, Avatar. We have more business to discuss once thou art finished.\"*");
						abort;
					}
				}
				remove("package delivered");
				fallthrough;

			case "mission":
				say("\"Thou shalt visit the dungeon of Destard, which is in the mountains just west of Trinsic. Do not worry, it is completely deserted. There thou shalt find a chest of Fellowship funds which was hidden for safekeeping just a few days ago. Thou wilt know the chest because it will contain not only gold but two Fellowship medallions. The site is also most likely marked with a Fellowship staff. Bring these funds back to us without losing a single coin and thou wilt have successfully completed thy mission. No need to bring the chest, just the gold. Now, thou must be on thy way!\"*");
				gflags[0x008E] = true;
				Func0911(0x0064);
				remove("mission");
				abort;

			case "chest":
				say("\"Ah yes, thou hast returned from Dungeon Destard! But wait! I do not see the Fellowship funds that thou wast to bring back! What has happened?!\"");
				add(["a highwayman", "monsters", "pirates", "ship sunk"]);
				remove("chest");
				fallthrough;

			case "a highwayman":
				say("\"Why, thy tale is outlandish! I refuse to believe it!\" Batlin sniffs in irritation.");
				remove("a highwayman");
				add("join");
				fallthrough;

			case "monsters":
				say("\"Monsters! There are monsters lurking in dungeon Destard?! Well then, I do apologize for thine inconvenience.\"");
				remove(["monsters", "a highwayman", "ship sunk", "pirates"]);
				add("join");
				fallthrough;

			case "pirates":
				say("\"Surely thou canst do better than that! If thou simply dost not wish to answer my question why dost thou not say so?\"");
				remove("pirates");
				add("join");
				fallthrough;

			case "ship sunk":
				say("Batlin slowly rolls his eyes. \"Thou ought to have been a bard, thou dost regale me with such stories!\"");
				remove("ship sunk");
				add("join");
				fallthrough;

			case "medallion":
				var0002 = UI_add_party_items(0x0001, 0x03BB, QUALITY_ANY, 0x0001, false);
				if (var0002) {
					say("\"Allow me to present thee with thy Fellowship medallion.\" Batlin gives you the medallion. \"Please -- wear the medallion at all times. Ready it to thy neck immediately! Oh, and... welcome to The Fellowship, Avatar.\"");
					gflags[0x0090] = true;
					remove("medallion");
				} else {
					say("\"Thou cannot receive thy Fellowship medallion. Thou art too encumbered!\"*");
					break;
				}
				fallthrough;

			case "apples":
				say("\"While thou art here, please feel free to enjoy an apple. The finest in all of Britannia, I am certain thou wilt find. They are provided to The Fellowship by the Royal Orchards.\"");
				remove("apples");
				fallthrough;

			case "voice":
				if (gflags[0x0096]) {
					say("\"Once a person has walked with The Fellowship long enough and applied the Triad of Inner Strength to his life, he has cleared his mind of all conflicting, counterproductive thoughts to the point where he may actually hear his internal voice of reason. This voice of reason is the core of thine inner mind which guides thee through pure instinct, wisdom and irreproachable logic. Once one starts to listen to it and follow its guidance, one has achieved the height of enlightenment. Perhaps thou shalt hear it one day.\"");
					Func0911(0x0014);
				} else {
					say("\"Only active or potential Fellowship members are privy to the concept of 'the voice'. I can tell thee more when thou dost take the Fellowship test.\"");
					add("test");
				}
				remove("voice");
				fallthrough;

			case "test":
				say("\"Oh, art thou ready to join The Fellowship?\"");
				if (Func090A()) {
					Func084D();
				} else {
					say("\"Until thou art ready to join, I cannot tell thee any more about the test.\"");
					add("join");
				}
				remove("test");
				fallthrough;

			case "Meditation Retreat":
				say("\"It is a retreat from the pressures and distractions of everyday life where new members of The Fellowship may go and study the philosophies of The Fellowship. It is located on an island east of Serpent's Hold.\"");
				remove("Meditation Retreat");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Until we meet again, Avatar.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(BATLIN);
	}
}

extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08D1 0x8D1 ();
extern void Func092E 0x92E (var var0000);

void Func041B object#(0x41B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		RAYMUNDO->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = RAYMUNDO->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x0068]) {
			add("audition");
		}
		if (gflags[0x0069]) {
			add(["Miranda", "Max"]);
		}
		if (!gflags[0x009C]) {
			say("You can see the creativity literally flowing in abundance from this fellow. He looks at you with interest.");
			gflags[0x009C] = true;
		} else {
			say("\"Yes, yes?\" Raymundo snaps. \"What dost thou want? I'm busy!\"");
		}
		converse (0) {
			case "name":
				say("\"I am Raymundo.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Why, I am famous throughout the land! Hast thou not heard of me?\"");
				var0002 = Func090A();
				if (var0002) {
					say("\"I told thee so!");
				} else {
					say("\"-Really-!? I am surprised! But never mind...");
				}
				say("\"I am the Director of the Royal Theatre here in Britain. I am also Playwright-in-Residence. I compose a tune now and then as well. I sometimes act, but it is not wise to act in something that one directs.~");
				if (var0001 == TEND_SHOP) {
					say("\"We are working on a play at the moment.\"");
				} else {
					say("\"Come by the theatre during the day and watch the rehearsals for our play.\"");
				}
				add(["Royal Theatre", "play"]);
				fallthrough;

			case "play":
				say("\"It's a little something I wrote entitled 'The Trials of the Avatar'. It's about a legendary figure in Britannian history.\" The artist looks you up and down.");
				say("\"Hmmm. Thou dost have a certain quality... hast thou ever acted on stage?\"");
				var0003 = Func090A();
				if (var0003) {
					say("\"I thought so!");
				} else {
					say("\"Well, it does not matter. I am sure thou couldst quickly adapt.");
				}
				say("\"Officially, auditions have closed and the play is already cast. However, we need someone to understudy the role of the Avatar. Wouldst thou like to audition?\"");
				var0004 = Func090A();
				if (var0004) {
					say("\"Excellent! What thou needest to do is to visit Gaye's Clothier Shoppe and purchase an Avatar costume. I can audition thee once I see thee in -proper- attire. Run along and do that, quickly now, I'm a busy man.\"*");
					gflags[0x0067] = true;
					abort;
				}
				say("\"No? Thou hast never dreamed of performing on the stage? Seeing thy name in torches? Donning the olde grease paint and wig? Bowing to thunderous applause? Well, begone then, I have not the time for chatting with the public.\"*");
				abort;

			case "Royal Theatre":
				say("\"'Tis a wonderful space, dost thou not think? 'Twas opened only last year, thanks to the sponsorship of a few wealthy citizens of our great city.\"");
				remove("Royal Theatre");
				add(["sponsorship", "citizens"]);
				fallthrough;

			case "sponsorship":
				say("\"The construction of the actual theatre building was paid for by the Royal Mint, but the theatre company relies solely on the support of individuals such as thyself. Wouldst thou like to make a modest contribution of, say, ten gold pieces to our theatre company?\"");
				var0005 = Func090A();
				if (var0005) {
					var0006 = UI_remove_party_items(0x000A, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0006) {
						say("\"I thank thee. Thou hast shown thyself to be a true patron of the arts and a person of culture and refinement.\"");
					} else {
						say("\"Thine unconvincing performance gave thy game away! Thou dost not have ten gold pieces!\"");
					}
				} else {
					say("\"Give a man a loaf of bread and thou hast fed him for a day, give a man a play and perhaps thou hast fed his soul for a lifetime! Once thou hast seen one of our productions I am certain thou shalt reconsider.\"");
				}
				remove("sponsorship");
				fallthrough;

			case "audition":
				if (var0001 == TEND_SHOP) {
					var0007 = Func0931(AVATAR, 0x0001, 0x0346, QUALITY_ANY, FRAME_ANY);
					if (var0007) {
						say("\"I see thou art ready? Very well. Take center stage, wouldst thou?\"");
						Func08D1();
					} else {
						say("\"Where is thy costume? Thou cannot audition without a costume!\"*");
						abort;
					}
				} else {
					say("\"Come to the theatre during rehearsal hours, wouldst thou?\"*");
					abort;
				}
				fallthrough;

			case "Miranda":
				say("Raymundo takes a deep breath and smiles.");
				say("\"Ah, lovely woman. 'Tis a pity she is more interested in politics than the stage. But I must say that we get along famously!\"");
				remove("Miranda");
				fallthrough;

			case "Max":
				say("\"He is quite a character, is he not?\" Raymundo's face fills with pride.");
				say("\"Takes after his old man, I must say. He is sure to be a great actor. Or writer. Or director. Or producer.\"");
				remove("Max");
				fallthrough;

			case "citizens":
				say("\"Well, I am really not at liberty to divulge the names of our patrons. But most of them belong to The Fellowship.\"");
				remove("citizens");
				add(["patrons", "Fellowship"]);
				fallthrough;

			case "patrons":
				say("\"These are people who contribute to our theatre. They come from all walks of life and have little in common besides a love of fine theatre.\"");
				remove("patrons");
				fallthrough;

			case "Fellowship":
				say("\"For non-artists, they have given generous contributions to the theatre. They are -fine- people in my book!\" He rubs his hands with glee.");
				say("\"I am not a member, though.\"");
				remove("Fellowship");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Leaving? Sorry, I do not give autographs.\"*");
	}
	if (event == PROXIMITY) {
		var0000 = UI_part_of_day();
		var0001 = RAYMUNDO->get_npc_object()->get_schedule_type();
		var0008 = UI_die_roll(0x0001, 0x0004);
		if (var0001 == TEND_SHOP) {
			if (var0008 == 0x0001) {
				var0009 = "@Louder! I can't hear thee!@";
			}
			if (var0008 == 0x0002) {
				var0009 = "@Move stage right, please.@";
			}
			if (var0008 == 0x0003) {
				var0009 = "@Try that scene again.@";
			}
			if (var0008 == 0x0004) {
				var0009 = "@From the top, please.@";
			}
			RAYMUNDO->item_say(var0009);
		} else {
			Func092E(RAYMUNDO);
		}
	}
}

extern void Func092E 0x92E (var var0000);

void Func041C object#(0x41C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		var0000 = UI_is_pc_female();
		if (var0000) {
			JESSE->show_npc_face(0x0001);
		} else {
			JESSE->show_npc_face(0x0000);
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x009D]) {
			say("This is a tall, skinny actor with knobby knees.");
			if (var0000) {
				say("He wears a woman's wig and is dressed in drag.");
			}
			gflags[0x009D] = true;
		} else {
			if (var0000) {
				var0001 = " he says in falsetto.";
			} else {
				var0001 = "";
			}
			say("Jesse clears his throat. \"Hello again!\"",
				var0001,
				"");
		}
		converse (0) {
			case "name":
				if (var0000) {
					say("The actor speaks in falsetto.");
				}
				say("\"I am Jesse and I am a star.\"");
				remove("name");
				if (var0000) {
					say("He slaps his own face and speaks in a normal register, \"Oops, sorry! I am so entrenched in the role that I sometimes forget that I am not a woman!\"");
				}
				fallthrough;

			case "job":
				say("\"I work at the Royal Theatre as an actor. I have played -all- the great roles in my career. I now have the chance to play the part of a lifetime -- the Avatar!\"");
				add(["Royal Theatre", "Avatar"]);
				fallthrough;

			case "Royal Theatre":
				say("\"Because it must cater to the masses, we never have the opportunity to do experimental works -- only the traditional gruel of mediocrity. But 'tis a wonderful space and it has marvelous acoustics.\"");
				add(["masses", "experimental works"]);
				remove("Royal Theatre");
				fallthrough;

			case "masses":
				say("\"People like to see tales of heroic adventures, knights in armour, beautiful princesses, wise kings, wizards, evil monsters. All that rot.\"");
				remove("masses");
				fallthrough;

			case "Avatar":
				say("\"The role is very challenging. I have a plethora of lines and I had to work with a trainer for weeks to prepare for the enormous amount of activity required. This role will make 'Jesse' a household name!\"");
				add(["challenging", "lines"]);
				remove("Avatar");
				fallthrough;

			case "challenging":
				say("\"It is easily the most ambitious theatrical production ever conceived. There is over a hundred hours of play time. That is a long time for an audience.\"");
				remove("challenging");
				fallthrough;

			case "lines":
				say("\"My biggest lines are:~~\"Name!\"~~\"Job!\"~~\"Bye!\"");
				remove("lines");
				fallthrough;

			case "experimental works":
				say("\"My favorite piece is something Raymundo wrote for me entitled 'Three on a Codpiece'. I stand on stage and invite the audience to join me in tearing an undergarment into tiny pieces, after which they are placed in funeral urns and mixed with wheat paste. The pieces of cloth, not the audience members. Then the audience may glue the pieces anywhere on my body that they wish.\"");
				remove("experimental works");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye. Be sure to come to the show when it opens!\"*");
	}
	if (event == PROXIMITY) {
		var0002 = UI_part_of_day();
		var0003 = JESSE->get_npc_object()->get_schedule_type();
		var0004 = UI_die_roll(0x0001, 0x0004);
		if (var0003 == PATROL) {
			if (var0004 == 0x0001) {
				var0005 = "@Name!@";
			}
			if (var0004 == 0x0002) {
				var0005 = "@Job!@";
			}
			if (var0004 == 0x0003) {
				var0005 = "@Yes! Er, I mean No!@";
			}
			if (var0004 == 0x0004) {
				var0005 = "@Bye!@";
			}
			JESSE->item_say(var0005);
		} else {
			Func092E(JESSE);
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func041D object#(0x41D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		STUART->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (!gflags[0x009E]) {
			say("This actor has much stage presence and a booming voice.");
			gflags[0x009E] = true;
		} else {
			say("Stuart looks down his nose at you. \"Yes?\"");
		}
		converse (0) {
			case "name":
				say("\"My real name is Stuart. My stage name is Laurence.\"");
				remove("name");
				add("Laurence");
				fallthrough;

			case "job":
				say("\"I am the greatest actor who ever lived,\" he proclaims with absolutely no modesty. \"I am playing the character 'Iolo' in the new play.\"");
				add("Iolo");
				fallthrough;

			case "Laurence":
				say("\"'Tis the name of a particular hero of mine.\"");
				remove("Laurence");
				fallthrough;

			case "Iolo":
				say("Stuart's feathers are obviously ruffled. \"Yes. I have been cast as second banana yet again! I am much more suited to play the Avatar, but did Raymundo cast me? Noooo!\"");
				var0000 = Func08F7(IOLO);
				if (var0000) {
					IOLO->say("\"But thou art nothing like me!\"*");
					STUART->say("\"And who art thou, pray tell?\"*");
					IOLO->say("\"Why, I am the -real- Iolo!\"*");
					STUART->say("\"Of course thou art. And I am really Lord British. Thou must take me for an ass to think I would believe that.\"*");
					IOLO->say("Your friend whispers to you. \"These actor types. A touchy bunch, eh?\"*");
					IOLO->hide();
					STUART->show_npc_face(0x0000);
				}
				add(["Raymundo", "Avatar"]);
				remove("Iolo");
				fallthrough;

			case "Raymundo":
				say("\"I suppose he's a good director. He never casts me in the right roles, though. And to think I went to school with him! We were on our first stage crew together!\"");
				remove("Raymundo");
				fallthrough;

			case "Avatar":
				say("Stuart whispers to you, \"Jesse is all wrong! Why, -thou- wouldst make a better Avatar than he! And -thou- probably couldst not act thy way out of a reagent bag! That is not a reflection on thee, but on Jesse.\"");
				add("act");
				remove("Avatar");
				fallthrough;

			case "act":
				say("\"Acting is the highest form of art. It allows one to step outside oneself and become another person. 'Tis like a game!\"");
				remove("act");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye. Be sure to come to the show when it opens!\"*");
	}
	if (event == PROXIMITY) {
		var0001 = UI_part_of_day();
		var0002 = STUART->get_npc_object()->get_schedule_type();
		var0003 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == PATROL) {
			if (var0003 == 0x0001) {
				var0004 = "@I am Iolo, my liege!@";
			}
			if (var0003 == 0x0002) {
				var0004 = "@I hear something to the east!@";
			}
			if (var0003 == 0x0003) {
				var0004 = "@This is Dungeon Despise!@";
			}
			if (var0003 == 0x0004) {
				var0004 = "@Ready the bow to use it!@";
			}
			STUART->item_say(var0004);
		} else {
			Func092E(STUART);
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func041E object#(0x41E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		AMBER->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		add(["name", "job", "bye"]);
		var0001 = Func08F7(SHAMINO);
		if (gflags[0x006B] || var0001) {
			add("Shamino");
		}
		if (!gflags[0x009F]) {
			say("This lovely actress is dressed in a mouse costume.");
			gflags[0x009F] = true;
		} else {
			say("\"Hello, there!\" Amber says.");
		}
		converse (0) {
			case "name":
				say("\"I am Amber.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am an actress at the Royal Theatre. I am playing the role of Sherry the Mouse in the new play.\"");
				add(["Royal Theatre", "Sherry", "play"]);
				fallthrough;

			case "Royal Theatre":
				say("\"'Tis a lovely space in which to perform. I have dedicated my life to acting, thou knowest.\"");
				remove("Royal Theatre");
				add(["space", "dedicated"]);
				fallthrough;

			case "space":
				say("\"Raymundo himself had a hand in the design of the theatre.\"");
				remove("space");
				fallthrough;

			case "dedicated":
				say("\"Actually, this will be my debut theatrical performance. I have been working as a barmaid waiting for my first chance to be in the theatre.\"");
				remove("dedicated");
				fallthrough;

			case "play":
				say("\"Between thee and me, methinks the play stinks.\" She winks at you.");
				remove("play");
				fallthrough;

			case "Sherry":
				say("\"Canst thou imagine such drivel? I do not believe there ever was a Sherry the Mouse. Who ever heard of a mouse that could talk! Especially these lines! I would rather play a queen. Much more fitting for me, I would say.\"");
				remove("Sherry");
				add(["lines", "queen"]);
				fallthrough;

			case "lines":
				say("\"I have to memorize this preposterous children's story called 'Hubert's Hair-Raising Adventure'.");
				remove("lines");
				fallthrough;

			case "queen":
				say("\"I asked Raymundo about this and he threw a tantrum. He said that it would not be historically accurate. Ha! As if that were something of any significance!\"");
				remove("queen");
				fallthrough;

			case "Shamino":
				var0001 = Func08F7(SHAMINO);
				if (var0001) {
					say("\"Poo Poo Head!\" she cries. She then rushes to him and kisses him full on the mouth. Shamino turns red and shuffles his feet.*");
					SHAMINO->say("\"Not in front of the Avatar, Poo!\"*");
					SHAMINO->hide();
					AMBER->say("\"To blazes with the Avatar!\" She kisses him again. \"The Avatar is the last one who will convince thee to settle down.\"");
				} else {
					say("\"Dost thou know my beau? He is probably drowning his sorrows at the Blue Boar. The lazy knave! I will not let him go about adventuring. It is time for him to settle down. Thou canst tell him I said so!\"");
				}
				gflags[0x006D] = true;
				gflags[0x006E] = true;
				remove("Shamino");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Adieu!\"*");
	}
	if (event == PROXIMITY) {
		var0002 = AMBER->get_npc_object()->get_schedule_type();
		var0003 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == PATROL) {
			if (var0003 == 0x0001) {
				var0004 = "@Hubert the Lion was...@";
			}
			if (var0003 == 0x0002) {
				var0004 = "@Why do I say that?@";
			}
			if (var0003 == 0x0003) {
				var0004 = "@My costume is too big.@";
			}
			if (var0003 == 0x0004) {
				var0004 = "@I -hate- my lines!@";
			}
			AMBER->item_say(var0004);
		} else {
			Func092E(AMBER);
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);

void Func041F object#(0x41F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		KRISTY->show_npc_face(0x0000);
		var0000 = Func08F7(NANNA);
		add(["name", "job", "bye"]);
		if (!gflags[0x00A0]) {
			say("This is a cute toddler holding a baby doll.");
			gflags[0x00A0] = true;
		} else {
			say("\"Hi!\" Kristy exclaims.");
		}
		converse (0) {
			case "name":
				say("\"Kwisty.\"");
				if (var0000) {
					NANNA->say("\"Kristy, like Nicholas, is one of our orphans. She was found in an abandoned home in Paws by one of the Great Council members.\"");
					NANNA->hide();
					KRISTY->show_npc_face(0x0000);
				}
				remove("name");
				fallthrough;

			case "job":
				var0001 = KRISTY->get_schedule_type();
				if (var0001 == KID_GAMES) {
					say("\"Tag! Playing tag!\"");
					say("The toddler runs off in search of a nursery-mate.*");
					abort;
				}
				say("Kristy looks confused. \"Sing. Horsey. Rosa. Winner.\"");
				add(["sing", "horsey", "Rosa", "winner"]);
				fallthrough;

			case "sing":
				say("Kristy is more than happy to do so. \"A-B-C-D-E-F-G! H-I-K-M-M-M-O-P! Q-T-W-Y-X-Z!\" She is proud of her song, although she didn't get it quite right.");
				remove("sing");
				fallthrough;

			case "horsey":
				say("\"I love horsey!\" She rocks hard on the rocking horse.");
				remove("horsey");
				fallthrough;

			case "Rosa":
				say("Kristy hugs her baby doll tight. \"Rosa!\"");
				remove("Rosa");
				fallthrough;

			case "winner":
				say("\"I am winner!\" she proclaims loudly.");
				if (var0000) {
					NANNA->say("\"She keeps saying that. I am not sure what it means. Something to do with a competition.\"");
					NANNA->hide();
					KRISTY->show_npc_face(0x0000);
				}
				remove("winner");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Bye bye!\"*");
	}
	if (event == PROXIMITY) {
		var0001 = KRISTY->get_npc_object()->get_schedule_type();
		if (var0001 == KID_GAMES) {
			var0002 = UI_die_roll(0x0001, 0x0004);
			if (var0002 == 0x0001) {
				var0003 = "@Tag! Thou art it!@";
			}
			if (var0002 == 0x0002) {
				var0003 = "@Cannot catch me!@";
			}
			if (var0002 == 0x0003) {
				var0003 = "@Nyah nyah! Thou art it!@";
			}
			if (var0002 == 0x0004) {
				var0003 = "@Catch me if thou can!@";
			}
			KRISTY->item_say(var0003);
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);

void Func0420 object#(0x420) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		MAX->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (!gflags[0x00A1]) {
			say("This toddler is full of energy and is playing hard when he sees you. He stops what he is doing.");
			gflags[0x00A1] = true;
		} else {
			say("\"Hi!\" Max grins at you.");
		}
		converse (0) {
			case "name":
				say("\"Makth.\"");
				var0000 = Func08F7(NANNA);
				if (var0000) {
					NANNA->say("\"He says his name is Max.\"");
					NANNA->hide();
					MAX->show_npc_face(0x0000);
				}
				remove("name");
				fallthrough;

			case "job":
				var0001 = MAX->get_schedule_type();
				if (var0001 == KID_GAMES) {
					say("\"Playing tag!\"");
					say("The boy runs away from you to catch another child.*");
					abort;
				}
				say("\"I'm a funny boy!\" Max laughs hysterically. \"Makth sing too!\"");
				add(["funny boy", "sing"]);
				fallthrough;

			case "funny boy":
				say("\"Thou funny boy, -too-!\" Max laughs madly as he throws his pacifier at you. He points at it and says, \"Binky!\"");
				add("Binky");
				remove("funny boy");
				fallthrough;

			case "Binky":
				say("Max nods furiously. \"Binky! Get Binky! Get Binky!\" ~~You realize that the boy wants you to pick it up. Apparently it is some kind of game that only toddlers understand. You pick it up and hand it to him. He immediately plugs it into his mouth.");
				remove("Binky");
				fallthrough;

			case "sing":
				say("Max stands upright and bellows, \"Old Lord British had a farm, -e-i-e-i-o-! On this farm he had a drake, -e-i-e-i-o-! With a -roar- -roar- here, a -roar- -roar- there, here a -roar-, there a -roar-, everywhere a -roar- -roar-!    Old Lord British had a farm, -e-i-e-i-o-!\"");
				remove("sing");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Bye bye!\"*");
	}
	if (event == PROXIMITY) {
		var0001 = MAX->get_npc_object()->get_schedule_type();
		if (var0001 == KID_GAMES) {
			var0002 = UI_die_roll(0x0001, 0x0004);
			if (var0002 == 0x0001) {
				var0003 = "@Tag! Thou art it!@";
			}
			if (var0002 == 0x0002) {
				var0003 = "@Cannot catch me!@";
			}
			if (var0002 == 0x0003) {
				var0003 = "@Nyah nyah! Thou art it!@";
			}
			if (var0002 == 0x0004) {
				var0003 = "@Catch me if thou can!@";
			}
			MAX->item_say(var0003);
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);

void Func0421 object#(0x421) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		NICHOLAS->show_npc_face(0x0000);
		var0000 = Func08F7(NANNA);
		add(["name", "job", "bye"]);
		if (!gflags[0x00A2]) {
			say("You see a child that has recently grown into toddlerhood.");
			gflags[0x00A2] = true;
		} else {
			say("\"Whee! Yoooo!\" intones Nicholas.");
		}
		converse (0) {
			case "name":
				if (var0000) {
					NANNA->say("\"His name is Nicholas.\"");
					NANNA->hide();
					NICHOLAS->show_npc_face(0x0000);
				} else {
					say("\"Nick-las\".");
				}
				remove("name");
				fallthrough;

			case "job":
				var0001 = NICHOLAS->get_schedule_type();
				if (var0001 == KID_GAMES) {
					say("The toddler is obviously deeply engaged in a game of tag and will not stop to speak.*");
					abort;
				}
				if (var0000) {
					NANNA->say("\"Why, his job is to wet his diaper! Is that not right, Nicholas?\" Nanna says in baby-talk.");
					NICHOLAS->say("\"Whee! Dia-per!\"");
					NANNA->say("\"Nicholas is one of our orphans. He was left in front of the castle one morning. 'Tis a sad state of affairs when this kind of thing happens.\"");
					NANNA->hide();
					NICHOLAS->show_npc_face(0x0000);
				} else {
					say("\"Whee! Dia-per!\"");
				}
				add(["wet", "diaper"]);
				fallthrough;

			case "wet":
				say("You notice that Nicholas' diaper is wet.");
				if (var0000) {
					NANNA->say("\"Oh, my. He's wet, is he not? Couldst thou be a dear and change him for me? I would appreciate it!\"");
					NANNA->hide();
				}
				say("\"Yeeee! Dia-per! Geeee!\" Nicholas says happily.");
				remove("wet");
				fallthrough;

			case "diaper":
				if (var0000) {
					NANNA->say("\"The diapers are there on that table. If thou wouldst just use one\ton Nicholas....\"");
					NANNA->hide();
				} else {
					say("Nicholas points to the diapers on the table.");
				}
				remove("diaper");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Bye bye!\"*");
	}
	if (event == PROXIMITY) {
		var0001 = NICHOLAS->get_npc_object()->get_schedule_type();
		if (var0001 == KID_GAMES) {
			var0002 = UI_die_roll(0x0001, 0x0004);
			if (var0002 == 0x0001) {
				var0003 = "@Tag! Thou it!@";
			}
			if (var0002 == 0x0002) {
				var0003 = "@Catch me! Catch me!@";
			}
			if (var0002 == 0x0003) {
				var0003 = "@Nyah nyah!@";
			}
			if (var0002 == 0x0004) {
				var0003 = "@Tag! Whee!@";
			}
			NICHOLAS->item_say(var0003);
		}
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func08F7 0x8F7 (var var0000);
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func0422 object#(0x422) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		NANNA->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = NANNA->get_npc_object()->get_schedule_type();
		var0002 = UI_wearing_fellowship();
		if (var0000 == NIGHT) {
			var0003 = Func08FC(NANNA, BATLIN);
			if (var0003) {
				say("Nanna gives you a stern look for bothering her during The Fellowship meeting, much like the look of an elementary school teacher you once had.*");
				abort;
			}
			if (gflags[0x00DA]) {
				say("\"I cannot imagine where Batlin may be. He has never missed a Fellowship meeting!\"");
			} else {
				say("\"Oh! Hello! I must not stop to speak now. I am on my way to The Fellowship meeting!\"*");
				abort;
			}
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x00A3]) {
			say("You see a working-class elderly woman who exudes sweetness.");
			gflags[0x00A3] = true;
		} else {
			say("\"Yes, may I help thee?\" Nanna asks.");
		}
		converse (0) {
			case "name":
				say("\"Oh, everyone simply calls me 'Nanna'.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I watch over the Royal Nursery. I am the nanny of these wonderful children.\"");
				add(["Royal Nursery", "nanny", "children"]);
				fallthrough;

			case "Royal Nursery":
				say("\"There have been a great number of babies born in Britannia in recent years, so Lord British established this nursery. It is nice that the noblemen and noblewomen have this luxury so that they may attend to their daily duties.\"");
				remove("Royal Nursery");
				add("luxury");
				var0004 = Func08F7(SPARK);
				if (var0001 == TEND_SHOP) {
					if (var0004) {
						SPARK->say("\"Whew! Dost thou smell what I smell, Avatar?\"*");
						SPARK->hide();
					}
					var0005 = Func08F7(IOLO);
					if (var0005) {
						IOLO->say("\"I believe that is the smell of diapers, boy. When thou art a father one day, thou wilt come to know that smell quite well.\"*");
						IOLO->hide();
					}
					NANNA->show_npc_face(0x0000);
				}
				remove("Royal Nursery");
				fallthrough;

			case "nanny":
				say("\"Well, I feed them and change their diapers and read aloud all the books thou dost see lying around. Luckily, I have Sherry to help me.\"");
				remove("nanny");
				add(["books", "Sherry"]);
				fallthrough;

			case "books":
				say("\"Lord British brought them from his homeland. They are very foreign to us here in Britannia, but the children enjoy them just the same.\"");
				remove("books");
				fallthrough;

			case "Sherry":
				say("\"Sherry is a special mouse who has lived here in the castle for many, many years. She recites stories for the children.\"");
				remove("Sherry");
				fallthrough;

			case "children":
				say("\"They are lovely, are they not? Every day they seem to learn more and more. Most of the time they are a joy.\" Nanna whispers to you conspiratorially, \"And other times I could happily throw them out with the bathwater!\"");
				var0006 = MAX->get_npc_object()->get_schedule_type();
				if (var0006 == KID_GAMES) {
					say("\"The children must be outside playing with Sherry now.\"");
					add("Sherry");
				}
				remove("children");
				fallthrough;

			case "luxury":
				say("\"Yes, I suppose it really is a luxury. The poorer people in Britannia certainly do not have such a service for caring for their children. The rich do have an advantage.\" You detect a hint of bitterness in her voice.");
				remove("luxury");
				add("advantage");
				fallthrough;

			case "advantage":
				say("\"I do not mean to complain by any means. I adore my work. But contrary to the thinking of many of the noblemen and women, a class structure exists in Britannia more than ever before. Taxes are unbearable. The rich get richer, and the poor get poorer, as the saying goes.\"");
				remove("advantage");
				add(["class structure", "taxes"]);
				fallthrough;

			case "taxes":
				say("\"The Britannian Tax Council drains us all dry. Especially the lower and middle classes.\"");
				remove("taxes");
				fallthrough;

			case "class structure":
				say("\"Well, look around! There are rich men who live in opulent castles. And right outside are poor people who live in hovels. Thou dost know how there are winged gargoyles and wingless gargoyles? Well, it seems the human race is getting to be just as divided. There is no unity in the land anymore. It is why I have joined The Fellowship.\"");
				remove("class structure");
				add(["Fellowship", "philosophy"]);
				gflags[0x0082] = true;
				fallthrough;

			case "Fellowship":
				Func0919();
				remove("Fellowship");
				fallthrough;

			case "philosophy":
				if (var0002) {
					say("She notices your medallion. \"But thou dost know all that already!");
				} else {
					say("\"Thou shouldst really come to a meeting. Thou wouldst learn a lot!\"");
					Func091A();
				}
				remove("philosophy");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day! Do come back and visit again soon!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(NANNA);
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func0870 0x870 (var var0000, var var0001, var var0002);
extern void Func092E 0x92E (var var0000);

void Func0423 object#(0x423) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		CSIL->show_npc_face(0x0000);
		var0000 = CSIL->get_npc_object()->get_schedule_type();
		add(["name", "job", "services", "bye"]);
		if (!gflags[0x00A4]) {
			say("You see a healer who looks wise and honest.");
			say("\"I have been looking forward to thine arrival, Avatar. Word spreads quickly. I am pleased to meet thee!\"");
			gflags[0x00A4] = true;
		} else {
			say("\"Hello again, Avatar!\" Csil says with a smile.");
		}
		converse (0) {
			case "name":
				say("\"I am Csil the Healer, although in a past life I was known as Abrams. I became Csil when I was advanced.\"");
				remove("name");
				add("advanced");
				fallthrough;

			case "job":
				say("\"I am Britain's healer, and have been for many years. If thou wishest to employ my services, please say so. I shall be only too happy to help.\"");
				fallthrough;

			case "advanced":
				say("\"When my name was Abrams, I lived on the island of New Magincia and did mine apprentice work there. My practice grew, and soon I was travelling by ship to Moonglow to see patients there.\"");
				remove("advanced");
				add(["patients", "practice"]);
				fallthrough;

			case "patients":
				say("\"Soon I had patients on three islands. It was then that Lord British received word of my practice.\"");
				remove("patients");
				add("Lord British");
				fallthrough;

			case "practice":
				say("\"My practice grew swiftly. I am a modest man, but I do not mind saying that I was a popular healer.\"");
				remove("practice");
				var0001 = Func08F7(SHAMINO);
				if (var0001) {
					SHAMINO->say("\"He is probably the best healer in all Britannia. Why, he cured a, er, particular problem I had in no time at all.\"*");
					var0002 = Func08F7(IOLO);
					if (var0002) {
						SHAMINO->hide();
						IOLO->say("\"Oh? What problem was that?\"*");
						IOLO->hide();
						SHAMINO->say("\"Never mind. The whole world does not need to know about it.\"*");
					}
					SHAMINO->hide();
					CSIL->show_npc_face(0x0000);
				}
				fallthrough;

			case "Lord British":
				say("\"Well, Lord British himself was struck down with some sort of malady. He sent for me. I arrived at the castle as soon as I could leave my patients, and I examined the king. It appeared to me that something had infested his blood. I have a theory about it, which I am convinced is correct. Others, however, do not share my view.\"");
				remove("Lord British");
				add(["theory", "others"]);
				fallthrough;

			case "theory":
				say("\"I believe that most sicknesses are caused by tiny living things. We cannot see these things with the naked eye. However, I am working on developing an instrument which -can- see these creatures. I believe that someday, healing will not depend on magic at all, but on some form of treatment which makes one less vulnerable to these living creatures. Since these animals are biological, I call this theorized treatment 'antibiotics'. What dost thou think, Avatar? Am I on the right track?\"");
				remove("theory");
				var0003 = Func090A();
				if (var0003) {
					say("\"Good. I thought so.\"");
				} else {
					say("\"No? Hmmm.\" Csil looks concerned. \"Well, I cannot believe in the archaic tradition of bleeding a person until the sickness has left his body. There must be another way...\"~~Csil looks at his notes, worried that his theory is invalid.");
				}
				fallthrough;

			case "others":
				say("\"There is a group of people who do not encourage my studies. We do not get along at all. I think they have something against healers which goes beyond simple distrust. Dost thou know whom I mean?\"");
				var0004 = Func090A();
				if (var0004) {
					say("Csil nods. \"I thought so. The Fellowship is not... quite what they seem.\"");
				} else {
					say("\"No?\" Csil lowers his voice. \"The Fellowship.\"");
				}
				remove("others");
				add("Fellowship");
				fallthrough;

			case "Fellowship":
				say("\"They have a doctrine which outlines their beliefs. They believe if one is faced with pain, then he has no choice but to go through it in order to be a 'better person'. I do not agree with this. No one should ever go through needless pain. But... they are entitled to their own opinions.\"");
				remove("Fellowship");
				fallthrough;

			case "services":
				Func0870(0x0028, 0x001E, 0x01C2);
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, Avatar.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(CSIL);
	}
}

extern var Func090A 0x90A ();
extern void Func0950 0x950 (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func0424 object#(0x424) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		ZELLA->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = ZELLA->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (!gflags[0x00A5]) {
			say("You see a lean, young fighter with a rather dashing flair.");
			gflags[0x00A5] = true;
		} else {
			say("\"Hello again!\" Zella says.");
		}
		converse (0) {
			case "name":
				say("\"My name is Zella.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a trainer. I specialize in hand-to-hand combat. After all, a fighter never knows when he might encounter an adversary and suddenly realize he is unarmed. I call it 'boxing'. Boxing is not only a method of fighting -- it is an art.\"");
				add(["combat", "train"]);
				fallthrough;

			case "combat":
				say("\"The field of battle contains many arenas. Almost any situation could arise. Every fighter should be knowledgeable and adept at many forms of combat. I have mine own theory of fighting.\"");
				remove("combat");
				add(["arenas", "theory"]);
				fallthrough;

			case "arenas":
				say("\"All the various arenas of combat, all the various styles one may learn in fighting with various weapons, are not fighting in its purest form. To truly be a great fighter one must go to the source of all fighting knowledge.\"");
				remove("arenas");
				fallthrough;

			case "theory":
				say("\"Just as a castle is built from the foundation up, so must a fighter. One cannot simply begin by learning to fight with weapons. Weapons are merely an extension of a person's extremities. A true fighter learns by using those extremities first.\"");
				remove("theory");
				add(["fighter", "extremities"]);
				fallthrough;

			case "fighter":
				say("\"Make no mistake. Fighters are made, not born. All the natural talent in the world will avail thee naught if one does not have the heart and the will to win. Part of that will is the courage to seek out thine own limitations and strive to better them.\"");
				remove("fighter");
				fallthrough;

			case "extremities":
				say("\"Thine arms. Thy legs. Thy fists. This is what makes 'boxing'.\"");
				remove("extremities");
				fallthrough;

			case "train":
				if (var0001 == PATROL) {
					say("\"My price for training is 45 gold. Is this all right?\"");
					if (Func090A()) {
						Func0950([DEXTERITY, COMBAT], 45);
					} else {
						say("\"Then mayest thou find more inexpensive training elsewhere.\"");
					}
				} else {
					say("\"Be so kind as to return during normal training hours, wouldst thou?\"");
					remove("train");
				}
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day to thee.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(ZELLA);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern void Func08B7 0x8B7 ();
extern void Func092E 0x92E (var var0000);

void Func0425 object#(0x425) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		LUCY->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = "Avatar";
		var0002 = UI_part_of_day();
		var0003 = LUCY->get_npc_object()->get_schedule_type();
		var0004 = Func0909();
		if (gflags[0x0083]) {
			var0005 = var0000;
		}
		if (gflags[0x0084]) {
			var0005 = var0001;
		}
		add(["name", "job", "bye"]);
		if (var0003 == WAITER) {
			add(["drink", "food", "buy"]);
		}
		if (!gflags[0x00A6]) {
			say("You see an attractive woman in her fifties. She has a warm smile. \"Welcome! Who art thou, stranger?\"");
			var0006 = Func090B([var0000, var0001]);
			if (var0006 == var0000) {
				say("\"Well, hello, ",
					var0000,
					".\"");
				gflags[0x0083] = true;
				var0005 = var0000;
			}
			if (var0006 == var0001) {
				if (var0003 == WAITER) {
					say("\"Whoa! Hey everyone! This here is the Avatar!\"");
					say("Everyone in the Blue Boar laughs.");
					say("\"And I'd bet thou dost need a drink, right?\"");
					gflags[0x0084] = true;
					var0007 = Func08F7(DUPRE);
					if (var0007) {
						DUPRE->say("\"Damn! How did she know?\"");
						DUPRE->hide();
						LUCY->show_npc_face(0x0000);
					}
				} else {
					say("\"Oh, really?\" she says in mock surprise. \"Why, I have always wanted to meet the Avatar!\"");
					gflags[0x0084] = true;
				}
				var0005 = var0001;
			}
			gflags[0x00A6] = true;
		} else if ((var0002 < EARLY) || (var0002 > DAWN)) {
			say("\"What will it be, ",
				var0005,
				"?\" Lucy asks.");
		} else {
			say("\"What can I do for thee, ",
				var0005,
				"?\" Lucy asks.");
		}
		converse (0) {
			case "name":
				say("\"I'm Lucy!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I run The Blue Boar. Oldest tavern in Britannia.\"");
				if (var0003 == WAITER) {
					say("\"If thou dost want anything to eat or drink, just say so!\"");
					add("Blue Boar");
					var0007 = Func08F7(DUPRE);
					if (var0007) {
						say("She addresses Dupre. \"How about thou, handsome? Want something to eat?\" She bats her eyelashes.*");
						DUPRE->say("\"My dear, thou wouldst make any man hungry!\"*");
						DUPRE->hide();
						LUCY->say("\"I like thy friends, ",
							var0005,
							".\"");
					}
				} else {
					say("\"I shall be happy to serve thee something if thou dost come to the pub during open hours!\"");
				}
				fallthrough;

			case "Blue Boar":
				say("\"Smashing place for a revel! It hath been here for ages! I inherited it from my grandfather. I enjoy it because I love to cook. And eat.\" She laughs. \"And drink!\" She laughs again.~~\"But mostly I like it because I meet so many interesting people. Just like thee, ",
					var0005,
					"!\"");
				remove("Blue Boar");
				add(["revel", "people"]);
				fallthrough;

			case "revel":
				say("\"Thou dost look like the kind of person who doth enjoy a fair bit of revelry!");
				if (!(var0002 == NIGHT)) {
					say("\"Come back to the pub in the evening to hear our house band, The Avatars!\"");
					add("The Avatars");
				} else {
					say("\"Our house band The Avatars is performing in the other room!\"");
				}
				remove("revel");
				add("revelry");
				fallthrough;

			case "revelry":
				say("Lucy laughs. \"Revelry! Singing! Dancing! Eating! Drinking! All in a time and place where one may stop and enjoy life! I can see it hath been too long since thou hast sampled the simple pleasures of life in Britannia!\"");
				remove("revelry");
				fallthrough;

			case "The Avatars":
				say("\"They are a popular local singing group. I am sure thou wilt like them, ",
					var0005,
					"!\"");
				remove("The Avatars");
				fallthrough;

			case "people":
				say("\"Oh, I so enjoy meeting men who like to go out and 'kill' things!\"");
				remove("people");
				fallthrough;

			case "food":
				say("\"Everything I serve is delicious. I highly recommend that thou tasteth the Silverleaf dish. Worth every gold piece spent!\"");
				remove("food");
				add("Silverleaf");
				fallthrough;

			case "drink":
				say("\"I serve Britain's finest ale and wine.\"");
				remove("drink");
				fallthrough;

			case "Silverleaf":
				say("\"It's made from the root of a very rare tree. Quite superb, it is!\"");
				remove("Silverleaf");
				fallthrough;

			case "buy":
				Func08B7();
				fallthrough;

			case "bye":
				break;
		}
		say("\"Talk to thee later!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(LUCY);
	}
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0899 0x899 ();
extern void Func092E 0x92E (var var0000);

void Func0426 object#(0x426) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		GREG->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = GREG->get_npc_object()->get_schedule_type();
		var0003 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (!gflags[0x00A7]) {
			say("You see a gleeful-looking merchant with an enthusiastic voice and manner.");
			gflags[0x00A7] = true;
		} else {
			say("\"Why, what can I do for thee, ",
				var0000,
				"?\" asks Greg.");
		}
		converse (0) {
			case "name":
				say("\"Why, my name is Greg. It is good to see thee.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Why, I run the Provisioner's Shop here in Britain. A second home to the intrepid, it is.\"");
				add(["Provisioner's Shop", "Britain", "buy"]);
				fallthrough;

			case "Provisioner's Shop":
				say("\"Why, thou dost look to be a person to whom adventure is no stranger. Whether thou art climbing a mountain, sailing the ocean, crossing a desert, exploring a dungeon or sleeping under the stars I have just what thou mayest need.\"");
				remove("Provisioner's Shop");
				add("need");
				fallthrough;

			case "Britain":
				say("\"I have moved my store here as a service to Lord British, who uses me exclusively to outfit all of his various expeditions. It is true!\"");
				remove("Britain");
				add(["moved", "Lord British"]);
				fallthrough;

			case "moved":
				say("\"I used to have my shop in Paws. But no one in Paws has the money to buy much of anything.\"");
				remove("moved");
				fallthrough;

			case "need":
				say("\"What every adventurer needs is good luck! There is just something about this shop, about the items bought here, something about me and my shop that is simply very lucky. I can give thee an example of what I mean.\"");
				remove("need");
				add(["lucky", "example"]);
				fallthrough;

			case "example":
				say("\"A fighting man named Gorn once bought a shovel from me and he told me that it saved his life.\"");
				add(["Gorn", "saved his life"]);
				remove("example");
				fallthrough;

			case "Gorn":
				say("\"Perhaps thou knowest of Gorn. He speaks with a most peculiar accent!\"");
				remove("Gorn");
				fallthrough;

			case "saved his life":
				say("\"Gorn wanted to dig for some buried treasure somewhere, when he heard some noises behind him. Upon turning, he was horrified to see a swarm of undead skeletons rushing toward him! In his haste to dig up the treasure, he had unbuckled his belt and laid down his sword. The only thing in his hands was the shovel. He immediately began swinging it and ended up knocking all the skeletons to bits! He now considers it his 'lucky shovel'!\"");
				remove("saved his life");
				fallthrough;

			case "Lord British":
				say("\"This is Lord British's favorite provisionary shop. He told me so himself. All sorts of famous adventurers pass through these doors. Why, just last week, we had the Avatar himself in this, my very own store!\"");
				var0004 = Func0931(AVATAR, 0x0001, 0x0346, QUALITY_ANY, FRAME_ANY);
				if (var0004) {
					say("\"Why, now that I mention it, he was dressed a lot like thou art. Yes, he was.\"");
					add("dressed like Avatar");
				}
				if (var0003) {
					say("\"Why, I seem to remember that Avatar was also wearing a Fellowship medallion like the one thou dost possess. Hmmmm. And he nearly robbed me blind. I shall have to keep a careful eye on thee, I will.\"");
					add("robbed you blind?");
				}
				add("another Avatar?");
				remove("Lord British");
				fallthrough;

			case "another Avatar?":
				say("\"Well, he said he was the Avatar. But then it is not all that unusual encountering some loon or fool who claims to be the Avatar!\" He looks at you and for a moment appears a little embarrassed.");
				remove("another Avatar?");
				fallthrough;

			case "dressed like Avatar":
				say("\"He was dressed like the Avatar, similarly to how thou art presently attired. At first I thought it was Jesse, the actor who is playing the Avatar in the play by that director... What is his name again?~~\"Oh, well. It was not him.\"");
				remove("dressed like Avatar");
				fallthrough;

			case "robbed you blind?":
				say("\"Thou wouldst think that one who appears to be like the Avatar would be worthy of trust. But, no. In this day and age there is no telling what to expect!\"");
				remove("robbed you blind?");
				fallthrough;

			case "lucky":
				say("\"My customers are all people who go out and perform dangerous feats of bravery and derring-do. But most keep returning to buy more provisions time and again. With all the dangerous things my customers do, it is a wonder I have not lost them all and gone out of business!\"");
				remove("lucky");
				fallthrough;

			case "buy":
				if (!(var0002 == TEND_SHOP)) {
					say("\"I am dreadfully sorry but the Provisioner's Shop is currently closed. Do return at noon when it shall be open once again.\"");
				} else {
					say("\"As I say, we have everything thou dost need to have a jolly splendid adventure!\"");
					Func0899();
				}
				remove("buy");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day to thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		var0001 = UI_part_of_day();
		var0002 = GREG->get_npc_object()->get_schedule_type();
		var0005 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == TEND_SHOP) {
			if (var0005 == 0x0001) {
				var0006 = "@Provisions here!@";
			}
			if (var0005 == 0x0002) {
				var0006 = "@Step right in!@";
			}
			if (var0005 == 0x0003) {
				var0006 = "@Thou art welcome!@";
			}
			if (var0005 == 0x0004) {
				var0006 = "@Fine goods here!@";
			}
			GREG->item_say(var0006);
		} else {
			Func092E(GREG);
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0427 object#(0x427) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		NENO->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		if (var0000 == NIGHT) {
			var0001 = Func08F7(COOP);
			if (var0001) {
				say("Neno is busy performing with The Avatars and cannot speak at the moment.*");
				abort;
			}
			say("\"I must get to my performance at The Blue Boar! The Avatars are playing tonight!\"*");
			abort;
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x00A8]) {
			say("You see a handsome and flamboyant musician.");
			gflags[0x00A8] = true;
		} else {
			say("\"Hello,\" Neno says.");
		}
		converse (0) {
			case "name":
				say("The musician nods at you. \"I am Neno.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am studying to be the greatest bard that Britannia has ever known. I probably already -am- the greatest bard Britannia has ever known.\" You note that Neno is not at all modest.");
				add(["bard", "studying"]);
				fallthrough;

			case "bard":
				say("\"It is a great honor to be a bard. Thou art someone who gives pleasure to other people, while at the same time fulfilling a creative urge within thyself. It is truly magical. I know this from mine experience playing with The Avatars.\"");
				remove("bard");
				add("The Avatars");
				fallthrough;

			case "studying":
				say("\"The Music Hall provides a great environment for study. Judith is a wonderful teacher, and the opportunities here are of the highest quality. One day I shall travel the world and entertain the common folk and nobles alike.\"");
				remove("studying");
				add("entertain");
				fallthrough;

			case "entertain":
				say("\"It is my dream to be famous throughout the land. I shall tour the country every year, and play in the largest pubs in every town.\" He winks at you. \"I shall be assured of wooing the women, dost thou not think?\"");
				remove("entertain");
				fallthrough;

			case "The Avatars":
				say("\"'Tis a singing group I play with. We play at The Blue Boar every evening. Please, come listen to us.\" Neno leans in to whisper, \"But I plan to begin performing alone very soon. I am obviously the most talented member of the quartet.\"");
				remove("The Avatars");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell! Thou must watch the postings for our performance dates!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(NENO);
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0428 object#(0x428) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		JUDITH->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		if (var0000 == NIGHT) {
			var0001 = Func08F7(COOP);
			if (var0001) {
				say("Judith is busy performing with The Avatars and cannot speak at the moment.*");
				abort;
			}
			say("\"I must run! I am late for my performance with The Avatars! I shall talk with thee later!\"*");
			abort;
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x00A9]) {
			say("You see an attractive middle-aged woman with music in her eyes.");
			gflags[0x00A9] = true;
		} else {
			say("\"Hello!\" Judith says.");
		}
		converse (0) {
			case "name":
				say("\"I am Judith. And I already know who thou art!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I teach music at The Music Hall. I also fatten my purse a bit by playing with The Avatars!\"");
				add(["music", "Music Hall", "The Avatars"]);
				fallthrough;

			case "music":
				say("\"Music is my life. I know I will never be a famous bard, but I receive great pleasure from playing and performing. I enjoy teaching as well.\"");
				remove("music");
				add("teaching");
				fallthrough;

			case "Music Hall":
				say("\"Lord British appointed me music teacher a couple of years ago. It is a wonderful job!\"");
				remove("Music Hall");
				fallthrough;

			case "The Avatars":
				say("\"We are a singing group. We play at the Blue Boar every evening. Please come and hear us! My pupil, Neno, is in the group. We hope to tour the country next year, if we can raise the funds.\"");
				remove("The Avatars");
				fallthrough;

			case "teaching":
				say("\"It fulfills my life's purpose to teach others. It also gives me time away from home.\"");
				remove("teaching");
				add("home");
				fallthrough;

			case "home":
				say("\"Oh, I do not want to speak about mine home. Mine husband and I... well, we are not altogether... happy.\"");
				remove("home");
				add("husband");
				fallthrough;

			case "husband":
				say("\"Thou mightest know him. He is Patterson, the Town Mayor. He is an intelligent and honest man, but we have our differences.~~\"I do not know why I am telling thee all of this!\"");
				remove("husband");
				add("differences");
				fallthrough;

			case "differences":
				say("\"Well, for one thing, he is a member of that group, The Fellowship. Another thing is that he does not spend too much time at home. I cannot believe he works so much.\"");
				gflags[0x0081] = true;
				remove("differences");
				add(["Fellowship", "works"]);
				fallthrough;

			case "Fellowship":
				say("\"They seem to have taken over our lives. They seem to have taken over our country!\"");
				remove("Fellowship");
				fallthrough;

			case "works":
				say("\"He is always saying he has to work late. Some nights he comes home before dawn. Other nights he is out the entire night.~~\"Well, I must not think about it. I only become saddened. I must concentrate on my music.\"");
				remove("works");
				fallthrough;

			case "bye":
				break;
		}
		say("Judith goes back to her instrument after a smile and a wave.*");
	}
	if (event == PROXIMITY) {
		Func092E(JUDITH);
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0429 object#(0x429) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		CANDICE->show_npc_face(0x0000);
		var0000 = CANDICE->get_npc_object()->get_schedule_type();
		var0001 = UI_wearing_fellowship();
		var0002 = UI_part_of_day();
		if (var0002 == NIGHT) {
			var0003 = Func08FC(CANDICE, BATLIN);
			if (var0003) {
				say("Candice is listening intently to the Fellowship meeting.*");
				abort;
			}
			if (gflags[0x00DA]) {
				say("\"Hast thou seen Batlin? He has not shown up for the Fellowship meeting!\"");
			} else {
				say("\"Oh! I must not stop to speak with thee! I am late for a Fellowship meeting!\"*");
				abort;
			}
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x00AA]) {
			say("This is a bright woman who looks much younger than she actually is.");
			say("\"Well! Thy reputation precedes thee! The Avatar in person! Word has spread that thou wert in Britain!\"");
			gflags[0x00AA] = true;
		} else if (var0002 == MIDNIGHT) {
			var0004 = Func08F7(PATTERSON);
			if (var0004) {
				say("Candice looks guilty about something. She gives you a little wave, but says nothing. She looks at Patterson, hoping that he will do the talking.*");
				abort;
			}
			say("\"Yes, Avatar?\" Candice says.");
		} else {
			say("\"Yes, Avatar?\" Candice says.");
		}
		converse (0) {
			case "name":
				say("\"My name is Candice,\" she says brightly. \"I must say I am honored to meet the Avatar!\" She curtsies.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the curator of the Royal Museum.");
				if (var0000 == TEND_SHOP) {
					say("\"Feel free to ask about any of the exhibits.");
				} else {
					say("\"I hope to see thee there when the museum is open.");
				}
				say("\"I spend the rest of my time working with The Fellowship.\"");
				add(["Royal Museum", "exhibits", "Fellowship"]);
				fallthrough;

			case "Royal Museum":
				say("\"It has been in Britain for many, many years. It contains historical artifacts, as well as works of art.\"");
				remove("Royal Museum");
				add(["artifacts", "works of art"]);
				fallthrough;

			case "exhibits":
				if (var0000 == TEND_SHOP) {
					say("\"We have just opened a special section in which thou might be interested -- an exhibit of 'Avatar artifacts'!\"");
					add("Avatar artifacts");
				} else {
					say("\"Come to the museum when it is open!\"");
				}
				remove("exhibits");
				fallthrough;

			case "artifacts":
				say("\"There are relics from early Britannia and even from the Three Ages of Darkness -- back when Britannia was known as Sosaria.\"");
				remove("artifacts");
				fallthrough;

			case "Avatar artifacts":
				say("\"Well, thou surely must recognize them. They are supposed to be authentic! Things like the Silver Horn and the eight stones. I understand the stones were used for teleportation, and if mages were not so sick in the head these days, they could cast a 'Recall' spell on them to teleport to specific places around Britannia. I believe if one casts a 'Mark' spell on one, thou canst re-assign the teleportation location! But I suppose none of that works anymore.\"");
				var0005 = Func08F7(IOLO);
				if (var0005) {
					IOLO->say("Iolo whispers to you, \"Er, Avatar, thou dost know that I do not condone stealing. But, er, I do believe these stones may be useful to us. Perhaps we should come back later when the museum is closed, if thou dost know what I mean? After all, these items technically belong to thee!\"");
					IOLO->hide();
					CANDICE->show_npc_face(0x0000);
				}
				remove("Avatar artifacts");
				fallthrough;

			case "works of art":
				say("\"Britannia is proud of the artists who donate their works to the museum. Thou wilt see pieces all over the country by Britannian artists Watson, Richard Fox, Randi Frank, Glen Johnson, and Denis Loubet.\"");
				remove("works of art");
				fallthrough;

			case "Fellowship":
				if (!var0001) {
					say("\"We meet every evening at the Hall. Thou must come and visit!");
				} else {
					say("\"Thou must know all about it by now! I hope to see thee at an evening meeting!");
				}
				say("\"The Fellowship has given me a great purpose in life. I have made new friends, and have even found love!\" She giggles. \"Ooops! I gave away my secret! I must not speak of it. Do forget I said that, please?\"");
				remove("Fellowship");
				add(["purpose", "secret"]);
				fallthrough;

			case "purpose":
				say("\"I want to attain a higher level of acceptance in The Fellowship. I want to hear the 'voice'. That is mine one true goal.\"");
				remove("purpose");
				add("voice");
				fallthrough;

			case "voice":
				say("\"Dost thou not know? The longer one is a member of The Fellowship, the greater the chances that one will hear the 'voice'. Supposedly, it is a man's voice that thou wilt hear -- perhaps in thy dreams, perhaps while thou art concentrating on something else -- it is a voice that tells thee things, suggests things. I do not know, really. I have not heard it yet, so I am only speaking of what I have heard from others more fortunate than I.\"");
				remove("voice");
				gflags[0x008C] = true;
				fallthrough;

			case "secret":
				say("\"What secret? I do -not- have a secret! It was a slip of the tongue. I cannot really speak to anyone about it. Why, if word got out that the Mayor and I... I mean, uhm, -may- I... er, ask thee to forget that I said anything?\"~~Candice turns beet red and turns away.*");
				gflags[0x0080] = true;
				abort;

			case "bye":
				break;
		}
		say("\"Good day, Avatar.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(CANDICE);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func042A object#(0x42A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	if (event == DOUBLECLICK) {
		CYNTHIA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		add(["name", "job", "bye"]);
		if (gflags[0x00DC]) {
			add("exchange");
		}
		if (gflags[0x00AF]) {
			add("James");
		}
		if (!gflags[0x00AB]) {
			say("You see a helpful and efficient-looking woman.");
			gflags[0x00AB] = true;
		} else {
			say("\"How may I help thee?\" asks Cynthia.");
		}
		converse (0) {
			case "name":
				say("\"My name is Cynthia.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the teller at the Mint. I am also a member of the Britannian Tax Council.\"");
				add(["Mint", "Britannian Tax Council"]);
				fallthrough;

			case "Mint":
				say("\"Here at the Mint we store gold, oversee production of coins and keep an accurate count of how much money the kingdom has available for such things as farming, building the roads, developing sources of fresh water, seeing to the health of the citizenry, maintaining the estates of nobles, raising the guard militia and carrying out the decrees of Lord British.\"");
				remove("Mint");
				add(["money", "farms", "roads", "water", "health", "estates", "guards"]);
				fallthrough;

			case "Britannian Tax Council":
				say("\"The Britannian Tax Council is in charge of the accounting, assessment and collection of the taxes. If thou wilt be earning any money here in Britannia thou wilt need to take this paper.\"");
				var0002 = UI_add_party_items(0x0001, 0x031D, 0x000C, FRAME_ANY, true);
				if (var0002) {
					say("\"Fill it out and return it here at the end of the year when thou dost come back to pay thy taxes.\"");
				} else {
					say("\"Thou art carrying too much. Come back and I will give thee thy paper when thou art not so greatly encumbered.\"");
				}
				remove("Britannian Tax Council");
				fallthrough;

			case "money":
				say("\"In order to keep the standard of money constant, we also operate as an exchange for those who possess quantities of gold.~~We supply the equivalent value of their gold in spendable coin of the realm and then transform the gold we receive into more money. So, as thou canst see, it is a very efficient system.\"");
				gflags[0x00DC] = true;
				remove("money");
				add(["exchange", "system"]);
				fallthrough;

			case "farms":
				say("\"As I am certain thou dost know, the seven year drought, which thankfully ended several years ago, has left much of the farming in the Kingdom in disarray. That is why the cost of food is so expensive. But without the support of the Royal Treasury, the prices would be even higher.\"");
				remove("farms");
				fallthrough;

			case "roads":
				say("\"The increased use of wagons has caused many of the roads throughout Britannia to rapidly deteriorate. It costs a lot of money to build new roads and keep them all repaired.\"");
				remove("roads");
				fallthrough;

			case "water":
				say("\"It is of the utmost importance to the Kingdom to insure its populous a clean water supply, and that requires a regular supply of new and fresh wells.\"");
				remove("water");
				fallthrough;

			case "health":
				say("\"As Britannia's population has greatly increased in the last two hundred years, so has the risk of infectious diseases, such as the mysterious skin deterioration that afflicts those who partake in the venom of the silver serpent. The number of healers that the Kingdom needs has risen dramatically.\"");
				remove("health");
				fallthrough;

			case "estates":
				say("\"The local Lords and Mayors all have residences that are maintained through the auspices of the Kingdom.\"");
				remove("estates");
				fallthrough;

			case "guards":
				say("\"The military training is conducted at Serpent's Hold, where the guards that protect all of the towns and cities of Britannia are instructed. 'Tis funded by the Royal Treasury.\"");
				remove("guards");
				fallthrough;

			case "system":
				say("\"It not only applies to gold but it also applies to all minerals. We oversee the sale and rate of exchange for precious ores extracted by the Britannian Mining Company. But we do not handle the sale of gems. There is a jeweler in town who handles that.\"");
				remove("system");
				fallthrough;

			case "exchange":
				var0003 = CYNTHIA->get_npc_object()->get_schedule_type();
				if (var0003 == DESK_WORK) {
					say("\"Dost thou have some gold that thou wouldst like to exchange?\"");
					var0004 = Func090A();
					if (var0004) {
						var0005 = Func0931(PARTY, 0x0001, 0x0285, QUALITY_ANY, FRAME_ANY);
						var0006 = Func0931(PARTY, 0x0001, 0x0286, QUALITY_ANY, FRAME_ANY);
						if (var0005 || var0006) {
							var0007 = true;
						} else {
							var0007 = false;
						}
						if (!var0007) {
							say("\"I can see thou hast no nuggets or bars of gold. Whatever gold thou mayest possess is already the coin of the realm. I cannot help thee anymore than that.\"");
						} else {
							say("\"We can exchange thy gold nuggets and bars into spendable coin for thee. I will give thee ten gold coins for each gold nugget and one-hundred gold coins for each gold bar.\"");
							var0008 = PARTY->count_objects(0x0285, QUALITY_ANY, FRAME_ANY);
							var0009 = PARTY->count_objects(0x0286, QUALITY_ANY, FRAME_ANY);
							var000A = 0x000A * var0008;
							var000B = 0x0064 * var0009;
							var000C = var000A + var000B;
							var000D = UI_add_party_items(var000C, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							if (!var000D) {
								say("\"Oh, my. Thou canst not possibly carry that many gold coins. Thou must return when thou dost have more space in thy pack.\"");
							} else {
								var000E = UI_remove_party_items(var0008, 0x0285, QUALITY_ANY, FRAME_ANY, true);
								var000F = UI_remove_party_items(var0009, 0x0286, QUALITY_ANY, FRAME_ANY, true);
								say("\"And here are ",
									var000C,
									" gold coins for thee in return, ",
									var0000,
									". I thank thee for thy business.\"");
							}
						}
					} else {
						say("\"Very well. Mayhaps another time.\"");
					}
				} else {
					say("\"Please come to The Mint during regular daytime hours.\"");
				}
				remove("exchange");
				fallthrough;

			case "James":
				say("\"James is mine husband and I am very worried about him. I know he is feeling very unhappy lately and he dislikes his job. If thou dost speak to him please tell him that even though we have not been speaking very much lately, that I am still thinking of him and that I still care about him.\"");
				remove("James");
				gflags[0x0092] = true;
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(CYNTHIA);
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func08F7 0x8F7 (var var0000);
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func042B object#(0x42B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		PATTERSON->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		if (var0000 == NIGHT) {
			var0001 = Func08FC(PATTERSON, BATLIN);
			if (var0001) {
				say("Patterson is concentrating on the Fellowship meeting and does not wish to speak.*");
				abort;
			}
			if (gflags[0x00DA]) {
				say("\"I wonder where Batlin could be! 'Tis not like him to miss a meeting.\"");
			} else {
				say("\"I cannot stop to speak right now. I am late for the Fellowship meeting!\"*");
				abort;
			}
		}
		add(["name", "job", "bye"]);
		if (gflags[0x0080]) {
			add("Candice");
		}
		if (gflags[0x00D1]) {
			add("body");
		}
		if (!gflags[0x00AC]) {
			say("You see a nobleman in his forties who looks like either a politician or a well-dressed merchant.");
			say("\"Avatar! I was just alerted of thy presence in our fair city! I have been expecting thee!\"");
			gflags[0x00AC] = true;
		} else if ((var0000 == MIDNIGHT) || ((var0000 == EARLY) || (var0000 == DAWN))) {
			var0002 = Func08F7(CANDICE);
			var0003 = Func08F7(IOLO);
			if (var0002) {
				say("\"Avatar! Er, uhm, how art thee? Oh, dost thou know Candice, the curator at the Royal Museum? She is a 'brother' at The Fellowship. I was, er, just seeing her home!\"");
				if (var0003) {
					IOLO->say("\"Hmmm. And does thy wife know thou art seeing Candice home?\"");
					IOLO->hide();
				} else {
					say("You ask if Judith knows about this.");
				}
				PATTERSON->say("\"Why, she doth not need to know! It does not matter! 'Tis nothing, really!\"~~The Mayor is sweating profusely. He looks at you with beady eyes. He knows he has been found out. His body slumps. He is mortified and ashamed.~~\"Thou hast discovered my... our secret. Please do not tell Judith. I... will end this. I swear. Candice -- we must stop meeting. I... I'm sorry.\"~~You decide to leave Patterson and Candice to work out what has happened, and you hope that the Mayor has learned something about honesty.*");
				Func0911(0x0014);
				abort;
			}
			say("\"How may I help thee?\" Patterson asks.");
		} else {
			say("\"How may I help thee?\" Patterson asks.");
		}
		converse (0) {
			case "name":
				say("\"I am Patterson. Named after my father.\" He holds his hand out, takes yours, and shakes it firmly. \"It is such a pleasure to meet the Avatar!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Why, I am the Town Mayor! The Town Mayor of Britain, that is! I would have thee know that mine election was an overwhelming victory! Mine opponent never had a chance!~~ \"I am also President of the Britannian Tax Council.\"");
				add(["election", "opponent", "Tax Council"]);
				fallthrough;

			case "election":
				say("\"It was held two years ago. I received 84 percent of the votes. It was an impressive victory, I must admit.~~ \"Of course, when one has a group like The Fellowship behind them...\"");
				remove("election");
				add("Fellowship");
				fallthrough;

			case "opponent":
				say("\"He was an old farmer named Brownie. Didn't have much money to put into a campaign. Even the peasants didn't support him.\"");
				remove("opponent");
				add("peasants");
				gflags[0x007F] = true;
				fallthrough;

			case "Fellowship":
				say("\"My life has improved greatly since I joined. I find that mine honesty is impeccable, my leadership is unchallengeable, and my love for my wife is irreproachable.");
				if (!gflags[0x0006]) {
					say("\"Thou shouldst consider attending one of our meetings in the evening.\"");
				} else {
					say("\"I would wager that thy life has improved as well!\"");
				}
				remove("Fellowship");
				add(["honesty", "wife"]);
				fallthrough;

			case "peasants":
				say("\"Did I say that? I certainly did not mean it. There is no class system in Britain anymore, nor in the entire country, for that matter! What I meant is that the 'peasantry', that is, those people who are not of superior lineage -- which is the type of man Brownie is -- -they- did not support him either. They knew who would be the best leader!\"");
				remove("peasants");
				add("superior");
				fallthrough;

			case "superior":
				say("\"Did I say that? I do not think I really meant that the way it sounded. What I meant to say was that there are people who come from families of better standing than others. And Brownie is not one of them! But do not misunderstand me -- I still maintain that the class system in Britannia has been abolished!\"");
				remove("superior");
				if (gflags[0x0082]) {
					add("Nanna");
				}
				fallthrough;

			case "Nanna":
				say("\"She said what? Well, she's wrong! And to think she is a 'brother'. One of The Fellowship! I shall have to speak to Batlin about her.\"~~You notice that Patterson seems ill-at-ease.");
				remove("Nanna");
				fallthrough;

			case "honesty":
				say("\"I am obviously the most honest person in Britain! Perhaps I should move to Moonglow! Ha!\"");
				remove("honesty");
				if (gflags[0x0081]) {
					add("Judith suspicious");
				}
				fallthrough;

			case "wife":
				say("\"Her name is Judith. She's the music teacher at The Music Hall. Perhaps thou hast met her. We have a wonderful relationship.\"");
				remove("wife");
				fallthrough;

			case "Tax Council":
				say("\"The land must have some way of generating income. Taxes are the only solution. Every merchant and farmer is taxed. Anyone who works for a living is taxed.\"~~ \"The Britannian Tax Council has its main office in the Royal Mint.\"");
				remove("Tax Council");
				fallthrough;

			case "Judith suspicious":
				say("\"Why, I do not know what she is talking about! I work late, that is all!\"");
				var0003 = Func08F7(IOLO);
				if (var0003) {
					IOLO->say("Iolo whispers to you, \"This man seems very defensive, dost thou not think? I say we should observe him and see where he goes after The Fellowship meeting tonight.\"");
					IOLO->hide();
					PATTERSON->show_npc_face(0x0000);
				}
				remove("Judith suspicious");
				fallthrough;

			case "Candice":
				say("Patterson's eyes widen and for a moment looks very nervous. But very quickly he regains his composure.~~ \"Candice? Why, she is a friend! A 'brother' at The Fellowship! That is all!\"");
				remove("Candice");
				fallthrough;

			case "body":
				say("You relate what Lord British said about the murder in Britain a few years ago. Patterson nods.~~\"I remember it well. Quite gruesome, it was. There was a man named Finster who was running for public office. He was quite outspoken in his opinions, and I suppose this got him into trouble.\"");
				remove("body");
				add("opinions");
				fallthrough;

			case "opinions":
				say("\"He was trying to make many social changes. He wanted more power for the Great Council and the Britannian Tax Council, and he wanted to disband The Fellowship. Finster was a nobleman with too much ambition. Anyway, his beliefs must have provided him with a few enemies.\"");
				remove("opinions");
				add("enemies");
				fallthrough;

			case "enemies":
				say("\"How should I know? Anyway, his body was found in an abandoned building which is no longer standing. It used to be a storehouse of some kind, up near the castle. It was torn down a couple of years ago. The body was mutilated beyond belief. It was as if someone tied the poor man down with stakes and cut off all of his limbs. Finster was then beheaded. It was almost... what is the word... ritualistic!~~\"And that is all I remember. No one was ever arrested for the crime.\"");
				Func0911(0x0014);
				remove("enemies");
				fallthrough;

			case "bye":
				break;
		}
		say("Patterson nods his head at you.*");
	}
	if (event == PROXIMITY) {
		Func092E(PATTERSON);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func042C object#(0x42C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		CARROCIO->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = CARROCIO->get_npc_object()->get_schedule_type();
		var0003 = UI_is_pc_female();
		var0004 = Func08F7(SPARK);
		add(["name", "job", "bye"]);
		if (gflags[0x007A]) {
			add("Nell with child");
		}
		if (gflags[0x0089]) {
			add("Charles is angry");
		}
		if (!gflags[0x00AD]) {
			say("You see a flamboyant-looking gentleman. He is very cheerful and outgoing, greeting you with a smile and a wave.");
			gflags[0x00AD] = true;
		} else if (!var0003) {
			say("\"In a wink, in a word,~\"I do greet thee, Milord.\"");
		} else {
			say("\"To greet thee, On this day,~\"'Tis my pleasure, Milady.\"");
		}
		converse (0) {
			case "name":
				say("\"From out the dawn, when sun doth rise,~\"Until next morn when moon must go,~\"I answer to thy beck and cries,~\"thine humble servant, Carrocio!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"The puppet's curtain I unfurl,~\"And from mine hands the story's told,~\"For pleasure of a boy or girl,~\"To see doth cost one coin of gold.~\"To take good measure of thy power,~\"Forged in fire of virtue's heart,~\"To ring the bell this very hour,~\"Do test thy strength 'til thy muscles smart.\"");
				if (!var0003) {
					say("\"And perhaps impress thine own sweetheart!\" Carrocio winks at you.");
				}
				say("\"Or dost thou wish to be a king?~\"Yonder sticks a sword in stone.~\"If thou canst only pull it out~ \"Thou wilt be the next upon the throne!\"");
				add(["puppet show", "see", "strength test"]);
				fallthrough;

			case "puppet show":
				say("\"My childhood's eye spied father's toil,~\"A puppet's show of splendor royal.~\"Time's breeze has blown, My father's gone,~\"His child has grown, Regrets anon,~\"Gears and wheels move the moppets now, in need of no one,~\"And so I keep his carnival song playing on and on alone.\"");
				remove("puppet show");
				add(["regrets", "gears and wheels"]);
				fallthrough;

			case "strength test":
				if (!(var0002 == TEND_SHOP)) {
					say("\"I am sorry to say~\"I have called it a day.~\"Come to the\tgrounds to test thy fitness~\"when I am, yea verily, open for business.\"");
				} else {
					say("\"Take the hammer in thine hands and strike a blow upon the ground,~\"If thine arms be possessed of might then thou shalt hear a ringing sound.~\"Once thou hast struck if thou hearest naught then thou dost know thy strength is flagging.~\"But if thou dost win the strength test game thou shalt receive a stuffed dragon.\"");
				}
				remove("strength test");
				fallthrough;

			case "gears and wheels":
				say("\"I fear an end to my family craft, where the show is run by human heart,~\"But bones do age, not so machines, and we cannot simply replace a part.~\"I carry on as best I can, A machine to play my father's role,~\"Control the marionettes unseen, struggling to imbue them with a soul.\"");
				remove("gears and wheels");
				fallthrough;

			case "regrets":
				say("\"The faces pressed before me, fleeting moments chance of glee, From the lowly mongrel beggar to the resident of throne,~\"Each know their place and gave me chase to find the one for me, Woman whom my life may share, this heart that waits alone.\"");
				remove("regrets");
				add(["mongrel beggar", "resident of throne", "woman"]);
				fallthrough;

			case "mongrel beggar":
				say("\"A beggar man called Snaz will come to watch my show, ~\"to steal and sell all my best jokes, mine own personal foe.\"");
				remove("mongrel beggar");
				fallthrough;

			case "resident of throne":
				say("\"Thine ignorance doth make me skittish,~\"surely thou hast heard of wise Lord British.\"");
				remove("resident of throne");
				fallthrough;

			case "woman":
				say("\"The awakening of mine heart's idyll,~\"Lies 'neath me for I see her still,~\"No bard could e'er describe nor tell,~\"the tenderness of my fair Nell.\"");
				remove("woman");
				add("Nell");
				fallthrough;

			case "Nell":
				say("\"'Tis said love is a fiery angel,~\"Riding soft silk wings of pure redemption,~\"My puppet's heart still as an anvil,~\"At the wicked thrill of her attention.~\"By mine angel Nell I am anointed,~\"Humble cowardice felled by Passion's blade,~\"As her beloved I was hence appointed,~\"Perchance through destiny a marriage made.\"");
				remove("Nell");
				add(["wicked thrill", "marriage"]);
				fallthrough;

			case "wicked thrill":
				say("Carrocio looks as if he is lost in a memory. After a moment he returns to reality.~~\"I would not be a gentleman if I spoke of this more, Forgive me the candor of mine heart's open door.\"~He appears somewhat embarrassed and clears his throat loudly several times.");
				remove("wicked thrill");
				fallthrough;

			case "marriage":
				say("\"My coins are arrows rushing to make good,~\"'Til the day when the jeweller sells his ring,~\"For my sure heart is not but carved from wood,~\"And she doth tend to the bed of a king.\"");
				remove("marriage");
				if (gflags[0x007A]) {
					add("Nell with child");
				}
				fallthrough;

			case "Nell with child":
				say("Carrocio gives you a shocked look and drops to his knees before you. \"I beseech thee, ",
					var0000,
					", ~\"Keep still thy tongue,~\"My Nell has ne'er harmed anyone,~\"It would cause grievous injury to her reputation,~\"Through the town's wagging lips our secret to spread,~\"'Twould make a permanent end of mine occupation,~\"And kill our hope of a happy life dead.\" He looks you in the eyes, pleadingly. \"In thee I must place mine hope and trust,~\"Part, parcel and whole.~\"To ne'er again speak of the spoils of my lust, ~\"Thou must not tell a soul!\"");
				if (!gflags[0x0089]) {
					say("He looks at you awaiting some sort of indication. Will you keep his secret?");
					var0005 = Func090A();
					if (var0005) {
						say("\"Thou dost walk with honor,~\"I know thou wilt not tell,~\"Of dignity's stains I do not bother,~\"My concerns are none save for Nell.\"");
					} else {
						say("\"Reconsider, I must insist of thee, Thou art too thin of hide,~\"If he knew, Nell's brother would murder me,~\"And I would not see Nell widowed before having the chance to become a bride.\"");
					}
				}
				remove("Nell with child");
				fallthrough;

			case "Charles is angry":
				say("\"I am grateful for thine honesty about thy lack of care,~\"But why hast thou placed thyself in the center of our affair?~\"For Nell's sake I could not bring myself to cause harm to her brother,~\"I shall convince him of mine intentions,~\"I love Nell and no other.~\"Leave me now for I must use this time to properly prepare.\"");
				abort;

			case "see":
				if (!(var0002 == TEND_SHOP)) {
					say("\"I am sorry to say~\"I have called it a day.~\"Come to the grounds at daybreak~\"when the puppets are, yea verily, up and awake.\"");
				} else {
					say("\"See foolish pride and love, brutality and sin, Carrocio's tiny world of moving dolls,~\"Enough to make thee gasp, or cry or grin,~\"All who wish to see 'tis time to hear my calls,~\"For now the puppet show is about to begin!\"*");
					var0006 = UI_find_nearby_avatar(0x01F7);
					var0006[0x0001]->halt_scheduled();
					var0007 = script var0006[0x0001] after 15 ticks {
						call Func01F7;
					};
				}
				remove("see");
				abort;

			case "bye":
				break;
		}
		say("\"Perchance to find in mercy's ear, A voice to know as gentle friend,~\"I bid thee well, but hark return, If thou wouldst see the puppet's play or test thy strength again.\"");
	}
	if (event == PROXIMITY) {
		var0001 = UI_part_of_day();
		var0002 = CARROCIO->get_npc_object()->get_schedule_type();
		var0008 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == TEND_SHOP) {
			if ((var0001 == MORNING) || ((var0001 == NOON) || ((var0001 == AFTERNOON) || (var0001 == EVENING)))) {
				if (var0008 == 0x0001) {
					var0009 = "@See the puppets!@";
				}
				if (var0008 == 0x0002) {
					var0009 = "@Canst thou ring the bell?@";
				}
				if (var0008 == 0x0003) {
					var0009 = "@Next show starts soon!@";
				}
				if (var0008 == 0x0004) {
					var0009 = "@Measure thy might!@";
				}
				CARROCIO->item_say(var0009);
			}
		} else {
			Func092E(CARROCIO);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090A 0x90A ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func042D object#(0x42D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		FIGG->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = Func0909();
		var0002 = UI_wearing_fellowship();
		var0003 = Func08FC(FIGG, BATLIN);
		if (var0000 == NIGHT) {
			if (var0003) {
				say("Figg is too intent on listening to the Fellowship meeting to acknowledge your attempts to converse with him.*");
				abort;
			}
			if (gflags[0x00DA]) {
				say("\"Hast thou seen Batlin? Where is he? He needs to lead our meeting!\"");
			} else {
				say("\"My goodness! It is nine o'clock! Excuse me, I must get to tonight's Fellowship meeting.\"*");
				abort;
			}
		}
		add(["name", "job", "bye"]);
		if (gflags[0x00C6]) {
			add("Weston");
		}
		if (gflags[0x0094]) {
			add("Fellowship");
		}
		if (!gflags[0x00AE]) {
			say("You see a man whose wrinkled face forms a caricature of grumpiness.");
			gflags[0x00AE] = true;
		} else {
			say("\"Thou dost wish words with me, ",
				var0001,
				"?\" asks Figg.");
		}
		converse (0) {
			case "name":
				say("\"I am Figg.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the caretaker of the Royal Orchards here in Britain.\"");
				add(["caretaker", "Royal Orchards"]);
				fallthrough;

			case "caretaker":
				say("\"My responsibilities include caring for the trees, watching over the pickers at harvest time and protecting the Royal Orchard from thieves.\"");
				add(["trees", "pickers", "thieves"]);
				remove("caretaker");
				fallthrough;

			case "trees":
				say("\"Apple trees require constant care. I must make sure the trees all have enough water but not too much. I must keep all trees properly trimmed and be watchful so that the crop does not get infested by bugs or worms. I am also required to pick up all of the fallen apples, which is a job in itself.\"");
				remove("trees");
				fallthrough;

			case "pickers":
				say("\"Most of them are migrant farmers from Paws. Because they were once farmers, they are convinced they know more about the upkeep of the orchard than I! Of course that is preposterous. Also the pickers do not take orders very well.\"");
				remove("pickers");
				fallthrough;

			case "thieves":
				say("\"They would rob us down to the last twig if I gave them the chance! I should be awarded a medal from Lord British himself the way I risk my very life and limb protecting this orchard. Why, I just caught another thief recently. His name was Weston.\"");
				remove("thieves");
				add("Weston");
				fallthrough;

			case "Royal Orchards":
				say("\"Here are grown the finest apples in all of Britannia. I would let thee sample one but it would be against the law as thou art obviously not of noble stock.\"");
				remove("Royal Orchards");
				fallthrough;

			case "Weston":
				say("\"He now resides in the prison, thanks to me! I knew what he was up to from the moment I saw him! He had the look of a hardened apple thief so I had him nicked by the town guard.\"");
				add(["prison", "apple thief"]);
				if (gflags[0x0094]) {
					add("Fellowship");
				}
				remove("Weston");
				fallthrough;

			case "prison":
				say("\"Yes, Weston is now living in our local prison. If thou dost not believe me, thou canst go there and see for thyself!\"");
				remove("prison");
				fallthrough;

			case "apple thief":
				say("\"Oh, he came here with some sob story. But when one is as astute an observer of human behavior as I am, one can tell the true intent of people, which is often contrary to what they will say to thee!\"");
				remove("apple thief");
				add(["sob story", "observer"]);
				fallthrough;

			case "sob story":
				say("\"I do not recall, exactly. Something about his impoverished wife and family starving to death in Paws or some load of rubbish.\"");
				remove("sob story");
				fallthrough;

			case "observer":
				say("\"Yes, I do consider myself to be a more than passable judge of character. And dost thou know how I became so?\"");
				var0004 = Func090A();
				if (var0004) {
					say("\"Oh, then art thou not the clever one!\"");
				} else {
					say("\"Then I shall tell thee! I am a member of The Fellowship!\"");
					Func0919();
				}
				remove("observer");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "Fellowship":
				say("\"I am a member of the Fellowship, yes. But it would be a crime for me to give apples from the Royal Orchard to The Fellowship, and it would be a violation of my sacred duty. While selling apples is also a violation, I was only trying to do this man Weston a favor. And I suppose these accusations are the thanks I get? Hmph!\"");
				if (var0002) {
					say("He leans in close to you and speaks lower. \"Thou art also a member of The Fellowship, after all. Am I not thy brother? Shouldst thou not trust me?\" He gives you a crooked wink.");
					var0005 = UI_add_party_items(0x0001, 0x0179, QUALITY_ANY, 0x0010, true);
					if (var0005) {
						say("\"Thou seest? I am thy brother!\" He hands you an apple.");
					} else {
						say("\"I would give thee an apple to show thee my sincerity, but it seems thou art too encumbered.\"");
					}
				} else {
					say("\"But enough of these desperate accusations from a known criminal.\"");
					add("buy");
				}
				remove("Fellowship");
				fallthrough;

			case "buy":
				say("\"I can do thee a favor as well. Wouldst thou like to buy one of these beautiful apples for the merest pittance of five gold coins?\"");
				var0006 = Func090A();
				if (var0006) {
					var0007 = UI_remove_party_items(0x0005, 0x0284, QUALITY_ANY, FRAME_ANY, TEMPORARY_ANY);
					if (var0007) {
						var0008 = UI_add_party_items(0x0001, 0x0179, QUALITY_ANY, 0x0010, true);
						if (var0008) {
							say("Figg takes an apple from a nearby basket. After polishing it slightly on his shirt, he hands it to you.");
						} else {
							say("\"Thou cannot take thine apple! Thou art carrying too much!\"");
						}
					} else {
						say("\"Thou dost not even have enough gold to buy one apple! Thou hast wasted the time of the King's Caretaker of the Royal Orchard. Away, peasant! Away before I call the guard!\"");
						abort;
					}
				} else {
					say("\"Very well. But thou art passing up an opportunity that few are offered. In fact, eh, I would appreciate it if thou wouldst not mention our little chat to anyone. Agreed?\"");
					var0009 = Func090A();
					if (var0009) {
						say("\"Ah, I knew thou wert a good 'un.\"");
					} else {
						say("\"No! Well, fine, then.\"*");
						abort;
					}
				}
				remove("buy");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I can see that thou shouldst be on thy way.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(FIGG);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func042E object#(0x42E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		JAMES->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = JAMES->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x0092]) {
			add("Cynthia said");
		}
		if (!gflags[0x00AF]) {
			say("You see a sour-faced innkeeper who looks at you as if all of his problems were your fault.");
			gflags[0x00AF] = true;
		} else {
			say("\"What must I do for thee now, ",
				var0000,
				"?\" asks James.");
		}
		converse (0) {
			case "name":
				say("\"My name is James.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the proprietor of the inn.\"");
				add(["proprietor", "inn"]);
				fallthrough;

			case "proprietor":
				say("\"It is just another way of saying that I am the man who is the desk clerk. Which thou mayest think is an easy job although it is not, I can assure thee.\"");
				remove("proprietor");
				add(["desk clerk", "not easy"]);
				fallthrough;

			case "inn":
				say("\"This place is called the Wayfarer's Inn. It has a long and substantial history in Britain. If thy grandparents ever came to town this is probably where they stayed.\"");
				remove("inn");
				fallthrough;

			case "desk clerk":
				say("\"Of course, being desk clerk is not all I do. I must spend all day listening to people talk about their problems as if I am supposed to solve them!\"");
				remove("desk clerk");
				add(["listening", "solve"]);
				fallthrough;

			case "listening":
				say("\"That is correct, ",
					var0000,
					". So if thou dost have a problem, allow me the courtesy of not having to hear all about it. Now what was it that I was saying again?\"");
				remove("listening");
				fallthrough;

			case "solve":
				say("\"Maybe solving people's problems is an easy task for other innkeepers, but, not only am I bad at it, I have mine own problems as well.\"");
				remove("solve");
				add("problems");
				fallthrough;

			case "problems":
				say("\"I do not like my job! I never wanted to be an innkeeper, I just wanted to keep the place going after my father passed on. Now that I am married to Cynthia, I am more tied down than ever!\"");
				remove("problems");
				add(["innkeeper", "Cynthia"]);
				fallthrough;

			case "innkeeper":
				say("\"Instead of being an innkeeper I always secretly wanted to be a pirate! When I was not sailing the seas I would be living in Buccaneer's Den.\"");
				remove("innkeeper");
				add(["pirate", "Buccaneer's Den"]);
				fallthrough;

			case "Buccaneer's Den":
				say("\"As I understand it they have an excellent House of Games there as well as opulent baths. Or at least so I have heard from Gordon, the man who sells fish and chips.\"");
				remove("Buccaneer's Den");
				fallthrough;

			case "Cynthia":
				say("\"Do not mistake my words, ",
					var0000,
					". I love Cynthia with all mine heart. But there are I times I feel I am too young to be married. Besides, I know I cannot be a good husband for her.\"");
				remove("Cynthia");
				add("good husband");
				fallthrough;

			case "pirate":
				say("\"Thou knowest for certain that few if any people would pour their troubles out to pirates. If I were a pirate I could get this bad foot replaced with a peg, too!\"");
				remove("pirate");
				fallthrough;

			case "good husband":
				say("\"How can I make Cynthia happy on the pittance an innkeeper makes when all day long she is counting all that money in the mint? I know I cannot.\"");
				remove("good husband");
				add(["happy", "mint"]);
				fallthrough;

			case "mint":
				say("\"I know the nature of the heart, my good friend. After being exposed to such large sums of money she shall begin to covet it. As I cannot provide it, she shall leave me to give her heart to a wealthy man. Perhaps a merchant or a nobleman. The thought of it makes my blood boil.\"");
				remove("mint");
				fallthrough;

			case "not easy":
				say("\"When one is an innkeeper one must run around all day long. If anyone wants anything thou art the one who must take care of it for them!\"");
				remove("not easy");
				add(["run around", "room"]);
				fallthrough;

			case "run around":
				say("\"I spend so much time running around that I have gotten a bad foot.\"");
				remove("run around");
				fallthrough;

			case "happy":
				say("\"Already I can sense she is worried about our marriage. I know that there is something wrong between us.\"");
				remove("happy");
				fallthrough;

			case "room":
				if (var0002 == TEND_SHOP) {
					say("\"Oh, I suppose thou wouldst like a room now! There, that is just what I mean! It is ten gold pieces per person for a night. Thou dost want a room, dost thou not?\"");
					if (Func090A()) {
						var0003 = UI_get_party_list();
						var0004 = 0x0000;
						for (var0007 in var0003 with var0005 to var0006) {
							var0004 += 0x0001;
						}
						var0008 = var0004 * 0x000A;
						var0009 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var0009 >= var0008) {
							var000A = UI_add_party_items(0x0001, 0x0281, 0x00FF, FRAME_ANY, true);
							if (!var000A) {
								say("\"Thou art carrying too much to take the room key!\"");
							} else {
								say("\"Here is thy room key. It is only good until thou leavest the inn.\"");
								var000B = UI_remove_party_items(var0008, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							}
						} else {
							say("\"Thou dost not have enough gold to get a room here. Now I suppose thou shalt be telling me all about how such a sorry state befell thee. Well, I shall not listen to thee!\"");
						}
					} else {
						say("James wipes his brow. \"Phew! That was a close call!\"");
					}
				} else {
					say("\"Please, ",
						var0000,
						". Do allow me some time to myself! Presently I am not doing the business of the inn and I do wish to keep it that way. Thou must attend to the inn during business hours.\"");
				}
				remove("room");
				fallthrough;

			case "Cynthia said":
				say("You repeat the words that Cynthia had said to you about him. A smile comes across his face. \"Aww, who wants to be a pirate anyway? I would hate that!\" With that he goes back to wiping the bar, but you notice that the smile is still there.");
				remove("Cynthia");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Oh, thou shalt just come back again wanting something else from me! I just know it!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(JAMES);
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func08A0 0x8A0 ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func042F object#(0x42F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		JEANETTE->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = JEANETTE->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x007B]) {
			add("Charles");
		}
		if (!gflags[0x00B0]) {
			say("This young, lovely tavern wench is sexy and sweet.");
			gflags[0x00B0] = true;
		} else {
			say("\"Hello again!\" bubbly Jeanette says.");
		}
		converse (0) {
			case "name":
				say("\"Jeanette, at thy service!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I work for Lucy at the Blue Boar. I serve food and drinks.");
				if (var0001 == WAITER) {
					say("\"If there is anything thou wouldst like, please say so! And, er, I shall give thee a discount if thou dost buy from me!\"");
					var0002 = Func08F7(DUPRE);
					if (var0002) {
						say("\"Why, Sir Dupre! How good to see thee again!\"*");
						DUPRE->say("\"Hello milady! I thought I might re-sample The Blue Boar's fine beverages!\"*");
						JEANETTE->say("\"Any time, milord! Any time!\"*");
						DUPRE->hide();
						JEANETTE->show_npc_face(0x0000);
					}
					add(["food", "drink", "buy"]);
				} else {
					say("\"I work during the day and evening hours. Thou shouldst come by the pub then and we shall talk more!\"");
				}
				fallthrough;

			case "food":
				say("\"Lucy is a good cook. I recommend everything. Especially Silverleaf.\"");
				add("Silverleaf");
				remove("food");
				fallthrough;

			case "Silverleaf":
				say("\"Wonderful dish. Try it!\"");
				remove("Silverleaf");
				fallthrough;

			case "drink":
				say("\"Thou dost look like thou dost need a good drink!\"");
				remove("drink");
				fallthrough;

			case "buy":
				Func08A0();
				fallthrough;

			case "Charles":
				say("\"He spoke of me, did he? Well, he may think again! I cannot bring myself to socialize with the upper class. Those bourgeoisie rich men are obnoxious and egotistical. Besides, I am in love with another.\"");
				gflags[0x007D] = true;
				remove("Charles");
				add(["upper class", "another"]);
				fallthrough;

			case "upper class":
				say("\"They are all alike. They work in castles and have piles of gold and can have any woman they want! On the other hand, a humble merchant is the perfect man.\"");
				remove("upper class");
				fallthrough;

			case "another":
				say("\"'Tis Willy the Baker! But he does not know it yet!\" she giggles.");
				gflags[0x0085] = true;
				var0003 = Func08F7(LUCY);
				if (var0003) {
					LUCY->say("\"A moment, Jeanette! Thou hast it all wrong! Charles is a -servant-! Thou art an ignoramus! Charles is not 'upper class'! He is as working class as thee! 'Tis Willy who is the rich merchant! If thou dost ask me, 'tis Willy who is obnoxious and egotistical. Charles is a dream!\"");
					LUCY->hide();
					JEANETTE->show_npc_face(0x0000);
				} else {
					say("You point out to Jeanette that Charles is a servant.");
				}
				say("Jeanette thinks about what was said. \"Thou art right! I cannot believe I have been so blind! Oh, Charles! I can actually consider Charles! And he is... so handsome!\" Jeanette squeals with delight. \"I shall have to flirt with him in earnest next time he is in the pub!\"");
				gflags[0x007E] = true;
				Func0911(0x0014);
				remove("another");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(JEANETTE);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func0430 object#(0x430) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == PROXIMITY) {
		abort;
	}
	AMANDA->show_npc_face(0x0000);
	var0000 = Func0909();
	var0001 = Func08F7(EIKO);
	if (!gflags[0x02C5]) {
		say("You see an attractive woman dressed in armour and carrying a small arsenal of weapons with her.");
		gflags[0x02C5] = true;
	} else {
		say("\"How may I help thee?\" asks Amanda.");
	}
	if (gflags[0x02DC]) {
		if (!gflags[0x02DE]) {
			add("Stay thine hand!");
		}
	}
	converse (["name", "job", "bye"]) {
		case "name":
			say("\"My name is Amanda.\"");
			remove("name");
			fallthrough;

		case "job":
			if (gflags[0x02DE]) {
				say("\"Mine half-sister and I have no job at this time. We are journeying to seek inner peace, now that our quest has been aborted.\"");
				add("inner peace");
			} else {
				say("\"Mine half-sister and I have no job but to serve our quest.\"");
				add("quest");
			}
			add("half-sister");
			fallthrough;

		case "half-sister":
			if (gflags[0x02DE]) {
				var0002 = "would have been";
			} else {
				var0002 = "will be";
			}
			say("\"Mine half-sister is Eiko. She, like myself, is a warrior trained by Karenna in the ways of combat. We studied long and hard together to master the skills that ",
				var0002,
				" required to achieve our vengeance.\"");
			if (var0001) {
				EIKO->say("\"The two of us had not even met before our father's death. But we bonded like sisters in the rigorous disciplines we learned from our trainer, Karenna of Minoc.\"*");
				EIKO->hide();
				AMANDA->show_npc_face(0x0000);
			}
			remove("half-sister");
			fallthrough;

		case "inner peace":
			say("\"Yes. Our lives have been dedicated to vengeance for so long that we feel adrift, aimless without it. We must find a new reason for living.~~\"We are considering joining The Fellowship, as they offer guidance for lost souls. But we must consider this longer. We are still unsure.\"");
			fallthrough;

		case "quest":
			say("\"We are on the trail of our father's murderer.\"");
			remove("quest");
			add("killer");
			fallthrough;

		case "killer":
			say("\"Our father was slain in a most violent manner by a vicious and terrible cyclops. He was impaled on a spear. It took several hours for him to die.\"~~She looks up, eyes glittering. \"Hast thou ever watched anyone die from a belly wound, ",
				var0000,
				"? The agony cannot be imagined.\"");
			remove("killer");
			add(["cyclops", "impaled"]);
			fallthrough;

		case "cyclops":
			say("\"We have been tracking this creature for years, ever since we completed our training. We have followed him from one end of Britannia to another. Sometimes he was just one step ahead of us. But now we know that we are nearer to him than we have ever been before.\"");
			if (var0001) {
				EIKO->say("\"When we find him there shall be no escape. We want vengeance and we mean to have it!\"*");
				EIKO->hide();
				AMANDA->show_npc_face(0x0000);
			}
			remove("cyclops");
			fallthrough;

		case "impaled":
			say("\"Our father fought bravely for his life. He did not die easily. He died a hero's death. Although we may both die in the effort, we intend to give his murderer a death fit for a true villain.\"");
			if (var0001) {
				EIKO->say("Eiko smiles wickedly.*");
				EIKO->hide();
				AMANDA->show_npc_face(0x0000);
			}
			remove("impaled");
			fallthrough;

		case "Stay thine hand!":
			say("You explain to Amanda what you have learned. Kalideth had gone mad when he fought with Iskander and the source of what is causing the problems with magic and the mage's minds - the thing that really killed Kalideth - has been destroyed.~~\"Thou hast robbed me of my rightful vengeance! How dare thee!\"");
			if (var0001) {
				EIKO->say("Eiko sighs, and her shoulders slump. \"Come now, sister. With the matter of our father's untimely death now settled we can at last let it go. Now we can devote our lives to ourselves rather than remain trapped in the past. It is for the best, thou must trust me.\"*");
				AMANDA->say("Amanda shakes her head, dazed and confused. \"Perhaps thou art correct, Eiko. I must think.\"*");
				EIKO->hide();
				AMANDA->show_npc_face(0x0000);
				gflags[0x02DE] = true;
			} else {
				say("Amanda turns and slams her fist into the wall, then collapses onto it with a sob. After a moment, she straightens, but does not turn to face you.~~\"Have no fear that I will continue my vengeance against the cyclops. I am not so far gone that I would kill a creature for acting in self-defense.~\"But I must have some time to myself now. Please, go. I must think.\"");
				gflags[0x02DE] = true;
			}
			abort;
			// Dead code
			remove("Stay thine hand!");
			fallthrough;

		case "bye":
			break;
	}
	say("\"Good journey to thee, ",
		var0000,
		".\"*");
}

extern var Func090A 0x90A ();
extern void Func0875 0x875 (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func0431 object#(0x431) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		DENBY->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		var0000 = UI_part_of_day();
		var0001 = DENBY->get_npc_object()->get_schedule_type();
		if (!gflags[0x00B2]) {
			say("You see a fighter with intense eyes and a serious disposition.");
			gflags[0x00B2] = true;
		} else {
			say("\"Yes, Avatar?\" Denby asks.");
		}
		converse (0) {
			case "name":
				say("\"I am Denby.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a trainer. I specialize in a form of combat which relies on one's ability to use intelligence and physical ability to activate minor magical effects. But I am not a mage. I am a fighter.\"");
				add(["magical effects", "fighter", "train"]);
				fallthrough;

			case "magical effects":
				say("\"For example, I simply teach a combination of physical and mental exercises which increases one's intelligence. This, in turn, gives one an advantage if one desires to practice magic.\"");
				if (!gflags[0x0003]) {
					say("\"Thou shouldst be aware, however, that magic is not working in Britannia these days. It is a dying phenomenon. No one understands why. Nevertheless, my training should increase any magic user's primary chances for casting a spell, as well as their fighting skill.\"");
				}
				remove("magical effects");
				fallthrough;

			case "fighter":
				say("\"Although I am a fighter, I have dedicated my life to peace. There has been too much fighting in the world as it is. Let history take care of the adversarial qualities which exist in man. I believe in using my skills as a deterrent.\"");
				remove("fighter");
				fallthrough;

			case "train":
				if (var0001 == TEND_SHOP) {
					say("\"My fee for training is 75 gold. Does this meet with the approval of thy purse strings?\"");
					if (Func090A()) {
						Func0875([DEXTERITY, INTELLIGENCE, MAX_MANA], 75);
					} else {
						say("Denby bows. \"I am sorry my fee is too high for thee. Perhaps at another time thou wilt realize the value of my services.\"");
					}
				} else {
					say("\"Please return during daylight hours if thou dost wish to train.\"");
					remove("train");
				}
				fallthrough;

			case "bye":
				break;
		}
		say("Denby puts his palms together and bows.*");
	}
	if (event == PROXIMITY) {
		Func092E(DENBY);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func088C 0x88C ();
extern void Func092E 0x92E (var var0000);

void Func0432 object#(0x432) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		FRED->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = FRED->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (!gflags[0x00B3]) {
			say("You see a friendly-looking farmer who waves at you as you approach.");
			gflags[0x00B3] = true;
		} else {
			say("\"Hello again, ",
				var0000,
				".\" says Fred.");
		}
		converse (0) {
			case "name":
				say("\"My name is Fred.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I sell meats here at the Farmer's Market in Britain.\"");
				add(["meats", "Farmer's Market"]);
				fallthrough;

			case "meats":
				say("\"They are the tastiest meats that thou canst buy. Do thyself a favor and try some.\"");
				remove("meats");
				add("buy");
				fallthrough;

			case "Farmer's Market":
				say("\"Here at the Farmer's Market we sell vegetables bought from the farmers just outside of town, as well as meats from the slaughterhouse in Paws.\"");
				remove("Farmer's Market");
				add(["slaughterhouse", "Paws"]);
				fallthrough;

			case "slaughterhouse":
				say("\"It is run by a man named Morfin, a very successful merchant from Buccaneer's Den.\"");
				remove("slaughterhouse");
				add(["Morfin", "Buccaneer's Den"]);
				fallthrough;

			case "Morfin":
				say("\"Morfin is an unusual character. If I did not know any better I would say he was involved with a number of shady business activities.\"");
				remove("Morfin");
				fallthrough;

			case "Buccaneer's Den":
				say("\"Morfin left that place because he saw all of the commerce that was developing there as competition to his own business activities and moved to Paws.\"");
				remove("Buccaneer's Den");
				fallthrough;

			case "Paws":
				say("\"Paws is a good place to go to buy things for low prices. Many of the people are rather poor, I am sorry to say. There is little active commerce there, however. In Paws, one must deal with people on a more personal level.\"");
				remove("Paws");
				fallthrough;

			case "buy":
				if (!(var0002 == TEND_SHOP)) {
					say("\"Thou must return when the Farmer's Market is open.\"");
				} else {
					say("\"Wouldst thou like to buy some meats?\"");
					var0003 = Func090A();
					if (var0003) {
						say("\"We have a fine selection of meats for thee today, ",
							var0000,
							".\"");
						Func088C();
					} else {
						say("\"Come back when thou art hungry and we shall serve thee then.\"");
					}
				}
				remove("buy");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		var0001 = UI_part_of_day();
		var0002 = FRED->get_npc_object()->get_schedule_type();
		var0004 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == TEND_SHOP) {
			if (var0004 == 0x0001) {
				var0005 = "@Get thy vegetables here!@";
			}
			if (var0004 == 0x0002) {
				var0005 = "@Get thy meats here!@";
			}
			if (var0004 == 0x0003) {
				var0005 = "@Eggs for sale!@";
			}
			if (var0004 == 0x0004) {
				var0005 = "@Best prices in Britannia!@";
			}
			FRED->item_say(var0005);
		} else {
			Func092E(FRED);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func08A7 0x8A7 ();
extern void Func092E 0x92E (var var0000);

void Func0433 object#(0x433) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		KELLY->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = KELLY->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (!gflags[0x00B4]) {
			say("You see a sturdy-looking farmer's wife. She gives you a hospitable smile before returning to her chores.");
			gflags[0x00B4] = true;
		} else {
			say("\"What brings us the pleasure of having thee back on this day, ",
				var0000,
				"?\" says Kelly.");
		}
		converse (0) {
			case "name":
				say("\"I am called Kelly, ",
					var0000,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Mine husband Fred and I run the Farmer's Market.\"");
				add(["Fred", "Farmer's Market", "buy"]);
				fallthrough;

			case "Fred":
				say("\"My Fred is one of the most respected merchants in Britain. He sells the eggs and vegetables grown by Brownie and Mack, as well as exotic imported fruits.\"");
				remove("Fred");
				add(["eggs", "fruits and vegetables", "Brownie", "Mack"]);
				fallthrough;

			case "Farmer's Market":
				say("\"The Farmer's Market is where most of Britain buys its food. Why even the people in Paws will come here to buy eggs and vegetables. Fred has never raised the price of anything since opening this market many years ago.\"");
				remove("Farmer's Market");
				add(["Britain", "Paws"]);
				fallthrough;

			case "eggs":
				say("\"Farmer Mack's chickens lay plenty of eggs. It is a good thing the people here have such healthy appetites!\"");
				remove("eggs");
				fallthrough;

			case "fruits and vegetables":
				say("\"We sell those mostly to older people. Thou dost know, I am sure, how children do not like to eat their vegetables. Some people do not want to keep a lot of fruit in their home as they are afraid of attracting fruit flies.\"");
				remove("fruits and vegetables");
				fallthrough;

			case "Brownie":
				say("\"Brownie is a good man. I do hope he runs for the mayorship again. If he does thou must be sure to vote for him.\"");
				remove("Brownie");
				fallthrough;

			case "Mack":
				say("\"I do believe that poor old Mack has been cooped up with his chickens for too long. He is a good person. Do not be put off by the strange stories he doth tell. He rarely ever sleeps as he spends most of the night staring at the sky. Of course his rooster crows at dawn and no farmer can afford to sleep past the dawn. So his mind is a bit ragged.\"");
				remove("Mack");
				fallthrough;

			case "Britain":
				say("\"Oh, in Britain they look for quality produce. I see the people who buy here look over every egg for cracks and every vegetable for any sign of spoilage.\"");
				remove("Britain");
				fallthrough;

			case "Paws":
				say("\"The people of Paws are always short of money. Mine heart goes out to them. They are always looking to buy the least expensive items for it is all they can afford.\"");
				remove("Paws");
				fallthrough;

			case "buy":
				if (!(var0002 == TEND_SHOP)) {
					say("\"The market is now closed. Thou must return when we are open for business.\"");
				} else {
					say("\"Wouldst thou like to buy some eggs, fruits or vegetables? We have plenty of delicious fresh eggs here for thee. And our vegetables are sure to keep thee in good health.\"");
					var0003 = Func090A();
					if (var0003) {
						say("\"I am sure we have something here that will be to thy liking.\"");
						Func08A7();
					} else {
						say("\"Perhaps another time then.\"");
					}
				}
				remove("buy");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day to thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		var0001 = UI_part_of_day();
		var0002 = KELLY->get_npc_object()->get_schedule_type();
		var0004 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == TEND_SHOP) {
			if (var0004 == 0x0001) {
				var0005 = "@Come to the Farmer's Market!@";
			}
			if (var0004 == 0x0002) {
				var0005 = "@The Market is open!@";
			}
			if (var0004 == 0x0003) {
				var0005 = "@Vegetables! Meats!@";
			}
			if (var0004 == 0x0004) {
				var0005 = "@Come one, come all!@";
			}
			KELLY->item_say(var0005);
		} else {
			Func092E(KELLY);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern void Func0946 0x946 ();
extern void Func0947 0x947 ();
extern void Func0948 0x948 ();
extern void Func092E 0x92E (var var0000);

void Func0434 object#(0x434) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == DOUBLECLICK) {
		WILLY->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func0908();
		var0002 = WILLY->get_npc_object()->get_schedule_type();
		var0003 = UI_part_of_day();
		var0004 = Func08F7(SPARK);
		add(["name", "job", "bye"]);
		if (gflags[0x0085]) {
			add("Jeanette");
		}
		if (gflags[0x00CB]) {
			add("made bread");
		}
		var0005 = Func0931(PARTY, 0x0001, 0x035F, QUALITY_ANY, 0x000E);
		var0006 = Func0931(PARTY, 0x0001, 0x035F, QUALITY_ANY, 0x000F);
		if (var0005 || var0006) {
			add("sell flour");
		}
		if (!gflags[0x00B5]) {
			say("You see a very clean-looking, portly young man who waves at you frantically.");
			gflags[0x00B5] = true;
		} else {
			say("\"Ah, hello there! Good to see thee again!\" says Willy.");
		}
		converse (0) {
			case "name":
				say("\"My given name is Wilhelm, although no one calls me that. I prefer to be addressed as Willy. Thank thee very much.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the baker here in Britain and I make the sweetest bread thou hast ever tasted! ");
				if (var0002 == BAKE) {
					say("\"Hast thou had a chance to sample any of my bread yet?\"");
					var0007 = Func090A();
					if (var0007) {
						say("\"Ah, then thou dost agree it is the sweetest, dost thou not?\"");
						var0008 = Func090A();
						if (var0008) {
							say("\"Ha! Thou dost see, then? Everyone agrees! That should be proof enough!\"");
							var0004 = Func08F7(SPARK);
							if (var0004) {
								SPARK->say("\"I want some!\"*");
								WILLY->say("\"Here thou art, laddie.\" Willy hands Spark a pastry and the boy devours it in one gulp.*");
								SPARK->say("\"Mmmmm! I say, ",
									var0001,
									", I think we need a lot of this for the road. We had best buy some, all right?\"*");
								SPARK->hide();
								WILLY->show_npc_face(0x0000);
							}
						} else {
							say("\"Thou dost not?! Why, do not be ridiculous! Of course thou dost!\"");
						}
					} else {
						say("\"Then here, thou must have some!\" He tears a piece of bread off of one of several loaves he is carrying and stuffs it into your mouth. \"There! Is it not the sweetest bread thou hast ever tasted? It is, is it not?!\" You chew as fast as you can in order to answer him.");
						var0009 = Func090A();
						if (var0009) {
							say("He grabs your face by the cheeks and plants a big kiss on your forehead. \"Thou art truly a person of good palate and refined taste!\"");
						} else {
							say("Dejectedly Willy looks down at the loaf of bread he is carrying. He sniffs at it twice and tosses it out of sight.");
						}
					}
					add(["baker", "bread"]);
				} else {
					say("\"Please come to the bakery when it is open in daytime hours and thou shalt sample some!\"");
				}
				fallthrough;

			case "baker":
				say("He nods. \"Yes, I am a baker and I have many secret recipes passed down to me by my father and mother. Why, there are even those who say I am a master baker!");
				say("\"And there are those who call me a... doughnut,\" he says with a frown.");
				remove("baker");
				add(["secret recipes", "father and mother", "master baker", "doughnut"]);
				fallthrough;

			case "secret recipes":
				say("\"Oh, dear. Do not tell me that thou art yet another person who is trying to pry one of my secret recipes out of me! If that is what thou art after then thou wilt just be disappointed!\"");
				remove("secret recipes");
				fallthrough;

			case "father and mother":
				say("Willy wipes away a tear. \"Gone. Both of them. Gone to join mine ancestors in that great kitchen in the sky. I will never be able to cook as they did. Still I plod along, trying to keep the family name alive, and that is why I am a baker. But I suppose it is not the only reason.\"");
				remove("father and mother");
				add("why");
				fallthrough;

			case "master baker":
				say("\"Yes, many people tell me that. Now thou dost say it, too. If thou dost say so, then it must be true!\"");
				say("Willy takes a bite of his own bread. \"Mmmm. I -am- a master baker!\"");
				remove("master baker");
				fallthrough;

			case "doughnut":
				say("He gives you a long puzzled look. After a moment he takes one of his loaves of bread and swats you over the head with it.");
				remove("doughnut");
				fallthrough;

			case "why":
				say("\"Actually, there is a very good reason why I am a baker.\"");
				remove("why");
				add("reason");
				fallthrough;

			case "reason":
				say("\"Because the way to a woman's heart is through her stomach. Why, I have two women in love with me right now and I did not even have to pursue either one.\"");
				remove("reason");
				add("two women");
				fallthrough;

			case "two women":
				say("He sighs. \"If thou must know, their names are Jeanette and Gaye.\"");
				remove("two women");
				add(["Jeanette", "Gaye"]);
				fallthrough;

			case "Jeanette":
				say("\"Jeanette is a pleasant enough girl, but to be honest I cannot see myself with a tavern wench. She thinks I have not noticed how she feels about me. Frankly, I wish she would just leave me alone.\"");
				remove("Jeanette");
				fallthrough;

			case "Gaye":
				say("\"Gaye, who runs the costume shoppe, is of more interest to me. But she is a Fellowship member and I have no wish to become one. I hope that it does not prevent us from courting.\"");
				remove("Gaye");
				fallthrough;

			case "bread":
				say("\"My bread is the finest in Britannia. It is renown for both its pleasant taste and its very reasonable price. But it is a lot of work making enough to satisfy the constant demand for it. I need to hire someone to help me.\"");
				remove("bread");
				add(["buy", "hire"]);
				fallthrough;

			case "buy":
				if (var0002 == BAKE) {
					say("\"I not only have bread for sale, but pastries, cakes and rolls as well. The most delicious baked goods thou couldst ever wish to pop into thy mouth! Wouldst thou like to buy some?\"");
					var000A = Func090A();
					if (var000A) {
						Func0946();
					} else {
						say("\"If thou wert a person of truly refined taste, thou wouldst buy some!\"");
					}
				} else {
					say("\"I am afraid the bakery is closed. Please come back during normal business hours.\"");
				}
				remove("buy");
				fallthrough;

			case "hire":
				if (var0002 == BAKE) {
					say("\"Thou couldst work for me here in the shoppe making bread. Or I will buy sacks of flour from thee. Thou couldst buy them wholesale in Paws, and I will pay thee 4 gold per sack.\"");
					say("\"Dost thou wish to work here in the shoppe for me?\" Willy asks hopefully.");
					var000B = Func090A();
					if (var000B) {
						say("\"Excellent! Thou canst start work immediately! I shall pay thee 5 gold for every five loaves of bread thou dost make. All right?\"");
						var000C = Func090A();
						if (var000C) {
							gflags[0x00CB] = true;
							say("\"First thou must make dough from the flour. Simply spread some flour out on the table, add some water to make it thick and, well, doughy. Then use the dough in the oven to bake it. Wait a bit, then-- voila! Thou dost have bread!\"");
						} else {
							say("\"Very well. But I warn thee that employment is hard to obtain in these times!\"");
						}
					} else {
						say("\"'Tis a pity thou art unavailable. Thou dost look like one who doth know their way around a kitchen.\"");
					}
				} else {
					say("\"I would be happy to talk with thee about employment at my shoppe during normal business hours.\"");
				}
				remove("hire");
				fallthrough;

			case "made bread":
				Func0947();
				remove("made bread");
				fallthrough;

			case "sell flour":
				Func0948();
				remove("sell flour");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day to thee, ",
			var0000,
			", and bon appetit!\"*");
	}
	if (event == PROXIMITY) {
		var0003 = UI_part_of_day();
		var0002 = WILLY->get_npc_object()->get_schedule_type();
		var000D = UI_die_roll(0x0001, 0x0004);
		if (var0002 == BAKE) {
			if (var000D == 0x0001) {
				var000E = "@Luscious bread!@";
			}
			if (var000D == 0x0002) {
				var000E = "@Delicious pastries!@";
			}
			if (var000D == 0x0003) {
				var000E = "@Bread fit for a king!@";
			}
			if (var000D == 0x0004) {
				var000E = "@Fresh pastries!@";
			}
			WILLY->item_say(var000E);
		} else {
			Func092E(WILLY);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090A 0x90A ();
extern void Func088E 0x88E ();
extern void Func0919 0x919 ();
extern void Func092E 0x92E (var var0000);

void Func0435 object#(0x435) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		GAYE->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		var0002 = UI_part_of_day();
		var0003 = GAYE->get_npc_object()->get_schedule_type();
		if (var0002 == NIGHT) {
			var0004 = Func08FC(GAYE, BATLIN);
			if (var0004) {
				say("Gaye is watching the Fellowship meeting. She turns to you brusquely and puts a finger to her lips, gesturing for you to be silent.*");
				abort;
			}
			if (gflags[0x00DA]) {
				say("\"I cannot imagine where Batlin is. I am worried about him...\"");
			} else {
				say("\"I cannot speak now! I am on my way to the Fellowship meeting at the Hall!\"*");
				abort;
			}
		}
		add(["name", "job", "bye"]);
		if (gflags[0x00B5]) {
			add("Willy");
		}
		if (!gflags[0x00B6]) {
			say("You see a woman who oozes partially sincere friendliness.");
			gflags[0x00B6] = true;
		} else {
			say("\"Hello again, and what may I do for thee today?\" asks Gaye.");
		}
		converse (0) {
			case "name":
				say("\"My name is Gaye.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I oversee the clothier's here in Britain when I am not pursuing the teachings of The Fellowship.\"");
				add(["clothiers", "buy", "Fellowship"]);
				fallthrough;

			case "clothiers":
				say("\"At our clothier's shop we have the finest silks and garments to buy that thou hast ever seen, imported from every corner of Britannia to cater to all tastes.\"");
				remove("clothiers");
				fallthrough;

			case "buy":
				if (!(var0003 == SEW)) {
					say("\"I am so sorry, the clothier's shop is closed. Please return during our regular business hours. We are open from nine until six every day.\"");
				} else if (gflags[0x0067]) {
					say("\"Do not tell me! Raymundo sent thee to get an Avatar costume! They cost thirty gold coins. Dost thou want one?\"");
					var0005 = Func090A();
					if (var0005) {
						say("She looks you up and down. \"Yes, I think we might be able to find something for thee.\"~~After several minutes of rummaging through the store, Gaye returns. \"Here it is! Not many left-- we have had a run on them recently!\"");
						var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var0006 < 0x001E) {
							say("\"Um. Perhaps thou couldst return when thou dost have enough gold.\" She lays the costume down and smiles.");
						} else {
							var0007 = UI_add_party_items(0x0001, 0x0346, QUALITY_ANY, FRAME_ANY, false);
							if (!var0007) {
								say("\"Oh. Thou canst not carry this with what thou art already carrying. Mayhaps thou couldst dispose of something and return for the costume.\"");
							} else {
								say("\"It is, indeed, a pleasure to do business with thee, O great Avatar!\" She grins and hands you the costume.");
								var0008 = UI_remove_party_items(0x001E, 0x0284, QUALITY_ANY, FRAME_ANY, true);
								gflags[0x0068] = true;
							}
						}
					} else {
						say("\"'Tis strange! I thought for certain that thou wert the theatrical type!\"");
						Func088E();
					}
				} else {
					say("\"Wouldst thou like to buy some clothing today?\"");
					var0009 = Func090A();
					if (var0009) {
						say("\"We have many nice clothes to choose from.\"");
						Func088E();
					} else {
						say("\"Thou mayest look around for thyself. If thou dost change thy mind be sure to let me know.\"");
					}
				}
				remove("buy");
				fallthrough;

			case "Fellowship":
				if (!var0001) {
					Func0919();
				}
				say("\"Thou wouldst want to attend the Fellowship meeting tonight at nine o'clock. It is always a moving experience to hear the words of Batlin, our founder.\"");
				remove("Fellowship");
				remove("philosophy");
				fallthrough;

			case "Willy":
				say("\"Yes, he is a very amusing fellow. I am quite taken with him and I do see him against my better judgment. He does not seem like the type to join The Fellowship, though. Since The Fellowship is my whole life, I do not know if there is a place in it for him. I have not made up my mind about that yet.\"");
				remove("Willy");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		var0002 = UI_part_of_day();
		var0003 = GAYE->get_npc_object()->get_schedule_type();
		var000A = UI_die_roll(0x0001, 0x0004);
		if (var0003 == SEW) {
			if (var000A == 0x0001) {
				var000B = "@Clothing? Boots?@";
			}
			if (var000A == 0x0002) {
				var000B = "@Swamp boots?@";
			}
			if (var000A == 0x0003) {
				var000B = "@Tunic? Dress?@";
			}
			if (var000A == 0x0004) {
				var000B = "@Fine clothes here!@";
			}
			GAYE->item_say(var000B);
		} else {
			Func092E(GAYE);
		}
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func0863 0x863 ();
extern void Func092E 0x92E (var var0000);

void Func0436 object#(0x436) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		COOP->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = UI_part_of_day();
		var0003 = COOP->get_npc_object()->get_schedule_type();
		if (var0002 == NIGHT) {
			var0004 = Func08F7(NENO);
			var0005 = Func08F7(JUDITH);
			if (var0004 && var0005) {
				say("Coop is onstage with The Avatars. He sees you and says, \"Uhm, there is someone special listening tonight, and this next tune is dedicated to them.\"");
				say("He signals to his partners and they begin to play. He sings the following lyrics:");
				say("\"Across the country we do fly -- ~Best to heed our battle cry!");
				say("\"We fight for virtues, far and wide, ~And we cause the damsel's sigh.\"");
				say("Then Neno and Judith join in on the chorus:");
				say("\"Oh, Avatars are we ~And virtuous we doth be!");
				say("\"Beware ye ogre and ye beast ~Lest thou be served at our next feast!");
				say("\"We rescue damsels, oh so fair, ~And battle pirates on a dare!");
				say("\"No evil liche doth daunt or sway! ~Against them all we win the day!");
				say("\"We are the Av-atars! ~We are the Av-atars! ~We are the Aaaa-Vaaa-Taaars!\"");
				say("The applause is tumultuous.*");
				var0006 = Func08F7(IOLO);
				if (var0006) {
					IOLO->say("\"Hmmm. They must have seen thee coming, ",
						var0001,
						".\"*");
					IOLO->hide();
					COOP->show_npc_face(0x0000);
					abort;
				}
			} else {
				say("\"Must not stop to speak now! I am late for a performance of The Avatars! Come and hear us play at The Blue Boar!\"*");
				abort;
			}
		}
		add(["name", "job", "bye"]);
		var0006 = Func08F7(IOLO);
		if (var0006) {
			add("Iolo");
		}
		if (!gflags[0x00B7]) {
			say("You see a young, wiry teen.");
			if (var0006) {
				IOLO->say("\"Hello, lad! This is ",
					var0000,
					", the Avatar! This is my young apprentice, Coop. How go things, Coop?\"*");
				COOP->say("\"Not too badly, milord. I sold a triple crossbow this morning.\"*");
				IOLO->say("\"Lovely! Lovely! Keep that gold coming in, that's what I always say!\"*");
				IOLO->hide();
				COOP->show_npc_face(0x0000);
			}
			gflags[0x00B7] = true;
		} else {
			say("\"Hello!\" Coop says.");
		}
		converse (0) {
			case "name":
				say("\"My name is Coop.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the manager of Iolo's Bows! Master Iolo has entrusted me with this responsibility!");
				if (var0003 == TEND_SHOP) {
					say("\"If there is anything thou dost want in the way of bows and arrows, please say so!\"");
					add(["bows and arrows", "buy"]);
				} else {
					say("\"Thou must come by the shoppe when it is open!\"");
				}
				add(["Iolo's Bows", "responsibility"]);
				fallthrough;

			case "Iolo's Bows":
				say("\"Iolo opened this shoppe many, many years ago. He opened Iolo's South in Serpent's Hold more recently. He is becoming quite an entrepreneur!\"");
				remove("Iolo's Bows");
				fallthrough;

			case "responsibility":
				say("\"I sell many goods but I also plan to perpetuate the good name of Iolo by becoming a master archer! Iolo has taught me well!\"*");
				var0006 = Func08F7(IOLO);
				if (var0006) {
					IOLO->say("\"Yes, the lad is good! He was good before I taught him the first lesson.\"*");
					IOLO->hide();
					COOP->show_npc_face(0x0000);
				}
				say("\"What I would not give to join thy group and go adventuring! But, then there would be no one to run the shoppe. So I cannot go. But someday... Anyway, I please myself in the evenings by singing with a musical group.\"");
				remove("responsibility");
				add("singing");
				fallthrough;

			case "Iolo":
				say("\"Hello, boss!\"*");
				IOLO->say("\"Greetings, lad. Thou art looking well.\"*");
				IOLO->hide();
				COOP->say("\"The same to thee, milord!\"*");
				remove("Iolo");
				fallthrough;

			case "singing":
				say("\"My group is called... well, it is called 'The Avatars'. I hope that does not offend thee.\"");
				remove("singing");
				add("The Avatars");
				fallthrough;

			case "The Avatars":
				say("\"The band is just me and two musicians from The Music Hall. We play at the Blue Boar every night. I sing and write lyrics. The other two play the instruments. Please come to hear us!\"");
				remove("The Avatars");
				fallthrough;

			case "bows and arrows":
				say("\"We sell all kinds of bows, along with arrows and bolts. If thou dost wish to buy something, please say so!\"");
				remove("bows and arrows");
				fallthrough;

			case "buy":
				Func0863();
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye!\"*");
	}
	if (event == PROXIMITY) {
		var0002 = UI_part_of_day();
		var0003 = COOP->get_npc_object()->get_schedule_type();
		var0007 = UI_die_roll(0x0001, 0x0004);
		if (var0003 == TEND_SHOP) {
			if (var0007 == 0x0001) {
				var0008 = "@Arrows? Bows?@";
			}
			if (var0007 == 0x0002) {
				var0008 = "@Iolo's is open!@";
			}
			if (var0007 == 0x0003) {
				var0008 = "@Bolts? Arrows?@";
			}
			if (var0007 == 0x0004) {
				var0008 = "@Archery equipment!@";
			}
			COOP->item_say(var0008);
		} else {
			Func092E(COOP);
		}
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func0897 0x897 ();
extern void Func0898 0x898 ();
extern void Func092E 0x92E (var var0000);

void Func0437 object#(0x437) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		GRAYSON->show_npc_face(0x0000);
		var0000 = UI_wearing_fellowship();
		var0001 = UI_part_of_day();
		var0002 = GRAYSON->get_npc_object()->get_schedule_type();
		if (var0001 == NIGHT) {
			var0003 = Func08FC(GRAYSON, BATLIN);
			if (var0003) {
				say("Grayson shushes you, as you are disturbing the Fellowship meeting.*");
				abort;
			}
			if (gflags[0x00DA]) {
				say("\"Now where could that Batlin be? I suppose we shall have to have the meeting without him!\"");
			} else {
				say("\"I must run! I must run! I must! I must! I am late for the Fellowship meeting!\"*");
				abort;
			}
		} else {
			var0004 = Func0909();
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x00B8]) {
			say("You see a shrewd-looking man who smiles as if he has just seen his next customer.");
			gflags[0x00B8] = true;
		} else {
			say("\"Hello again, my good friend,\" says Grayson.");
		}
		converse (0) {
			case "name":
				say("\"I am Grayson, ",
					var0004,
					". A humble and honest man.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Why, here in Britain I sell the best armour and weapons that money can buy. In my spare time, I do deeds for The Fellowship.\"");
				add(["buy", "Fellowship"]);
				fallthrough;

			case "armour":
				say("Grayson looks you up and down. \"Dost thou truly believe that thou art sufficiently protected in what thou art wearing? In truth I fear for thy safety if thou shouldst become involved in combat. Are thou interested in buying something today?\"");
				if (Func090A()) {
					Func0897();
				} else {
					say("\"Another time, then.\"");
					UI_pop_answers();
				}
				remove("armour");
				fallthrough;

			case "weapons":
				say("After looking at you, Grayson says, \"I can see that thou art in sore need of weaponry. Dost thou want to buy something today?\"");
				if (Func090A()) {
					Func0898();
				} else {
					say("\"Another time, then.\"");
					UI_pop_answers();
				}
				remove("weapons");
				fallthrough;

			case "buy":
				say("\"I sell a complete line of armour and weapons.\"");
				if (var0002 == TEND_SHOP) {
					say("\"Which wouldst thou care to inspect?\"");
					UI_push_answers();
					add(["armour", "weapons"]);
				} else {
					say("\"Please come to the shop when it is open.\"");
				}
				fallthrough;

			case "Fellowship":
				if (var0000) {
					say("\"I see that thou art a member of The Fellowship!\"");
				}
				say("\"It has been very beneficial in my life. I was on the verge of going out of business before I joined and now I am more prosperous than ever before.\"");
				remove("Fellowship");
				add(["beneficial", "out of business"]);
				fallthrough;

			case "beneficial":
				say("\"I was never sufficiently forward or aggressive enough to be successful as a merchant but The Fellowship changed all that for me.\"");
				remove("beneficial");
				add("changed");
				fallthrough;

			case "changed":
				say("\"By applying the values of the Triad of Inner Strength to my life I have accomplished what I have set out to do with my life. Mine armour and weapon shop is successful and I have a place where I belong in The Fellowship.\"");
				remove("changed");
				fallthrough;

			case "out of business":
				say("\"Thou dost see, I am convinced that my failures were all due to my bad attitude. It took the teachings of The Fellowship to change the way I used my mind and to turn me in the proper direction.\"");
				remove("out of business");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye and farewell, ",
			var0004,
			".\"*");
	}
	if (event == PROXIMITY) {
		var0001 = UI_part_of_day();
		var0002 = GRAYSON->get_npc_object()->get_schedule_type();
		var0005 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == TEND_SHOP) {
			if (var0005 == 0x0001) {
				var0006 = "@Weapons?@";
			}
			if (var0005 == 0x0002) {
				var0006 = "@Armour?@";
			}
			if (var0005 == 0x0003) {
				var0006 = "@Something to equip thee?@";
			}
			if (var0005 == 0x0004) {
				var0006 = "@Need a weapon?@";
			}
			GRAYSON->item_say(var0006);
		} else {
			Func092E(GRAYSON);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0438 object#(0x438) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		DIANE->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		var0002 = UI_part_of_day();
		add(["name", "job", "bye"]);
		if (var0001) {
			add("Fellowship");
		}
		if (!gflags[0x00B9]) {
			say("You see a pleasant-looking young peasant woman.");
			gflags[0x00B9] = true;
		} else {
			say("\"Greetings to thee, ",
				var0000,
				",\" says Diane.");
		}
		converse (0) {
			case "name":
				say("\"My name is Diane.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"My job is to oversee the stables here in Britain and sell thee a horse and carriage if thou dost want one.\"");
				add(["stables", "Britain", "carriage"]);
				fallthrough;

			case "stables":
				say("\"Here thou wilt find a selection of the finest horses produced by Lord British's personal horse breeder. If thou dost wish to buy one, I am sure we can come to some sort of arrangement. They come with a carriage, of course.\"");
				remove("stables");
				fallthrough;

			case "Britain":
				say("\"Britain is such a grand city, but it can be somewhat disconcerting if thou dost not know anyone. Fortunately, I know many people here.\"");
				remove("Britain");
				add("people");
				fallthrough;

			case "carriage":
				say("\"The horse and carriage combination sells for 120 gold. Thou shalt find it in a small shelter just south of the stables, across the street. Dost thou want a title?\"");
				var0003 = Func090A();
				if (var0003) {
					var0004 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var0004 >= 0x0078) {
						var0005 = UI_add_party_items(0x0001, 0x031D, 0x001D, FRAME_ANY, false);
						if (var0005) {
							say("\"Very good. Here is thy title.\"");
							var0006 = UI_remove_party_items(0x0078, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						} else {
							say("\"Oh, my. Thine hands are too full to take the title!\"");
						}
					} else {
						say("\"Oh. Thou dost not have enough gold to buy the title.\"");
					}
				} else {
					say("\"Some other time, then.\"");
				}
				remove("carriage");
				fallthrough;

			case "people":
				say("\"I have many friends in Britannia. Among them are Greg, James, Brownie and Mack.\"");
				remove("people");
				add(["Greg", "James", "Brownie", "Mack"]);
				fallthrough;

			case "Greg":
				say("\"Greg runs a shop that sells provisions. If thou art planning any sort of expedition he is just the person to see. He seems to be lucky. Perhaps some of it will rub off on thee.\"");
				remove("Greg");
				fallthrough;

			case "James":
				say("\"James, who runs an inn not far from here, wanted a life of adventure. His family wanted him to run the inn after his father died and he has been discontent ever since. Still, I think he fancies Cynthia who works at the Mint.\"");
				remove("James");
				fallthrough;

			case "Brownie":
				say("\"Brownie is a decent and honest man who would have made a much better mayor than Patterson if thou dost want mine opinion. He uses our horses to plow his fields in the spring.\"");
				remove("Brownie");
				fallthrough;

			case "Mack":
				say("\"One word of warning about Mack. Do not let him start talking about the sky. Other than that he is perfectly fine, I can assure thee.\"");
				remove("Mack");
				fallthrough;

			case "Fellowship":
				say("Diane notices your Fellowship medallion. \"It is odd. If thou dost not mind me saying so, thou dost not seem like a Fellowship member. There is something about thee. I cannot place it.\"");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day to thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(DIANE);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0439 object#(0x439) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		CLINT->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = CLINT->get_npc_object()->get_schedule_type();
		var0002 = Func0909();
		var0003 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x004A] || gflags[0x0040]) {
			add("Crown Jewel");
		}
		if (!gflags[0x00BA]) {
			say("Before you stands an old sailing man whose determined face appears to have weathered many a storm.");
			gflags[0x00BA] = true;
		} else {
			say("\"And what be thy business with me this time, ",
				var0002,
				"?\" says Clint.");
		}
		converse (0) {
			case "name":
				say("\"I be Clint.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"In my youth I was a sailor who sailed across the sea in tall ships. Now I must content myself solely with selling ships and sextants to others.\"");
				add(["sailor", "buy"]);
				fallthrough;

			case "sailor":
				say("\"Of course this was in the day when it took mighty men to be a sailor. Nowadays those who set out to sea would not have lasted a day. But I suppose it is the nature of the universe that everything slowly becomes more tame.\"");
				remove("sailor");
				add("tame");
				fallthrough;

			case "tame":
				say("\"Soon all the monsters will die off and the whole world will join together in trust and worthiness and unity like all those Fellowship people say. Bah! The world was a better place when everybody fought everybody else, I say.\"");
				remove("tame");
				add("Fellowship");
				fallthrough;

			case "Fellowship":
				if (var0003) {
					say("\"No offense intended, of course. I did not realize that thou art a member.\" Clint reacts as if he has just touched a leper.");
					remove("Fellowship");
				} else {
					say("\"It is always the best thing to make thine own way in the world and not listen to what thou art told to believe. Thou hast better remember that!\"");
					remove("Fellowship");
				}
				fallthrough;

			case "buy":
				if (var0001 == TEND_SHOP) {
					say("\"If thou art in need of a ship I hold the deed to a fine one. Thou wilt also need a sextant to help steer her true.\"");
					add(["buy ship deed", "buy sextant"]);
				} else {
					say("\"My business is now closed. Return another time and I will be happy to serve thee, ",
						var0002,
						".\"");
				}
				remove("buy");
				fallthrough;

			case "buy ship deed":
				if (gflags[0x00D2]) {
					say("\"I do believe I sold thee the deed to 'The Beast'! What happened to it? Hast thou lost the ship? If so, then thou must find another shipwright!\"");
				} else {
					say("\"The deed to the ship 'The Beast' costs eight hundred gold pieces. Dost thou wish to purchase her?\"");
					var0004 = Func090A();
					if (var0004) {
						var0005 = UI_remove_party_items(0x0320, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						if (var0005) {
							var0006 = UI_add_party_items(0x0001, 0x031D, 0x000F, FRAME_ANY, false);
							if (var0006) {
								say("\"Here is thy deed, ",
									var0002,
									".\"");
								gflags[0x00D2] = true;
							} else {
								say("\"I would give thee thy deed but thou art carrying too much to take it from me!\"");
							}
						} else {
							say("\"Thou dost not have enough gold to buy a ship!\"");
						}
					} else {
						say("\"If thou dost need a ship be sure to come back here.\"");
					}
				}
				remove("buy ship deed");
				fallthrough;

			case "buy sextant":
				say("\"A sextant costs one hundred gold pieces. Does thou wish to buy one?\"");
				var0007 = Func090A();
				if (var0007) {
					var0008 = UI_remove_party_items(0x0064, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0008) {
						var0009 = UI_add_party_items(0x0001, 0x028A, QUALITY_ANY, FRAME_ANY, false);
						if (var0009) {
							say("\"Here is thy sextant. She shall steer thee true, to be sure.\"");
						} else {
							say("\"I would give thee thy sextant, but thou art carrying too much to take it from me.\"");
						}
					} else {
						say("\"Thou dost not have enough money to buy a sextant!\"");
					}
				} else {
					say("\"If thou shouldst ever need a sextant be sure to come back.\"");
				}
				remove("buy sextant");
				fallthrough;

			case "Crown Jewel":
				if (!gflags[0x0086]) {
					say("\"The Crown Jewel came to Britain? Not anytime recently. Most certainly not. I remember the Crown Jewel and it has not been to Britain for a long time.\"");
					gflags[0x0086] = true;
				} else {
					say("\"As I have told thee before, the Crown Jewel has not been here in a long time.\"");
					remove("Crown Jewel");
				}
				remove("Crown Jewel");
				fallthrough;

			case "bye":
				break;
		}
		say("\"May thy travels do well.\" *");
	}
	if (event == PROXIMITY) {
		var0001 = CLINT->get_npc_object()->get_schedule_type();
		var000A = UI_die_roll(0x0001, 0x0004);
		if (var0001 == TEND_SHOP) {
			if (var000A == 0x0001) {
				var000B = "@Where's that spanner?@";
			}
			if (var000A == 0x0002) {
				var000B = "@Where's mine hammer?@";
			}
			if (var000A == 0x0003) {
				var000B = "@Ahh, smell that sea breeze...@";
			}
			if (var000A == 0x0004) {
				var000B = "@Need a ship or sextant?@";
			}
			CLINT->item_say(var000B);
		} else {
			Func092E(CLINT);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090A 0x90A ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func043A object#(0x43A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	if (event == DOUBLECLICK) {
		GORDON->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		var0002 = UI_part_of_day();
		var0003 = GORDON->get_npc_object()->get_schedule_type();
		if (var0002 == NIGHT) {
			var0004 = Func08FC(GORDON, BATLIN);
			if (var0004) {
				say("Gordon is too involved in listening to the Fellowship meeting to hear you.*");
				abort;
			}
			if (gflags[0x00DA]) {
				say("\"Where oh where is Batlin? He is late for the meeting!\"");
			} else {
				say("\"Oh, my! I must leave immediately! I am late for the Fellowship meeting!\"*");
				abort;
			}
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x00BB]) {
			say("You see a friendly face looking back at you.");
			gflags[0x00BB] = true;
		} else {
			say("\"How art thou this fine day, ",
				var0000,
				"?\" asks Gordon.");
		}
		converse (0) {
			case "name":
				say("\"My name is Gordon.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I sell fish and chips from my wagon.\"");
				add(["fish and chips", "wagon"]);
				fallthrough;

			case "fish and chips":
				if (!(var0003 == TEND_SHOP)) {
					say("\"Come back later when I am open for business.\"*");
					abort;
				}
				say("\"I have the best fish and chips thou shalt taste in all of Britannia. My price is only 8 gold coins per serving. Wouldst thou like to have some?\"");
				var0005 = Func090A();
				if (var0005) {
					var0006 = UI_remove_party_items(0x0008, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0006) {
						var0007 = UI_add_party_items(0x0001, 0x0179, QUALITY_ANY, 0x001E, true);
						if (var0007) {
							say("He hands you a plate.");
							say("\"They are indeed the best fish and chips in all of Britannia.\"");
						} else {
							say("\"Thou art carrying too many things to take thy fish and chips from me!\"");
						}
					} else {
						say("\"Thou dost not have enough gold to get any fish and chips. Sorry!\"");
					}
				} else {
					say("\"Come back again when thou art hungry and I am sure thou shalt change thy mind.\"");
				}
				remove("fish and chips");
				fallthrough;

			case "wagon":
				say("\"I just painted my wagon recently. It receives more attention. Business is much better now. I am saving my money to travel to Buccaneer's Den.\"");
				remove("wagon");
				add(["business", "Buccaneer's Den"]);
				fallthrough;

			case "business":
				say("\"Ever since I became a member of The Fellowship, business has been increasing steadily. I have refined and improved the recipe for my fish batter and it has since become a favorite meal of nearly everyone in Britain. I have even served my fish and chips to Lord British himself.\"");
				add(["Fellowship", "Lord British"]);
				remove("business");
				fallthrough;

			case "Lord British":
				say("\"Thou dost know-- the bloke who wears a crown and acts like a king.\"");
				remove("Lord British");
				fallthrough;

			case "Fellowship":
				if (var0001) {
					say("\"I am glad to see that thou art a member. Will I see thee at the next meeting?\"");
					var0008 = Func090A();
					if (var0008) {
						say("\"Then I shall see thee at nine o'clock sharp!\"");
					} else {
						say("\"Thou shouldst apply thyself more stringently to the ways of The Fellowship! Our meeting is at nine o'clock. I can see thou dost certainly need to attend.\"");
					}
				} else {
					Func0919();
				}
				remove("Fellowship");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "Buccaneer's Den":
				say("\"I wish to win some money at Buccaneer's Den. It is a pirate resort and they have a fabulous House of Games there.\"");
				add(["pirate resort", "House of Games"]);
				remove("Buccaneer's Den");
				fallthrough;

			case "pirate resort":
				say("\"As I am certain thou knowest, Buccaneer's Den was once a den of thieves and villains. As such, it held a romantic appeal for those who longed for a taste of such an adventurous existence. I confess, I am one of those people. When thou dost spend thy life selling fish from a wagon, thou art in need of excitement. The pirates eventually realized just how much they are secretly envied, and so they have turned their island into a place of thrilling amusements.\"");
				remove("pirate resort");
				fallthrough;

			case "House of Games":
				say("\"It is said they have several games of chance there! Gold can be won wagering on the outcome of a race of fine stallions.\"");
				remove("House of Games");
				fallthrough;

			case "Fellowship":
				say("\"I saw thee receive thy medallion. I can certainly say the Fellowship has done wonders for my life and I know it will be the same for thee as well.\" He gives thee a knowing grin.");
				remove("Fellowship");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Have a pleasant day, ",
			var0000,
			".\" *");
	}
	if (event == PROXIMITY) {
		var0002 = UI_part_of_day();
		var0003 = GORDON->get_npc_object()->get_schedule_type();
		var0009 = UI_die_roll(0x0001, 0x0004);
		if (var0003 == TEND_SHOP) {
			if (var0009 == 0x0001) {
				var000A = "@Fish 'n' chips!@";
			}
			if (var0009 == 0x0002) {
				var000A = "@Hot fish 'n' chips!@";
			}
			if (var0009 == 0x0003) {
				var000A = "@Fish 'n' chippies!@";
			}
			if (var0009 == 0x0004) {
				var000A = "@Fish 'n' chips here!@";
			}
			GORDON->item_say(var000A);
		} else {
			Func092E(GORDON);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090A 0x90A ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func08E3 0x8E3 ();
extern void Func092E 0x92E (var var0000);

void Func043B object#(0x43B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	if (event == DOUBLECLICK) {
		SEAN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = SEAN->get_npc_object()->get_schedule_type();
		var0003 = UI_wearing_fellowship();
		var0001 = UI_part_of_day();
		if (var0001 == NIGHT) {
			var0004 = Func08FC(SEAN, BATLIN);
			if (var0004) {
				say("Sean is deep in concentration, listening to the Fellowship meeting.*");
				abort;
			}
			if (gflags[0x00DA]) {
				say("\"I cannot imagine where Batlin is. He never misses Fellowship meeting!\"");
			} else {
				say("\"I must not stop to speak now! I am late for the Fellowship meeting!\"*");
				abort;
			}
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x00BC]) {
			say("You see a man whose boyish face is set with scrutinizing eyes that look as if they have seen much.");
			gflags[0x00BC] = true;
		} else {
			say("\"And what may I do for thee, ",
				var0000,
				"?\" asks Sean.");
		}
		converse (0) {
			case "name":
				say("\"My name is Sean.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"When not tending to Fellowship affairs, I am a jeweller here in Britain. If thou dost wish to buy something, say so!\"");
				add(["Fellowship", "jeweller", "Britain", "buy"]);
				fallthrough;

			case "jeweller":
				say("\"It is very delicate work. It requires a special touch that only a few have. Thou must know precisely how to handle precious materials. Only the finest of craftsmen become jewellers and they receive the highest compensation.\"");
				remove("jeweller");
				add(["precious materials", "finest craftsmen"]);
				fallthrough;

			case "precious materials":
				say("\"I constantly require new materials with which to create my very special jewelry. I am always in the market to buy gems. If thou dost ever come across any, I am the man to come to if thou shouldst want to sell them and make money.\"");
				remove("precious materials");
				add("gems");
				fallthrough;

			case "finest craftsmen":
				say("\"As I have told thee, only the finest of craftsmen become jewellers, and I am the finest of jewellers. Does that not tell thee something?\" Sean sniffs. \"My business makes more money than the mint!\" He laughs forcibly.");
				remove("finest craftsmen");
				fallthrough;

			case "gems":
				if (!(var0002 == TEND_SHOP)) {
					say("\"The jeweller's shop is currently closed for business. Come back later!\"");
				} else {
					say("\"Dost thou have a gem for sale?\"");
					var0005 = Func090A();
					if (var0005) {
						say("\"I will pay thee 30 gold coins per gem. Is that price agreeable?\"");
						var0006 = Func090A();
						if (var0006) {
							var0007 = [0x000C, 0x000D];
							for (var000A in var0007 with var0008 to var0009) {
								if (PARTY->count_objects(0x02F8, QUALITY_ANY, var000A)) {
									if (var000A == 0x000C) {
										say("\"Dost thou think me a fool?! This little blue bauble is worthless!\"");
									}
									if (var000A == 0x000D) {
										say("Sean's face tightens. \"This gem is small and dark as the heart of an unholy Liche. Away with it!\"");
									}
									abort;
								}
							}
							var000B = PARTY->count_objects(0x02F8, QUALITY_ANY, FRAME_ANY);
							var000C = var000B * 0x001E;
							var000D = UI_remove_party_items(var000B, 0x02F8, QUALITY_ANY, FRAME_ANY, true);
							if (var000B == 0x0000) {
								say("\"Thou dost have no gems! Thou art a liar! I will do no business with thee!\"");
								abort;
							}
							if (var000B == 0x0001) {
								say("\"I see that thou has one gem.\"");
							}
							if (var000B > 0x0001) {
								say("\"I see that thou hast ",
									var000B,
									" gems.\"");
							}
							var000E = UI_add_party_items(var000C, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							if (var000E) {
								say("\"Here is thy payment.\"");
							} else {
								say("\"Thou art carrying too much to take thy payment!\"");
								var000F = UI_add_party_items(var000B, 0x02F8, QUALITY_ANY, FRAME_ANY, true);
							}
						} else {
							say("\"It seems we have little left to discuss then.\"");
						}
					} else {
						say("\"If thou dost have no gems for sale then do not even waste my time by mentioning it!\"");
					}
				}
				remove("gems");
				fallthrough;

			case "Fellowship":
				if (var0003) {
					say("\"I see thou art a member!\" Sean suddenly looks at you with a bit more respect. \"I am sure The Fellowship will do thee a world of good in the future.\" He smiles condescendingly.");
				} else {
					say("\"Even thou mayest join The Fellowship and I can tell thee more about it.\"");
					Func0919();
					say("\"I can tell thee about The Fellowship's philosophy if thou dost wish.\"");
				}
				remove("Fellowship");
				add("philosophy");
				fallthrough;

			case "philosophy":
				say("\"Thou art really interested in hearing more?\"");
				var0010 = Func090A();
				if (var0010) {
					Func091A();
				} else {
					say("\"I thought I was wasting my breath on thee.\"");
				}
				remove("philosophy");
				fallthrough;

			case "Britain":
				say("\"I moved mine entire business here to Britain to be near the main branch of The Fellowship. Thou hast no idea how much my business improved after I joined The Fellowship.\"");
				remove("Britain");
				add("Fellowship");
				fallthrough;

			case "buy":
				if (var0002 == TEND_SHOP) {
					say("\"Wouldst thou like to buy something?\"");
					if (Func090A()) {
						Func08E3();
					} else {
						say("\"Then please browse if thou dost like.\"");
					}
				} else {
					say("\"Please come to the shop during normal business hours.\"");
				}
				remove("buy");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I am sure thou must be on thy way.\" Sean smiles.*");
	}
	if (event == PROXIMITY) {
		var0001 = UI_part_of_day();
		var0002 = SEAN->get_npc_object()->get_schedule_type();
		var0011 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == TEND_SHOP) {
			if (var0011 == 0x0001) {
				var0012 = "@Fine jewelry!@";
			}
			if (var0011 == 0x0002) {
				var0012 = "@Need gold trinkets?@";
			}
			if (var0011 == 0x0003) {
				var0012 = "@Fine gems!@";
			}
			if (var0011 == 0x0004) {
				var0012 = "@Fine crafted jewelry!@";
			}
			SEAN->item_say(var0012);
		} else {
			Func092E(SEAN);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func0857 0x857 ();
extern void Func092E 0x92E (var var0000);

void Func043C object#(0x43C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		BROWNIE->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x00CE]) {
			add("pumpkins");
		}
		if (!gflags[0x00BD]) {
			say("You see a farmer who, despite showing considerable wear from hard work, appears energetic, cheerful and friendly.");
			gflags[0x00BD] = true;
		} else {
			say("\"Hello again, ",
				var0000,
				",\" Brownie greets you.");
		}
		converse (0) {
			case "name":
				say("\"I am Brownie.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Well, I ran for the office of Mayor of Britain once, but I lost. Now I am back doing what I have been doing since I was a boy. Working the farm.\"");
				add(["Mayor", "farm"]);
				fallthrough;

			case "Mayor":
				say("\"Patterson won the election. He spent a lot of money on his campaign. Most of it to buy votes. But I am not bitter. I was just not meant to be Mayor.\"");
				remove("Mayor");
				add(["Patterson", "election"]);
				fallthrough;

			case "Patterson":
				say("\"Patterson courted the support of The Fellowship. They forced a vote from all their members. Once word spread, my support drained away. No one wants to be on the losing side.\" Brownie sighs.");
				remove("Patterson");
				add(["Fellowship", "losing"]);
				fallthrough;

			case "election":
				say("\"I do not really have any wish to succeed in politics. It just made me ill seeing all of the people with riches mistreat all of the people who are poor, and then have to listen to them talk about how the class system has been abolished.\"");
				remove("election");
				fallthrough;

			case "Fellowship":
				if (var0001) {
					say("Brownie gestures toward your medallion. \"Frankly, I do not know what thou seest in that group.\"");
				} else {
					say("\"If thou art not with The Fellowship thou art against them. I think they saw me as a potential enemy that had to be stopped.\"");
				}
				remove("Fellowship");
				fallthrough;

			case "losing":
				say("\"Of course, I could have won the election if I had wanted to. I had information about Patterson that would have ruined any chances of him winning.\"");
				remove("losing");
				add("information");
				fallthrough;

			case "information":
				say("\"I could have revealed a secret about Patterson but if I did it would have hurt someone close to him very much. I did not want to be mayor that badly.\"");
				remove("information");
				add("secret");
				fallthrough;

			case "secret":
				say("\"Patterson does little to hide his secret. If thou dost keep an eye on him thou wilt surely learn of it sooner or later.\"");
				remove("secret");
				fallthrough;

			case "farm":
				say("\"I feel more at home on the farm growing vegetables. There is another farmer named Mack who works a farm near Britain as well. He raises chickens.\"");
				remove("farm");
				add(["vegetables", "Mack"]);
				fallthrough;

			case "Mack":
				say("\"I like him. He even voted for me. But to tell thee the truth about Mack, he is a lunatic.\"");
				remove("Mack");
				fallthrough;

			case "vegetables":
				say("\"I raise pumpkins. But I am in a bind at the moment and need some help.\"");
				remove("vegetables");
				add(["bind", "help"]);
				fallthrough;

			case "bind":
				say("\"I strained my back the other day lifting heavy pumpkins. I cannot so much as lift a small one today! And I need help with the harvest of pumpkins so that I can get them to the market.\"");
				remove("bind");
				fallthrough;

			case "help":
				say("\"There are piles of pumpkins at the north end of the field. I need them brought down near my farmhouse. If thou wilt help me by bringing the pumpkins to me, I will gladly pay thee for thy work. How does one gold coin for every pumpkin carried sound?\"");
				var0002 = Func090A();
				if (var0002) {
					say("\"How nice! A helper! Please, feel free to start work at any time!\"");
					gflags[0x00CE] = true;
					var0003 = UI_find_nearby_avatar(0x0014);
					var0004 = UI_find_nearby_avatar(0x0015);
					for (var0007 in var0003 with var0005 to var0006) {
						var0007->set_item_flag(OKAY_TO_TAKE);
					}
					for (var0007 in var0004 with var0008 to var0009) {
						var0007->set_item_flag(OKAY_TO_TAKE);
					}
				} else {
					say("\"Perhaps some other time, then.\"");
				}
				remove("help");
				fallthrough;

			case "pumpkins":
				if (gflags[0x00CE]) {
					Func0857();
				} else {
					say("\"Thou shouldst simply go to the north end of the field and bring back as many pumpkins as thou can carry!\"");
				}
				remove("pumpkins");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(BROWNIE);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func08B8 0x8B8 ();
extern void Func092E 0x92E (var var0000);

void Func043D object#(0x43D) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		MACK->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (gflags[0x0093]) {
			add("proof");
		}
		if (gflags[0x00CF]) {
			add("picked eggs");
		}
		if (!gflags[0x00BE]) {
			say("You see a farmer with wild eyes widened in excitement.");
			gflags[0x00BE] = true;
		} else {
			say("\"Avatar! Thou hast returned!\" exclaims Mack.");
		}
		converse (0) {
			case "name":
				say("\"I am Mack.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a farmer, though most folks just call me a lunatic.\"");
				add(["farmer", "lunatic"]);
				fallthrough;

			case "farmer":
				say("\"On my farm I raise chickens and grow vegetables. If thou dost need work, talk to me!\"");
				remove("farmer");
				add("work");
				fallthrough;

			case "lunatic":
				say("\"Thou dost also think so, eh? But I tell thee what I say is true! There are creatures visiting us from another place in the stars! I have seen them!\"");
				remove("lunatic");
				add(["creatures", "another place", "seen them"]);
				fallthrough;

			case "creatures":
				say("\"They are big mean ugly liontigers! Or is that tigerlions? They are ferocious and they want to eat us!\"");
				remove("creatures");
				fallthrough;

			case "another place":
				say("\"All I can say is that there are certainly no such creatures in this world! Nor is their ship like any that has ever been seen anywhere in Britannia.\"");
				remove("another place");
				fallthrough;

			case "seen them":
				say("\"With mine own eyes I have seen a star creature and the inexplicable conveyance which enabled it to travel to Britannia! I swear to thee! I am completely sane! I have proof!\"");
				remove("seen them");
				add("proof");
				fallthrough;

			case "proof":
				if (!gflags[0x0093]) {
					say("\"Go and look behind my farm in the middle of the field. Take a look for thyself and thou shalt see my proof.\"");
					gflags[0x0093] = true;
					abort;
				}
				say("\"I told thee I was not a looney! Didst thou see the proof?\"");
				var0001 = Func090A();
				if (!var0001) {
					say("\"Thou must go and look at what is in my field! Then come back here, for I must talk about this with someone who knows that I am not a looney!\"");
					remove("proof");
				} else {
					say("\"Did I not tell thee that I am no loonie? Still, my story of how I did come across this thing is beyond belief.\"");
					remove("proof");
					add("story");
				}
				fallthrough;

			case "story":
				if (!gflags[0x0095]) {
					say("\"I like to stay up late. Sometimes I see bright lights flash across the sky. No one else ever pays them any mind. But one night I see this bright light come crashing down and it lands in my field.\"");
					remove("story");
					add(["bright lights", "lands"]);
				} else {
					say("\"I have been looking every night for another sign of those things but I have not seen any since that last time I told thee about it.\"");
					remove("story");
				}
				fallthrough;

			case "bright lights":
				say("\"I always watch for moving bright lights in the night sky. That is part of why people in the town say I am a loonie. But is what I do so different from what they do in the orrery?\"");
				remove("bright lights");
				fallthrough;

			case "lands":
				say("\"After the explosion and crash I ran out to my field. There I saw the strange machine that thou hast seen, only it was glowing hot. I was terrified. But then the top of the machine started to open.\"");
				remove("lands");
				add(["machine", "open"]);
				fallthrough;

			case "machine":
				say("\"It resembled a bird, but it was not a bird!\"");
				remove("machine");
				fallthrough;

			case "open":
				say("\"I could not move from the spot as I saw the strange ship open. From out of the top came the vicious tigerlion. There was a savage hunger in its eyes.\"");
				remove("open");
				add(["tigerlion", "hunger"]);
				fallthrough;

			case "hunger":
				say("\"In other words, it looked like it might eat me!\"");
				remove("hunger");
				fallthrough;

			case "tigerlion":
				say("\"It came at me like a predator comes after prey. It was so fast that I could not even move. I thought I was going to be killed for certain. It reached me in a second. It looked into mine eyes, and then it died.\"");
				remove("tigerlion");
				add("died");
				fallthrough;

			case "died":
				say("\"What it and I had failed to notice was that I was holding mine hoe. It had once been accidentally enchanted by a passing mage, and it works wondrously in the fields. I use it for everything! The tigerlion had run itself through upon it. As it died, the thing spoke.\"");
				remove("died");
				add(["spoke", "hoe"]);
				fallthrough;

			case "spoke":
				say("\"It said two words. \"Kill Wrathy.\" I do not know who this Wrathy person is, or why the tigerlion wanted me to kill him. But I do know I sure get worried now whenever I see moving lights in the night sky.\"");
				remove("spoke");
				add("Kill Wrathy");
				fallthrough;

			case "hoe":
				say("\"I am sure thou dost know about the plague of looniness that has come to afflict all of the mages in the world. It was several years ago that I brought my broken hoe to a mage called Mumb. Fixing things was all he was good for anymore. There was also some fighter who wanted Mumb to enchant his sword, turning it into \"The Sword of Death\". It appears poor Mumb got confused and that fighter came back and killed him because the man wound up with a sword that was only good for cutting weeds. I could never figure out exactly what happened. It appears that old Mumb made mine hoe into the Hoe of Destruction! Unfortunately, the hoe is lost.\"");
				remove("hoe");
				add("lost");
				fallthrough;

			case "lost":
				say("\"Well, 'tis not really lost. It is locked up in my shed. It is the key to the shed that is lost! I think I might have accidentally used it as a fishhook when I was fishing on the banks of Lock Lake. So now I cannot get into my shed. One would think I -am- a looney!\"");
				remove("lost");
				fallthrough;

			case "Kill Wrathy":
				say("\"I am quite certain that was it, or something like that. Anyway the tigerlion itself proved to be quite delicious.\"");
				gflags[0x0095] = true;
				remove("Kill Wrathy");
				fallthrough;

			case "work":
				say("\"I need someone to work for me and help gather all the eggs being laid by the chickens! When that big thing came crashing down it scared them all so much that they cannot stop laying eggs! Wilt thou work for me? I will pay thee 1 gold per egg.\"");
				var0002 = Func090A();
				if (var0002) {
					say("\"Fine! Thou wilt find the chickens out back. Thou must feel around in the nest to find the eggs that are there. But there is a limit to how many they will produce in one day, of course.\"");
					gflags[0x00CF] = true;
				} else {
					say("\"Ask me again if thou dost change thy mind.\"");
				}
				remove("work");
				fallthrough;

			case "picked eggs":
				Func08B8();
				remove("picked eggs");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I thank thee for thy decency and consideration.\"");
	}
	if (event == PROXIMITY) {
		Func092E(MACK);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func043E object#(0x43E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	if (event == DOUBLECLICK) {
		SNAZ->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x00BF]) {
			say("You see a filthy beggar who flashes you a grin as though you were his best friend in the whole world.");
			gflags[0x00BF] = true;
		} else {
			say("\"Hello again, ",
				var0000,
				",\" says Snaz.");
		}
		converse (0) {
			case "name":
				say("\"I am called Snaz.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I have no job for I am a beggar. For a gold coin I shall tell thee a joke.\"");
				add(["beggar", "tell a joke"]);
				fallthrough;

			case "beggar":
				say("\"When I was just a little boy I was made an orphan and left homeless and penniless. That was a joke life played on me. 'Tis a funny joke, eh?~~\"But I would not charge thee a gold piece for that one.\"");
				remove("beggar");
				fallthrough;

			case "tell a joke":
				say("\"Dost thou wish to hear one?\"");
				var0001 = Func090A();
				if (var0001) {
					var0002 = UI_remove_party_items(0x0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0002) {
						say("\"All right, here is one...\"");
						add("Fellowship joke");
					} else {
						say("\"If thou dost want to hear a joke, thou must pay me, ",
							var0000,
							". Come back when thy pockets are full. The richer thou art, the funnier I get!\"");
					}
				} else {
					say("\"Have a heart, I pray thee! I have a wife and six hungry children to feed.\" He feels your stare upon him. \"Oh, very well. Wouldst thou believe I have a cat and it just had kittens?\"");
				}
				remove("tell a joke");
				fallthrough;

			case "Fellowship joke":
				say("\"I was discussing philosophy with a Fellowship member the other day and he asked me, 'What, in thine opinion, is the height of stupidity?'~~\"So I said, 'I do not know. How tall art thou?'~~\"No, really, I make sport of The Fellowship, but I mean it sincerely...\"");
				remove("Fellowship joke");
				add(["Fellowship", "Lord British joke"]);
				fallthrough;

			case "Fellowship":
				say("\"That is what I dearly love about The Fellowship. They could always take a joke!~~\"And from what I hear they play funny jokes themselves! Like the joke they played in Trinsic!\"");
				remove("Fellowship");
				fallthrough;

			case "Lord British joke":
				say("\"For a gold coin I will tell thee another. Dost thou wish to hear it?\"");
				var0003 = Func090A();
				if (!var0003) {
					say("\"I see I have reached the limits of thy sense of humor.\"");
					remove("Lord British joke");
				} else {
					var0004 = UI_remove_party_items(0x0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0004) {
						say("\"I was at the castle of Lord British the other day and I noticed he has three large pools. So I asked why he doth have three of them.~~\"He pointed to the first one and said the first was to swim in cool water. ~~\"The second was for friends to swim in warm water.~~\"I noticed that the third pool was empty and I asked him why.~~\"He said that it was for people who could not swim!\"");
						remove("Lord British joke");
						add(["Lord British", "Weston joke"]);
					} else {
						say("\"Thou art more destitute than I! If I tell thee any more jokes now thou mayest steal mine act!\"");
						remove("Lord British joke");
					}
				}
				fallthrough;

			case "Lord British":
				say("\"Poor Lord British! When faced with a gigantic menace that threatens his entire kingdom he is an extremely capable ruler.~~\"But what happens when there are a myriad of smaller things that all threaten the welfare of his people indirectly?~~\"There is a riddle for thee to solve!\"");
				remove("Lord British");
				fallthrough;

			case "Weston joke":
				say("\"For a gold coin I will tell thee another. Dost thou wish to hear it?\"");
				var0005 = Func090A();
				if (!var0005) {
					say("\"Very well. If thou didst not get the first two there is no good reason for me to continue now.\"");
					remove("Weston joke");
				} else {
					var0006 = UI_remove_party_items(0x0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0006) {
						say("\"A man named Weston came to me deep in perplexity.~~\"He told me he wanted to steal some apples from the Royal Orchards but if he did he would feel bad about it in the morning.~~\"So I gave him this advice -- sleep until noon!\"");
						remove("Weston joke");
						add(["Weston", "mage joke"]);
					} else {
						say("\"Thy pockets are empty, ",
							var0000,
							". Perhaps it is time to stop laughing and start worrying!\"");
						remove("Weston joke");
					}
				}
				fallthrough;

			case "Weston":
				say("\"Weston now sits in the castle prison, where he shall most certainly rot for the rest of his life. Heh-heh-heh! ~~\"Try as I might, I cannot best that little jest!\"");
				remove("Weston");
				fallthrough;

			case "mage joke":
				say("\"For a gold coin I will tell thee another. Dost thou wish to hear it?\"");
				var0007 = Func090A();
				if (!var0007) {
					say("\"Thou art wise. Thou shouldst save thy gold to pay a healer to cure that ache in thy side.\"");
					remove("mage joke");
				} else {
					var0008 = UI_remove_party_items(0x0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0008) {
						say("\"Whilst travelling on the road I came across a mage.~~\"He looked as if he had not eaten for days and complained of a terrible pain in his stomach.~~\"So I told him his stomach was empty. If he put something in it he would feel better.~~\"Later he complained to me of a headache. I said his headache was caused by a similar\tproblem as his stomach.~~\"No doubt it did hurt him so because, being a mage, there was nothing left in it!\"");
						remove("mage joke");
						add(["mages", "Sullivan joke"]);
					} else {
						say("\"Now thou art playing a joke on me. Thou art broke!\"");
						remove("mage joke");
					}
				}
				fallthrough;

			case "mages":
				say("\"All of the mages have gone daft or mad! What other proper response is there in a world that is so terrifically funny?!\"");
				remove("mages");
				fallthrough;

			case "Sullivan joke":
				say("\"Thou art a brave Avatar! Dost thou wish to hear another?\"");
				var0009 = Func090A();
				if (!var0009) {
					say("\"Aha! Not as brave as I thought!\"");
					remove("joke five");
				} else {
					var000A = UI_remove_party_items(0x0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var000A) {
						say("\"Didst thou knowest that the notorious Sullivan the Trickster recently became a father?~~\"It is true! They say the baby has his father's eyes and his mother's nose, but they made the baby give them back.\"");
						remove("Sullivan joke");
						add(["Sullivan", "gold joke"]);
					} else {
						say("\"Thou mayest be laughing but surely thy purse is not, for it is empty.\"");
					}
				}
				fallthrough;

			case "Sullivan":
				say("\"Yes, I know the man they call Sullivan the Trickster! In fact thou dost remind me of him!~~\"Or does he remind me of thee?~~\"He is so tricky that just talking about him has caused me to trick myself! Heh-Hee-Haa!\"");
				remove("Sullivan");
				fallthrough;

			case "gold joke":
				say("\"I have amused thee so far! Wouldst thou like to hear another? It is a joke about gold!\"");
				var000B = Func090A();
				if (var000B) {
					var000C = UI_remove_party_items(0x0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var000C) {
						do {
							UI_play_sound_effect(0x0017);
							say("\"Thank thee very much! Now, goodbye!\"");
							say("\"Dost thou get it? Ha! Ha! Ha! Ha! If not, it would be my pleasure to repeat it.\"");
							say("\"Wouldst thou like to hear the gold joke again?\"");
							var000D = Func090A();
							if (var000D) {
								say("\"Now listen carefully...\"");
								var000E = UI_remove_party_items(0x0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
								if (var000E) {
									continue;
								}
								say("\"Oh, I am so sorry. I cannot tell thee the joke again for thou art out of money.\"");
								break;
							}
							say("\"I see thou art becoming wise to the ways of show business, ",
								var0000,
								". Good day to thee!\"");
							abort;
						} while (true);
					} else {
						say("\"I can see thou art so poor that thou cannot even afford a sense of humor!\"");
					}
				} else {
					say("\"Oh, it is a pity that thou dost not wish to hear it! It is the funniest one yet and my personal favorite!\"");
				}
				remove("gold joke");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I do hope I did amuse thee.\"*");
	}
	if (event == PROXIMITY) {
		var000F = UI_part_of_day();
		var0010 = SNAZ->get_npc_object()->get_schedule_type();
		var0011 = UI_die_roll(0x0001, 0x0004);
		if (var0010 == WANDER) {
			if (var0011 == 0x0001) {
				var0012 = "@Spare change?@";
			}
			if (var0011 == 0x0002) {
				var0012 = "@Got a coin for me?@";
			}
			if (var0011 == 0x0003) {
				var0012 = "@Jokes for sale!@";
			}
			if (var0011 == 0x0004) {
				var0012 = "@Handouts accepted!@";
			}
			SNAZ->item_say(var0012);
		} else {
			Func092E(SNAZ);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090A 0x90A ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func043F object#(0x43F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		MILLIE->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		var0002 = UI_part_of_day();
		if (var0002 == NIGHT) {
			var0003 = Func08FC(MILLIE, BATLIN);
			if (var0003) {
				say("Millie ignores your attempts to get her attention and goes back to intently watching the Fellowship ceremony.*");
				abort;
			}
			if (gflags[0x00DA]) {
				say("Millie looks perturbed. \"Batlin has never missed a meeting before. What does he expect? Does he want -me- to run the meeting?\"");
			} else {
				say("\"Sorry, I cannot speak with thee now! I am late for the Fellowship meeting!\"*");
				abort;
			}
		}
		add(["name", "job", "bye"]);
		if (gflags[0x0141]) {
			add("Thad");
		}
		if (!gflags[0x00C0]) {
			say("You see a cute-looking woman who beams with a huge smile when she notices you looking at her.");
			gflags[0x00C0] = true;
		} else {
			say("\"It is good to speak with thee, again,\" says Millie.");
		}
		converse (0) {
			case "name":
				say("\"My name is Millie,\" she giggles coyly.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I suppose I have no job, but is that really so bad? I am a member of The Fellowship and I talk to people about them all day long.\"");
				add(["Fellowship", "talk"]);
				fallthrough;

			case "Fellowship":
				if (var0001) {
					say("\"I see we have the same job!\" She laughs at her own joke. \"Dost thou spend all thy time talking to people about The Fellowship? For if that is what thou dost do, thou must get thyself another corner!\" Millie's face wrinkles in displeasure.");
				} else {
					say("\"Dost thou know what The Fellowship is?\"");
					var0004 = Func090A();
					if (var0004) {
						say("\"Oh, I think thou dost not really know!\"");
						Func0919();
						remove("Fellowship");
						add("philosophy");
					} else {
						Func0919();
						remove("Fellowship");
						add("philosophy");
					}
				}
				fallthrough;

			case "philosophy":
				Func091A();
				say("\"If thou dost wish, thou mayest attend tonight's meeting at the Fellowship Hall. It begins at nine o'clock sharp. Just tell them that thou art my guest. I shall see thee there, I hope.\" Millie giggles and looks away shyly.");
				remove("philosophy");
				fallthrough;

			case "talk":
				say("\"I spend all my time trying to recruit, er... spread the word of The Fellowship. It is better than having a job! I learned how to do this at the Meditation Retreat.\"");
				remove("talk");
				add("Meditation Retreat");
				fallthrough;

			case "Meditation Retreat":
				say("\"'Tis located on an island in south Britannia near Serpent's Hold. Most new Fellowship members spend some time down there learning the tenets of the group. One can also learn to hear 'the voice' at the retreat.\"");
				add("the voice");
				remove("Meditation Retreat");
				gflags[0x008B] = true;
				fallthrough;

			case "the voice":
				say("\"Fellowship members have an inner voice which speaks to them. I have not heard it yet, but I am working toward it. I may need to spend another few days at the Meditation Retreat in order to do so. Batlin tells me not to be discouraged, though. He says I will hear it when I have made myself worthy.\"");
				remove("the voice");
				gflags[0x008A] = true;
				fallthrough;

			case "Thad":
				say("Millie rolls her eyes. \"Thou hast met my brother? Thou poor thing! He is really a candidate for the asylum, I wouldst say! He believes The Fellowship kidnapped me and charmed me into following them. Well, I joined of mine own free will, without a second thought, and it was a pure lark! No one coerced me! Thad can go hang! Mama always said he was the impulsive one in the family!\"");
				remove("Thad");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I shall see thee later! Maybe even at tonight's Fellowship meeting!\"*");
	}
	if (event == PROXIMITY) {
		var0002 = UI_part_of_day();
		var0005 = MILLIE->get_npc_object()->get_schedule_type();
		var0006 = UI_die_roll(0x0001, 0x0004);
		if (var0005 == WANDER) {
			if (var0006 == 0x0001) {
				var0007 = "Fellowship meeting tonight!@";
			}
			if (var0006 == 0x0002) {
				var0007 = "@Strive For Unity!@";
			}
			if (var0006 == 0x0003) {
				var0007 = "@Trust Thy Brother!@";
			}
			if (var0006 == 0x0004) {
				var0007 = "@Worthiness Precedes Reward!@";
			}
			MILLIE->item_say(var0007);
		} else {
			Func092E(MILLIE);
		}
	}
}

extern var Func0908 0x908 ();
extern void Func092E 0x92E (var var0000);

void Func0440 object#(0x440) () {
	var var0000;

	if (event == DOUBLECLICK) {
		GEOFFREY->show_npc_face(0x0000);
		var0000 = Func0908();
		add(["name", "job", "bye"]);
		if (gflags[0x0099]) {
			add("Nystul");
		}
		if (!gflags[0x00C1]) {
			say("You see your former companion and friend, Geoffrey, Captain of the Guard.");
			gflags[0x00C1] = true;
		} else {
			say("\"Yes, ",
				var0000,
				"?\" Geoffrey asks.");
		}
		converse (0) {
			case "name":
				say("Geoffrey chuckles. \"Art thou joking? I am Geoffrey!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"These days I remain in my position as Captain of the Guard. I am Lord British's personal bodyguard, and I am in charge of security at the castle. I do not have much time or use for adventuring now.\"");
				add("adventuring");
				fallthrough;

			case "adventuring":
				say("\"I have aged a bit over the last 200 years. I am afraid I shall not be joining thee this time. But my thoughts are with thee, and if I may offer some assistance, I shall be glad to do so.\"");
				remove("adventuring");
				add(["aged", "assistance"]);
				fallthrough;

			case "aged":
				say("\"Yes, it has been a long time by Britannian reckoning since I have seen mine homeland. When thou hast finished with thy business, do come back and tell me news of what is happening in our homeworld.\"");
				remove("aged");
				fallthrough;

			case "assistance":
				say("\"Mine advice to thee is to build up thine experience and skills as soon as possible. Thou hast been away from Britannia for a long time. Thou mightest not be in the same shape thou wert in at the end of thy last adventure here.\"");
				remove("assistance");
				add(["experience", "shape"]);
				fallthrough;

			case "shape":
				say("\"It is apparently another difference in our two worlds. Whenever thou shalt return it is as if thy physical body has arrived here for the first time. It is the reason why many of\tthine own companions have chosen to stay here even though they have aged in Britannian time.\"");
				remove("shape");
				fallthrough;

			case "experience":
				say("\"Go and search for monsters. Vanquish them. Take their gold! Gain experience! Use that experience when thou dost visit trainers. Increase thy strength, dexterity, and intelligence, as well as thy combat skill and ability to perform magic. Thou wilt be lost without this necessary evolution of experience!\"");
				remove("experience");
				fallthrough;

			case "Nystul":
				if (!gflags[0x0003]) {
					say("\"He is quite looney. If thou dost ask me, I believe all the mages in the land are afflicted. Take a look and find out for thyself.\"");
				} else {
					say("\"He is much better now!\"");
				}
				remove("Nystul");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Have courage. Have faith. Be strong. Be wise.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(GEOFFREY);
	}
}

extern var Func090A 0x90A ();

void Func0441 object#(0x441) () {
	var var0000;

	if (event == PROXIMITY) {
		abort;
	}
	if (event == DOUBLECLICK) {
		WISLEM->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (!gflags[0x00C2]) {
			say("You see an impressive winged gargoyle with a stately demeanor.");
			gflags[0x00C2] = true;
		} else {
			say("\"To greet thee again,\" Wislem says.");
		}
		converse (0) {
			case "name":
				say("\"To be known as Wislem.\"");
				remove("name");
				add("Wislem");
				fallthrough;

			case "Wislem":
				say("To be the word for `wise man.'\"");
				remove("Wislem");
				fallthrough;

			case "job":
				say("\"To be advisor to Lord British, and act as representative for my race here in Britain. To be honored to be in long line of advisors to the king.\"");
				add("advisor");
				fallthrough;

			case "advisor":
				say("\"To make sure the gargoyle race is heard in the castle. To have been a long road to acceptance and integration into Britannian society.\"");
				add(["integration", "society"]);
				remove("advisor");
				fallthrough;

			case "integration":
				say("\"To tell you that, not long after your last visit, the gargoyles settled upon Terfin, an island to the southeast. To have moved, little by little, onto the mainland.\"");
				remove("integration");
				fallthrough;

			case "society":
				say("\"To be accepted in most places. To feel sad, however, that there are still towns that do not accept us. But our Lord and King, Draxinusom, is still alive and is doing a magnificent job. To know and help all gargoyles who are alive.\"");
				add("Inamo");
				remove("society");
				fallthrough;

			case "Inamo":
				say("Wislem listens to your story about the murders in Trinsic. \"To be sad to hear this. To suggest that you visit Lord Draxinusom in Terfin and tell him about Inamo. He will know who Inamo's parent gargoyle is. To recommend you relay this news as soon as possible.~~\"To go soon and tell Draxinusom about Inamo?\"");
				var0000 = Func090A();
				if (var0000) {
					say("\"To know you are reliable.\"");
				} else {
					say("\"To be concerned that Inamo's parent shall never know what happened.\" He appears saddened.");
				}
				remove("Inamo");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To bid farewell.\"*");
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08EC 0x8EC ();

void Func0442 object#(0x442) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		SHERRY->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x00C3]) {
			say("You see a very large mouse with an air of superior intelligence.~~\"Avatar!\" she exclaims. \"I cannot believe thou art here, ",
				var0000,
				"!\"");
			gflags[0x00C3] = true;
		} else {
			say("\"Hello, ",
				var0000,
				"!\" Sherry the Mouse exclaims.");
		}
		converse (0) {
			case "name":
				say("\"Why, dost thou not remember Sherry, ",
					var0000,
					"?\"");
				remove("name");
				fallthrough;

			case "job":
				var0002 = SHERRY->get_schedule_type();
				if (var0002 == KID_GAMES) {
					say("\"I am trying to keep up with these children! We are playing tag through the castle! I must run! Talk to me later in the nursery!\"*");
					abort;
				}
				say("\"I mainly assist Nanna in the Royal Nursery during the day. I watch the children alone in the evenings while Nanna has dinner and goes to her Fellowship meeting. Other times I run around the castle looking for mouse food!\"");
				add(["Royal Nursery", "castle", "mouse food"]);
				fallthrough;

			case "Royal Nursery":
				say("\"The children are so much fun. I like to read them their favorite story. It happens to be Lord British's favorite children's story, too! He read it to me oh, those many years ago.\"");
				remove("Royal Nursery");
				add(["children", "story"]);
				fallthrough;

			case "children":
				say("\"If thou hast not had the chance yet, do look around and meet them. They are most wonderful and amusing.\"");
				remove("children");
				fallthrough;

			case "castle":
				say("\"It is much the same as it was when thou wert last here. There has been a bit of remodeling. After all, it has been 200 years since thou wert last here! I believe Lord British has a storeroom with quite a bit of equipment inside.\"");
				remove("castle");
				fallthrough;

			case "mouse food":
				say("\"Well, cheese is my favorite. If thou dost ever have cheese to give away, I will gladly eat it. But I will generally eat most anything. Dost thou have any cheese for me?\"");
				if (Func090A()) {
					var0003 = Func0931(PARTY, 0x0001, 0x0179, QUALITY_ANY, 0x001A);
					var0004 = Func0931(PARTY, 0x0001, 0x0179, QUALITY_ANY, 0x001B);
					if (var0003 || var0004) {
						say("\"Want to give me some?\"");
						if (Func090A()) {
							var0005 = UI_remove_party_items(0x0001, 0x0179, QUALITY_ANY, 0x001A, true);
							var0006 = UI_remove_party_items(0x0001, 0x0179, QUALITY_ANY, 0x001B, true);
							if (var0005 || var0006) {
								say("\"Thank thee, ",
									var0000,
									"!\"");
							} else {
								say("\"I am unable to take thy cheese at the moment, ",
									var0001,
									".\"");
							}
						} else {
							say("\"Well! I thought thou wert my friend!\"");
						}
					} else {
						say("\"But thou hast not got any cheese!\"");
					}
				} else {
					say("\"Too bad! If thou dost find any, please keep me in mind!\"");
				}
				remove("mouse food");
				fallthrough;

			case "story":
				say("\"Dost thou want to hear the story? It is called 'Hubert's Hair-Raising Adventure'.\"");
				if (Func090A()) {
					say("Sherry stands on her hind legs, takes a deep breath, and then recites -- from memory -- very, very fast:");
					UI_push_answers();
					Func08EC();
				} else {
					say("\"Some other time, then!\"");
				}
				remove("story");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell, ",
			var0001,
			"!\"*");
	}
	if (event == PROXIMITY) {
		var0002 = SHERRY->get_npc_object()->get_schedule_type();
		if (var0002 == KID_GAMES) {
			var0007 = UI_die_roll(0x0001, 0x0004);
			if (var0007 == 0x0001) {
				var0008 = "@Tag! Thou art it!@";
			}
			if (var0007 == 0x0002) {
				var0008 = "@Cannot catch me!@";
			}
			if (var0007 == 0x0003) {
				var0008 = "@Nyah nyah! Thou art it!@";
			}
			if (var0007 == 0x0004) {
				var0008 = "@Catch me if thou can!@";
			}
			SHERRY->item_say(var0008);
		}
	}
}

extern var Func090A 0x90A ();
extern void Func0854 0x854 ();
extern void Func092E 0x92E (var var0000);

void Func0443 object#(0x443) () {
	var var0000;

	if (event == DOUBLECLICK) {
		BOOTS->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (gflags[0x0072] == true) {
			add("mutton");
		}
		if (!gflags[0x00C4]) {
			say("This is an elderly woman who epitomizes 'grandmotherly'.");
			gflags[0x00C4] = true;
		} else {
			say("\"Hello, again!\" Boots says.");
		}
		converse (0) {
			case "name":
				say("\"All my brothers and sisters called me 'Boots' when I was a baby, and it hath remained my name ever since.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Why, I am Lord British's personal cook! I prepare meals for the entire castle.\"");
				add("meals");
				fallthrough;

			case "meals":
				say("\"Just go to the dining room at breakfast or supper time and mine husband Bennie will serve thee!\"");
				add(["breakfast", "supper", "Bennie"]);
				remove("meals");
				fallthrough;

			case "breakfast":
				say("\"For breakfast I usually prepare a dish that my Liege brought with him from his homeland. Here we call it Eggs British. It is served with assorted fruits and tea, of course. It is the King's favorite.\"");
				remove("breakfast");
				fallthrough;

			case "supper":
				say("\"This meal is usually whatever meat or game or fish Lord British requests, accompanied by several additional courses and a fine dessert.\"");
				remove("supper");
				fallthrough;

			case "Bennie":
				say("\"He's a dear, but he has become a little absent-minded in his later years. He never remembers to bring enough meat from the slaughterhouse in Paws. In fact, we are short this week!\"");
				add(["absent-minded", "short"]);
				remove("Bennie");
				gflags[0x0071] = true;
				fallthrough;

			case "absent-minded":
				say("\"Last week I asked him to put a little garlic into some soup. He put in the garlic and then forgot about it. So he went and put some more in. Then he forgot he did that. So he put in more. Well, thou canst imagine the look on Lord British's face when he finally did taste that soup! It is a good thing we live and work in the castle of such a just ruler.\"");
				remove("absent-minded");
				fallthrough;

			case "short":
				say("\"That is right, we do not have enough. If thou couldst bring me mutton from the slaughterhouse, I will pay thee 5 gold for every portion thou canst bring. All right?\"");
				var0000 = Func090A();
				if (var0000) {
					say("\"Good, I will be awaiting thy return!\"");
					gflags[0x0072] = true;
				} else {
					say("\"Oh dear. Well, I know thou art busy. Some other time, then.\"");
				}
				remove("short");
				fallthrough;

			case "mutton":
				say("\"Splendid! Let's see, we agreed on 5 gold per portion, if I remember correctly.\"");
				Func0854();
				remove("mutton");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Bye now!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(BOOTS);
	}
}

extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0444 object#(0x444) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	if (event == DOUBLECLICK) {
		BENNIE->show_npc_face(0x0000);
		var0000 = Func0908();
		add(["name", "job", "bye"]);
		if (gflags[0x0071]) {
			add("absent-minded");
		}
		var0001 = UI_part_of_day();
		var0002 = UI_get_party_list();
		if (!gflags[0x00C5]) {
			say("You see an elderly man with good humor and a warm smile.");
			gflags[0x00C5] = true;
		} else {
			say("\"Yes, Avatar?\" Bennie asks with authority.");
		}
		converse (0) {
			case "name":
				say("\"All my friends call me Bennie.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the Head Servant at the castle. My job consists of keeping the other servants in line and serving the meals.\"");
				add(["Head Servant", "meals"]);
				fallthrough;

			case "Head Servant":
				say("\"Yes, I have been Head Servant for many years. Mine entire family works for Lord British. My son is the king's gentleman's gentleman. My daughter is the Royal Chambermaid. My wife is Head Cook. We are pleased to work for Lord British.\"");
				remove("Head Servant");
				fallthrough;

			case "meals":
				say("\"My wife, Boots, is the head cook. Her specialty is roast beef. She makes wonderful pastries, too. Enough of those will give thee a very un-Avatar-like figure!");
				if ((var0001 == MORNING) || (var0001 == EVENING)) {
					say("\"Wouldst thou like to order a meal?\"");
					var0003 = Func090A();
					if (var0003) {
						if (gflags[0x00D8]) {
							var0004 = UI_get_timer(0x0001);
						} else {
							gflags[0x00D8] = true;
							var0004 = 0x0019;
						}
						if (var0004 >= 0x0018) {
							say("\"For thee, it is free!\"~~Bennie serves you and your party a delicious meal of beef and pastry.");
							var0002 = UI_get_party_list();
							var0005 = 0x0000;
							for (var0008 in var0002 with var0006 to var0007) {
								var0005 += 0x0001;
							}
							var0009 = UI_add_party_items(var0005, 0x0179, QUALITY_ANY, 0x0009, true);
							var000A = UI_add_party_items(var0005, 0x0179, QUALITY_ANY, 0x0006, true);
							if (var000A || var0009) {
								UI_set_timer(0x0001);
								say("\"Return tomorrow and thou canst have another free meal.\"");
							} else {
								say("\"Thou art carrying too much to take the beef and pastry!\"");
							}
						} else {
							say("\"I am sorry, ",
								var0000,
								", but I am allowed to serve thee only once per day. Return tomorrow for a meal.\"");
						}
					} else {
						say("\"Oh. Well, thou must return when thou art hungry.\"");
					}
				} else {
					say("\"Come to the dining room during breakfast or dinner and I will be most honored to serve thee!\"");
				}
				remove("meals");
				fallthrough;

			case "absent-minded":
				say("\"Yes, I suppose I am. I am also becoming a little hard-of-hearing. When thou hast seen as many years as I have, one's faculties are no longer perfect.\"");
				remove("absent-minded");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Safe journeys, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(BENNIE);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();

void Func0445 object#(0x445) () {
	var var0000;
	var var0001;

	if (event == PROXIMITY) {
		abort;
	}
	WESTON->show_npc_face(0x0000);
	var0000 = Func0909();
	add(["name", "job", "bye"]);
	var0001 = AVATAR->find_nearest(0x018A, ON_SCREEN);
	if (!gflags[0x00C6]) {
		say("You see a thoroughly disheartened young man who is miserably languishing behind bars.");
		gflags[0x00C6] = true;
	} else {
		say("\"Hello again, ",
			var0000,
			",\" says Weston.");
	}
	converse (0) {
		case "name":
			say("\"I am Weston.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"I have none so long as I am left to rot here in this prison.\"");
			if (var0001) {
				0xFEFE->say("\"Thy job is to pay for the crime thou hast committed.\"*");
				0xFEFE->hide();
				WESTON->show_npc_face(0x0000);
			}
			add("prison");
			fallthrough;

		case "prison":
			say("\"My crime was stealing apples from the Royal Orchards. This I did and I admit it freely. If given the same set of circumstances I would do it again.\"");
			if (var0001) {
				0xFEFE->say("\"A-ha! Not only an unrepentant criminal but also a potential professional thief! Looks like this one has ended in the right place and just in the nick o' time.\"*");
				0xFEFE->hide();
				WESTON->show_npc_face(0x0000);
			}
			remove("prison");
			add(["stealing apples", "circumstances"]);
			fallthrough;

		case "stealing apples":
			say("\"I had offered to buy them first, but Figg, the caretaker of the orchard, set an exorbitant price which I am certain he would have pocketed for himself. So, yes, I admit to stealing them.\"");
			if (var0001) {
				0xFEFE->say("\"See how the common criminal blames his type of immoral behavior on others, all the while denying it in himself! This one is irredeemable, he is.\"*");
				0xFEFE->hide();
				WESTON->show_npc_face(0x0000);
			}
			remove("stealing apples");
			add(["Figg", "admit"]);
			fallthrough;

		case "Figg":
			say("\"He gives baskets of fruit free to The Fellowship without Lord British's consent, I am quite certain.\"");
			gflags[0x0094] = true;
			if (var0001) {
				0xFEFE->say("\"Thou shouldst not listen to this obvious slander, ",
					var0000,
					"! It is hearsay!\"*");
				0xFEFE->hide();
				WESTON->show_npc_face(0x0000);
			}
			remove("Figg");
			fallthrough;

		case "admit":
			say("\"Mine only regrets are that I did not try to steal something bigger and that\tI did not get away with it.\"");
			remove("admit");
			fallthrough;

		case "circumstances":
			say("\"I am not from Britain, ",
				var0000,
				". I am from Paws and it is another reason why they believe I can be trifled with.\"");
			if (var0001) {
				0xFEFE->say("\"This prisoner is from Paws! I bloody knew it! To his credit he was in town nearly an entire day before he stole something. For a citizen of Paws that is as honest as they come!\"*");
				0xFEFE->hide();
				WESTON->show_npc_face(0x0000);
			}
			remove("circumstances");
			add("Paws");
			fallthrough;

		case "Paws":
			say("\"Paws is a town where thou mayest feel the icy grip of poverty about thine heart.\"");
			remove("Paws");
			add(["town", "poverty"]);
			if (var0001) {
				0xFEFE->say("\"Oh bloody 'ell! Now I suppose he is going to go and tell us his whole pathetic life's story! Couldst thou wait until I get out mine handkerchief so I do not interrupt thee with all my wailing!\"*");
				0xFEFE->hide();
				WESTON->show_npc_face(0x0000);
			}
			fallthrough;

		case "town":
			say("\"Not so long ago Paws was a thriving rustic coastal village. But as Britain grew larger most of our local businesses moved there. We became a farming town and the seven year drought gave us a lashing that we have yet to recover from.\"");
			remove("town");
			fallthrough;

		case "poverty":
			say("\"I do not wish to bemoan my fate, but my family lives in Paws -- my wife Alina and my child Cassie. They were starving and I came to Britain to get food for them.\"");
			if (var0001) {
				0xFEFE->say("\"Oh, now! Do not go and bring up poverty as an excuse as to why thou hast turned to crime! My father was so poor he and his family had to eat dirt. But he still raised me proper. Beat the stuffings out of me if he ever so much as imagined I did anything wrong, I can tell thee that!\"*");
				0xFEFE->hide();
				WESTON->show_npc_face(0x0000);
			}
			remove("poverty");
			add(["family", "starving"]);
			fallthrough;

		case "family":
			say("\"I do not want any mercy for myself. I have admitted my guilt. But my life does not only belong to myself. It belongs to my wife and family as well. Without me they will suffer unbearable hardships, such as they might not survive.\"");
			remove("family");
			fallthrough;

		case "starving":
			say("\"Although there are fools who will speak otherwise, the people of Britannia are being crushed by the vicious tyranny of the class system. While a few have more than they could ever enjoy, there are many who go to sleep hungry every night. My wife and daughter to name two of them.\"");
			if (var0001) {
				0xFEFE->say("\"Oh, that reminds me it is nearly time for my meal break! The trout is supposed to be delicious today at the Farmer's Market.\"");
				0xFEFE->hide();
				WESTON->show_npc_face(0x0000);
			}
			remove("starving");
			add(["fools", "class system"]);
			fallthrough;

		case "fools":
			say("\"Fools like our good friend the guard would have us believe that nothing has changed in Britannia for over two hundred years. That we can live our lives as if all of our problems do not exist. I say to thee that it is people like that who cause our problems in the first place.\"");
			remove("fools");
			fallthrough;

		case "class system":
			say("\"While I am certain Lord British is a just and fair ruler, he must be quite unaware of all that goes on in his kingdom. Surely he would not tolerate such inequity.\"");
			if (var0001) {
				0xFEFE->say("\"All right! That is enough noise out of thee! All day long yakkata-yakkata about the awful terrible class system! Why, the next thing thou knowest thou shalt be sayin' society is to blame for thy crimes. Not a word from anybody about any appreciation for keeping the laws and order. No, of course not! But all the pity in the world for the dangerous lawbreakers who are the real threat to society.\"*");
				0xFEFE->hide();
				WESTON->show_npc_face(0x0000);
			}
			say("\"Wouldst thou speak with Lord British about me? I would bet that he is completely unaware of my case! Please! Wilt thou speak with him?\"");
			if (Func090A()) {
				say("\"Oh, I thank thee, Avatar! My fate and the fates of my wife and daughter are in thine hands!\"");
				gflags[0x00CD] = true;
			} else {
				say("Weston lowers his head. \"Then why art thou speaking with me? Go away and leave me to my misery.\"*");
				abort;
			}
			remove("class system");
			fallthrough;

		case "bye":
			break;
	}
	say("\"I thank thee for visiting me.\" *");
}

extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0446 object#(0x446) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		MIRANDA->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = UI_part_of_day();
		add(["name", "job", "bye"]);
		if (gflags[0x00DE]) {
			add("signed");
		}
		if (!gflags[0x00C7]) {
			say("This is a lovely, earthy woman with a warm smile.");
			say("\"Word has spread quickly of thine arrival, Avatar! Welcome!\"");
			gflags[0x00C7] = true;
		} else {
			say("\"Hello, ",
				var0000,
				",\" Miranda says. \"Nice to see thee again.\"");
		}
		converse (0) {
			case "name":
				say("\"I am Miranda.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I serve on the Great Council. Today we are working on a bill of law. When I am not here in the castle, I am kept busy with a young child.\"");
				add(["Great Council", "bill", "child"]);
				fallthrough;

			case "Great Council":
				say("\"The Great Council supports Lord British in the legislation of Britannia's laws. I am honored to be one of the three women serving on the Council.\"");
				add("women");
				remove("Great Council");
				fallthrough;

			case "women":
				say("\"I am particularly concerned about women's duties and privileges and their available opportunities in the land. Our history has been kind to women in general, but there is still room for improvement.\"");
				add("improvement");
				remove("women");
				fallthrough;

			case "improvement":
				say("\"More women could hold public office, for one thing. And I would personally like to be rid of those scantily-clad women in heroic fantasy paintings.\"");
				remove("improvement");
				fallthrough;

			case "child":
				say("Miranda smiles. \"Yes, my son's name is Max.");
				if ((var0001 == DAWN) || ((var0001 == MORNING) || ((var0001 == NOON) || (var0001 == AFTERNOON)))) {
					say("\"He is probably in the Royal Nursery.");
				} else {
					var0002 = Func08F7(MAX);
					if (var0002) {
						say("\"He's right here! Say hello to the Avatar, Max.\"*");
						MAX->say("\"Hi. I'm a funny boy!\"*");
						MAX->hide();
						MIRANDA->say("\"He's quite precocious.");
					} else {
						say("\"I wonder where he could be...");
					}
				}
				say("\"He is quite obviously his father's son. Perhaps thou hast met him? Raymundo -- the director of the Royal Theatre. We believe Max will be quite a performer when he's older.\"");
				gflags[0x0069] = true;
				remove("child");
				fallthrough;

			case "bill":
				if ((var0001 == DAWN) || ((var0001 == MORNING) || ((var0001 == NOON) || (var0001 == AFTERNOON)))) {
					say("\"Inwisloklem and I are drafting a bill which would make illegal any distribution of waste products in Lock Lake, near Cove. The lake is quite defiled.\"");
					add("Cove");
				} else {
					say("\"I would like to speak with thee about the new bill we are drafting. Please come to the Council Chamber during normal working hours and we shall talk.\"");
				}
				remove("bill");
				fallthrough;

			case "Cove":
				say("\"Art thou travelling to Cove?\"");
				var0003 = Func090A();
				if (var0003) {
					say("\"That is good news! Perhaps thou couldst do us a great favor. We need this bill delivered to Lord Heather in Cove. He must read it and give us his approval by signing it. I know thou hast far more important things to do than running errands, but it would be greatly appreciated. Wilt thou do it?\"");
					var0004 = Func090A();
					if (var0004) {
						say("\"Wonderful! Here is the bill. Please bring it back to me when it is signed. And we thank thee.\"");
						var0005 = UI_add_party_items(0x0001, 0x031D, 0x0004, FRAME_ANY, true);
						if (var0005) {
							gflags[0x006A] = true;
						} else {
							say("\"Thine hands are too full to take the bill!\"");
						}
					} else {
						say("\"Oh. All right. We know that thou art very busy. We shall find another way to deliver the bill. Thank thee anyway.\"");
					}
				} else {
					say("\"Thou wilt not be travelling to Cove at all? Well, all right then. Never mind.\"");
				}
				remove("Cove");
				fallthrough;

			case "signed":
				say("\"Didst thou have Lord Heather sign the bill?\"");
				var0006 = Func090A();
				if (var0006) {
					say("\"Excellent! Let me see it.\"");
					if (gflags[0x00DE]) {
						var0007 = Func0931(PARTY, 0x0001, 0x031D, 0x0004, FRAME_ANY);
						if (var0007) {
							var0005 = UI_remove_party_items(0x0001, 0x031D, 0x0004, FRAME_ANY, true);
							if (var0005) {
								say("\"It looks in order! We thank thee, Avatar!\"");
								Func0911(0x0014);
							} else {
								say("\"Wait, where is it? Thou dost not have it. I hope thou hast not lost it. Thou shouldst go and find it. 'Tis an important document!\"");
							}
						} else {
							say("\"Wait! Where is it? Thou dost not have it. I hope thou hast not lost it. Thou shouldst go and find it. 'Tis an important document!\"");
						}
					} else {
						say("\"But thou hast not had the bill signed! Please do so, as soon as possible, if thou wouldst.\"");
					}
				} else {
					say("\"Oh. Well, the next time thou art in Cove, perhaps thou wilt find time to see him.\"");
				}
				remove("signed");
				fallthrough;

			case "bye":
				break;
		}
		say("\"We shall see thee again soon, I hope, Avatar.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(MIRANDA);
	}
}

extern void Func092F 0x92F (var var0000);

void Func0447 object#(0x447) () {
	if (event == DOUBLECLICK) {
		INWISLOKLEM->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (!gflags[0x00C8]) {
			say("A winged gargoyle looks at you with interest and obvious intelligence.");
			say("\"To welcome thee to Britain, Avatar!\"");
			gflags[0x00C8] = true;
		} else {
			say("\"To greet thee again, Avatar!\" Inwisloklem smiles.");
		}
		converse (0) {
			case "name":
				say("\"To be called Inwisloklem.\"");
				remove("name");
				add("Inwisloklem");
				fallthrough;

			case "Inwisloklem":
				say("\"To mean `interpreter' in your language.\"");
				remove("Inwisloklem");
				fallthrough;

			case "job":
				say("\"To be, indeed, an interpreter in my homeland. To be now on the Great Council to serve our most noble ruler, Lord British. To be honored as one of the two gargoyles on the Council.\"");
				add(["gargoyles", "Great Council"]);
				fallthrough;

			case "gargoyles":
				say("\"To be one of the surviving gargoyles, and to preserve our heritage is my life work. To tell you our race emigrated to Britannia many, many years ago. To have settled on the island known as Terfin.\"");
				add(["surviving", "Terfin"]);
				remove("gargoyles");
				fallthrough;

			case "surviving":
				say("\"To be so many of my people killed two hundred years ago in the War of the False Prophet. To be the war that you ended by bringing peace between our races.\"");
				remove("surviving");
				fallthrough;

			case "Terfin":
				say("\"To be a lonely place. To be desolate. To be not what humans call `homey'. To desire to establish a new way of life for gargoyles in Britannia, and to eliminate the hatred and misunderstanding of our race in humans. To know that ignorance breeds bigotry. To be one of those who are correcting this.\"");
				add(["way of life", "those"]);
				remove("Terfin");
				fallthrough;

			case "way of life":
				say("\"To desire a world where humans and gargoyles could live together in peace as equals in Britannian society.\"");
				remove("way of life");
				fallthrough;

			case "those":
				say("\"To be called The Fellowship.\"");
				add("Fellowship");
				remove("those");
				fallthrough;

			case "Fellowship":
				say("\"To be dedicated to promoting good will and trust in the land. To be thinking of joining the group soon!\"");
				remove("Fellowship");
				fallthrough;

			case "Great Council":
				say("\"To create the laws of the land. To inform you that my colleague, Miranda, can tell you more of what we are doing now. To be unfortunate that most of the Council is away now.\"");
				add(["Miranda", "away"]);
				remove("Great Council");
				fallthrough;

			case "Miranda":
				say("\"To inform you that Miranda is an intelligent woman who has great concern for the well being of all of Britannia's citizens. To be one of Lord British's most trusted advisors.\"");
				remove("Miranda");
				fallthrough;

			case "away":
				say("\"To be on holiday at the moment. To have only Miranda and myself present to enact this new law.\"");
				add("law");
				remove("away");
				fallthrough;

			case "law":
				say("\"To tell you to ask Miranda about it, for she knows more than I.\"");
				remove("law");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To say farewell.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(INWISLOKLEM);
	}
}

extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0448 object#(0x448) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		var0000 = Func0908();
		var0001 = "Avatar";
		NELL->show_npc_face(0x0000);
		if (gflags[0x0078]) {
			var0002 = var0000;
		}
		if (gflags[0x0079]) {
			var0002 = var0001;
		}
		if (gflags[0x0077]) {
			say("Nell will not speak to you.*");
			abort;
		}
		if (!gflags[0x00C9]) {
			say("You see a servant girl who looks at you in wonder. \"Thou dost look familiar. Who art thou?\"");
			var0003 = Func090B([var0000, var0001]);
			if (var0003 == var0000) {
				say("\"Oh. Hello. I am Nell.\"");
				gflags[0x0078] = true;
			} else {
				say("\"I thought so! I have seen thy portrait before. And I had heard that thou wouldst be visiting! I'm Nell.\"");
				gflags[0x0079] = true;
			}
			if (gflags[0x0078]) {
				var0002 = var0000;
			}
			if (gflags[0x0079]) {
				var0002 = var0001;
			}
			gflags[0x00C9] = true;
		} else {
			say("\"Hello, ",
				var0002,
				".\"");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("\"I told thee my name is Nell.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a chambermaid. I am responsible for keeping the castle tidy. Just a servant girl, really.\"");
				add(["castle", "servant"]);
				fallthrough;

			case "castle":
				say("\"It is very large. Keeps me very busy. Thou wouldst not believe how dusty it gets.\"");
				remove("castle");
				fallthrough;

			case "servant":
				say("\"I suppose I'll always be a servant. My parents are servants. My brother is a servant. My fiance is a servant. My child will probably be a servant.\"");
				add(["parents", "brother", "fiance", "child"]);
				remove("servant");
				fallthrough;

			case "parents":
				say("\"They work in the castle as well. Boots is my mother. Bennie is my father. They have been here for years. I was born in this castle and played in the nursery.\"");
				remove("parents");
				fallthrough;

			case "brother":
				say("\"Thou mightest run into him. He is also a servant in the castle. Charles. Other than not being as smart as I am, he is all right. For a bumbling ass, that is!\" She laughs.");
				gflags[0x0076] = true;
				remove("brother");
				fallthrough;

			case "fiance":
				say("\"That would be Carrocio, that dear man who runs the Punch and Judy Show. He writes the loveliest love poetry. We are getting married as soon as Carrocio can afford a wedding ring.\"");
				gflags[0x0075] = true;
				remove("fiance");
				fallthrough;

			case "child":
				say("Nell looks worried. \"Shhh! I do not want anyone to know. 'Tis not showing yet, is it? Carrocio and I are getting married as soon as possible. He -is- the father. I think. Then again, it could be... no, probably not him. Or could it be...? Hmmm. That would be interesting! Wait! What am I saying? The father is most definitely Carrocio! Please do not tell anyone. 'Twould be embarrassing. All right?\"");
				var0004 = Func090A();
				if (var0004) {
					say("\"I know I can trust thee, ",
						var0002,
						".\"");
				} else {
					say("\"But thou wouldst ruin my reputation! Please -- a servant girl needs all the self-esteem she can get without that burden!\" Nell turns away from you.*");
					gflags[0x0077] = true;
					abort;
				}
				remove("child");
				gflags[0x007A] = true;
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0002,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(NELL);
	}
}

extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0449 object#(0x449) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		CHARLES->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (gflags[0x0076]) {
			add("Nell");
		}
		if (gflags[0x007D]) {
			add("Jeanette");
		}
		if (gflags[0x007E]) {
			add("Thou art in luck");
		}
		if (!gflags[0x00CA]) {
			say("You see a young peasant with a tray of wine glasses.");
			gflags[0x00CA] = true;
		} else {
			say("\"Hello, Avatar.\"");
		}
		converse (0) {
			case "name":
				say("\"I am Charles.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a servant in Lord British's castle. I serve as a gentleman's gentleman, among other things. Right now I am serving wine.\"");
				add(["servant", "wine"]);
				fallthrough;

			case "servant":
				say("\"My family has been employed by Lord British for many years. My father, Bennie, once held the position I now hold. He is the head servant. I shall be head servant one day, I suppose. Then perhaps my sweetheart will love me.\"");
				remove("servant");
				add(["family", "sweetheart"]);
				fallthrough;

			case "family":
				say("\"Thou wilt encounter them. My mother cooks in the kitchen. My prudish sister is the chambermaid.\"");
				remove("family");
				fallthrough;

			case "sweetheart":
				say("Charles sighs. He is clearly smitten. \"She is Jeanette. She works in the Blue Boar. But I am afraid I am not 'up to her standards'. I believe she has her eye set on someone else. I do not know what to do about it.\"");
				gflags[0x007B] = true;
				remove("sweetheart");
				add("Jeanette");
				fallthrough;

			case "Jeanette":
				say("\"She does not love me, I know. She would rather marry a rich man. I have not a chance.\"");
				remove("Jeanette");
				fallthrough;

			case "Thou art in luck":
				say("You tell Charles what Jeanette said.");
				say("\"Really? Thou dost mean I have a chance?\" Charles becomes so excited he nearly drops his tray. \"Oh, I thank thee, Avatar, for giving me this hopeful news! I must run and send her flowers or some gift! I must declare my love!\" He turns away from you, obviously walking on clouds.*");
				abort;

			case "Nell":
				say("\"She is engaged to the carousel manager. It is hard to get used to. I have always been overly protective of my little sister. I would wager she has never even been kissed! Not even by Carrocio! That is mainly because I have looked after her all this time. I would smite anyone who laid a hand on her! Besides, Nell has always been chaste and prudish. She would never think to allow a man to kiss her.\"");
				remove("Nell");
				gflags[0x007C] = true;
				if (gflags[0x007A]) {
					add("child");
				}
				fallthrough;

			case "child":
				say("You remember what Nell told you about her 'condition'. Do you mention it to Charles?");
				var0000 = Func090A();
				if (var0000) {
					say("You tell Charles what Nell revealed in confidence.");
					say("Charles is wide-eyed and shocked. \"Why, that hussy! My sister! She is nothing more than a tramp! And wait until I get mine hands on Carrocio!\"");
					say("Charles turns away. There is murder in his eyes.*");
					gflags[0x0089] = true;
					abort;
				}
				say("Your conscience rests easy, knowing that you resisted the temptation to carry tales.");
				remove("child");
				fallthrough;

			case "wine":
				say("\"Wouldst thou like some wine?\"");
				var0001 = Func090A();
				if (var0001) {
					var0002 = UI_get_party_list();
					var0003 = 0x0000;
					for (var0006 in var0002 with var0004 to var0005) {
						var0003 += 0x0001;
					}
					var0007 = UI_add_party_items(var0003, 0x0274, QUALITY_ANY, 0x0000, true);
					if (var0007) {
						say("\"'Tis on the house.\" Charles hands you and your friends glasses of wine.");
					} else {
						say("\"Oops. Thou art carrying too much. Ask me again when thou dost not have thine hands full!\"");
					}
				} else {
					say("\"Some other time, then.\"");
				}
				remove("wine");
				fallthrough;

			case "bye":
				break;
		}
		say("Charles nods his head at you, then goes about his business.*");
	}
	if (event == PROXIMITY) {
		Func092E(CHARLES);
	}
}

extern var Func090A 0x90A ();
extern void Func08DB 0x8DB ();
extern void Func08DC 0x8DC ();
extern void Func0911 0x911 (var var0000);

void Func044A object#(0x44A) () {
	var var0000;
	var var0001;

	if (event == PROXIMITY) {
		abort;
	}
	RUDYOM->show_npc_face(0x0000);
	add(["name", "job", "bye"]);
	if (gflags[0x0065]) {
		add(["blackrock", "Moongates"]);
	}
	if (!gflags[0x00E7]) {
		say("This elderly mage looks older and more senile than when you last saw him.");
		gflags[0x00E7] = true;
	} else if (!gflags[0x0003]) {
		say("\"Who art thou?\" Rudyom asks. \"Oh -- I remember.\"");
	} else {
		say("\"Hello again, Avatar!\" Rudyom says, beaming.");
	}
	converse (0) {
		case "name":
			say("\"That I know. My name is Rudyom.\"");
			remove("name");
			fallthrough;

		case "job":
			if (!gflags[0x0003]) {
				say("\"I am not sure anymore. I was a powerful mage at one time! Now nothing works. Magic is afoul! I suppose I could sell thee some reagents and spells if thou dost want. And mind the carpet -- it does not work!\"");
				add("carpet");
			} else {
				say("\"I am a powerful mage! Magic is my milieu! I can sell thee spells or reagents.\"");
			}
			add(["magic", "spells", "reagents"]);
			fallthrough;

		case "magic":
			if (!gflags[0x0003]) {
				say("\"I do not understand what is wrong. My magic does not work so well anymore.\"");
			} else {
				say("\"The ether is flowing freely! Magic is with us once again!\"");
			}
			remove("magic");
			fallthrough;

		case "carpet":
			say("\"The big blue carpet. 'Tis a flying carpet. It does not work like it should.\"");
			say("Rudyom looks around and scratches his head.");
			say("\"Funny. It was here a while ago. Oh! I remember now. Some adventurers borrowed my flying carpet a few weeks ago. When they returned they said they had lost it near Serpent's Spine. Somewhere in the vicinity of the Lost River. I suppose\tif thou didst want to go and find it, thou couldst keep it. It did not work very well. Perhaps thou canst make it work. I did not like the color, anyway!\"");
			remove("carpet");
			fallthrough;

		case "spells":
			say("\"Dost thou wish to buy some spells?\"");
			var0000 = Func090A();
			if (var0000) {
				Func08DB();
			} else {
				say("\"Oh. Never mind, then.\"");
			}
			fallthrough;

		case "reagents":
			say("\"Dost thou wish to buy some reagents?\"");
			var0001 = Func090A();
			if (var0001) {
				Func08DC();
			} else {
				say("\"Oh. Never mind, then.\"");
			}
			fallthrough;

		case "blackrock":
			say("\"Do not mention that foul mineral's name to me! It hast caused me much frustration! Before my mind lost me I was conducting experiments with the infernal material. But now I cannot for the life of me remember what it was I was trying to do.\"");
			add("experiments");
			remove("blackrock");
			fallthrough;

		case "Moongates":
			if (!gflags[0x0004]) {
				say("\"They are a nuisance, are they not? I do believe that blackrock is the solution to the problem. I wish my mind had not lost me, or I could continue my work...\"");
			} else {
				say("\"I understand they are gone for good. Do not blame thyself, Avatar. The disaster will only pave the way for a new era in experimentation and discovery. I hope.\"");
			}
			remove("Moongates");
			fallthrough;

		case "experiments":
			say("\"I wrote them all down in my notebook, which is somewhere around here. Thou art welcome to look at it. But stay away from that damned transmuter -- 'tis dangerous!\"");
			add(["transmuter", "notebook"]);
			remove("experiments");
			fallthrough;

		case "notebook":
			say("\"I used it to record mine experiments with blackrock and the blackrock transmuter.\"");
			remove("notebook");
			fallthrough;

		case "transmuter":
			say("\"'Tis that wand-like thing. It was supposed to magnetize and magically transmute blackrock, but it doth not work correctly. Try pointing it at a piece of blackrock and thou wilt see what I mean. But do not stand too close! Thou art welcome to take it if thou dost want a piece of garbage!\"");
			Func0911(0x0032);
			remove("transmuter");
			fallthrough;

		case "bye":
			break;
	}
	if (!gflags[0x0003]) {
		say("\"Leaving so soon? Deary me. I hope I remember thee if thou dost come back.\"*");
	} else {
		say("\"Goodbye, Avatar.\"*");
	}
}

extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func044B object#(0x44B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == PROXIMITY) {
		abort;
	}
	if (event == DOUBLECLICK) {
		var0000 = script item {
			nohalt;
			music 26, 1;
			continue;
			call Func044B;
			nop;
		};
		return;
	}
	NASTASSIA->show_npc_face(0x0000);
	var0001 = false;
	var0002 = false;
	var0003 = false;
	var0004 = UI_is_pc_female();
	var0005 = Func0908();
	add(["name", "job", "bye"]);
	if (gflags[0x00E0]) {
		if (!gflags[0x00E2]) {
			add(["Ariana", "Julius", "Nadia", "Yew"]);
		}
	}
	if (gflags[0x0129]) {
		add("News of your father");
	}
	if (!var0004) {
		if (gflags[0x00E6]) {
			add("kiss");
		}
	}
	if (!gflags[0x00E8]) {
		if (var0004) {
			say("This is an attractive young woman who seems sad.");
		} else {
			say("Emotion immediately grips your heart to see such a beautiful young woman seem so sad.");
			say("She looks up as you introduce yourself.");
		}
		gflags[0x00E8] = true;
	} else {
		say("\"Hello again, ",
			var0005,
			"!\" Nastassia says.");
	}
	converse (0) {
		case "name":
			say("\"I am Nastassia.\"");
			remove("name");
			fallthrough;

		case "job":
			say("She thinks a moment. \"I suppose my job is to keep the Shrine of Compassion pristine, though it is not an official position.\"");
			add("Shrine");
			fallthrough;

		case "Shrine":
			say("\"The Shrine of Compassion has been here for many generations, as have all the shrines in Britannia. My great-great-grandmother Ariana made a request in her will that her family line take care of this particular shrine.\"");
			add(["all shrines", "take care"]);
			remove("Shrine");
			fallthrough;

		case "all shrines":
			say("\"Many of the shrines have fallen into disuse or have been overgrown to the point of being lost. It is sad.\"");
			remove("all shrines");
			fallthrough;

		case "take care":
			say("\"I am afraid that thou mightest find the other shrines in poor condition. I keep this one... well, nice. And I do it not only to keep alive my great-great-grandmother's tradition, but... for other reasons, too.\"");
			remove("take care");
			add(["tradition", "reasons"]);
			fallthrough;

		case "tradition":
			say("\"Some people may think it odd that a young person would cling to the old ways so. But it is something that gives me great comfort. It gives me the feeling that there is something in this world that I belong to.\"");
			remove("tradition");
			fallthrough;

		case "reasons":
			if (!gflags[0x00E0]) {
				say("\"I... I'd rather not say. Please do not ask.\"");
			} else {
				say("\"Thou dost know the reasons.\"");
			}
			remove("reasons");
			fallthrough;

		case "Ariana":
			if (var0004) {
				var0006 = "she";
			} else {
				var0006 = "he";
			}
			say("\"Yes, she was my great-great-grandmother. I understand that she actually met the Avatar and ",
				var0006,
				" made a profound impact on her life.~~\"It is odd, but thou dost resemble the portraits I have seen of the Avatar.\"");
			remove("Ariana");
			add("I am the Avatar");
			fallthrough;

		case "Julius":
			say("\"Thou dost know of my father? I suppose the townsfolk have been talking again. I wish I had known him. There is something within me that yearns for some news of him. Anything at all.\"");
			remove("Julius");
			gflags[0x00E1] = true;
			fallthrough;

		case "Nadia":
			say("\"My mother. She died horribly, and by her own hand. That is the true reason I pay homage to this Shrine. I hope someday to provide her with the means to rest in peace.\"");
			remove("Nadia");
			fallthrough;

		case "Yew":
			say("\"My father died in the Great Forest there. Some wild animal or something killed him. Art thou perhaps travelling to Yew?\"");
			var0007 = Func090A();
			if (var0007) {
				say("\"Oh, ",
					var0005,
					", I do wish thou wouldst try to find out something about my father. How did he die? What happened? Please! Wilt thou search for the truth and come back and tell me?\"");
				var0008 = Func090A();
				if (var0008) {
					say("\"Bless thee! I shall be waiting here for thee.\"");
					if (var0004) {
						say("\"I know we have a strong kinship now. We shall be like sisters.\"");
					} else {
						say("Unexpectedly, Nastassia pulls your head down to hers and kisses you on the mouth.");
						add("kiss");
					}
					gflags[0x00E2] = true;
				} else {
					say("Nastassia turns away and looks as if she might cry. \"Very well. Please leave me alone.\"*");
					var0000 = script item {
						nohalt;
						music 26, 0;
					};
					abort;
				}
			} else {
				say("\"No? Well, let me know if thou art in the future. Perhaps thou couldst help me.\"");
			}
			remove("Yew");
			fallthrough;

		case "kiss":
			if (gflags[0x00E6] && var0003) {
				say("You kiss Nastassia and she moans.");
			}
			if (gflags[0x00E6] && (!var0003)) {
				say("The two of you rush into each other's arms and your mouths meet. You had forgotten how good her lips felt against yours.");
				var0003 = true;
			}
			if (!(gflags[0x00E6] && (!var0001))) {
				say("You kiss Nastassia's lovely mouth again. She responds.~~\"No man hath done that as well as thee.\"~~ She looks at you with wide eyes.~~\"Do it again, milord.\"");
				var0001 = true;
				remove("kiss");
				add("kiss again");
			}
			fallthrough;

		case "kiss again":
			if (!var0002) {
				say("You kiss Nastassia yet again. This time your bodies press together tightly, and you know this promises to be more than a fleeting fling with some tavern wench.");
				var0002 = true;
				gflags[0x00E6] = true;
			} else {
				say("You kiss Nastassia and she moans.");
			}
			fallthrough;

		case "I am the Avatar":
			say("Nastassia studies your features.~~\"Somehow I knew it. It hath been said that thou wouldst return.\"");
			remove("I am the Avatar");
			fallthrough;

		case "News of your father":
			say("You tell Nastassia what you learned from Trellek. She closes her eyes and it seems a great weight has lifted from her shoulders.~~The woman raises her arms to the sky and cries out, \"Didst thou hear that, mother? Thine husband was only trying to provide for his family! And he died... a hero! He was not a vagabond! Dost thou hear? Thou canst rest thy tortured soul now. Please, mother, forgive him. Do so, so that I can now forgive thee.\"~~She wipes the tears from her face and looks at you.");
			if (var0004) {
				say("\"I thank thee, ",
					var0005,
					". Thou hast made me very happy. I shall always remember thee.\"");
			} else {
				say("She kisses you once lightly. \"Thank thee, ",
					var0005,
					". Thou hast made me very happy. Shouldst thou become weary of adventuring, I shall be waiting here for thee. Thou art welcome to live and share thy life with me. Go now. Finish the job thou must needs do. But keep me in thy thoughts.\"");
			}
			Func0911(0x0032);
			remove("News of your father");
			fallthrough;

		case "bye":
			var0000 = script item {
				nohalt;
				music 26, 0;
			};
			break;
	}
	if (!var0004) {
		if (var0002) {
			say("\"Goodbye.\" She kisses you again, and then turns so that she will not see you leave.*");
		} else {
			say("\"Goodbye, ",
				var0005,
				".\"*");
		}
	} else {
		say("\"Goodbye, ",
			var0005,
			".\"*");
	}
}

extern var Func090A 0x90A ();
extern void Func08D0 0x8D0 (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func044C object#(0x44C) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		RAYBURT->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = RAYBURT->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x00E4]) {
			if (gflags[0x00EE]) {
				add("Pamela");
			}
		}
		if (!gflags[0x00E9]) {
			say("You startle a fighter who seems lost in thought.");
			if (var0001 == DUEL) {
				say("His dog seemed to be meditating as well.");
			}
			gflags[0x00E9] = true;
		} else {
			say("\"Hello again,\" Rayburt says.");
		}
		converse (0) {
			case "name":
				say("\"I am Rayburt.\"");
				if (var0001 == DUEL) {
					say("He turns to the dog. \"And this is Regal.\"");
					add("Regal");
				}
				remove("name");
				if (gflags[0x00E4]) {
					add("Pamela");
				}
				gflags[0x00EE] = true;
				fallthrough;

			case "job":
				say("\"I am a trainer. I specialize in a style of combat that relies on concentration and meditation. It shall boost thy dexterity and intelligence, as well as thy combat skill.\"");
				add(["meditation", "train"]);
				fallthrough;

			case "Regal":
				say("\"He is an exceptionally smart animal. He understands the meditative way of life.\"~~Rayburt throws the dog a cookie, which is snarfed up in the blink of an eye. \"He is cute, too,\" Rayburt says with complete seriousness.");
				remove("Regal");
				fallthrough;

			case "Pamela":
				say("You see a hint of a smile on Rayburt's face. \"She and I are one person.\"");
				remove("Pamela");
				fallthrough;

			case "meditation":
				say("\"Most of all combat occurs in the mind before the first blow is ever struck. The key to victory is to first win the inner battle in the mind. Winning that inner battle is what I help my students to learn.\"");
				remove("meditation");
				fallthrough;

			case "train":
				if (var0001 == DUEL) {
					say("\"I charge 60 gold for a session, but thou wilt benefit greatly. Is this agreeable?\"");
					if (Func090A()) {
						Func08D0([DEXTERITY, INTELLIGENCE, COMBAT], 60);
					} else {
						say("\"It is not the first time I have been accused of being too expensive.\"");
					}
				} else {
					say("\"Please come to my studio during business hours if thou wishest to train.\"");
					remove("train");
				}
				fallthrough;

			case "bye":
				break;
		}
		say("Rayburt bows.*");
		gflags[0x00EE] = true;
	}
	if (event == PROXIMITY) {
		Func092E(RAYBURT);
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func044D object#(0x44D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		LORD_HEATHER->show_npc_face(0x0000);
		var0000 = UI_is_pc_female();
		add(["name", "job", "bye"]);
		if (gflags[0x00E0]) {
			add("Nastassia");
		}
		if (gflags[0x006A]) {
			add(["bill", "Lock Lake"]);
		}
		if (!gflags[0x00EA]) {
			say("This regal gentleman epitomizes a well-liked politician.");
			say("\"Hello! Lord British sent word that thou might come to visit us. Welcome to Cove, Avatar!\"");
			gflags[0x00EA] = true;
		} else {
			say("\"Hello again, Avatar!\" Lord Heather proclaims.");
		}
		converse (0) {
			case "name":
				say("\"I am Lord Heather. And I recognize thee, Avatar!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the Town Mayor of Cove, home of the Shrine of Compassion.\"");
				add(["Cove", "Shrine"]);
				fallthrough;

			case "Cove":
				say("\"It's a small place, I know. Many of our residents have moved away to the larger towns, especially Britain. But we have maintained a small core of loyal Covites.\"");
				remove("Cove");
				fallthrough;

			case "Shrine":
				say("\"We are proud of our Shrine. One of our residents takes good care of it. Thou must try and visit the Shrine if thou hast not already. It is a monument to all the lovers in town.\"");
				add("lovers");
				remove("Shrine");
				fallthrough;

			case "lovers":
				say("\"Britain may be the city of Compassion, but Cove has become the city of Passion. Everyone here seems to fall in love rather easily. Thou wilt find that everyone loves someone. Almost everyone, that is.\"");
				remove("lovers");
				add(["everyone", "almost everyone"]);
				fallthrough;

			case "everyone":
				say("\"Well, let's see... I am in love with Jaana, our healer.\tAnd she is in love with me, of course. Then there is Zinaida, who runs the Emerald. She has an interest in De Maria, our local bard. And vice versa. Rayburt, our trainer, is courting Pamela, the innkeeper.\"");
				var0001 = Func08F7(IOLO);
				if (var0001) {
					IOLO->say("\"Sounds like bad theatre to me!\"");
					IOLO->hide();
					LORD_HEATHER->show_npc_face(0x0000);
				}
				var0002 = Func08F7(SPARK);
				if (var0002) {
					SPARK->say("\"Any wenches mine own age around here?\"*");
					SPARK->hide();
					LORD_HEATHER->show_npc_face(0x0000);
				}
				gflags[0x00E4] = true;
				remove("everyone");
				var0003 = Func08F7(JAANA);
				if (var0003) {
					say("\"I see that thou art leaving Cove for a while, my dear?\"*");
					JAANA->say("\"Yes, milord. But I shall return. I promise thee.\"*");
					LORD_HEATHER->say("\"I shall try not to worry about thee, but it will be difficult.\"*");
					JAANA->say("\"Do not worry. I shall be safe with the Avatar.\"*");
					LORD_HEATHER->say("\"I do hope so.\" The Mayor embraces Jaana.*");
					JAANA->hide();
					LORD_HEATHER->show_npc_face(0x0000);
				}
				fallthrough;

			case "almost everyone":
				say("\"Except for Nastassia.\"");
				remove("almost everyone");
				add("Nastassia");
				fallthrough;

			case "Nastassia":
				if (!gflags[0x00E0]) {
					say("\"She is a lovely young woman who is always melancholy. De Maria can tell thee more about her. I suggest thou seekest him at the Emerald. 'Tis a sad but compelling tale.\"");
					gflags[0x00E3] = true;
				} else {
					if (var0000) {
						var0004 = "someone";
					} else {
						var0004 = "a man like thee";
					}
					say("\"I do hope thou canst help her. She needs ",
						var0004,
						" to bring her out of her depression.\"");
				}
				remove("Nastassia");
				fallthrough;

			case "bill":
				if (!gflags[0x00DE]) {
					var0005 = Func0931(PARTY, 0x0001, 0x031D, 0x0004, FRAME_ANY);
					if (var0005) {
						say("\"'Tis about time that the government did something about the awful stench coming from that lake! I shall be happy to sign thy bill of law! Take it back to the Great Council post haste!\" Lord Heather signs the bill and hands it back to you.");
						gflags[0x00DE] = true;
					} else {
						say("\"But thou dost not have a bill of law!\"");
					}
				} else {
					say("\"I thought I already signed that bill!\"");
				}
				remove("bill");
				fallthrough;

			case "Lock Lake":
				say("\"It has gotten so putrid that on hot summer days the stink is suffocating. I believe that the Britannian Mining Company in Minoc is the source of the problem. Mining waste is being deposited in the Lake. Thou shouldst be glad it is nearly winter!\"");
				remove("Lock Lake");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Do come and visit again, Avatar!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(LORD_HEATHER);
	}
}

extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func044E object#(0x44E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		PAMELA->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		var0000 = PAMELA->get_npc_object()->get_schedule_type();
		if (gflags[0x00E4]) {
			if (gflags[0x00F0]) {
				add("Rayburt");
			}
		}
		if (!gflags[0x00EB]) {
			say("You see a friendly woman in her thirties.");
			gflags[0x00EB] = true;
		} else {
			say("\"Greetings, again!\" Pamela says.");
		}
		converse (0) {
			case "name":
				say("\"I am Pamela!\"");
				remove("name");
				if (gflags[0x00E4]) {
					add("Rayburt");
				}
				gflags[0x00F0] = true;
				fallthrough;

			case "job":
				say("\"I am the Innkeeper at the Out'n'Inn.\"");
				if ((var0000 == MAJOR_SIT) || (var0000 == LOITER)) {
					say("\"If thou wouldst like a room, just say so!\"");
					add("room");
				} else {
					// BUG: This should be var0000 == EAT_AT_INN
					if (EAT_AT_INN) {
						say("\"Please come by if thou wouldst like to rest thy weary feet for the night!\"");
					}
				}
				add("Out'n Inn");
				fallthrough;

			case "room":
				say("\"The room is quite inexpensive. Only 8 gold per person. Want one?\"");
				if (Func090A()) {
					var0001 = UI_get_party_list();
					var0002 = 0x0000;
					for (var0005 in var0001 with var0003 to var0004) {
						var0002 += 0x0001;
					}
					var0006 = var0002 * 0x0008;
					var0007 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var0007 >= var0006) {
						var0008 = UI_add_party_items(0x0001, 0x0281, 0x00FF, FRAME_ANY, true);
						if (!var0008) {
							say("\"Thou art carrying too much to take the room key!\"");
						} else {
							say("\"Here is thy room key. It is good only until thou leavest.\"");
							var0009 = UI_remove_party_items(var0006, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						}
					} else {
						say("\"Thou dost not have enough gold, eh? Too bad.\"");
					}
				} else {
					say("\"Another night, then.\"");
				}
				remove("room");
				fallthrough;

			case "Out'n Inn":
				say("\"Well... Cove is the city of Love and Passion, didst thou not know? Thou must be careful. If thou dost stay too long in Cove, thou wilt fall in love with someone! Mark my words!\"");
				remove("Out'n Inn");
				fallthrough;

			case "Rayburt":
				say("\"Oooh, he is such a wonderful man, dost thou not think? He is so intense and serious. Handsome, too! Oh, and\tI like Regal as well.\"");
				remove("Rayburt");
				add("Regal");
				fallthrough;

			case "Regal":
				say("\"As far as dogs go, he is handsome, too!\"");
				remove("Regal");
				fallthrough;

			case "bye":
				break;
		}
		say("\"See thee soon!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(PAMELA);
	}
}

extern void Func0951 0x951 ();
extern void Func092E 0x92E (var var0000);

void Func044F object#(0x44F) () {
	var var0000;

	if (event == DOUBLECLICK) {
		ZINAIDA->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		var0000 = ZINAIDA->get_npc_object()->get_schedule_type();
		if (gflags[0x00E4]) {
			if (gflags[0x00F1]) {
				add("De Maria");
			}
		}
		if (!gflags[0x00EC]) {
			say("This beautiful, earthy woman in her forties gives you a friendly smile.");
			gflags[0x00EC] = true;
		} else {
			say("\"Hello,\" Zinaida says.");
		}
		converse (0) {
			case "name":
				say("\"I am Zinaida,\" she says with a curtsey.");
				remove("name");
				if (gflags[0x00E4]) {
					add("De Maria");
				}
				gflags[0x00F1] = true;
				fallthrough;

			case "job":
				say("\"I am the owner and manager of The Emerald.\"");
				if (var0000 == WAITER) {
					say("\"If I can help thee with food or drink, please say so. I have never had a dissatisfied customer.\"");
					add(["drink", "food", "buy"]);
				} else {
					say("\"Please come to the pub when it is open and I shall be happy to serve thee!\"");
				}
				fallthrough;

			case "food":
				say("\"The Emerald is pleased to serve thee the finest cuisine this side of Britain. Thou mightest wish to try the special -- Silverleaf.\"");
				add("Silverleaf");
				fallthrough;

			case "Silverleaf":
				say("She winks at you. \"Some say it is a powerful aphrodisiac... It is delicious, regardless. It comes from the root of an exotic tree growing somewhere in Britannia.\"");
				remove("Silverleaf");
				fallthrough;

			case "drink":
				say("\"The Emerald serves only the best wine and ale. I cannot recommend the water, however. Thanks to Lock Lake.\"");
				add("Lock Lake");
				fallthrough;

			case "buy":
				Func0951();
				fallthrough;

			case "De Maria":
				say("\"He is the light of my life. A finer man does not exist.\" She beams.");
				remove("De Maria");
				fallthrough;

			case "Lock Lake":
				say("\"The stench has made our water taste terrible. That mining company must cease pouring their sewage into what was once a fine lake!\"");
				remove("Lock Lake");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Come again soon!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(ZINAIDA);
	}
}

extern var Func090A 0x90A ();
extern void Func0877 0x877 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0450 object#(0x450) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		DE_MARIA->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (gflags[0x00E3]) {
			add("Nastassia");
		}
		if (gflags[0x00E4]) {
			if (gflags[0x00F2]) {
				add("Zinaida");
			}
		}
		if (!gflags[0x00ED]) {
			say("This flamboyant bard exudes a festive aura.");
			say("\"I have sung about thee in many a song! And here thou art in the flesh! I recognized thee immediately.\" The man bows. \"Welcome, Avatar!\"");
			gflags[0x00ED] = true;
		} else {
			say("\"Greetings again, Avatar!\" De Maria bows.");
		}
		converse (0) {
			case "name":
				say("\"I am De Maria, the Bard.\"");
				remove("name");
				if (gflags[0x00E4]) {
					add("Zinaida");
				}
				gflags[0x00F2] = true;
				fallthrough;

			case "job":
				say("\"I spin tales and sing songs!\"");
				if (!gflags[0x00E3]) {
					say("\"I also know a good deal about the folks in Cove.\"");
					add(["tale", "song", "folks"]);
				}
				fallthrough;

			case "tale", "song", "folks":
				say("\"What if I combine all three? Shall I sing a song which is a tale about the people of Cove?\"");
				var0000 = Func090A();
				if (var0000) {
					say("\"Very well, then!\"");
					UI_push_answers();
					Func0877();
					UI_pop_answers();
				} else {
					say("\"'Tis thy choice... and thy mistake!\"");
				}
				remove(["tale", "song", "folks"]);
				fallthrough;

			case "Nastassia":
				say("\"Ah, dear Nastassia. Wouldst thou like to hear her tale?\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"Very well, then!\"");
					UI_push_answers();
					Func0877();
					UI_pop_answers();
					remove("Nastassia");
				} else {
					say("\"Oh. I thought thou wert curious. Never mind then.\"");
					remove("Nastassia");
				}
				fallthrough;

			case "Zinaida":
				say("\"My love! My flower! Mine angel! The provider of the sweetest nectar my mouth has ever known! She is the light of my day! The notes of my songs! The flesh of my...\"~~");
				var0002 = Func08F7(ZINAIDA);
				if (var0002) {
					ZINAIDA->say("\"Enough, my love. I think the Avatar dost know thy meaning!\"*");
					ZINAIDA->hide();
					DE_MARIA->show_npc_face(0x0000);
				}
				say("De Maria stops his reverie, sighs, and smiles at you. \"Thou dost apprehend my meaning...\"");
				remove("Zinaida");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Do take care of thyself!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(DE_MARIA);
	}
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func0909 0x909 ();
extern void Func087B 0x87B ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0451 object#(0x451) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	if (event == DOUBLECLICK) {
		ELYNOR->show_npc_face(0x0000);
		var0000 = UI_wearing_fellowship();
		var0001 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
		var0002 = Func0909();
		var0003 = UI_part_of_day();
		var0004 = ELYNOR->get_npc_object()->get_schedule_type();
		if (var0003 == NIGHT) {
			if (var0004 == PREACH) {
				say("\"It is time for the ceremony to begin.\" says Elynor.");
				Func087B();
			}
		}
		add(["name", "job", "bye"]);
		if (gflags[0x0087]) {
			add("Elizabeth and Abraham");
		}
		var0005 = Func08F7(GREGOR);
		if (var0005) {
			if (var0004 == MAJOR_SIT) {
				add("Gregor");
			}
		}
		if (gflags[0x0125]) {
			add("candelabra");
		}
		if (!gflags[0x010C]) {
			say("You see a woman whose cultured manner is tinged with a suggestion of arrogance.");
			gflags[0x010C] = true;
		} else {
			say("\"Art thou speaking to me, ",
				var0002,
				"?\" Elynor asks.");
		}
		converse (0) {
			case "name":
				say("She straightens her shoulders and looks you in the eye.~~\"I am Elynor.\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"I am the head counselor of the Fellowship branch here in Minoc. We are a society of spiritual seekers, dedicated to achieving our highest potential, advancing worthiness, unity and trust in our brothers.");
					if (!gflags[0x0096]) {
						say("\"Perhaps thou wouldst wish to join our Fellowship?\"");
						if (Func090A()) {
							say("\"This is indeed a great day for The Fellowship! Seek out Batlin in Britain.\tHe is our founder. Such a great honor as the acceptance of the Avatar into The Fellowship should properly\tbe reserved for him alone.\"");
						} else {
							say("\"I can see by the look in thine eyes that thou dost lack the courage to take this vital step in thy life. Perhaps one day soon thou shalt be ready.\"~~She looks down her nose at you. \"We shall see...\"");
						}
					} else {
						say("\"Ah-- but thou dost know all of this.\"");
					}
					if (gflags[0x008F] && (!(gflags[0x0109] || (gflags[0x0102] || gflags[0x011E])))) {
						say("\"I now recall a message Batlin sent to me. I have been expecting thee. Thou has been sent to deliver our package. Thou mayest relinquish it now.\"");
						add("deliver");
					}
					if (var0000 && (!gflags[0x0006])) {
						say("Elynor notices your medallion. \"I do not think thou shouldst be wearing the medallion yet. Thou hast not been properly inducted into The Fellowship! I am afraid I must inform Batlin of thy falsehood!\"");
					}
					add(["Minoc", "Fellowship"]);
				} else {
					say("\"Thou hast picked a most inappropriate time to engage in such casual conversation. Perhaps thou wouldst be interested knowing that there have been two murders discovered in this sawmill!\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "Minoc":
				if (!gflags[0x00F7]) {
					say("\"We should strive to put this business of the murders behind us. Minoc will soon be known throughout Britannia as a city where majestic ships are built. There\tis even going to be a statue erected in the center of town honoring our shipwright, Owen. He is a skilled and valued member of our community and, of course, a Fellowship member.\"");
					add(["murders", "Owen", "Fellowship"]);
				} else {
					say("\"Ours is not a great city, such as Britain, but it is widely known as a center of commerce and for its mine. The slight embarrassment of the legacy of Owen will fade in time.\"");
					add("Owen");
				}
				remove("Minoc");
				fallthrough;

			case "murders":
				say("\"I am saddened at the loss of life but cannot say I am surprised. Frederico and Tania were antagonistic people. The same may be said of most gypsies. I have nothing against them personally, of course.\"");
				add(["antagonistic", "gypsies"]);
				remove("murders");
				if (gflags[0x0040]) {
					add("Crown Jewel");
				}
				if (gflags[0x0043]) {
					add("Hook");
				}
				fallthrough;

			case "deliver":
				var0006 = false;
				var0007 = PARTY->find_object(0x031E, 0x0001, FRAME_ANY);
				var0008 = PARTY->find_object(0x031F, 0x0001, FRAME_ANY);
				var0009 = 0x0000;
				if (var0008) {
					var0009 = var0008->find_object(0x031D, 0x0008, FRAME_ANY);
				} else if (var0007) {
					var0009 = var0007->find_object(0x031D, 0x0008, FRAME_ANY);
				}
				if (var0009) {
					var0006 = true;
				}
				if (var0007 || var0008) {
					say("You produce the package and hold it before Elynor. Her eyes shift from you to the package and then back to you.~~\"Surely thou hast been instructed not to open\tthe package. Hast thou opened it nonetheless?\"");
					if (Func090A()) {
						say("\"Thou knowest well that thou wert instructed to deliver the package unopened. As a Fellowship member, thou dost understand that we must be worthy of the rewards we seek. As thou hast violated Batlin's trust, any payment is forfeited. He will be informed of this indiscretion, and he will not be pleased.\"~~She takes the box from your\thands.");
						if (var0007) {
							say("\"Nonsense. The package is still perfectly sealed.\" She stares at you suspiciously.~~ \"I know not why thou didst choose to claim that it was opened, but thou must learn better to trust thy brother. As the box is still intact, thou wilt receive thy reward, but thine actions will be reported. Be careful, my brother.\"");
							var000A = UI_add_party_items(0x0032, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							if (var000A) {
								say("She hands you 50 gold coins.");
								gflags[0x0109] = true;
								Func0911(0x01F4);
								var0009->remove_item();
								var0007->remove_item();
							} else {
								say("\"Thou cannot carry thy reward! My, thy travels have indeed been successful. Well, then, thou must endure a further test. Return the sealed box to me when thou canst tote the extra gold, and thou wilt be paid what thou dost deserve.\"");
							}
						} else {
							if (var0006) {
								say("She inspects the inside of the box.~~ \"Ah, good. The contents, at least, are still intact. The guilty one was only a victim of his own curiosity, and not truly a thief.\"~~She looks you up and down. \"It is quite possible that thou wilt still learn to be a worthy member of our illustrious Membership. We shall see.\"");
								var0009->remove_item();
								gflags[0x0102] = true;
								Func0911(0x01F4);
							} else {
								say("She inspects the inside of the box.~~ \"I see that the contents of the box are missing. Either thou art a thief, or, at the least, not very diligent in thy duty as a messenger. One way or the other, ",
									var0002,
									", the box hath been robbed!\"~~She looks you up and down. \"Batlin will be informed of this... development.\"");
								gflags[0x011E] = true;
								Func0911(0x01F4);
							}
							var0008->remove_item();
						}
					} else if (var0007) {
						var000A = UI_add_party_items(0x0032, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						if (var000A) {
							say("Elynor takes the package from your hands.~~\"Thou hast done very well. Now as promised, here is thy payment.\"");
							gflags[0x0109] = true;
							Func0911(0x01F4);
							var0009->remove_item();
							var0007->remove_item();
						} else {
							say("\"Thou cannot carry thy reward! My, thy travels have indeed been successful. Well, then, thou must endure a further test. Return the sealed box to me when thou canst tote the extra gold, and thou wilt be paid what thou dost deserve.\"");
						}
					} else {
						say("Elynor takes the package from you. Examining it, she immediately notices that it has been opened.~~\"^",
							var0002,
							"! The box is open! Certainly, one as diligent as thee could not have been robbed?\"");
						if (var0006) {
							say("She inspects the inside of the box.~~ \"Ah, good. The contents, at least, are still intact. The guilty one was only a victim of his own curiosity, and not truly a thief.\"~~She looks you up and down. \"It is quite possible that thou wilt still learn to be a worthy member of our illustrious Membership. We shall see.\"~~She sniffs. \"This will, of course,\tbe reported to Batlin.\"");
							var0009->remove_item();
							gflags[0x0102] = true;
							Func0911(0x01F4);
						} else {
							say("Peering inside, she is beset by a fit of anger. \"It would appear thou hast been robbed. Obviously, as thou hast failed in the responsibility entrusted to thee by Batlin, thou shalt not receive any payment.\"~~\"Batlin will be informed of this indiscretion.\"");
							gflags[0x011E] = true;
							Func0911(0x01F4);
						}
						var0008->remove_item();
					}
				} else {
					say("\"Dost thou not have it with thee at this time? Thou wilt not be paid until thou dost deliver it unto mine own hand. I do hope thou hast secreted it in a safe place.\"");
				}
				remove("deliver");
				fallthrough;

			case "Owen":
				if (!gflags[0x00F7]) {
					say("\"He is a classic example of The Fellowship making a vast difference in a person's life. Before he joined The Fellowship, he was without confidence and ready to put aside his trade. Now he stands on the verge of being recognized as the finest at his craft in the world.\"");
				} else {
					say("Elynor rolls her eyes. \"Oh, please!\" she says, sounding exasperated. \"I do not concern myself with ones such as him these days.\"");
				}
				remove("Owen");
				fallthrough;

			case "antagonistic":
				say("\"Frederico and Tania treated all members of our Fellowship as if we were diseased. Frederico particularly would often bully our members. Thou dost know, it is common knowledge that we are pacifists. He had a reputation for cruelty, even among his own people. It is not surprising he came to a violent end.\"");
				remove("antagonistic");
				fallthrough;

			case "Fellowship":
				say("\"The Fellowship is highly regarded in Minoc. Why, even the Mayor himself is a member. I brought him into The Fellowship myself. He was the first new member of our local branch. Gregor, the head of The Fellowship here, directs the Britannian Mining Company. Many Fellowship members pass through Minoc.\"");
				remove("Fellowship");
				fallthrough;

			case "Elizabeth and Abraham":
				if (!gflags[0x0217]) {
					say("\"Thou hast just missed them! They were here collecting funds. They have moved on to Paws to visit our Shelter there.\"");
					gflags[0x0105] = true;
				} else {
					say("\"I have not seen Elizabeth or Abraham since they were here last.\"");
				}
				remove("Elizabeth and Abraham");
				fallthrough;

			case "Hook":
				if (var0001) {
					say("The Cube vibrates. \"Hook lives somewhere on Buccaneer's Den. I do not know where.\"");
				} else {
					say("\"A man with a Hook? I am certain I would remember having seen anyone like that, and I am positive that does not match the description of any Fellowship member this branch has ever come in contact with.\"");
				}
				remove("Hook");
				fallthrough;

			case "Crown Jewel":
				if (var0001) {
					say("The Cube vibrates. \"That is Hook's ship. I have not seen it in some time.\"");
				} else {
					say("\"Many ships come and go in our busy port. I do not know of any one specific ship. Perhaps thou shouldst ask Owen.\"");
				}
				remove("Crown Jewel");
				fallthrough;

			case "Gregor":
				say("\"Thou dost dare to spy upon Gregor and I as we share our moments together?! Dost thou have no decency?! Gregor and I have a right to privacy the same as do any lovers!\"");
				remove("Gregor");
				fallthrough;

			case "candelabra":
				if (var0001) {
					say("The Cube vibrates. \"The candelabra was left at the murder site by mistake. Hook and Forskis are getting careless.\"");
				} else {
					say("\"Yes, The Fellowship commissioned Xanthia to create a candelabra which thou dost describe. Its design incorporates our three tenets: 'U' for Unity, 'T' for Trust, and 'W' for Worthiness.\"");
					say("You tell Elynor that it was found at the murder site. Elynor registers surprise.");
					say("\"I cannot imagine why it was there. Someone must be trying to implicate The Fellowship!\"");
					say("She thinks a moment.");
					say("\"If thou didst ask it of me, I would wager that Frederico and Tania were murdered by their own people, and another gypsy placed the candelabra at the site to implicate us. Those gypsies would kill their own mother if it meant gaining a bit of gold!\"");
				}
				remove("candelabra");
				fallthrough;

			case "gypsies":
				say("\"They have set up camp southeast of town. Near the sawmill. That is suspicious, dost thou not think?\"");
				remove("gypsies");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I have a feeling that we shall see each other again.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(ELYNOR);
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0452 object#(0x452) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		GREGOR->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = GREGOR->get_npc_object()->get_schedule_type();
		if (var0000 == NIGHT) {
			if (var0001 == MAJOR_SIT) {
				var0002 = Func08FC(GREGOR, ELYNOR);
				if (var0002) {
					say("Gregor is busy concentrating on the Fellowship meeting and cannot talk now.*");
					abort;
				}
				say("\"No time for idle chatter! I must get to the Fellowship Meeting! I am late!\"*");
				abort;
			}
		}
		var0003 = Func0909();
		add(["name", "job", "bye"]);
		var0004 = Func08F7(ELYNOR);
		if (var0004) {
			if (var0000 == MIDNIGHT) {
				if (var0001 == MAJOR_SIT) {
					add("Elynor");
				}
			}
		}
		if (!gflags[0x010D]) {
			say("You see an old man whose domineering disposition matches the hardened physique of his aged body.");
			gflags[0x010D] = true;
		} else {
			say("\"Art thou addressing me?\" Gregor scowls.");
		}
		converse (0) {
			case "name":
				say("\"My name is Gregor.\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"I am in charge of the Minoc branch of the Britannian Mining Company.\"");
					add(["Minoc", "Britannian Mining Company"]);
				} else {
					say("\"Art thou fevered, ",
						var0003,
						"? Dost thou not realize why we have gathered at this spot? 'Tis shameful, thine unaffected manner in the presence of such tragedy!\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "Minoc":
				say("\"Our town is a major center of trade in Britannia, and it is a place of social change.\"");
				remove("Minoc");
				add(["trade", "social change"]);
				fallthrough;

			case "Britannian Mining Company":
				say("\"The Britannian Mining Company produces a wide variety of minerals that are essential to the continuation of progress in\tBritannia.\"");
				remove("Britannian Mining Company");
				fallthrough;

			case "trade":
				say("\"Here in Minoc we have one of the largest mining operations in Britannia, a sawmill, an inn, the Artist's Guild, and a shipwright.\"");
				add(["sawmill", "inn", "Artist's Guild", "shipwright"]);
				remove("trade");
				fallthrough;

			case "social change":
				say("\"Here in Minoc we are erecting a monument to our good shipwright Owen, a master craftsman whose name will soon be known throughout Britannia. We also have a very active Fellowship branch.\"");
				remove("social change");
				add(["monument", "Fellowship"]);
				fallthrough;

			case "sawmill":
				say("\"A long-standing and profitable business. A shame it will become more renowned for the murders that were committed there than for any of the fine work it does.\"");
				remove("sawmill");
				fallthrough;

			case "inn":
				say("\"The Checquered Cork is famous for its rustic character and atmosphere. It is a fine place. Do not be put off by its apparent uncleanliness.\"");
				remove("inn");
				fallthrough;

			case "Artist's Guild":
				say("\"The Artist's Guild is a small collection of craftspeople who have huddled together to sell their little trinkets. They pride themselves on being the local dissenters of everything.\"");
				remove("Artist's Guild");
				fallthrough;

			case "shipwright":
				say("\"I may have already mentioned Owen, the shipwright. He builds the finest ships that have ever set sail.\"");
				remove("shipwright");
				fallthrough;

			case "monument":
				say("\"I helped to organize things with Mayor Burnside to get the monument built.\"");
				if (!gflags[0x00F7]) {
					say("\"It will be huge and made of the finest ore from our mine.\"");
				}
				remove("monument");
				fallthrough;

			case "Fellowship":
				say("\"They have done immeasurable good for Minoc, helping to counter the disunity that can plague a town such as ours where so many people are fixated upon monetary gain.\"");
				remove("Fellowship");
				fallthrough;

			case "murders":
				say("\"It is terrible! The gypsies Frederico and Tania have been found murdered in William's sawmill!\"");
				remove("murders");
				fallthrough;

			case "Elynor":
				say("\"Leave us in peace, damn thee! Elynor and I are in love and we wish to be alone together! Find thy cheap excitations elsewhere!\"");
				remove("Elynor");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Be on thy way then.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(GREGOR);
	}
}

extern var Func090A 0x90A ();
extern void Func08BA 0x8BA ();

void Func0453 object#(0x453) () {
	var var0000;
	var var0001;

	if (event == PROXIMITY) {
		abort;
	}
	MARGARETA->show_npc_face(0x0000);
	var0000 = UI_wearing_fellowship();
	add(["name", "job", "bye"]);
	if (gflags[0x00FE]) {
		add(["murders", "Frederico", "Tania"]);
	}
	if (gflags[0x00FF]) {
		add("Sasha");
	}
	if (!gflags[0x010E]) {
		say("You see a young, bewitching gypsy woman with wise, soul-peering eyes.");
		gflags[0x010E] = true;
	} else {
		say("\"Thou vishest to speak vith me again?\" Margareta asks.");
		var0001 = Func090A();
		if (var0001) {
			say("\"Very vell.\"");
		} else {
			say("\"Very vell.\"*");
			abort;
		}
	}
	converse (0) {
		case "name":
			say("\"Margareta at thy service,\" she speaks slowly.");
			remove("name");
			fallthrough;

		case "job":
			say("The gypsy woman smiles slightly. \"To tell thy destiny.\"");
			add("destiny");
			fallthrough;

		case "murders":
			say("\"I knew it vould happen. I varned Frederico. He vouldn't listen.\"");
			remove("murders");
			fallthrough;

		case "Frederico":
			say("\"He vas my brother-in-law. His death makes me very sad.\"");
			remove("Frederico");
			add("husband");
			fallthrough;

		case "Tania":
			say("\"She vas Frederico's vife, but thou dost know that already, no? She vas a good voman.\"");
			remove("Tania");
			fallthrough;

		case "Sasha":
			say("Margareta is silent a moment.~~\"He has been led astray. It is unfortunate that he vill realize his mistake only as a result ov the death ov his parents.\"");
			add(["astray", "mistake"]);
			remove("Sasha");
			fallthrough;

		case "astray":
			say("\"There are many, many others like Sasha who have been led astray. For them, I see no future.\"");
			remove("astray");
			fallthrough;

		case "mistake":
			say("\"Thou dost know vhat I mean.");
			if (gflags[0x0006]) {
				say("\"Thou art a member thyself.\"");
			} else {
				say("\"The Fellowship.\"");
			}
			add("Fellowship");
			remove("mistake");
			fallthrough;

		case "Fellowship":
			if (var0000 && (!gflags[0x0006])) {
				say("Margareta sees your medallion and raises her eyes.");
				say("\"I see thou art vearing vone ov their medallions, but thou art not truly a member, art thou? Bevare -- there are those in The Fellowship that vill see through thy deception.\"");
			}
			if (gflags[0x0006]) {
				say("\"Thou vilt soon be enlightened about their true nature.\"");
			} else {
				say("\"Thou shalt learn more about them in due time.\"");
			}
			remove("Fellowship");
			fallthrough;

		case "destiny":
			Func08BA();
			remove("destiny");
			fallthrough;

		case "husband":
			say("\"Jergi is mine husband, ov course. Now he has the veight ov guiding the gypsy race in these\ttroubled times.\"");
			remove("husband");
			fallthrough;

		case "bye":
			break;
	}
	say("\"Fairvell. Go in peace.\"*");
}

extern var Func0909 0x909 ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();

void Func0454 object#(0x454) () {
	var var0000;

	if (event == PROXIMITY) {
		abort;
	}
	SASHA->show_npc_face(0x0000);
	var0000 = Func0909();
	add(["name", "job", "bye"]);
	if (!gflags[0x010F]) {
		say("You see a young gypsy lad. He is wearing a Fellowship medallion. His eyes look down and his expression is one of extreme sorrow.");
		gflags[0x010F] = true;
	} else {
		say("Sasha looks up. \"Good day to thee, ",
			var0000,
			".\"");
	}
	converse (0) {
		case "name":
			say("\"My name is Sasha.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"I am too young to have a job. I am a gypsy as my parents vere gypsies. I am also a member of The Fellowship.\"");
			add(["parents", "gypsies", "Fellowship"]);
			fallthrough;

		case "parents":
			say("\"My parents - Frederico and Tania - vere murdered. I do not know vhy anyone vould vant to harm them.\" The words choke out of the boy. Suddenly he is overwhelmed by grief and is unable to speak further.");
			remove("parents");
			add("murders");
			fallthrough;

		case "murders":
			say("\"It happened at the sawmill in Minoc.\"");
			remove("murders");
			fallthrough;

		case "Fellowship":
			Func0919();
			say("\"For the past veek I have been avay from home doing vork for The Fellowship.\"");
			remove("Fellowship");
			fallthrough;

		case "philosophy":
			Func091A();
			remove("philosophy");
			fallthrough;

		case "gypsies":
			say("\"I have returned to be vith Margareta and Jergi to grieve for my parents. They did not approve of my joining The Fellowship but I know that they vere concerned out of their love for me, just as I loved them.\"");
			remove("gypsies");
			add(["Margareta", "Jergi"]);
			fallthrough;

		case "Margareta":
			say("\"She is very vise and knows many things but vhen I asked her if I should go back to The Fellowship or stay with them she did not answer me.\"");
			remove("Margareta");
			fallthrough;

		case "Jergi":
			say("\"He vas my father's brother. He is a good man and vise. Now he is the leader of our people. He vill do what is right for us.\"");
			if (!gflags[0x011B]) {
				say("\"Perhaps thou shouldst talk vith him.\"");
			}
			remove("Jergi");
			fallthrough;

		case "bye":
			break;
	}
	say("The lad stoically nods and turns away.*");
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0455 object#(0x455) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		GLADSTONE->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (!gflags[0x0110]) {
			say("You see a handsome craftsman with an intense, piercing gaze.");
			gflags[0x0110] = true;
		} else {
			say("Gladstone shakes your hand and you can feel just a trace of sculptor's clay clinging to his palm. Although he hardly knows you, he treats you like an old friend.");
		}
		converse (0) {
			case "name":
				say("\"My name is Gladstone, ",
					var0000,
					". At thy service.\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"I am a glassblower and a sculptor. I make mostly bottles and bowls. But in my time I have constructed all manners of statuary out of glass as well.\"");
					add(["glass", "Artist's Guild", "Minoc"]);
				} else {
					say("The man's eyes study you for a moment. \"Thou dost not know what has happened? William, our local Sawyer found two gypsies murdered in his sawmill.\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "Minoc":
				say("\"There is active commerce here in Minoc sufficient to keep the Artist's Guild financially solvent. But in recent weeks I have come to fear we may not keep it going for very much longer. Unlike The Fellowship or Owen's monument, we do not have much political power. Now other events make our troubles seem less important.\"");
				remove("Minoc");
				add(["Fellowship", "monument", "power", "events"]);
				fallthrough;

			case "power":
				say("\"The Artist's Guild is taxed mercilessly by the Britannian Tax Council. Even in our best year it is a struggle to make ends meet. It seems that we are not considered important enough to be given an even chance.\"");
				remove("power");
				fallthrough;

			case "events":
				say("\"Surely thou hast heard about the murders of Frederico and Tania?!\"");
				remove("events");
				add("murders");
				fallthrough;

			case "Artist's Guild":
				say("\"The Artist's Guild is a group of local craftsmen. We sell our wares here in Minoc. While we are organized as a guild of equal members, I am tentatively the Guild head.\"");
				remove("Artist's Guild");
				fallthrough;

			case "murders":
				say("\"I shudder to think such foul deeds are so freely committed in our fair town. Art thou investigating it? I wish thee all success in tracking the culprit. I barely knew Frederico or Tania, but I did meet their son Sasha once.\"");
				add("Sasha");
				remove("murders");
				fallthrough;

			case "Sasha":
				say("\"He befriended Seara and stayed the night with us once. He seemed like a nice young man, but misguided.\"");
				remove("Sasha");
				fallthrough;

			case "Fellowship":
				say("\"We do not get along very well with those people. I believe we have been unofficially marked as enemies of The Fellowship ever since all of the members of the Artist's Guild refused Elynor's invitation to join. They dislike us because they consider us to be indisposed toward Unity.\"");
				if (var0001) {
					say("\"Dost thou think of us as thine enemy?\"");
					var0002 = Func090A();
					if (var0002) {
						say("\"Then get out of my sight! I do not wish to speak with thee!\"");
						abort;
					}
					say("\"Then I shall give thee the benefit of the doubt for now. But know that I do what I must to protect our Guild.\"");
				}
				remove("Fellowship");
				fallthrough;

			case "monument":
				if (!gflags[0x00F7]) {
					say("\"Owen the shipwright is commissioning a statue of himself to be built in the center of town. The Artist's Guild decided to have nothing to do with this foolishness, of course. But just the word of this statue has spread and now orders are coming in from all over Britannia. Merchants want to have a ship built by the 'famous' Owen, master shipwright of Minoc.\"");
					add("statue");
				} else {
					say("\"Oh, yes, that reminds me! I cannot speak for long, I'm afraid. There is, after all, that barren slab in the center of town with nothing for it now. The Mayor has commissioned us to create something to fill the empty space. I don't want to say anything about it other than it's going to be wonderful. It will not be ready for quite a while but once it is, I hope thou wilt be able to return to Minoc then and see it. In better times perhaps. Farewell, then.\"*");
					abort;
				}
				remove("monument");
				fallthrough;

			case "statue":
				say("\"I fear we have grievously miscalculated by thinking that if we boycotted the statue, it would not be built. It seems all the talk of it has made Owen into some sort of bizarre legend around this area, and the bloody statue hasn't even gone up yet! But that, I fear, is not the worst of the situation.\"");
				remove("statue");
				add("worst");
				fallthrough;

			case "worst":
				say("\"Once the statue is built, orders for ship-building are bound to increase even more! It won't take long before all local commerce will become affected by it. Owen will be purchasing more of the local resources, which will cause prices to rise, especially at the sawmill, and that will surely force the Artist's Guild into bankruptcy.\"");
				remove("worst");
				fallthrough;

			case "glass":
				say("\"I regret that I do not have any of my work for sale at present. Like our other artists I have a backlog of orders that will keep me busy for the foreseeable future. But there are several examples of my work, of which I am most proud, in the Guild Hall on display. If thou art interested, please have a look at them.\"");
				remove("glass");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good journey, my friend.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(GLADSTONE);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0456 object#(0x456) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		XANTHIA->show_npc_face(0x0000);
		var0000 = Func0909();
		if (!gflags[0x0111]) {
			say("You see a cheerful woman with bright eyes and blonde hair.");
			gflags[0x0111] = true;
		} else {
			say("\"Hello again, ",
				var0000,
				".\" says Xanthia.");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("\"Hello, my name is Xanthia.\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"I am a member of the Artist's Guild in Minoc. I make and sell candelabras.\"");
					add(["Artist's Guild", "Minoc", "candelabras"]);
				} else {
					say("\"If thou wouldst not mind, we can perhaps get to know each other during a more sociable occasion! Two people have been recently murdered over at William's sawmill! This is hardly the time to get to know someone!\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "Artist's Guild":
				say("\"We are a guild of artists and craftspeople united for the common good and dedicated to the advancement of the arts, as well as showing other artists that it is possible to exist solely by thine own efforts without sacrificing thy creativity.\"");
				remove("Artist's Guild");
				fallthrough;

			case "candelabras":
				say("\"I make simple candelabras, but sometimes I will do commissioned work, making more specific ones. I was hired by The Fellowship to make the candelabras for all of their Fellowship halls.\"");
				remove("candelabras");
				add("Fellowship");
				fallthrough;

			case "Fellowship":
				say("\"Elynor, the head of the local Fellowship branch, showed me a picture of the Fellowship symbol and I based the design for my candelabra on that.\"");
				remove("Fellowship");
				add("Elynor");
				if (gflags[0x0122]) {
					add("candelabra at murder site");
				}
				fallthrough;

			case "Elynor":
				say("\"Yes, she's quite a recruiter. Why, she got Burnside, our Mayor, to join, as well as Gregor, the local head of the Britannian Mining Company, and Owen, our shipwright. He is soon to be famous, I am sorry to say. She has never asked me to join, thank goodness.\"");
				remove("Elynor");
				add("Owen");
				fallthrough;

			case "candelabra at murder site":
				say("You describe the candelabra found at the murder scene to Xanthia. Her eyes widen with recognition. \"Yes, that is one of the candelabras I made. 'Twas in the sawmill at the murder site?\"");
				var0001 = Func090A();
				if (var0001) {
					say("Xanthia looks shocked. \"How horrible! I swear I do not know how it could have gotten there! Thou shouldst certainly ask Elynor about it!\"");
				} else {
					say("She gives you a slightly cross look. \"Well, I hope that thou didst not steal it from Elynor.\"");
				}
				gflags[0x0125] = true;
				remove("candelabra at murder site");
				fallthrough;

			case "Minoc":
				say("\"With the success of the mine, Minoc is a prosperous city. Not a place where one is used to having murders happen. A good place for our Artist's Guild to do well. But things have always been hard for us here. Now I fear they may get worse.\"");
				remove("Minoc");
				add(["worse", "murders"]);
				fallthrough;

			case "worse":
				say("\"That is what Gladstone says. Thou hadst better ask him about it.\"");
				remove("worse");
				fallthrough;

			case "murders":
				say("\"It is so terrible! I never knew Frederico or Tania personally, but I did meet their son, Sasha, once. He was a nice boy, if somewhat misguided. He spent the night with us once at the Artist's Guild, as a guest of Seara.\"");
				gflags[0x00FE] = true;
				remove("murders");
				fallthrough;

			case "Owen":
				say("\"They are to build a monument to Owen for some reason or another. Owen and Elynor refuse to use anyone from the Guild to help build it! Rather rude of them, dost thou not think?\"");
				remove("Owen");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell, ",
			var0000,
			". I hope I was of some assistance to thee.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(XANTHIA);
	}
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0952 0x952 ();
extern void Func0953 0x953 ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0457 object#(0x457) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		ZORN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = ZORN->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		var0003 = Func0931(PARTY, 0x0001, 0x02D8, QUALITY_ANY, FRAME_ANY);
		if (var0003) {
			add("Caddellite");
		}
		if (!gflags[0x0112]) {
			say("You see a man whose long hours of difficult, smouldering work have frozen his face into a rigid expression with eyes like hot coals.");
			gflags[0x0112] = true;
		} else {
			say("\"How may I serve thee?\" says Zorn.");
		}
		converse (0) {
			case "name":
				say("\"I am Zorn.\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"I am the blacksmith of Minoc.\"");
					add(["blacksmith", "Minoc"]);
				} else {
					say("\"Dost thou have no respect for the dead? Indeed, trying to solicit at a terrible time like this! When people have been found murdered over at William's sawmill!\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "blacksmith":
				say("\"I make weapons and armour.\"");
				remove("blacksmith");
				add("weapons and armour");
				fallthrough;

			case "Minoc":
				say("\"Minoc is quite a city. Money changes hands here. But it does not keep people happy. They find something to squabble over. And now these terrible murders have everyone afraid.\"");
				remove("Minoc");
				add(["squabble", "murders"]);
				fallthrough;

			case "weapons and armour":
				if (var0002 == BLACKSMITH) {
					say("\"All of the weapons and armour I sell are made by mine own hand. They would serve thee well.\"");
					add(["buy weapons", "buy armour"]);
				} else {
					say("\"Perhaps we could speak more of these things another time. Say, perhaps during the business hours of my shop?\"");
				}
				remove("weapons and armour");
				fallthrough;

			case "buy weapons":
				if (!(var0002 == BLACKSMITH)) {
					say("\"The smithy is currently closed for outside business. Thou shalt have to return some other time.\"");
				} else {
					say("\"I have an assortment of very lethal weapons to show thee.\"");
					Func0952();
				}
				fallthrough;

			case "buy armour":
				if (!(var0002 == BLACKSMITH)) {
					say("\"The smithy is currently closed for outside business. Thou shalt have to return some other time.\"");
				} else {
					say("\"Thou mayest buy fine armour from me.\"");
					Func0953();
				}
				fallthrough;

			case "squabble":
				say("\"This noise over Owen's monument, for instance. People ought to tend to their own business and let others handle their own, foolish or not.\"");
				add(["Owen", "monument"]);
				remove("squabble");
				fallthrough;

			case "Owen":
				say("\"He is our town shipwright. He is a man who has an exceedingly high opinion of himself.\"");
				remove("Owen");
				fallthrough;

			case "monument":
				say("\"Owen is building a monument to himself. It is forty feet tall, depicting him holding up a roll of plans. Pigeons will have a place to sit, forevermore. Why argue over something as unimportant as that?\"");
				remove("monument");
				fallthrough;

			case "murders":
				say("\"No one in this town ever really hated the gypsies, at least not that I have ever been aware of. Who could have done such a thing?\"");
				remove("murders");
				fallthrough;

			case "Caddellite":
				say("You present the Caddellite to Zorn. \"This is amazing! Why I thought that the only place to find Caddellite was the lost island of Ambrosia. What should I make with this?\"");
				remove("Caddellite");
				add("helmet");
				fallthrough;

			case "helmet":
				say("You describe the sort of helmet that you require, one that can block out the dangerous sound from the cube generator. Zorn nods. \"Yes, I can make some for thee. I shall start work immediately.\"");
				var0004 = UI_get_array_size(UI_get_party_list());
				var0005 = PARTY->count_objects(0x02D8, QUALITY_ANY, FRAME_ANY);
				if (var0005 == 0x0000) {
					say("\"But thou dost not have any Caddellite chunks with which to make helmets!\"");
				}
				if (var0004 > var0005) {
					say("\"Thou hast ",
						var0004,
						" in thy party. I am afraid thou does not have enough Caddellite for me to make that many helmets.\"");
				} else {
					var0006 = UI_remove_party_items(var0005, 0x02D8, QUALITY_ANY, FRAME_ANY, false);
					if (var0005 == 0x0001) {
						say("Zorn takes the Caddellite from you and begins his work.");
					} else {
						say("\"Thou hast ",
							var0005,
							" Caddellite chunks. That is how many helmets I can make for thee.\"");
					}
					say("Zorn takes the Caddellite from you and begins his work. You watch in fascination as the master blacksmith softens the ore in the fire, then molds it into\tshape. Zorn quickly takes the necessary measurements, then makes some adjustments with the hot material. Finally, it is done.");
					if (var0005 == 0x0001) {
						say("Zorn dips the helmet in water to cool it.");
					} else {
						say("Zorn dips the helmets in water to cool them.");
					}
					var0007 = UI_add_party_items(var0005, 0x027E, QUALITY_ANY, FRAME_ANY, false);
					if (var0007) {
						gflags[0x0106] = true;
						Func0911(0x00C8);
						say("\"Here, I have met thy request to thy precise specifications.\"");
						if (var0005 == 0x0001) {
							say("He hands you the helmet.");
						} else {
							say("He hands you the helmets.");
						}
					} else {
						say("\"Thou art too encumbered!\"");
					}
				}
				remove("helmet");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		var0002 = ZORN->get_npc_object()->get_schedule_type();
		if (var0002 == BLACKSMITH) {
			var0008 = UI_die_roll(0x0001, 0x0004);
			if (var0008 == 0x0001) {
				var0009 = "@Weapons?@";
			}
			if (var0008 == 0x0002) {
				var0009 = "@Armour?@";
			}
			if (var0008 == 0x0003) {
				var0009 = "@Helms? Shields?@";
			}
			if (var0008 == 0x0004) {
				var0009 = "@Need armour or weapons?@";
			}
			ZORN->item_say(var0009);
		} else {
			Func092E(ZORN);
		}
	}
}

extern var Func0909 0x909 ();
extern void Func0919 0x919 ();
extern void Func092E 0x92E (var var0000);

void Func0458 object#(0x458) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		SEARA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		var0002 = UI_part_of_day();
		add(["name", "job", "bye"]);
		if (!gflags[0x0113]) {
			say("You see a handsome, creative-looking young man.");
			gflags[0x0113] = true;
		} else {
			say("\"Greetings, ",
				var0000,
				",\" says Seara.");
		}
		converse (0) {
			case "name":
				say("\"I am called Seara, ",
					var0000,
					". A pleasure to meet thee.\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"I am a member of our local Artist's Guild here in Minoc.\"");
					add(["Artist's Guild", "Minoc"]);
				} else {
					say("\"Please, ",
						var0000,
						", now is not the time to speak in such a casual way! Why, not far from this very spot there have been not one, but two murders committed!\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "Artist's Guild":
				say("\"Yes, we have an Artist's Guild here in Minoc. I am a member. The other members are Xanthia and Gladstone. Thou canst purchase some of the finest crafts available anywhere in Britannia there. I, for example, make clocks.\"");
				add(["Xanthia", "Gladstone", "clocks"]);
				remove("Artist's Guild");
				fallthrough;

			case "Xanthia":
				say("\"Xanthia is a very talented young woman. She makes very elaborate and distinctive candelabras.\"");
				remove("Xanthia");
				fallthrough;

			case "Gladstone":
				say("\"Gladstone is a sculptor and a glassblower. He also is in charge of most of the business decisions for the Guild.\"");
				remove("Gladstone");
				fallthrough;

			case "clocks":
				say("\"I make all types of clocks and watches that tell the time reliably to the second. I would be happy to sell thee one but right now I have a two year backlog to fill.\"");
				remove("clocks");
				fallthrough;

			case "Minoc":
				say("\"Until the monument was to be built and now these murders I believed this town to be a good place to live.\"");
				remove("Minoc");
				add(["monument", "murders"]);
				fallthrough;

			case "murders":
				say("\"It is horrible. Frederico and Tania were looking for their son, Sasha. He had run away to join the Fellowship. How could this have happened to them?\" Seara slowly shakes his head.");
				remove("murders");
				add("Sasha");
				fallthrough;

			case "Sasha":
				if (!gflags[0x00FF]) {
					say("\"I met him a few weeks ago when he came to town looking for the local Fellowship branch. I once let him stay the night at the Guild Hall. He said his father would beat him if he knew he was thinking of joining The Fellowship and I believed him. Sasha's father could be a cruel man. He is basically a good lad, just looking for the truth like a lot of us are. Unfortunately, he is looking in the wrong place.\"");
					remove("Sasha");
					add(["gypsies", "Fellowship"]);
					gflags[0x00FF] = true;
				} else {
					say("\"I have not seen or heard of Sasha since we last spoke of him. I do not know if he ever joined The Fellowship.\"");
					remove("Sasha");
					add("Fellowship");
				}
				fallthrough;

			case "gypsies":
				say("\"Their camp is just outside of town. There are not too many of them left. I understand that Sasha's aunt, Margareta, is an amazing fortune teller. For a few gold coins, she can tell thee many things that may be very useful to thee.\"");
				remove("gypsies");
				fallthrough;

			case "Fellowship":
				if (var0001) {
					say("\"No offense intended to thee, but I do not share thy beliefs. In fact I think few of the members of thy Fellowship are sincere in all their talk of unity, trust and worthiness. But Sasha is old enough to make up his mind for himself, though I regret not sending him home that night.\"");
				} else {
					Func0919();
					say("\"No, I am not a member or anything like that, but I have heard the basic speech from Sasha so many times that I have it memorized. I never tried to dissuade him from joining The Fellowship even though I have no belief in it. I think Sasha is old enough to start making his decisions for himself. Now I truly regret not sending him home the moment I saw him.\"");
					remove("philosophy");
				}
				remove("Fellowship");
				fallthrough;

			case "monument":
				say("\"That shipwright Owen is a self-righteous fool. His statue will be nothing more than a monument to all the hurtful bad feelings he has caused in this town. I cannot believe that such a meaningless and obvious charade\tcould jeopardize our Guild's future.\"");
				remove("monument");
				add("future");
				fallthrough;

			case "future":
				say("\"Thou hadst best ask Gladstone about that.\"");
				remove("future");
				fallthrough;

			case "bye":
				break;
		}
		say("\"A pleasant day to thee, ",
			var0000,
			". Do come see us again.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(SEARA);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func0459 object#(0x459) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == PROXIMITY) {
		abort;
	}
	KARL->show_npc_face(0x0000);
	var0000 = Func0909();
	var0001 = false;
	var0002 = UI_wearing_fellowship();
	add(["name", "job", "bye"]);
	if (gflags[0x0124]) {
		if (gflags[0x00F8]) {
			add(["brother"]);
			var0001 = true;
		}
	}
	if (!gflags[0x0114]) {
		say("You see a mountain man who appears to have been in the wilderness a long time. He gives you a long look, then he snorts and looks away.");
		gflags[0x0114] = true;
	} else {
		say("\"What dost thou want? Leave me alone!\"");
	}
	converse (0) {
		case "name":
			say("\"I am not in the habit of speakin' to strangers but seein' as how thou dost not appear to be very intelligent, I shall humor thee for now. My name is Karl, formerly of Minoc.\"");
			gflags[0x0124] = true;
			if (gflags[0x00F8]) {
				if (!var0001) {
					add(["brother"]);
				}
			}
			remove("name");
			add("Minoc");
			fallthrough;

		case "job":
			say("\"Job?! Art thou mad, ",
				var0000,
				"?! Firstly, if thou dost wish to offer me employment I have no interest in it. Secondly, if thou dost wish to hire my services for anything for any reason, then I reject thine offer most enthusiastically. Thirdly, if thou dost wonder what my job is, then wonder no more for I have not one.\tFourth and lastly, if thou dost wonder why I have no job then stop it right now because it is none of thy business!\"*");
			abort;

		case "Minoc":
			say("\"Do not ask me of Minoc, the filthy little town of Fellowship fools, casual murders and monuments to incompetence. I do not even live here and I would not if thou didst pay me!\"");
			remove("Minoc");
			add(["murders", "monument", "Fellowship"]);
			fallthrough;

		case "murders":
			say("\"Hmmph. Why should that be any concern of mine? People kill each other every day. Oh, thou art investigating the crime! Well, do not let me keep thee from it. After thou dost catch the murderer thou canst build a statue of him.\"");
			remove("murders");
			fallthrough;

		case "Fellowship":
			if (var0002) {
				say("\"Gads! Thou dost want me to join! Away from me, thou dolt!\"*");
				abort;
			}
			say("\"Do I look like a member of The Fellowship to thee? I do not even know what The Fellowship is! And I do not care!\"*");
			abort;

		case "monument":
			say("\"Owen, the shipwright, dost deserve to have a monument built to him. It should be in the shape of a gallows and it should have him hanging from it.\"*");
			abort;

		case "brother":
			say("\"My brother - mine only family in the world - served aboard a ship built by Owen. The ship was one of several that sank three years ago during the first storm it ever encountered. My brother went down with it and was never seen again.\"");
			remove("brother");
			add(["Owen", "several ships"]);
			fallthrough;

		case "Owen":
			say("\"I confronted Owen with this and he denied that it had anything to do with his workmanship. I returned that night and stole the plans he had drafted, so at least no other ships would ever be built like them again. But it left me so angry at the world that I knew I could not live among people ever again. I went away to live up in the mountains. The only times I ever come back are to fetch a few supplies and maybe have a drink of Rutherford's fine ale once in a while.\"");
			remove("Owen");
			add(["plans", "fine ale"]);
			fallthrough;

		case "several ships":
			say("\"Three other ships that were built from Owen's basic designs all sunk within the first year of their launch. Over a dozen lives were lost due to that vainglorious bastard!\"");
			remove("several ships");
			fallthrough;

		case "fine ale":
			say("\"If not for Rutherford's fine ale, there would no purpose to the existence of civilization.\"");
			remove("fine ale");
			fallthrough;

		case "plans":
			say("\"I still have those plans up in my cabin. Every once in a while I try to figure them out. I suspect no one in town, save for Owen himself, could understand them. Maybe Julia, the tinker, would be able to shed some light on them. But she would never listen to an old mountain man like me.\"");
			var0003 = Func08F7(JULIA);
			if (var0003) {
				JULIA->say("\"Yes I would, Karl! Thou dost have too low opinion of thyself! Raise thy spirits, please!\"");
				JULIA->hide();
				KARL->show_npc_face(0x0000);
			}
			gflags[0x010B] = true;
			remove("plans");
			add(["Julia", "mountain man"]);
			fallthrough;

		case "mountain man":
			say("\"Far away from the mire of present day society is where I belong. In the wilderness thou canst know what is what.\"");
			remove("mountain man");
			fallthrough;

		case "Julia":
			say("\"If thou dost want to show Julia the plans, I will give them to thee. They are in my cabin southeast of the BMC office.\"");
			gflags[0x0120] = true;
			remove("Julia");
			fallthrough;

		case "follow":
			say("\"Make up thy mind! Art thou following me or not?! If thou art following me then close thy mouth, move thy feet and let us get on.\"");
			abort;

		case "bye":
			break;
	}
	if (gflags[0x00F7]) {
		say("\"I know I can be a bear to get along with sometimes. I reckon it is just my nature to be an ornery bastard. But I do appreciate what few friends I have and I know that thou hast been one to me. Take good care of thyself, Avatar.\"*");
	} else {
		say("\"Cease thy racket then before I lose my temper!\"*");
	}
}

extern var Func0909 0x909 ();
extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090A 0x90A ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func045A object#(0x45A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;

	if (event == DOUBLECLICK) {
		OWEN->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = OWEN->get_npc_object()->get_schedule_type();
		var0002 = Func0909();
		var0003 = false;
		var0004 = UI_wearing_fellowship();
		var0000 = UI_part_of_day();
		if (var0000 == NIGHT) {
			if (!(var0001 == WAIT)) {
				var0005 = Func08FC(OWEN, ELYNOR);
				if (var0005) {
					say("Owen will not interrupt his participation in The Fellowship meeting to talk with you.*");
					abort;
				}
				say("\"I am late for The Fellowship Meeting! I cannot speak with thee now!\"*");
				abort;
			}
		}
		var0002 = Func0909();
		add(["name", "job", "bye"]);
		if (gflags[0x0040]) {
			if (gflags[0x0123]) {
				add(["Crown Jewel", "Hook"]);
				var0003 = true;
			}
		}
		if (gflags[0x00FB]) {
			add("ship");
		}
		if (gflags[0x00F7]) {
			add("statue is cancelled");
		}
		if (!gflags[0x0115]) {
			say("You see a young man dressed in an expensive tunic. He is very serious.");
			gflags[0x0115] = true;
			OWEN->get_npc_object()->set_schedule_type(LOITER);
		} else {
			say("Owen looks at you and sniffs. \"It would appear thou dost wish to speak with me again.\"");
		}
		converse (0) {
			case "name":
				say("\"My name, ",
					var0002,
					", is Owen. It is a name I suspect thou shalt be hearing more of in the future.\"");
				gflags[0x0123] = true;
				remove("name");
				fallthrough;

			case "job", "statue is cancelled":
				if (gflags[0x011F]) {
					if (!gflags[0x00F7]) {
						say("He looks you in the eye and speaks without the slightest trace of modesty. \"I am,\" he says, \"the greatest shipwright in the history of Minoc. I am the greatest shipwright who has ever lived!\"");
						add(["greatest", "Minoc", "buy"]);
						if (gflags[0x0040]) {
							if (!var0003) {
								add(["Crown Jewel", "Hook"]);
							}
						}
					} else {
						say("\"After years of breaking my back trying to make something of this ungrateful little town, I'm giving up. I swear I will never build another ship as long as I live. That will teach them! No matter how they may beg or plead, I will not do it.\"");
						add("ungrateful");
					}
					remove("statue is cancelled");
				} else {
					say("\"Well, I shall certainly forgive thy poor manners for I know how privileged thou must feel for meeting me, but thou must know that two people have just been discovered in the sawmill, having been murdered!\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "greatest":
				say("\"And dost thou know how I became that way? I shall tell thee! I started to hear a voice in mine head! Oh, I know that thou shalt think me mad...\"");
				remove("greatest");
				add(["mad", "voices"]);
				fallthrough;

			case "voices":
				say("\"These were not the voices of anyone I have ever known. But still these voices had a profound effect on me...\"");
				remove("voices");
				fallthrough;

			case "mad":
				say("\"After searching for a meaning to this voice - which proved difficult, for how dost thou tell someone, especially a stranger, that thou art hearing a voice in thine head - I came across The Fellowship. They taught me what the voice was.\"");
				remove("mad");
				add(["voice", "Fellowship"]);
				fallthrough;

			case "voice":
				say("\"This was the voice of reason within mine own mind which sought to guide my life in its proper direction. The Fellowship taught me how to trust this voice and heed what it says. And thou canst see the results in mine own life! I have mastered my craft and advanced the techniques of ship-building through the methods I have devised.\"");
				remove("voice");
				add("methods");
				fallthrough;

			case "buy":
				if (var0001 == TEND_SHOP) {
					if (!gflags[0x00F7]) {
						say("Owen looks at you and suddenly seems flustered. \"Uh, I have no ships for sale presently. I have been working on a few improvements. But if thou wouldst, thou couldst commission me to build one for thee. A deed to one of the ships I build costs 1000 gold coins. Dost thou wish to buy one?\"");
						var0006 = Func090A();
						if (var0006) {
							var0007 = UI_remove_party_items(0x03E8, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							if (var0007) {
								gflags[0x00FB] = true;
								say("\"'Tis money well spent, thou shalt see! I shall begin work immediately. I will be building based upon some of my more recent designs. I shall give thee thy ship's deed in advance\"");
								var0008 = UI_add_party_items(0x0001, 0x031D, 0x0010, 0x0002, false);
								if (var0008) {
									say("\"It will be called the Excellencia.\"");
								} else {
									say("\"I would give thee thy deed but thou art carrying too much.\"");
									var0009 = UI_add_party_items(0x03E8, 0x0284, QUALITY_ANY, FRAME_ANY, true);
									if (var0009) {
										say("\"Take thy gold back! I cannot in good conscious keep it!\"");
									} else {
										say("\"I would give thee thy gold back but I seem to have misplaced it.\"");
									}
								}
							} else {
								say("\"I am dreadfully sorry,\" he sniffs, \"but thou dost not have enough gold.\"");
							}
						} else {
							say("\"Art thou certain? Thou shalt find no better ships in all of Britannia! Very well, then!\"");
						}
					}
					say("\"Wouldst thou perhaps be interested in purchasing a fine sextant? I have one which I would be willing to part with for a fine bargain. The price is 150 gold. Art thou interested?\"");
					if (Func090A()) {
						say("\"Excellent! I knew that thou wouldst appreciate owning the sextant of Owen the shipwright. Thou art a fine person, able to discern those quality items which are worth a bit of extra coin.\"");
						var000A = UI_remove_party_items(0x0096, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						if (!var000A) {
							say("\"Thou knave! To get mine hopes up so, only to cruelly dash them. Thou dost not possess enough gold to buy my treasure. If thou dost return with more coinage, PERHAPS I will allow thee to bid on it again.\"");
						} else {
							var000B = UI_add_party_items(0x0001, 0x028A, QUALITY_ANY, FRAME_ANY, true);
							if (!var000B) {
								say("\"Thou dost not have enough strength to add my treasure to thy pack. Thou must dispose of some of thy worthless dross to make room for this beauty. I will await thy return to purchase the sextant at this fine, low price.\"");
								var000C = UI_add_party_items(0x0096, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							}
						}
					} else {
						say("\"Hmph. Well, let it be known that thou didst pass up the chance to buy the sextant of the famous Owen the shipwright, and thou shalt be known for the knave and simpleton that thou art.\"");
					}
				} else {
					say("\"Mine establishment is presently closed. I do not wish to discuss business at this time.\"");
				}
				remove("buy");
				fallthrough;

			case "methods":
				say("\"I have even written a book describing the advances I have made in the methods of ship-building. It is very advanced but I have tried to write it so that it is accessible to the layman. Wouldst thou be interested in purchasing a copy?\"");
				var000D = Func090A();
				if (var000D) {
					say("\"Yes, of course thou wouldst.\"");
					var000E = UI_remove_party_items(0x001E, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var000E) {
						var000F = UI_add_party_items(0x0001, 0x0282, 0x003B, FRAME_ANY, false);
						if (var000F) {
							say("\"Here it is.\"");
						} else {
							say("\"Thou art carrying too much to take thy book.\"");
							var0010 = UI_add_party_items(0x001E, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							if (var0010) {
								say("\"I shall return thy money.\"");
							} else {
								say("\"I wouldst give thee back thy gold but thou cannot take it.\"");
							}
						}
					} else {
						say("\"Thou dost not have enough money!\"");
					}
				} else {
					say("\"Hmph! I suppose that it would be beyond thy comprehension, anyway.\"");
				}
				remove("methods");
				fallthrough;

			case "ship":
				if (!gflags[0x00F7]) {
					say("\"I can well understand thine impatience but I have just begun work on it. It shall be ready when I am finished with it. Now, until such time, I would appreciate it if thou wouldst not waste my valuable time.\"*");
					abort;
				}
				if (!gflags[0x00FC]) {
					say("\"I cannot build thee a ship as I suspect we both know.\"");
					if (gflags[0x00FB]) {
						say("\"Nor can I take thy money for one. Here, I shall return it to thee.\"");
						var0011 = UI_add_party_items(0x03E8, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						if (var0011) {
							gflags[0x00FC] = true;
						} else {
							say("\"Oh, my, thou art too encumbered to take back thy 1000 gold coins! Come back when thine hands are less full!\"");
						}
					}
				} else {
					say("\"I cannot help thee with that.\"");
				}
				remove("ship");
				fallthrough;

			case "Minoc":
				say("\"Despite all this business with murders, I must confess that I love it here. This is the place where I was born. They love me. They are going to be building a monument here in mine honor. I suppose I have been worthy of it, but still I can't help but be flattered.\"");
				add(["murders", "monument"]);
				remove("Minoc");
				fallthrough;

			case "ungrateful":
				say("\"Apparently, building the greatest ships to ever set sail in history and all that that has done for Minoc are no longer enough! No! Thanks to that pompous idiot of a mayor I am denied the rightful tribute of which I have proven myself more than worthy. Design flaws, bah! How many ships has Mayor Burnside built in his miserable little life?!\"");
				add("there were deaths");
				remove("ungrateful");
				fallthrough;

			case "murders":
				if (!gflags[0x0122]) {
					say("\"That is right. The sawmill is located southeast of town. Almost everyone in town is down there. Thou shouldst probably go down there if thou dost want to find out more. I abhor violence.\"");
				} else {
					say("He shakes his head slowly. \"They are going to be unveiling my monument sometime in the near future. Dost thou think that talk of these events will keep people away from the ceremony? That would be a tragedy!\"");
				}
				remove("murders");
				fallthrough;

			case "there were deaths":
				say("You tell him about the many innocent civilians who lost their lives on the ship he built. Owen shakes his head slowly. \"I do not know. I have no idea how it could have happened. It is difficult to conceive of the pain such great loss of life brings into this world. But I did my best when I built those ships. I did not want those men to die. Thou must believe me.\"");
				say("Owen appears distressed. \"The tribute to me is now no more than a tombstone.\"");
				remove("there were deaths");
				add("tribute");
				fallthrough;

			case "Fellowship":
				if (!gflags[0x00F7]) {
					Func0919();
					say("\"The changes it has made in my personal life have helped me tremendously.\"");
					add("personal life");
				} else {
					say("\"Thou canst ask Elynor all about it unless she is not speaking to thee either. Perhaps the details of thy personal life will amuse her more than do mine.\"");
					add("personal life");
				}
				remove("Fellowship");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "personal life":
				if (!gflags[0x00F7]) {
					say("\"My friend, there was a time when I thought that my life was at its end. I felt as though I had been swallowed into a cold, deep hole of darkness.\"");
					add("darkness");
				}
				remove("personal life");
				fallthrough;

			case "darkness":
				if (!gflags[0x00F7]) {
					say("\"My very soul felt as though it had sunk into a place into which no light could enter... Soon after I discovered The Fellowship. The difference that it made in my life was miraculous.\"");
				} else {
					say("\"I have been having a difficult time lately trying to speak to Elynor. It seems that she has no time for me. Back when I was making preparations for the monument she was always stopping by and willing to have words with me.\"");
				}
				remove("darkness");
				fallthrough;

			case "monument":
				say("\"Oh, thou canst ask anyone in town about it. They all know.\"");
				remove("monument");
				fallthrough;

			case "tribute":
				say("\"I know! My work will stand as my monument! My name will endure long after any statue has worn away to dust! People will remember -me-, I promise thee that!\"");
				say("And, with a dramatic flourish, Owen produces a dagger. Before you can stop him, he plunges it into his chest. He coughs loudly as blood spurts from his mouth, soaking his fine linen tunic in wine-red guilt. After a moment, it is all over. Owen, the greatest shipwright who ever lived, is dead.*");
				OWEN->get_npc_object()->kill_npc();
				Func0911(0x0064);
				abort;

			case "Crown Jewel":
				if (!gflags[0x00F9]) {
					say("\"The Crown Jewel was in town and left early this morning. It was scheduled to sail for Paws.\"");
					gflags[0x00F9] = true;
				} else {
					say("\"I have heard nothing more of the Crown Jewel since we last spoke of it, ",
						var0002,
						".\"");
				}
				remove("Crown Jewel");
				fallthrough;

			case "Hook":
				if (!gflags[0x00FA]) {
					say("\"I saw a man with a hook for a hand wandering around town last night.\"");
					gflags[0x00FA] = true;
				} else {
					say("\"I have heard nothing more of this man Hook since we last spoke of him, ",
						var0002,
						".\"");
				}
				remove("Hook");
				fallthrough;

			case "bye":
				break;
		}
		if (!gflags[0x00F7]) {
			say("\"Tired of benefitting from my presence? Very well. I shall see thee again, I hope!\"*");
		} else {
			say("\"Be on thy way, then. Time is fleeting, as is fame.\"*");
		}
	}
	if (event == PROXIMITY) {
		Func092E(OWEN);
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func045B object#(0x45B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		BURNSIDE->show_npc_face(0x0000);
		var0000 = BURNSIDE->get_npc_object()->get_schedule_type();
		var0001 = UI_part_of_day();
		if (var0001 == NIGHT) {
			if (var0000 == MAJOR_SIT) {
				var0002 = Func08FC(BURNSIDE, ELYNOR);
				if (var0002) {
					say("The Fellowship meeting is in progress, and Burnside will not speak with you now.*");
					abort;
				}
				say("\"I cannot speak now! I am late for the Fellowship meeting!\"*");
				abort;
			}
		}
		var0003 = Func0909();
		var0004 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x00FD]) {
			add("plans");
		}
		if (!gflags[0x0116]) {
			say("You see an elderly man struggling to maintain a regal posture.");
			say("His eyes widen at the sight of you.");
			say("\"I had heard thou were travelling in Britannia again, but it took mine own eyes to believe it! Welcome, Avatar!\"");
			gflags[0x0116] = true;
		} else {
			say("\"Ahh, Avatar. Good to see thee again.\" says Burnside.");
		}
		converse (0) {
			case "name":
				say("\"Burnside is my name.\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"I am Mayor of Minoc and have been lo these past twenty years and more.\"");
					add("Minoc");
				} else {
					say("\"I beseech thee, ",
						var0003,
						", do show some respect for the two poor souls who have been found murdered there in William's sawmill.\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "Minoc":
				say("\"Apart from this business of the murders we are a town run by commerce. Gold runs this town. As goes the money, so goes Minoc. Take this monument affair, for instance.\"");
				remove("Minoc");
				add(["murders", "monument"]);
				fallthrough;

			case "murders":
				say("\"As Frederico and Tania were not actually residents of Minoc there is little I can do as Mayor other than increase the town guard. The investigation falls somewhat beyond my jurisdiction. It would appear the killer or killers were from out of town and are probably long gone by now. Thank goodness.\"");
				remove("murders");
				fallthrough;

			case "monument":
				if (!gflags[0x00F7]) {
					say("\"I am sure thou art aware of the plans for a monument of Owen, the shipwright. He is paying for it himself. I am usually against such public vanity but The Fellowship is very much in favor of it.\"");
					add(["vanity", "Fellowship"]);
				} else {
					say("\"This town would have been ruined if I had allowed that monument to be built, so I immediately forbade it, of course.\"");
				}
				remove("monument");
				fallthrough;

			case "vanity":
				say("\"But in this special case it does immeasurable good for the town. It increases our prestige. People will come from all over Britannia for the unveiling.\"");
				remove("vanity");
				add("unveiling");
				fallthrough;

			case "unveiling":
				say("\"Why, even Lord British himself will be in attendance! It is a special opportunity when one gets a private audience.\"");
				remove("unveiling");
				fallthrough;

			case "Fellowship":
				if (var0004) {
					say("\"Ah, I see thou art wearing thy Fellowship medallion. I received mine from Elynor when The Fellowship branch was first opened here a few years ago.\"");
				} else {
					say("\"Yes, I wear the Fellowship medallion, given to me by Elynor. Do not worry thyself. I shall not try to make thee join!\" He laughs nervously at his own little joke.");
				}
				remove("Fellowship");
				add("Elynor");
				fallthrough;

			case "Elynor":
				if (var0004) {
					say("\"Elynor tells me The Fellowship will be doing good works here in the future. I am proud to be a member of thy society although I must confess to being fairly ignorant concerning thy, umm, our philosophy.\"");
					add("member");
					remove("Elynor");
				} else {
					say("\"Elynor says The Fellowship could bring much money into Minoc. It would be wonderful for trade. I could never let my personal feelings get in the way of the good of this town.\"");
					add("feelings");
					remove("Elynor");
				}
				fallthrough;

			case "member":
				say("\"I was given an honorary membership when the Fellowship branch was first opened in Minoc. I do not attend regular meetings. I hope thou'rt not disappointed in me?\"");
				var0005 = Func090A();
				if (var0005) {
					say("\"I am sorry, Avatar. I will try to do well and be a more valuable member of the Fellowship. I beg thee, do not speak of this to Elynor.\"");
				} else {
					say("\"Thank heaven! I wear this medallion mainly for ceremonial purposes, as I suspect thou dost. We both see that support of The Fellowship is currently the wisest course of action politically, no matter our personal feelings.\"");
					add("feelings");
				}
				remove("member");
				fallthrough;

			case "feelings":
				say("\"Avatar, may I tell thee a secret?\"");
				var0005 = Func090A();
				if (var0005) {
					say("\"Avatar, I must confess to thee that I feel The Fellowship promotes a philosophy that is dubious at best, and its membership seems to be comprised chiefly of fools and emotional weaklings.\"");
				} else {
					say("\"Hrmph! Well, then, kindly forget mine ill-considered words!\"");
				}
				remove("feelings");
				fallthrough;

			case "plans":
				say("You show the Mayor the plans Owen had drawn, making sure to carefully point out the flaws discovered by Julia. The Mayor is aghast.~~\"This is terrible! No one must see this! It would ruin Owen and cause irreparable damage to our town if it became known that our shipwright caused those deaths!\"");
				remove("plans");
				add(["damage", "deaths"]);
				fallthrough;

			case "damage":
				say("\"But very few suspect the deaths are attributable to Owen's shipbuilding! We can destroy the plans and the truth would never get out! It would save the town from disgrace and possible ruin!\"");
				remove("damage");
				fallthrough;

			case "deaths":
				say("\"Then again, the ships Owen builds will continue to sink. It would harm Minoc even more if it were to become known as the place where the \"death ships\" are made. A town that built a monument to an incompetent.\"");
				remove(["deaths", "damage"]);
				add("statue");
				fallthrough;

			case "statue":
				say("\"There are no two ways about it. The statue must be stopped. I am hereby cancelling the erection of the statue.\"");
				say("\"Oh, and...er, Avatar... couldst thou please go inform Owen of this bad news for me? I am a bit busy at the moment. Besides, I think he will take it much better hearing it from thee.\"");
				gflags[0x00F7] = true;
				remove("statue");
				fallthrough;

			case "bye":
				break;
		}
		say("\"A pleasure, friend Avatar. A pleasure.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(BURNSIDE);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func08DE 0x8DE ();
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func045C object#(0x45C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	if (event == DOUBLECLICK) {
		RUTHERFORD->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = RUTHERFORD->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x011F]) {
			add("murders");
		}
		if (gflags[0x0040]) {
			add("Crown Jewel");
		}
		if (gflags[0x0043]) {
			add("Hook");
		}
		if (!gflags[0x0117]) {
			say("You see a weary-looking man who is missing his right arm. With his one hand he scratches his head and squints in your general direction.");
			gflags[0x0117] = true;
		} else {
			say("\"Oy, how ye been, ",
				var0000,
				"?\" Rutherford calls out to you.");
		}
		converse (0) {
			case "name":
				say("He lets out a sharp cough to clear his throat. \"Rutherford's me name. Pleased ta meet 'chur.\"~~ He extends his greasy hand for you to shake and does not retract it until it is clasped.");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"Why I be the barkeep of The Checquered Cork. No better place in Minoc to discuss the events of the day.\"");
					if (var0002 == WAITER) {
						say("He coughs into the rag he had just been using to polish the bar.");
						var0003 = Func08F7(DUPRE);
						if (var0003) {
							say("\"Hello again, Sir Dupre! Didst thou enjoy mine establishment so much that thou hast returned?\"*");
							DUPRE->say("\"My dear Rutherford, this is not a reflection on The Checquered Cork, but I simply like a good drink!\"*");
							DUPRE->hide();
							RUTHERFORD->show_npc_face(0x0000);
						}
					}
					add(["Minoc", "events", "buy", "room"]);
				} else {
					say("\"'Tis no time for idle chatter! There have been two people murdered over at William's sawmill!\"");
					gflags[0x011F] = true;
				}
				fallthrough;

			case "buy":
				if (var0002 == WAITER) {
					say("\"We have a cornucopian variety of elixirs to quench thy tongue and gourmet dishes to appease thy palate.\"");
					Func08DE();
				} else {
					say("\"As I have finished my workday, I ask thee to come back another time. Thou dost have my thanks.\"");
				}
				remove("buy");
				fallthrough;

			case "room":
				if (var0002 == WAITER) {
					say("\"A room for the night is quite reasonable. Only 8 gold per person. Want one?\"");
					if (Func090A()) {
						var0004 = UI_get_party_list();
						var0005 = 0x0000;
						for (var0008 in var0004 with var0006 to var0007) {
							var0005 += 0x0001;
						}
						var0009 = var0005 * 0x0008;
						var000A = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var000A >= var0009) {
							var000B = UI_add_party_items(0x0001, 0x0281, 0x00FF, FRAME_ANY, true);
							if (!var000B) {
								say("\"Thou art carrying too much to take the room key, ",
									var0000,
									"!\"");
							} else {
								say("\"Here is thy room key. It is good only until thou dost leave.\"");
								var000C = UI_remove_party_items(var0009, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							}
						} else {
							say("\"Thou dost not have enough gold, eh? That be right bad.\"");
						}
					} else {
						say("\"Mayhaps another night, then.\"");
					}
				} else {
					say("\"If thou wouldst please make thy request at a time that was during my normal business hours, I would be most grateful.\"");
				}
				remove("room");
				fallthrough;

			case "Minoc":
				say("\"Yep, this town's usually bloody quiet. That was until recently!\" His squinting eye suddenly opens wide and stares straight at you.");
				if (var0002 == WAITER) {
					say("\"Say, when exackly again didst thou say thou didst arrive in town, stranger?\"~~After a moment of carefully observing you, he shrugs his shoulders and goes back to wiping off the bar.");
				}
				remove("Minoc");
				fallthrough;

			case "events":
				say("\"Before all this evil at the sawmill, the buzz were all about the monument.\"");
				remove("events");
				add(["monument", "sawmill"]);
				fallthrough;

			case "murders":
				say("\"Well, I suppose that clears thee from the list o' possible murderers. If'n thou wert the murderer, thou wouldst not have to be askin' questions o'people about wha' 'appened regardin' the murders. Thou wouldst already know, havin' been there.\"");
				remove("murders");
				fallthrough;

			case "sawmill":
				say("\"Say, thou be not from around here?\" He looks at you skeptically. \"Thou art not from the Fellowship by any chance, art thou?\"");
				var000D = Func090A();
				if (var000D) {
					say("\"I thought so!\"");
					add(["murders", "Fellowship"]);
				} else {
					say("\"Just askin'! Thou dost not have to take any offense!\"");
					add(["murders", "Fellowship"]);
				}
				remove("sawmill");
				fallthrough;

			case "Hook":
				say("\"I know him! He be a pirate who lives in Buccaneer's Den. They say Hook is so mean he'd kill his own mudder for the right price, an' I would wager they's right.~~\"Why, I got into a fight with this Hook once. I was lucky and I escaped losin' only my right arm and still with one good eye left. It was somewhere around that time that I started having second thoughts about my career as a pirate and now here I be.");
				say("\"I have not seen him recently, but the description of the murder scene certainly sounds like his handiwork!\"");
				gflags[0x0104] = true;
				Func0911(0x000A);
				remove("Hook");
				fallthrough;

			case "Crown Jewel":
				say("\"That ship was, indeed, here of late. In fact, 'twas the night of the murders! Could there be a connection? Hmmm...\"");
				remove("Crown Jewel");
				fallthrough;

			case "Fellowship":
				say("\"Thank goodness that with all the town at each others' throats in recent weeks we have the Fellowship tryin' to hold the town together. I be no member or nothin', but I just a'heared of all the good things they done. Feedin' the poor an' such.\"");
				remove("Fellowship");
				fallthrough;

			case "monument":
				say("\"Oh, thou must mean thet statuer they are goin' ta build of our shipwright. His name is Owen, a local boy. I understan' it is to be as tall as a man on horseback and shows Owen gazin' through a telerscope or some such thing like that.\"");
				remove("monument");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I shall see thee later... At least I will if thou dost stay in the front o' me good eye.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(RUTHERFORD);
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func045D object#(0x45D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		WILLIAM->show_npc_face(0x0000);
		var0000 = WILLIAM->get_npc_object()->get_schedule_type();
		var0001 = UI_part_of_day();
		if (var0001 == NIGHT) {
			if (var0000 == MAJOR_SIT) {
				var0002 = Func08FC(WILLIAM, ELYNOR);
				if (var0002) {
					say("William does not want to avert his attention from the Fellowship meeting.*");
					abort;
				}
				say("\"I must not stop to speak with thee now! I am late for the Fellowship meeting at the hall!\"*");
				abort;
			}
		}
		var0003 = UI_wearing_fellowship();
		var0004 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x0118]) {
			say("You see a man with a very worried look on his face.");
			gflags[0x0118] = true;
		} else {
			say("\"Avatar! What is it? Why dost thou want to talk to me again? What is wrong now?!\" says William.");
		}
		converse (0) {
			case "name":
				say("\"I am called William, ",
					var0004,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"I work in the sawmill here in Minoc.\"");
					add(["sawmill", "Minoc"]);
				} else {
					say("\"What a ludicrous question at a time like this! Why, I have just been given the fright of my life when I entered my sawmill and saw those two who have not only been killed quite dead, but torn apart nearly beyond recognition!\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "sawmill":
				say("\"I take the logs that are made from all the trees that are cut down by the logger in Yew, and cut them into planks in the local sawmill. Then I sell the planks - mostly to Owen the shipwright, and some to the Artist's Guild as well.\"");
				remove("sawmill");
				fallthrough;

			case "Minoc":
				say("\"It was such a quiet town until these murders happened. I cannot believe it.\"");
				remove("Minoc");
				add("murders");
				fallthrough;

			case "murders":
				if (!gflags[0x010A]) {
					say("\"I found the bodies first thing this morning when I went to open the sawmill. It took all of the discipline I have gained from the Triad of Inner Strength and the teachings of The Fellowship to keep from going mad at the sight of it. It must have happened sometime last night but I swear to thee I never heard a thing!\"");
					gflags[0x010A] = true;
				} else {
					say("\"I swear by The Fellowship I have already told thee all I know concerning the murders!\"");
				}
				remove("murders");
				add("Fellowship");
				fallthrough;

			case "Fellowship":
				say("\"I have been a member of The Fellowship for only a short time. I have only of late begun attending Elynor's meetings. Only since they announced the monument was to be built.\"");
				if (var0003) {
					say("\"I am so glad thou art my brother in The Fellowship; I know I may trust thee. It is all of the others in this town that I worry about.\"");
				} else {
					say("\"Wouldst thou like to know more of The Fellowship?\"");
					var0005 = Func090A();
					if (var0005) {
						Func0919();
					} else {
						say("\"Trust me, thou canst not possibly understand how cruel and terrible life can be! Thou dost need The Fellowship! I am lucky to have found it in time to face mine own moment of truth! I hope thou dost realize that thou dost need The Fellowship before it is too late!\"");
					}
				}
				remove("Fellowship");
				add("monument");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "monument":
				say("\"Thou dost know! The monument of Owen the shipwright standing on the bow of a tall ship. Everyone in town doth know of it!\"");
				remove("monument");
				fallthrough;

			case "bye":
				break;
		}
		say("As soon as he has dismissed you, the overwrought William hides his face in his hands.*");
	}
	if (event == PROXIMITY) {
		Func092E(WILLIAM);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func08A6 0x8A6 (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func045E object#(0x45E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		KARENNA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = KARENNA->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye", "murders"]);
		if (gflags[0x00F4]) {
			add("gypsies");
		}
		if (gflags[0x00F5]) {
			add("attractive");
		}
		if (!gflags[0x0119]) {
			say("You see a stealthy-looking woman, dressed all in green. There is a wicked grin on her face.");
			gflags[0x0119] = true;
		} else {
			say("\"How good to see thee again,\" says Karenna.");
		}
		converse (0) {
			case "name":
				say("\"I answer to Karenna, and to nothing else.\"");
				remove("name");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"I am a teacher in Minoc, along with Jakher.\"");
					add(["teacher", "Minoc", "Jakher"]);
				} else {
					say("\"An odd question to ask at such a time as this, ",
						var0000,
						". Dost thou know that two people lie dead in that sawmill and they are dead from the hand of perpetrator or perpetrators unknown?\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "Minoc":
				say("\"Minoc was usually busy, but quiet. Then our town was bothered by this nonsense over Owen's monument, and now these murders.\"");
				add(["monument", "murders"]);
				remove("Minoc");
				fallthrough;

			case "murders":
				say("\"Shocking! Such things do not normally happen here. It well proves the value of knowing how to defend oneself.\"");
				remove("murders");
				fallthrough;

			case "Jakher":
				say("\"He is quite an able trainer in his own right. Not as skilled as myself, obviously. But I do think he is cute, though I bid thee, do not tell him that I spoke of this. It will only encourage him.\"");
				var0003 = Func08F7(JAKHER);
				if (var0003) {
					JAKHER->say("\"Art thou speaking about me? Mine ears are burning!\"*");
					KARENNA->say("\"Nothing thou shouldst be concerned about, Jakher.\" She winks at you.*");
					JAKHER->hide();
					KARENNA->show_npc_face(0x0000);
				}
				gflags[0x00F6] = true;
				remove("Jakher");
				fallthrough;

			case "teacher":
				if (var0002 == DUEL) {
					say("\"I teach that singular skill which enables one to learn all the lessons of life without losing it in the process. Combat!~~\"I would charge thee 20 gold for each training session. Art thou still interested?\"");
					if (Func090A()) {
						Func08A6([DEXTERITY, COMBAT], 20);
					} else {
						say("\"Very well. If thou art fortunate thou wilt not have cause to regret it.\"");
						remove("teacher");
					}
				} else {
					say("\"Our establishment is now closed. Please come by during business hours.\"");
					remove("teacher");
				}
				fallthrough;

			case "monument":
				say("\"I understand it is to be thirty feet high and will display our local shipwright as he holds aloft a sextant. Thou wouldst not believe a thing as benign as this could create such trouble.\"");
				remove("monument");
				add("trouble");
				fallthrough;

			case "trouble":
				say("\"It would seem the increase in hostilities amongst the fair citizenry over our shipwright's monument has filled much of the local populace with a burning desire to acquire combative skills. Business has never been better!\"");
				remove("trouble");
				add("hostilities");
				fallthrough;

			case "hostilities":
				say("\"Everyone in town is all up in arms about this and that. But surely others would know more of these local politics. I care not.\"");
				remove("hostilities");
				fallthrough;

			case "attractive":
				say("\"Jakher told thee he doth find me attractive? He denies it, of course, but I have known for years that he doth have feelings for me.\"");
				var0003 = Func08F7(JAKHER);
				if (var0003) {
					JAKHER->say("\"What? What didst thou say?\"*");
					KARENNA->say("\"Nothing, Jakher. Go away.\" She giggles conspiratorally at you.*");
					JAKHER->hide();
					KARENNA->show_npc_face(0x0000);
				}
				remove("attractive");
				fallthrough;

			case "gypsies":
				say("\"Frederico, the leader of the Gypsies, and his wife, Tania, were good people. Why, the worst thing I ever knew either of them to do was a simple prank.\"");
				remove("gypsies");
				add("prank");
				fallthrough;

			case "prank":
				say("\"Once Frederico threw a rock through the window of the local Fellowship branch... Oh, well, I thought it was amusing!\"");
				remove("prank");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell. May all thy journeys be interesting ones.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(KARENNA);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func089F 0x89F (var var0000, var var0001);
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func045F object#(0x45F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		JAKHER->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = JAKHER->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x00F6]) {
			add("cute");
		}
		if (!gflags[0x011A]) {
			say("You see a stern but friendly-looking man, dressed in a military fashion. As you watch him, you get the feeling he is sizing you up as well.");
			gflags[0x011A] = true;
		} else {
			say("\"How may I be of service to thee?\" says Jakher.");
		}
		converse (0) {
			case "name":
				say("\"I am Jakher, named after a great general from the ancient times of Sosaria. Welcome to Minoc.\"");
				remove("name");
				add("Minoc");
				fallthrough;

			case "job":
				if (gflags[0x011F]) {
					say("\"Along with Karenna, I am a trainer in the fighting arts. My specialty is strength and strategy. On the field of battle, if one does not use his head while using one's muscles, he is in danger of losing it.\"");
					add(["Karenna", "trainer"]);
				} else {
					say("\"Perhaps that is something of which we should speak in a more appropriate time. Right now our concern should be to discover who could have been responsible for the two murders\tthat have just been discovered in William's sawmill.\"");
					gflags[0x011F] = true;
					add("murders");
				}
				fallthrough;

			case "trainer":
				if (var0002 == DUEL) {
					say("\"My price is 20 gold for each training session. Art thou still interested?\"");
					if (Func090A()) {
						Func089F([INTELLIGENCE, STRENGTH], 20);
					} else {
						say("\"The true value of what I teach is beyond measure. My time is precious to me and therefore valuable. If thou didst pay me a paltry sum and I trained thee anyway, it would be an insult to us both.");
						say("\"'Tis a pity few truly comprehend the value of strategy and tactics. Thou mayest hack and slash with thy sword all that thou wilt, but it cannot do thy thinking for thee.\"");
					}
				} else {
					say("\"I am not in the habit of running training sessions at this particular time.\"");
					remove("trainer");
				}
				fallthrough;

			case "Minoc":
				say("\"Ours is a city of commerce, although lately its primary trade seems to be gossip and envy. Before these murders, the latest local scandal had been the statue to be built of Owen, the shipwright.\"");
				remove("Minoc");
				add(["murders", "Owen"]);
				fallthrough;

			case "murders":
				say("\"I suspect the killer -- or killers -- are from out of town, and probably long gone by now. There has not been a local murder for\tsome time before today. Our fair measure of prosperity has made the people here mostly tolerant of each other. That is why the gypsies settled here. The apparent lack of motive is puzzling.\"");
				remove("murders");
				add(["gone", "gypsies"]);
				fallthrough;

			case "gone":
				say("\"I doubt that anyone in our community is the killer. If the stranger, or strangers, involved were to remain for long after the crime, they would soon be revealed. Therefore,the killers are no longer in town.\"");
				remove("gone");
				fallthrough;

			case "Karenna":
				say("\"A skillful and fierce battler, but a bit short-sighted when it comes to tactics, I'm afraid. Still, a woman as attractive as\tshe is diverting enough when encountered. But do not mention to her that I said that. It would just encourage her. It is uncomfortable enough sharing the same roof with her as it is.\"");
				var0003 = Func08F7(KARENNA);
				if (var0003) {
					KARENNA->say("\"What art thou whispering about over there?\"*");
					JAKHER->say("\"Nothing! Nothing at all!\" Jakher winks at you.*");
					KARENNA->hide();
					JAKHER->show_npc_face(0x0000);
				}
				remove("Karenna");
				var0004 = true;
				add(["short-sighted", "roof"]);
				fallthrough;

			case "short-sighted":
				say("\"She is the sort of person who labors under the belief that all problems can be solved in one of three ways. Hit them harder. Hit them faster. Or, hit them some more.\"");
				var0003 = Func08F7(KARENNA);
				if (var0003) {
					KARENNA->say("\"Art thou talking about me? I feel mine ears burning!\"*");
					JAKHER->say("\"Thou art dreaming, Karenna. Why would I talk about thee?\" He giggles conspiratorially at you.*");
					KARENNA->hide();
					JAKHER->show_npc_face(0x0000);
				}
				remove("short-sighted");
				fallthrough;

			case "roof":
				say("\"There used to be two training halls in Minoc but one of them burned down after being struck by lightning. Now we are both forced to share this one.\"");
				remove("roof");
				fallthrough;

			case "cute":
				say("\"Ah, so Karenna said I was cute, did she? Yes, I have known she has had her sights set on me for years.\"");
				remove("cute");
				fallthrough;

			case "Owen":
				say("\"I have known Owen as long as anyone in this town. Several years ago, three ships that he built sank. The brother of Karl, one of our more colorful local residents, was killed. No investigation was ever made into the cause of the sinkings, but Owen once confided to me that he secretly blamed himself. He started drinking heavily, and eventually took up with The Fellowship.\"");
				remove("Owen");
				gflags[0x00F8] = true;
				fallthrough;

			case "gypsies":
				say("\"Thou wouldst do better to ask Karenna. She is a good friend of the gypsies and would know more about them than I.\"");
				remove("gypsies");
				gflags[0x00F4] = true;
				fallthrough;

			case "bye":
				break;
		}
		say("\"It has been a pleasure speaking with thee.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(JAKHER);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func0460 object#(0x460) () {
	var var0000;
	var var0001;

	if (event == PROXIMITY) {
		abort;
	}
	JERGI->show_npc_face(0x0000);
	var0000 = Func0909();
	add(["name", "job", "bye"]);
	var0001 = Func08F7(MARGARETA);
	if (var0001) {
		add("Margareta");
	}
	if (gflags[0x01D2]) {
		add("hourglass");
	}
	if (!gflags[0x011B]) {
		say("You see a swarthy gypsy with soulful eyes, dressed in colorful clothes. He looks as if he has the weight of the world on his shoulders.");
		gflags[0x011B] = true;
	} else {
		say("\"Greetings vonce again,\" Jergi says as he bows, making a swirling gesture with his hand.");
	}
	converse (0) {
		case "name":
			say("\"I am Jergi. Pleased to make thine acqvaintance.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"I am the King ov the Gypsies.\"");
			add("gypsies");
			fallthrough;

		case "gypsies":
			say("\"My people have almost completely died out in this vorld. Now that I am their leader I am making their velfare my sole responsibility. Soon I vill decide if ve vill leave Minoc.\"");
			remove("gypsies");
			add(["died out", "Minoc"]);
			fallthrough;

		case "died out":
			say("\"Ve gypsies are a people who live to vander. But there are fewer and fewer places vhere ve are velcome. Ve are victimized by the ancient hatreds that have plagued our kind since the days ov ancient Sosaria.\"");
			remove("died out");
			fallthrough;

		case "Minoc":
			say("\"Our people came here because ve thought ve vould be accepted. It seemed for a very long time that ve vere. But after these savage murders it looks like it is time for us to roam vonce again.\"");
			remove("Minoc");
			add(["accepted", "murders"]);
			fallthrough;

		case "accepted":
			say("\"Ve have alvays been subject to the prejudices ov others! Ve are called thieves and vorse! But ve are a people that only vish to play our music, and dance, and live in peace. I thought the people here understood this.\"");
			remove("accepted");
			fallthrough;

		case "murders":
			say("\"Frederico vas mine only brother, and no vone loved Tania more than I did, save for Frederico himself. Vhat happened to them vas unspeakable. I vish I could tell thee more. If thou vishest thou may speak to Sasha, but only briefly. Now is the time for him to mourn.\"");
			remove("murders");
			add(["Frederico", "Tania", "Sasha"]);
			fallthrough;

		case "Frederico":
			say("\"Some thought ov my brother Frederico as a harsh man, but those ov us who knew him could see that he vas simply governed by the same prides and passions that rule all gypsies.\"");
			remove("Frederico");
			fallthrough;

		case "Tania":
			say("\"She vas the most beautiful voman I had ever seen. Both my brother and I vere in love vith her. Ve both tried to vin her heart. I failed and thought that I vould spend the rest ov my life vith no vone. It vas not until last year that my vife Margareta and I vere married and my secretly broken heart vas mended.\"");
			remove("Tania");
			fallthrough;

		case "Sasha":
			say("\"He is the son ov Frederico and Tania. He left us to learn more about The Fellowship. Ov course, he feels responsible for vhat happened...\"");
			remove("Sasha");
			add(["responsible", "Fellowship"]);
			fallthrough;

		case "responsible":
			say("\"Ve do not blame Sasha for vhat happened. Ve vill not punish him.\"");
			remove("responsible");
			fallthrough;

		case "Fellowship":
			say("\"Sasha vill have to decide if he vants to stay vith his people or return to The Fellowship. I believe he vill make the right choice.\"");
			remove("Fellowship");
			fallthrough;

		case "Margareta":
			say("\"My vife is a vise voman who has some ov the necessary talents to see the future. Thou shouldst speak vith her.\"");
			remove("Margareta");
			fallthrough;

		case "hourglass":
			say("\"I do not know vhat thou art talking about. I know nothing of a mage named Nicodemus, nor of his hourglass. Be vary -- mages are quite mad these days!\"");
			remove("hourglass");
			fallthrough;

		case "bye":
			break;
	}
	say("\"Mayest thou have much fortune in thine endeavors.\"*");
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func0909 0x909 ();

void Func0461 object#(0x461) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == PROXIMITY) {
		abort;
	}
	MIKOS->show_npc_face(0x0000);
	var0000 = UI_part_of_day();
	if (var0000 == NIGHT) {
		var0001 = Func08FC(MIKOS, ELYNOR);
		if (var0001) {
			say("Mikos is lost in meditation at the Fellowship meeting and does not hear you.*");
			abort;
		}
		say("\"I must run to the Fellowship meeting! I shall speak with thee another time!\"*");
		abort;
	}
	var0002 = Func0909();
	add(["name", "job", "bye"]);
	if (gflags[0x0107]) {
		add("silver fluid");
	}
	if (!gflags[0x011C]) {
		say("A sneering man watches as you approach. His eyes shift back and forth suspiciously.");
		gflags[0x011C] = true;
	} else {
		say("Mikos heaves his shoulders and sighs. \"What dost thou want this time?\"");
	}
	converse (0) {
		case "name":
			say("\"I am Mikos.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"I am the foreman of the Minoc mine.\"");
			add(["Minoc", "mine"]);
			fallthrough;

		case "Minoc":
			say("He spits on the ground. \"A pox on them! Down here I am safe from all of their arguing. Next, they will be killing each other.\"");
			remove("Minoc");
			fallthrough;

		case "mine":
			say("\"This mine is run by the Britannian Mining Company. It is inside what was once the dungeon Covetous. They mine for iron ore, lead and other minerals with highly trained miners and special mining machinery.\"");
			remove("mine");
			add(["miners", "machinery"]);
			fallthrough;

		case "miners":
			say("\"Currently most of the miners are away as the machines are being repaired. Right now we have two engineers, Owings and Malloy, down in a branch of the main tunnel. Do not disturb them, for they are involved in a special project. We also have a gargoyle, Fodus, who is helping to maintain a semblance of the mine's usual operations.\"");
			remove("miners");
			add("Owings and Malloy");
			fallthrough;

		case "machinery":
			say("\"This place is full of machinery that is very dangerous if thou dost not know what thou art doing. Thou dost not wish to see what one of those digging contraptions can do to a man if he gets too close!\"");
			remove("machinery");
			fallthrough;

		case "Owings and Malloy":
			say("Mikos shakes his head slowly. \"I am not sure where the Britannian Mining Company found them.\"");
			remove("Owings and Malloy");
			fallthrough;

		case "silver fluid":
			say("You repeat the words to Mikos that you heard Fodus say. Mikos gives you a shocked look. \"I have no idea what he is talking about, but I would say it is typical for a gargoyle. Just trying to shirk of his duty. Say, thou hadst better leave this place if thou ist spending all thy time disrupting the work of the mine!\"*");
			abort;

		case "bye":
			break;
	}
	say("\"Do not wander around down here, ",
		var0002,
		". Thou shouldst leave right away.\"*");
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08E0 0x8E0 ();
extern var Func090A 0x90A ();

void Func0462 object#(0x462) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = Func0931(PARTY, 0x0001, 0x0304, QUALITY_ANY, FRAME_ANY);
		SARALEK->show_npc_face(0x0000);
		if (!gflags[0x0154]) {
			if (!var0000) {
				say("The creature ignores you.*");
				abort;
			}
			Func08E0();
		}
		if (!gflags[0x013D]) {
			if (!gflags[0x013C]) {
				say("The ape-like female appears nervous.");
				gflags[0x013C] = true;
				gflags[0x013D] = true;
			} else {
				say("The female Emp appears nervous.");
				gflags[0x013D] = true;
			}
		} else {
			var0001 = false;
			say("Saralek greets you. \"Hello is said to you, human.\"");
			if (gflags[0x0132]) {
				add("Trellek");
			}
		}
		if (gflags[0x0131] && (!gflags[0x0158])) {
			add("Salamon's permission");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("She shies away for a moment, and then cautiously steps forward. \"I am called Saralek.\"");
				remove("name");
				if (gflags[0x0132] && (!var0001)) {
					add("Trellek");
				}
				fallthrough;

			case "job":
				say("\"`Job' is not understood. Family is what you mean?\"");
				add("family");
				fallthrough;

			case "family":
				say("\"Yes, I am part of a family. The Silverleaf tree is my home. I am bonded with Trellek.\"");
				remove("family");
				add(["Silverleaf tree", "Trellek"]);
				fallthrough;

			case "Trellek":
				say("\"Trellek is my husband.\"");
				var0001 = true;
				if (gflags[0x0132]) {
					if (!gflags[0x0130]) {
						say("\"Trellek has been met by you?\" She smiles proudly, and takes another step forward. \"What was said by him?\"");
						add("join party");
					}
				}
				remove("Trellek");
				fallthrough;

			case "Silverleaf tree":
				say("\"There are fewer and fewer Silverleaf trees. Many are cut down often. Soon, no Silverleaf trees will be around for our homes.\"");
				add("cut down");
				remove("Silverleaf tree");
				fallthrough;

			case "cut down":
				say("\"The trees are cut by a human with a shiny, sharp item.\"");
				remove("cut down");
				fallthrough;

			case "join party":
				say("\"To join you is his desire?\"");
				var0002 = Func090A();
				if (var0002) {
					say("She thinks for a moment. \"His going away is not desired by me.\" She turns to look directly at you. \"But, joining you may be wise action.\" She sighs.");
					say("\"Permission from Salamon must be gained first. Then permission from me will be granted. Your return to me is necessary for that.\"");
					gflags[0x0130] = true;
					add("Salamon");
				} else {
					say("\"That is good!\" She seems very happy and relieved.");
				}
				remove("join party");
				fallthrough;

			case "Salamon":
				say("\"She is a very wise Emp. Many humans have been met by her. Knowledge and experience are her talents.\"");
				remove("Salamon");
				fallthrough;

			case "Salamon's permission":
				say("Her eyes begin to mist over.~~ \"I am sorry. A lie was told by me. Trellek's leaving is not desired by me. Permission will not be given.\"~~ Her expression changes.~~ \"What is the reason you asked him?\"");
				add(["adventure", "never mind"]);
				if (gflags[0x0138]) {
					add("wisps");
				}
				gflags[0x0158] = true;
				remove("Salamon's permission");
				fallthrough;

			case "adventure":
				say("\"Adventure is not Trellek's desire.\"");
				remove("adventure");
				fallthrough;

			case "never mind":
				say("She shrugs.");
				remove("never mind");
				fallthrough;

			case "wisps":
				say("She smiles excitedly.~~\"Your wish is to meet wisps?\"");
				var0003 = Func090A();
				if (var0003) {
					say("\"An idea how you can be helped by Trellek is had by me. Wisps are contacted by Trellek's whistling. A whistle for you can be made by him, perhaps. Talking with him again should be your next action.\"");
					gflags[0x0155] = true;
				} else {
					say("\"Oh.\" She appears depressed again.");
				}
				remove(["adventure", "never mind", "wisps"]);
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye is said to you, human.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();

void Func0463 object#(0x463) () {
	var var0000;

	if (event == PROXIMITY) {
		abort;
	}
	if (event == DOUBLECLICK) {
		FODUS->show_npc_face(0x0000);
		var0000 = Func0909();
		if (!gflags[0x011D]) {
			say("You see a wingless gargoyle with a terrible skin disease. It looks as if his face is falling off in patches.");
			gflags[0x011D] = true;
		} else {
			say("\"To want something else?\" Fodus asks.");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("\"To be named Fodus.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"To be a digger in the mines. To be looking for iron ore and lead and...\"");
				add("and...");
				fallthrough;

			case "and...":
				say("\"The secret ore...\"");
				say("A wave of delirium passes over the gargoyle. \"To... to be going back to work now, Mikos!... To be working hard!... To have no need to give me any more of the the silver fluid...\"");
				gflags[0x0107] = true;
				remove("and...");
				add(["secret ore", "silver fluid"]);
				fallthrough;

			case "secret ore":
				say("\"To be called... blackrock.\"");
				remove("secret ore");
				add("blackrock");
				fallthrough;

			case "blackrock":
				say("\"To be the lode located in a hidden area of the mine...\" The gargoyle's eyes roll up into his head. He is obviously sick.");
				remove("blackrock");
				fallthrough;

			case "silver fluid":
				say("\"To need the venom... to have more venom...\"");
				remove("silver fluid");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To be going back to work now, Mikos...\"*");
	}
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08ED 0x8ED ();
extern var Func090A 0x90A ();
extern var Func08F7 0x8F7 (var var0000);

void Func0464 object#(0x464) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = Func0931(PARTY, 0x0001, 0x0304, QUALITY_ANY, FRAME_ANY);
		TAVENOR->show_npc_face(0x0000);
		if (!gflags[0x0154]) {
			if (!var0000) {
				say("The creature ignores you.*");
				abort;
			}
			Func08ED();
		}
		if (!gflags[0x013E]) {
			if (!gflags[0x013C]) {
				say("The ape-like creature in front of you approaches very cautiously.  After a few minutes of staring you up and down, it cocks its head toward you.~~\"You are human.\"");
				gflags[0x013C] = true;
				gflags[0x013E] = true;
			} else {
				say("The Emp in front of you approaches very cautiously. After a few minutes of staring you up and down, he cocks his head towards you.~~\"You are human.\"");
				gflags[0x013E] = true;
			}
		} else {
			say("\"You are greeted by me, human.\" Tavenor slowly approaches.");
		}
		add(["name", "job", "bye"]);
		var0001 = false;
		converse (0) {
			case "name":
				say("\"Tavenor is my name.\"");
				remove("name");
				fallthrough;

			case "job":
				if (!gflags[0x012E]) {
					say("\"The meaning of `job' is not understood.\"");
					add("explain job");
				} else {
					say("\"No job is had by me. Food is gathered by me and my family.\"");
					add("food");
				}
				fallthrough;

			case "explain job":
				say("\"`Job' now understood by me. No job is had by me. Food is gathered by me and my family.\" He watches you carefully. \"Your job is to cut down Silverleaf trees, yes?\"");
				gflags[0x012E] = true;
				var0002 = Func090A();
				if (var0002) {
					say("\"That is as I expected. You are a menace. You are asked to stop, please.\" He turns away from you.*");
					abort;
				}
				say("\"The truth is known to me, but, belief is hard for me.\"");
				var0003 = Func08F7(TRELLEK);
				if (var0003) {
					say("*");
					TRELLEK->say("\"The truth is spoken by the human,\" Trellek says to the other Emp. \"He is to be trusted. His good will was felt by me.\"*");
					TRELLEK->hide();
					TAVENOR->say("The Emp nods at Trellek, and then turns to you. \"The truth is now clear to me. You are wished good luck.\"");
				} else {
					say("The Emp eyes you a little longer. \"Your good intentions are known to    me. You are asked to be the messenger. Humans will not be destroyers, please.\"");
				}
				remove("explain job");
				gflags[0x012E] = true;
				add(["food", "Silverleaf trees"]);
				fallthrough;

			case "food":
				say("\"Fruit and milk are Emp foods. Especially fruits are liked by me. Meats,\" he shakes his head,~~\"are -not- liked by Emps.\"");
				remove("food");
				add(["meats", "fruits", "milk"]);
				fallthrough;

			case "milk":
				say("\"Milk is good. Milk with honey is preferred by me.\"");
				if (!var0001) {
					add("honey");
				}
				remove("milk");
				fallthrough;

			case "Silverleaf trees":
				say("\"Silverleaf trees are Emp homes.\"");
				remove("Silverleaf trees");
				fallthrough;

			case "meats":
				say("\"Meats are from killed animals. Killing is bad. Destroying is bad.\"");
				remove("meats");
				fallthrough;

			case "fruits":
				say("\"Fruits are good and sweet -- like honey!\"");
				remove("fruits");
				if (!var0001) {
					add("honey");
				}
				fallthrough;

			case "honey":
				say("\"Honey is favorite food of all Emps!\"");
				var0001 = true;
				remove("honey");
				fallthrough;

			case "bye":
				break;
		}
		say("\"You are told `goodbye.'\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08DF 0x8DF ();
extern var Func090A 0x90A ();

void Func0465 object#(0x465) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		var0000 = Func0931(PARTY, 0x0001, 0x0304, QUALITY_ANY, FRAME_ANY);
		SALAMON->show_npc_face(0x0000);
		if (!gflags[0x0154]) {
			if (!var0000) {
				say("The creature ignores you.*");
				abort;
			}
			Func08DF();
		}
		if (!gflags[0x013F]) {
			if (!gflags[0x013C]) {
				say("You see a wizened female ape-like creature.");
				gflags[0x013C] = true;
				gflags[0x013F] = true;
			} else {
				say("You see a wizened female Emp.");
				gflags[0x013F] = true;
			}
		} else {
			say("\"You are hailed, human.\"");
		}
		if (gflags[0x012B]) {
			add("Trellek");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("\"I am Salamon,\" she says.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am without job. All Emps are without jobs. Food gathering and shelter-building are Emp jobs.\"");
				if (!gflags[0x0131]) {
					say("She gives you a hard look.~~\"There is a job for Trellek.\"");
					gflags[0x0151] = true;
					add("Trellek");
				}
				add(["food-gathering", "shelter-building"]);
				fallthrough;

			case "shelter-building":
				say("\"Silverleaf trees are where Emp's homes can be found.\"");
				remove("shelter-building");
				fallthrough;

			case "food-gathering":
				say("\"Only fruits, vegetables, and milk-stuffs are eaten by Emps. Bread is also eaten.\"");
				remove("food-gathering");
				add(["fruits and vegetables", "milk-stuffs", "bread", "-only-?"]);
				fallthrough;

			case "milk-stuffs":
				say("\"Milk and cheese and butter are milk-stuffs.\"");
				remove("milk-stuffs");
				fallthrough;

			case "bread":
				say("\"Bread is hard to make for Emps. No stoves or ovens are owned by Emps. But bread is well liked.\"");
				remove("bread");
				fallthrough;

			case "fruits and vegetables":
				say("\"Fruits and vegetables are our favorites. Many are sweet.\"");
				remove("fruits and vegetables");
				add("sweet");
				fallthrough;

			case "sweet":
				say("\"Sweet things are desired by Emps. Honey is sweetest! More honey is had by you?\"");
				var0001 = Func090A();
				if (var0001) {
					say("Her eyes widen and her lips part around a very large and hopeful smile.~~\"More honey will be given by you?\"");
					var0002 = Func090A();
					if (var0002) {
						var0003 = Func0931(PARTY, 0x0001, 0x0304, QUALITY_ANY, FRAME_ANY);
						if (var0003) {
							say("\"You are thanked,\" she says, taking the honey.");
						} else {
							say("\"A mean trick was played by you,\" she says, frowning.");
							abort;
						}
					} else {
						say("She seems surprised, but quickly recovers.~~\"Your feelings are understood by me,\" she sighs.");
					}
				} else {
					say("She sighs, obviously disappointed.");
				}
				remove("sweet");
				fallthrough;

			case "-only-?":
				say("\"No dead animal flesh -- what is called `meat' by humans -- is eaten by an Emp.\"");
				add(["dead animal flesh", "meat"]);
				remove("-only-?");
				fallthrough;

			case "meat":
				say("\"Meat is without a good taste,\" she shudders. \"It is not preferred!\"");
				remove("meat");
				fallthrough;

			case "dead animal flesh":
				say("\"All violence is abhorred by Emps. No killing is desired, even for what you humans call food.\"");
				remove("dead animal flesh");
				fallthrough;

			case "Trellek":
				if (gflags[0x0130]) {
					if (gflags[0x012B]) {
						var0004 = Func0931(PARTY, 0x0001, 0x031D, 0x0003, FRAME_ANY);
						if (var0004) {
							say("She takes the document from you, smiling when she sees Ben's signature. \"Trellek is permitted to join you. You are wished luck and speed.\"");
							var0005 = UI_remove_party_items(0x0001, 0x031D, 0x0003, FRAME_ANY, false);
							gflags[0x0131] = true;
						} else {
							say("\"The signed contract must be seen by me.\"");
						}
					} else {
						say("\"Permission will be given to you later. There is a task that must be performed first.~~\"There is a woodcutter who lives in the western part of the forest. Silverleaf trees are being cut down by him. Emp houses are in Silverleaf trees. Contract must be signed by woodcutter to stop.\"");
						if (!gflags[0x012A]) {
							say("\"My condition is understood by you?\" Not waiting for your response, she hands you a document.");
							var0006 = UI_add_party_items(0x0001, 0x031D, 0x0003, FRAME_ANY, false);
							if (var0006) {
								say("\"You are now in possession of the contract.\"");
								gflags[0x012A] = true;
							} else {
								say("\"There is not enough room in your equipment for the contract.\"");
							}
						}
					}
				} else {
					say("\"Trellek is another Emp. He should be spoken to by you.~~\"There is much damage to the forest and the Silverleaf trees. The damage is caused by your people, human. The responsibility to reverse the damage is also yours, human.~~\"Trellek should be sought by you,\" she says emphatically. \"He should be asked to join you.\"");
				}
				remove("Trellek");
				fallthrough;

			case "bye":
				break;
		}
		say("\"My hope is for your welfare, human.\"*");
	}
	if (event == PROXIMITY) {
		var0007 = SALAMON->get_npc_object()->get_schedule_type();
		var0008 = UI_die_roll(0x0001, 0x0004);
		var0000 = Func0931(PARTY, 0x0001, 0x0304, QUALITY_ANY, FRAME_ANY);
		if (var0007 == LOITER) {
			if (var0000) {
				if (var0008 == 0x0001) {
					var0009 = "@You are greeted.@";
				}
				if (var0008 == 0x0002) {
					var0009 = "@Nature is home to many.@";
				}
				if (var0008 == 0x0003) {
					var0009 = "@A good day is hoped for you.@";
				}
				if (var0008 == 0x0004) {
					var0009 = "@Nature is wise.@";
				}
			}
		}
		SALAMON->item_say(var0009);
	}
}

extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern void Func08C3 0x8C3 ();
extern void Func08C4 0x8C4 ();
extern void Func0911 0x911 (var var0000);

void Func0466 object#(0x466) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == PROXIMITY) {
		abort;
	}
	NICODEMUS->show_npc_face(0x0000);
	var0000 = Func0908();
	add(["name", "job", "bye"]);
	var0001 = UI_get_party_list();
	var0002 = PARTY->count_objects(0x0347, QUALITY_ANY, 0x0000);
	if (gflags[0x01D2]) {
		add(["hourglass", "Time Lord"]);
	}
	if (var0002 || gflags[0x0211]) {
		add("enchant");
	}
	if (!gflags[0x0140]) {
		say("Your old friend Nicodemus has a far away look in his eyes.");
		gflags[0x0140] = true;
	} else if (!gflags[0x0003]) {
		say("\"Who art thou?\" Nicodemus asks. \"Oh, I remember. Remember demember! Ha ha ha!\"");
	} else {
		say("\"Hello again, ",
			var0000,
			",\" says Nicodemus.");
	}
	converse (0) {
		case "name":
			if (!gflags[0x0003]) {
				say("\"That is a very good question. Some days I can actually remember. Let's see... today... Yes! I am Nicodemus! Nicodomus! Nicodimus! Nico-nico-kukodamus! Ha ha ha!\"");
			} else {
				say("\"Thou art addressing Nicodemus.\"");
			}
			remove("name");
			fallthrough;

		case "job":
			if (!gflags[0x0003]) {
				say("\"To go absolutely mad! For that is indeed what is happening! My magic no longer works! Every time I attempt to change something into a drake, it only becomes a newt! Oh, newty-wewty scooty-booty!\" He speaks to an imaginary creature beside him. \"Who asked thee? Away with thee!\" He turns to you. \"Sorry. That bloody newt keeps trying to undermine my conversation. Anyway... I suppose I can sell thee some reagents, potions, or spells. I must make a living somecow. I mean somehow! That was Some Cow! Ha ha ha!\"");
				add(["magic", "potions"]);
			} else {
				say("\"Why, to perform magic! It seems that the disturbance in the ether has been repaired! I can also sell thee some reagents or spells.\"");
			}
			add(["spells", "reagents"]);
			fallthrough;

		case "magic":
			if (!gflags[0x0003]) {
				say("\"Magic? What magic!? All the magic in the world has gone completely topsy-turvy! Oh, blurpsy-flurpsy! Ha ha ha! Those are silly words, are they not? 'Tis a pity they are not magical! Ha ha ha!\"");
			} else {
				say("\"The ether is repaired. The mages of the world are indebted to thee.\"");
			}
			remove("magic");
			fallthrough;

		case "spells":
			say("\"Dost thou wish to buy some spells?\"");
			var0003 = Func090A();
			if (var0003) {
				Func08C3();
			} else {
				say("\"Never mind, then!\"");
			}
			fallthrough;

		case "reagents":
			say("\"Dost thou wish to buy some reagents?\"");
			var0004 = Func090A();
			if (var0004) {
				Func08C4();
			} else {
				say("\"Never mind, then!\"");
			}
			fallthrough;

		case "potions":
			if (!gflags[0x0003]) {
				say("\"Potions? What makes thee think I have potions? Art thou sure thou dost not want Lotions? I certainly have lotions! Otions, slotions, motions, votions! Ha ha ha! Wait! Oh, yes! I do have potions! I told thee so, didn't I! Let us see... I have this black potion here. I am not sure what it does exactly, but I am quite sure it turns one invisible.");
			} else {
				say("\"Yes, I have potions. Well, I have this black one. It is an invisibility potion.");
			}
			say("\"Dost thou want it for, say, 75 gold?\"");
			var0005 = Func090A();
			if (var0005) {
				var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var0006 >= 0x004B) {
					var0007 = UI_add_party_items(0x0001, 0x0154, QUALITY_ANY, 0x0007, true);
					if (var0007) {
						say("\"Here is the potion.\"");
						var0008 = UI_remove_party_items(0x004B, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					} else {
						say("\"Thou dost not have enough room to carry the potion!\"");
					}
				} else {
					say("\"Art thou trying to cheat me? Thou dost not have enough gold!\"");
				}
			} else {
				say("\"Then why didst thou mention it? Leave me alone!\"");
			}
			remove("potions");
			fallthrough;

		case "Time Lord":
			if (!gflags[0x0003]) {
				say("\"Timey Limey Lord? Hmmm. I don't know him. Wait! Yes I do. Does he have a big black mustache and three pairs of pants? No! I know who he is. He's the fellow who came to fix my sundial the other day, right?\"");
				var0009 = Func090A();
				if (var0009) {
					say("\"I thought so! Tell him that bloody thing still doesn't work! It gives me three shadows! Dadows badows whoopeee! Ha ha ha!\"");
				} else {
					say("\"He's not? Hmmm. Then he must be the man I am not thinking of!\"");
				}
				say("\"Wait! I remember! He is my Knight's Bridge opponent! We play on my Knight's Bridge court just north of mine house.\"");
			} else {
				say("\"I have not spoken to the Time Lord in months! How is the old codger? Give him my regards. Tell him I miss our Knight's Bridge games!\"");
			}
			remove("Time Lord");
			add("Knight's Bridge");
			fallthrough;

		case "Knight's Bridge":
			say("\"'Tis a life-size board game. I have a book around here somewhere which contains the rules.\"");
			remove("Knight's Bridge");
			fallthrough;

		case "hourglass":
			if (gflags[0x012D]) {
				say("\"Yes, I just enchanted it.\"");
			} else if (!(gflags[0x0211] || var0002)) {
				if (!gflags[0x0003]) {
					say("\"This Time Lord told thee what? An hourglass! I have no blinking hourglass! Glassy wassy hoursplassy! Ha ha ha! Wait! An enchanted hourglass? That does ring a bell. Clang Clang Clang! Ha ha ha! Wait! I remember. I had an hourglass. I sold it. To a gypsy. Or was it an antique dealer? I think I might have sold it to a gypsy antique dealer in Britain. Or Paws. Somewhere on that side of the land. But if my memory serves me correctly, that hourglass used up its enchantment, which is why I sold it. I suppose if the ether is repaired, I could possibly re-enchant it. Bring it to me and we'll see what we can do. I know! We can play a rousing game of chess! But only if I can deal at all times. I do not trust thee.\"");
				} else {
					say("\"Mine old hourglass! Of course I remember it! I believe I sold it to an antique dealer in Paws. I might be able to re-enchant it if thou wouldst bring it to me.\"");
				}
			} else if (!gflags[0x0003]) {
				say("\"What's this? An hourglass of some kind? Wait! It looks vaguely familiar! Thief!! This is mine hourglass! I have been looking for it for years! Where didst thou get it, scoundrel? I shall turn thee into a duck!\"~~Nicodemus intones some spell and points at you, but nothing happens.~~\"Zounds! Thou art no more a quacker than I am. Nothing works anymore. Quacker slacker wacker flacker! Ha ha ha!\"");
			} else {
				say("\"Mine old hourglass! I suppose I could revitalize the enchantment upon it.\"");
			}
			remove("hourglass");
			fallthrough;

		case "enchant":
			if (!gflags[0x0003]) {
				say("\"Enchant? Thou dost want me to enchant this wretched thing? Thou must have the brain of a toad! Toady woady bloady coady! Ha ha ha!~~\"Do me a favor, Mister Avatar. Repair the blinking ether, wilt thou? Do that and I can enchant thy glourblass. I mean floursass. I mean hourglass. Tell that to thy 'Time Lord'. Thou canst also tell him he needs a bath.\"");
			} else {
				say("\"I would be most happy to enchant the hourglass. After freeing the ether, I am most indebted to thee. Let me see it...\"");
				if (var0002) {
					say("Nicodemus takes the hourglass and studies it a moment. He sets it on a table and closes his eyes, concentrating. He intones a few words, throws some reagents into the air, and passes his hand over the artifact.~~\"That should do it.\" He hands the hourglass back to you.");
					var000A = UI_remove_party_items(0x0001, 0x0347, QUALITY_ANY, 0x0000, false);
					var000B = UI_add_party_items(0x0001, 0x0347, QUALITY_ANY, 0x0001, false);
					gflags[0x012D] = true;
					Func0911(0x0064);
				} else {
					say("\"Where is it? Thou dost not have the hourglass!\"");
				}
			}
			remove("enchant");
			fallthrough;

		case "bye":
			break;
	}
	if (!gflags[0x0003]) {
		say("\"Bye bye booby booby bye bye! Ha ha ha!\"*");
	} else {
		say("\"Goodbye, ",
			var0000,
			".\"*");
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();

void Func0467 object#(0x467) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		THAD->show_npc_face(0x0000);
		var0000 = UI_wearing_fellowship();
		if (var0000) {
			var0001 = THAD->get_npc_object();
			say("The man scowls at you. \"Thou wearest the symbol of that most foul of groups, The Fellowship. Prepare to die!\"*");
			var0001->set_alignment(EVIL);
			var0001->set_schedule_type(IN_COMBAT);
			abort;
		}
		var0002 = Func0909();
		var0003 = false;
		if (!gflags[0x0141]) {
			say("Eyeing you carefully, the man before you takes an aggressive stance.");
			gflags[0x0141] = true;
		} else {
			say("\"Good day, ",
				var0002,
				",\" Thad says coolly.");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("He stares at you for a moment. \"Thad is my name, ",
					var0002,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Job? I have not the time for a job. I am on a quest to rid this land of that which plagues it!\"");
				add(["quest", "plague"]);
				fallthrough;

			case "quest":
				say("\"I have devoted mine entire life to this, nothing will get in my way, not even Batlin.\"");
				remove("quest");
				add("Batlin");
				fallthrough;

			case "Batlin":
				say("\"He is the leader of the cursed organization, The Fellowship!\"");
				if (!var0003) {
					add("The Fellowship");
				}
				remove("Batlin");
				fallthrough;

			case "plague":
				say("\"Surely thou hast heard of The Fellowship, a most foul and evil organization. It has even infested the lovely forest of Yew!\"");
				add("Yew");
				if (!var0003) {
					add("The Fellowship");
				}
				remove("plague");
				fallthrough;

			case "The Fellowship":
				say("\"I know little about their practices, but I do know they live outside the bounds of moral decency. They have kidnapped my beloved sister, Millie, and have cast a spell of enchantment. Now she lives as they do. I have vowed to remove this wicked spell and will slay the entire organization should that prove necessary!~~ \"Thou, also, hast taken up a similar cause, I expect. Yes?\"");
				var0004 = Func090A();
				if (var0004) {
					say("\"Excellent.\" He shakes your hand. \"Thou art indeed a worthy warrior, ",
						var0002,
						".\"");
				} else {
					say("\"No?\" He seems genuinely surprised. \"Then perhaps thou wilt consider taking up my quest in thine own manner.\"");
					var0005 = Func090A();
					if (var0005) {
						say("\"I expected as much. Thou art truly an honorable warrior.\"");
					} else {
						say("\"What manner of scoundrel art thou? Remove thyself from my presence before I decide to smite thee from thy wretched life!\"*");
						abort;
					}
				}
				var0003 = true;
				remove("The Fellowship");
				fallthrough;

			case "Yew":
				say("\"I know the land, but not the people. There is nothing useful I have to tell thee.\" He appears thoughtful for a moment. \"Perhaps I can aid thee a bit. I do know that there are two hunters who sometimes frequent this area. One, a woman, carries a spear. The other is an archer. That is all I can tell thee.\"");
				remove("Yew");
				fallthrough;

			case "bye":
				break;
		}
		say("\"May thine endeavors reach fruition, ",
			var0002,
			".\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func0856 0x856 (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func0468 object#(0x468) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		BRADMAN->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x0142]) {
			say("You see a man leaning on a longbow.");
			gflags[0x0142] = true;
		} else {
			say("Bradman greets you. \"Hail, ",
				var0000,
				".\"");
		}
		converse (0) {
			case "name":
				say("\"I am Bradman.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Why, 'tis my job to train the many who visit Yew to become more agile.\"");
				add(["Yew", "train", "many"]);
				if (gflags[0x014D]) {
					add("Penni");
				}
				fallthrough;

			case "many":
				say("\"The forest attracts a lot of people who want to spend some time away from the larger towns like Minoc and Britain. So they come to Yew.~~\"And, something about the woods makes most people want to explore.\" He pats his bow.~~\"That is where this comes in. The bow is the tool of survival in the forest. And I,\" he jerks his thumb to his chest, \"teach proficiency with the bow.\"");
				remove("many");
				add(["explore", "bow"]);
				fallthrough;

			case "explore":
				say("\"There are many exciting things to see in the forest. Not a day goes by when I do not see something interesting: a new type of bird, a beautiful butterfly, or, best of all -- a deer.\"");
				remove("explore");
				fallthrough;

			case "bow":
				say("\"'Tis my weapon of choice. It takes a keen eye and a steady arm to shoot accurately. I think it has more finesse than a sword or a spear, for example.\"");
				remove("bow");
				fallthrough;

			case "Yew":
				say("\"I love the forest. It is very beautiful. Also,\" he raises his bow, \"I moved out here to be near the two great archers, Iolo and Tseramed.\"*");
				var0001 = Func08F7(IOLO);
				var0002 = Func08F7(TSERAMED);
				if (var0001) {
					IOLO->say("Iolo blushes. \"I am honored, my friend. I was not aware I had an admirer in this part of the land.\" He bows to Bradman, who returns the gesture.*");
					IOLO->hide();
					BRADMAN->show_npc_face(0x0000);
				}
				if (var0002) {
					TSERAMED->say("\"Thank you for thy kind words, good sir. Perhaps we may practice sometime in the future.\"*");
					TSERAMED->hide();
					BRADMAN->say("\"I would be greatly honored, milord!\"");
				} else {
					add("Tseramed");
				}
				remove("Yew");
				fallthrough;

			case "Tseramed":
				say("\"He is a great archer who resides in the forest. He moved here to get away from the far-too-quickly growing towns.\"");
				remove("Tseramed");
				fallthrough;

			case "train":
				say("\"If thou wantest to train, my charge is 30 gold. Art thou still interested?\"");
				if (Func090A()) {
					Func0856(DEXTERITY, 30);
				} else {
					say("\"I understand, ",
						var0000,
						".\"");
				}
				fallthrough;

			case "Penni":
				say("\"Thou hast met Penni? I hope thou hast not trained with her,\" he winks. \"She is a valuable friend, but she hunts as well as a weed and she is as clumsy as an ox. I am afraid she knows nothing about fighting.\"");
				remove("Penni");
				fallthrough;

			case "bye":
				break;
		}
		say("\"May the trees part around thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(BRADMAN);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();

void Func0469 object#(0x469) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		SIR_JEFF->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x0143]) {
			say("The man greets you with stern, suspicious eyes.");
			gflags[0x0143] = true;
		} else {
			say("\"What is thy business, ",
				var0000,
				"?\"");
		}
		converse (0) {
			case "name":
				say("\"I am Sir Jeff, ",
					var0000,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the High Court official at the prison here in the Abbey.\"");
				add(["official", "Abbey"]);
				fallthrough;

			case "official":
				say("\"I am the judiciary part of Britannia's government. It is my job to see that criminals are brought to justice.\"");
				add("criminals");
				remove("official");
				fallthrough;

			case "criminals":
				say("\"We have two prisoners already, but there are many scoundrels who still roam free.\"");
				add(["prisoners", "scoundrels"]);
				remove("criminals");
				fallthrough;

			case "prisoners":
				say("\"Thou, of course, hast never met them,\" he says, his brow narrowing, \"but we have a pirate, and,\" he pauses, \"a troll. If thou dost wish to see them, speak with Goth, the jailer.\"");
				add("Goth");
				remove("prisoners");
				fallthrough;

			case "scoundrels":
				say("\"See for thyself, the posted bills for known villains are in the log book in the courtroom.\"");
				remove("scoundrels");
				fallthrough;

			case "Goth":
				say("\"He has only been working here for a few weeks, but I already know he is not trustworthy. There is something obviously unscrupulous about him. He is not a friend of thine, is he?\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"I suspected as much.\" He turns away from you.*");
					abort;
				}
				say("\"No,\" he says, watching you closely, \"of course he is not.\"");
				remove("Goth");
				fallthrough;

			case "Abbey":
				say("\"The monks live and study there, but they do little more than winemaking. Well, I know one of them tends the garden.\"");
				remove("Abbey");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Keep thine heart and mind on the straight path, ",
			var0000,
			".\"");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();

void Func046A object#(0x46A) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		TIERY->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x0144]) {
			say("You see an unkempt, yet dapper man talking to himself.");
			gflags[0x0144] = true;
		} else {
			say("\"Eh, wot's that? Oh, it's you, ",
				var0001,
				".\"");
		}
		converse (0) {
			case "name":
				say("\"M'name's Tiery, ",
					var0001,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Eh, 'ow's that? Oh, m'job. Why, Oi take good care o' me buddies in the graveyard 'ere in Empath Abbey, Oi do.\"");
				add(["Empath Abbey", "buddies"]);
				fallthrough;

			case "Empath Abbey":
				say("\"What do ye mean did Oi 'umpeth Abby. 'Course Oi didn't. Oi never went anywhere near Abby. 'Oo told ye that?\"");
				add("'Umpeth Abby");
				remove("Empath Abbey");
				fallthrough;

			case "'Umpeth Abby":
				say("\"Empath Abbey? Why, this 'ere's Empath Abbey, ",
					var0001,
					". Oi don't mean to pry, but if ye knowest not where ye be, why 'ave ye come 'ere?\" He shakes his head. \"It's just as Oi was tellin' Darek the other day, `If ye never want to be lost,' Oi said, `don't ever go nowheres.'\"");
				remove("'Umpeth Abby");
				fallthrough;

			case "buddies":
				say("\"What wrong with the bodies? Oi don' do nothing more than bury 'em! A fellow could get in lots o' trouble spreading rumors like that.\"");
				add(["bury", "bodies"]);
				remove("buddies");
				fallthrough;

			case "bury":
				say("\"Barry? Oh, 'im. Oi don't know what ye's talkin' about. Oi never met Barry's woife! 'Twas just a lie they's spreadin' about me.\"");
				remove("bury");
				add("Barry");
				fallthrough;

			case "Barry":
				say("\"Oi already told ye that's m'job.\"");
				remove("Barry");
				fallthrough;

			case "bodies":
				say("\"That's right. M'buddies! Oi bury 'em. It's m'job.\" He squints at you. \"Unless, ",
					var0001,
					", yer askin' about the people 'ere?\"");
				add("people");
				remove("bodies");
				fallthrough;

			case "people":
				say("\"No! Of course Oi don't use peep holes. What sort o' question is that to ask a fellow, ",
					var0001,
					"?\"");
				add("peep hole");
				remove("people");
				fallthrough;

			case "peep hole":
				say("\"Well, Oi only know a few people 'ere, but Oi'll try an' 'elp as best as Oi am able. 'Oo do ye want to know about? My two best friends are Garth an' Darek, but Oi often talk to Nina an' Bart when Oi get the chance.~~");
				say("\"Recently, that Perrin fellow from across the way 'as been spendin' some toime with me. 'E's a real nice chap. A l'ttle brainy, perhaps, ",
					var0001,
					", but Oi like 'im just the same. Anyone else ye'd like to know about?\"");
				if (Func090A()) {
					say("\"Well, that Perrin fellow'd be a better one to ask than Oi'd be, ",
						var0001,
						". 'E knows a lot, that one does.\"");
				} else {
					say("\"All right then, glad Oi could introduce ye to a few o' my friends.\"");
				}
				remove("peep hole");
				fallthrough;

			case "bye":
				break;
		}
		say("\"G'day, ",
			var0001,
			". 'Ave a pleasant journey. Oi'll tell Malc 'allo for ye.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);

void Func046B object#(0x46B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == PROXIMITY) {
		abort;
	}
	ISKANDER->show_npc_face(0x0000);
	var0000 = Func0908();
	var0001 = "Avatar";
	var0002 = Func0909();
	if (!gflags[0x02CF]) {
		say("You see a large cyclops. It looks at you and blinks its eye in irritation.");
		gflags[0x02CF] = true;
	} else {
		say("\"What dost thou want?\" says Iskander.");
	}
	add(["name", "job", "bye"]);
	if (gflags[0x02DB]) {
		add("Eiko and Amanda");
	}
	converse (0) {
		case "name":
			say("\"I am of the clan Ironheart, the eleventh son of Valador. They call me Iskander.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"My cyclopean people say I am a hero. Many of you humans say I am a monster. No doubt, the truth is somewhere in between.\"");
			add(["hero", "monster"]);
			fallthrough;

		case "hero":
			say("\"One hundred and eighty-nine years ago I slew the seven Gazer Princes when they used their magic to steal the eye from the leader of our tribe, but such things are now ancient history and are no longer of any consequence.\"");
			remove("hero");
			add(["tribe", "eye", "ancient history"]);
			fallthrough;

		case "monster":
			say("\"On numerous occasions I have caused the unpleasant end of human interlopers who mistakenly believed our race was fit for nothing save to be plundered. But I have no quarrel with thee.\" He pauses to scrutinize you. \"For the moment.\"");
			remove("monster");
			add("thee");
			fallthrough;

		case "thee":
			say("\"Thou dost know my name, but I still do not know the name of thee. I like to know to whom I am speaking. What is thy name?\"");
			var0003 = Func090B([var0001, var0000]);
			if (var0003 == var0001) {
				say("\"I have heard of thee, Avatar. Thou hast come into conflict against our kind before, I know. But I have also heard the tales of thine heroic and spiritual quests and I believe thee to be a just and noble man. Thou mayest call me friend.\"");
				gflags[0x02D6] = true;
			}
			if (var0003 == var0000) {
				say("\"A pleasure to meet thee, ",
					var0000,
					".\"");
				gflags[0x02D5] = true;
			}
			remove("thee");
			fallthrough;

		case "tribe":
			say("\"Those of my tribe are a quiet people. They farm the rocky soil, but are also very good tool makers. I was sent to find them a new homeland.\"");
			remove("tribe");
			add("homeland");
			fallthrough;

		case "eye":
			say("\"The eye of a cyclops is considered quite a delicacy to some of the less genteel races of Britannia. Twice have foul creatures tried to take mine, and twice have I dined on their hearts.\"");
			remove("eye");
			fallthrough;

		case "ancient history":
			say("\"Then they called me 'Wonder Boy'. For nearly a hundred years that was the nickname by which I was known. I was most grateful when they stopped doing that!\"");
			remove("ancient history");
			add("Wonder Boy");
			fallthrough;

		case "Wonder Boy":
			say("Iskander squints his eye at you. \"Do not start that again!\"");
			remove("Wonder Boy");
			fallthrough;

		case "homeland":
			say("\"My village lies a great many days' journey away. The people there desire a place where they can live in peace with their surroundings. I have not found such a place yet, but I will search everywhere until I do.\"");
			remove("homeland");
			add(["peace", "everywhere"]);
			fallthrough;

		case "peace":
			say("\"While I am two hundred and six, not long in years for one of my race, I already have the heart of an old man. A hero's adventures have no more attraction for me. I long to settle down with my people and spend my days tending the fields or in my workshop building things.\"");
			remove("peace");
			fallthrough;

		case "everywhere":
			say("\"My searches have brought me to this dreadful place. I incorrectly surmised that since magic does not work it would be relatively safe. It is here that I have been perplexed by a terrible riddle.\"");
			remove("everywhere");
			add(["magic", "riddle"]);
			fallthrough;

		case "riddle":
			say("\"Standing at the doorway of one room in this place, I saw an enormous image of a tetrahedron. As I tried to near it a wave of amnesia passed over me. Once more I was standing in the doorway. I could remember nothing more.\"");
			remove("riddle");
			add(["tetrahedron", "amnesia"]);
			fallthrough;

		case "tetrahedron":
			say("\"I believe that is word you humans use to describe a polyhedron with four faces.\"");
			remove("tetrahedron");
			fallthrough;

		case "amnesia":
			say("\"This same wave of amnesia struck me every time I tried to approach the tetrahedron. I do not know what sort of foul magic this is.\"");
			remove("amnesia");
			add("foul magic");
			fallthrough;

		case "foul magic":
			if (gflags[0x0003]) {
				say("\"Now that thou hast destroyed the mysterious tetrahedron I will complete mine exploration of this place. I have a feeling that the homeland I seek is very far away but one never knows where the next clue will be that shall lead me to it.\"");
			} else {
				if (gflags[0x02D6]) {
					say("\"Perhaps thou shalt be able to solve this mystery. I have been unable to as of yet. But I shall remain here until its secret is revealed.\"");
				}
				if (gflags[0x02D5]) {
					say("\"I warn thee that this place is not safe. It holds unknown perils. Perhaps thou wouldst do better to leave this place.\"");
				}
			}
			remove("foul magic");
			fallthrough;

		case "magic":
			if (!gflags[0x0003]) {
				say("\"Surely, thou dost know that magic no longer functions as it once did. There are those who say that the age of magic is over. If that is so, then I fear that there may be no place left in this world for my people.\"");
			} else {
				say("\"Of course, now that thou hast destroyed the tetrahedron all magic has been restored. I congratulate thee for thine heroic deed!\"");
			}
			remove("magic");
			fallthrough;

		case "Eiko and Amanda":
			say("\"Yes, I have heard those names before. Those are the names of two warriors who have been after me for revenge. They say I killed their father and I must admit to thee that it is true. I did kill their father.\"");
			remove("Eiko and Amanda");
			add(["revenge", "killed their father"]);
			fallthrough;

		case "revenge":
			say("\"I know that Eiko and Amanda have been after me for some time looking for vengeance. I say let them come. I will not stand still for them nor shall I run from them. When they find me they are welcome to try and take their justice from me. If they win then it was meant to be. If they do not I will have no regrets.\"");
			remove("revenge");
			fallthrough;

		case "killed their father":
			say("\"Their father's name was Kalideth. He suffered from the mage madness. His attack on me was unprovoked. For some reason he blamed the failure of magic upon my people. His own magics were still quite potent and I barely survived the encounter. I killed Kalideth in self-defense, but I did not want to kill him. I wish there to still be some magic left in this world and I mourned his passing as much as anyone.\"");
			var0004 = true;
			remove("killed their father");
			fallthrough;

		case "bye":
			break;
	}
	if (gflags[0x02D6]) {
		say("\"Farewell, Avatar.\"*");
		abort;
	}
	if (gflags[0x02D5]) {
		say("\"Farewell, ",
			var0000,
			".\"*");
	} else {
		say("\"Farewell.\"*");
	}
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0911 0x911 (var var0000);
extern void Func08D2 0x8D2 (var var0000, var var0001, var var0002);

void Func046C object#(0x46C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;

	if (event == DOUBLECLICK) {
		REYNA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = REYNA;
		var0003 = false;
		var0004 = false;
		var0005 = Func0931(PARTY, 0x0001, 0x03E7, QUALITY_ANY, 0x0004);
		add(["name", "job", "bye"]);
		if (!gflags[0x0146]) {
			say("The woman greets you with shining eyes.");
			gflags[0x0146] = true;
		} else {
			say("\"Hello, ",
				var0000,
				",\" says Reyna.");
		}
		var0006 = AVATAR->find_nearest(0x02CB, ON_SCREEN);
		if (var0006) {
			if (!gflags[0x0128]) {
				add("cemetery");
			}
		}
		if (var0005) {
			if (gflags[0x0128]) {
				add("brought flowers");
			}
		}
		if (gflags[0x0163]) {
			add("heal");
			var0004 = true;
		}
		converse (0) {
			case "name":
				say("\"I am Reyna,\" she says, brushing the hair out of her face.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a healer. I have chosen to set up shop here near the forest.\"");
				gflags[0x0163] = true;
				if (!var0004) {
					add("heal");
				}
				add("forest");
				if (gflags[0x013B]) {
					add("animals");
				}
				fallthrough;

			case "forest":
				say("\"I wanted to live and work here because the land is very beautiful. I have found many things to do and see. Unfortunately, the forest is so spread out that I have yet to meet many of the others who live in this area. I do know that the Abbey is just across the way from mine house.~~\"And somewhere nearby is a scholar.\" She appears thoughtful for a moment. \"Also, I believe there is a prison just east of the Abbey.");
				remove("forest");
				add(["Abbey", "scholar", "prison"]);
				fallthrough;

			case "prison":
				say("\"I've never actually seen it,\" she laughs, \"but rumor has it that the cells are located right next to the court, for quick, easy imprisonment after the trial.\"");
				remove("prison");
				fallthrough;

			case "scholar":
				say("\"From Aimi I have heard that he is brilliant, and... also a bit overzealous to instruct those interested in increasing their knowledge.\"");
				if (!var0003) {
					add("Aimi");
				}
				remove("scholar");
				fallthrough;

			case "Aimi":
				var0003 = true;
				if (gflags[0x015A]) {
					say("\"She is the monk who tends the garden at the Abbey.\"");
				} else {
					say("\"She is one of the monks who lives at the Abbey. At this time, she is the only other person I have actually met here in the forest.\"");
				}
				remove("Aimi");
				fallthrough;

			case "Abbey":
				say("\"That is how this area -- Empath Abbey -- got its name, from the monks who live at the abbey of the Brotherhood of the Rose. They are said to make delicious wine. One of the monks cares for a beautiful garden in her spare time. In fact, I often buy flowers from her.~~ But,\" she grins, \"as for the other monks, all that I\tever see them do is make wine and wander the countryside.\"");
				gflags[0x015A] = true;
				remove("Abbey");
				add(["flowers", "others"]);
				fallthrough;

			case "others":
				say("\"Aimi is the only one I have met, but I know there are one or two others who make wine there.\"");
				if (!var0003) {
					add("Aimi");
				}
				remove("others");
				fallthrough;

			case "flowers":
				say("\"Yes, I get them for my mother.\"");
				if (!gflags[0x0128]) {
					add("mother");
				}
				remove("flowers");
				fallthrough;

			case "mother", "cemetery":
				gflags[0x0128] = true;
				if (var0006) {
					var0007 = "";
					var0008 = REYNA->find_nearby(0x03E7, 0x000A, MASK_NONE);
					for (var000B in var0008 with var0009 to var000A) {
						if (var000B->get_item_frame() == 0x0004) {
							var0007 = "I realize there are already \r\n\t\t\t\t\t\tvery beautiful flowers here, \r\n\t\t\t\t\t\tbut there can never be enough \r\n\t\t\t\t\t\tto demonstrate how much she is \r\n\t\t\t\t\t\tmissed. ";
						}
					}
				}
				say("She looks down at her feet, and then back up at you. It is obvious she is fighting an urge to cry.~~ \"Several months ago, my mother passed away in her home town. She was born here in the forests, and had asked to be buried here, near me. Every morning I come out here to visit her and set flowers by her grave.~~ \"But,\" a lone tear escapes and trickles down her cheek, \"I am the only member of our family who lives nearby. No one else is able to visit or leave flowers very often.~~\"Her grave looks so bare sometimes.\" She looks off into the horizon and sighs. \"",
					var0007,
					"It would be nice\tif there were some way to have more flowers brought to her.\"~~She quickly turns and looks at you.~~\"I am terribly sorry for rambling on like that. Please excuse me, ",
					var0000,
					".\"");
				remove(["mother", "cemetery"]);
				if (var0005) {
					add("have flowers");
				}
				fallthrough;

			case "brought flowers", "have flowers":
				say("Her eyes light up as she sees the bouquet of flowers.~~ \"They are lovely! Thou art too kind, ",
					var0000,
					", to bring flowers for my mother! I cannot wait to set them by her grave.\"");
				var000C = UI_remove_party_items(0x0001, 0x03E7, QUALITY_ANY, 0x0004, true);
				var000D = UI_die_roll(0x0001, 0x0006);
				if ((var000D == 0x0001) || (var000D == 0x0002)) {
					var000E = 0x0009;
				}
				if ((var000D == 0x0003) || ((var000D == 0x0004) || (var000D == 0x0005))) {
					var000E = 0x0013;
				}
				if (var000D == 0x0006) {
					var000E = 0x005A;
				}
				Func0911(var000E);
				gflags[0x0139] = true;
				remove(["have flowers", "brought flowers"]);
				fallthrough;

			case "heal":
				if ((var0001 == MORNING) || ((var0001 == NOON) || (var0001 == AFTERNOON))) {
					gflags[0x013A] = true;
				}
				if (gflags[0x013A]) {
					if (gflags[0x0139]) {
						var000F = true;
						say("\"For thy kindly gift of flowers, I will aid thee for half price.\" She smiles at you.");
						Func08D2(0x000F, 0x0005, 0x00C8);
					} else {
						Func08D2(0x001E, 0x000A, 0x0190);
					}
				} else {
					say("\"I am sorry, ",
						var0000,
						", but, unless this is an emergency, I would prefer to wait until my shop is open.\"");
					add("emergency");
				}
				fallthrough;

			case "emergency":
				var0010 = UI_get_party_list();
				var0011 = 0x0000;
				var0012 = false;
				for (var0015 in var0010 with var0013 to var0014) {
					var0011 += 0x0001;
					var0016 = var0015->get_item_flag(POISONED);
					if (var0016) {
						var0012 = true;
					}
					var0017 = var0015->get_npc_prop(HEALTH);
					if (var0017 < 10) {
						var0012 = true;
					}
				}
				if (var0011 > 0x0001) {
					var0018 = " and your companions";
				} else {
					var0018 = "";
				}
				say("She quickly examines you",
					var0018,
					".");
				if (var0012 == true) {
					gflags[0x013A] = true;
					say("\"Thou art correct, ",
						var0000,
						". This is a true emergency!\"");
					add("heal");
				} else {
					say("\"I am sorry, but thy wounds are not mortal. Perhaps thou canst visit me when my shop is open.\"");
				}
				remove("emergency");
				fallthrough;

			case "animals":
				say("She smiles shyly.~~\"I very much love animals. When I was very young, I found an ailing dove that I was unable to nurse back to health. Since that time, I began to study the healing arts, so that I would be able to help other animals who might need healing.~~ \"Of course,\" she laughs, \"now that I have the skills, I use them to help people, too.\"");
				remove("animals");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0000,
			".");
		if (gflags[0x0139]) {
			say("\"I thank thee for the bouquet!");
			if (var000F) {
				gflags[0x0139] = false;
			}
		}
		say("\"May health always follow thee!\"*");
		gflags[0x013A] = false;
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern void Func092E 0x92E (var var0000);

void Func046D object#(0x46D) () {
	var var0000;

	if (event == DOUBLECLICK) {
		WAYNE->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x02CA]) {
			say("You see a monk wandering around apparently without direction.");
			gflags[0x02CA] = true;
		} else {
			say("\"Greetings, ",
				var0000,
				". May I help thee?\" asks Wayne.");
		}
		converse (0) {
			case "name":
				say("\"Thou mayest call me Brother Wayne, ",
					var0000,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"My job? Well, I, er, do not truly have one at the moment.\" He looks down at his feet.");
				remove("job");
				add("at the moment");
				fallthrough;

			case "at the moment":
				say("\"Yes, I am... Well, I am lost, ",
					var0000,
					". I am from the Abbey to the south of here... or to the north.... Mayhaps the northwest.\" He cradles his chin and looks up.~~\"Southeast?\"");
				remove("at the moment");
				add(["lost", "Abbey"]);
				fallthrough;

			case "lost":
				say("\"Well... I am sure it is not permanent.\" He blushes. \"I just need to get my bearings, that's all,\" he says unconvincingly.");
				remove("lost");
				fallthrough;

			case "Abbey":
				say("\"I am a monk of the Brotherhood of the Rose. I study geography and nature with a brother named Taylor.\"");
				remove("Abbey");
				add(["geography", "nature", "Taylor"]);
				fallthrough;

			case "geography":
				say("\"Well,\" he shrugs, \"I suppose I should have studied a little bit better.\" He smiles sheepishly.");
				remove("geography");
				fallthrough;

			case "nature":
				say("\"There are so many beautiful things to see in Britannia. Both animals and plants alike offer excitement to the observer.\"");
				remove("nature");
				add(["animals", "plants"]);
				fallthrough;

			case "Taylor":
				say("\"Well, I haven't actually seen him for some time. I assume he is still continuing his studies.\"");
				remove("Taylor");
				fallthrough;

			case "plants":
				say("\"Ah, yes, ",
					var0000,
					", they are quite wondrous to see. I highly recommend to thee to always observe thy surroundings. Otherwise, ",
					var0000,
					", thou wilt miss much in life: flowers, trees, birds... landmarks!\"");
				remove("plants");
				add(["flowers", "trees", "birds"]);
				fallthrough;

			case "trees":
				say("\"Ah, my least favorite subject. I find the trees much less interesting than the birds.\"");
				remove("trees");
				fallthrough;

			case "birds":
				say("\"My favorite type of animal! The birds are so free, able to fly vast distances. How I wish I could roam about the open skies... most especially considering my current situation. Thou canst see so much more from the air, I am certain of it!\"");
				remove("birds");
				fallthrough;

			case "flowers":
				say("\"Very, very lovely plants. All the colors of the rainbow, and then some. One of the monks at the Abbey had a lovely flower garden. She may still tend it for all that I know, ",
					var0000,
					".\"");
				remove("flowers");
				if (gflags[0x014C]) {
					add("She still does.");
				}
				fallthrough;

			case "She still does.":
				say("\"Excellent, ",
					var0000,
					". I am glad to hear it. 'Twould be a shame were Aimi to give that up for her other... pastime.\"");
				remove("She still does.");
				add("other pastime");
				fallthrough;

			case "other pastime":
				say("\"Aimi also paints. Or rather, makes a bold attempt. I must, of course, commend her for her efforts.\"");
				remove("other pastime");
				fallthrough;

			case "animals":
				say("\"My favorite ones are the birds, especially the Golden-Cheeked Warbler. I love to follow and watch them. They do not seem to have a very good sense of direction, however.\" He sighs. \"But there is a great variety of species in this land.\"");
				remove("animals");
				fallthrough;

			case "bye":
				break;
		}
		say("\"May thy good fortune guide thee down the trail of life.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(WAYNE);
	}
}

extern var Func090A 0x90A ();
extern void Func0632 object#(0x632) ();

void Func046E object#(0x46E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	if (event == PROXIMITY) {
		abort;
	}
	GAROK->show_npc_face(0x0000);
	add(["name", "job", "bye"]);
	if (gflags[0x02CA]) {
		add("Brother Wayne");
	}
	if (!gflags[0x02CE]) {
		if (!gflags[0x0003]) {
			say("You see a mage with a wild look in his eyes.");
			gflags[0x02CE] = true;
		} else {
			say("You see a mage with a peaceful look in his eyes.");
			gflags[0x02CE] = true;
		}
	} else {
		say("\"Thou art talking to me?\" Garok asks, suspiciously.");
	}
	converse (0) {
		case "name":
			say("The mage stares at you a moment. \"Art thou from the Britannian Tax Council?\"");
			var0000 = Func090A();
			if (var0000) {
				say("\"Then I am nobody!\"*");
				abort;
			}
			if (!gflags[0x0003]) {
				say("\"Good for thee. I would have had to kill thee. I am Garok Al-Mat. At least, the last time I looked in the mirror, that was who I was!\"");
			} else {
				say("\"I like thee already! I am Garok Al-Mat.\"");
			}
			remove("name");
			add("Tax Council");
			fallthrough;

		case "job":
			if (!gflags[0x0003]) {
				say("Garok looks as if he might suddenly tear out his hair, but he restrains himself.~~\"I am... -was-... a mage. Until it all went wrong. I am attempting to correct things.\"");
				add(["mage", "correct"]);
			} else {
				say("\"I am, and always have been, a mage. I was down here trying to locate what was amiss with the ethereal waves, but they seem to be all right now.\"");
				add(["mage", "ethereal waves"]);
			}
			fallthrough;

		case "mage":
			if (!gflags[0x0003]) {
				say("Garok suddenly hits himself on the side of the head.~~ \"Get out! Damn thee! Out of there! No one invited thee into mine head! Away with thee!\"~~Garok hits himself again, shakes his head like a wet dog and makes a blubbering sound with his lips.~~Garok looks at you and smiles. \"That's better. Now, what was it... oh yes, I remember. Thou dost not believe I am a mage? Well, I am. I live in the mountains. But now I am lost in this wretched dungeon.\"");
				add(["thine head", "lost"]);
			} else {
				say("\"I usually live in the mountains, but I am lost in this dungeon.\"");
				add("lost");
			}
			remove("mage");
			fallthrough;

		case "correct", "ethereal waves":
			if (!gflags[0x0003]) {
				say("\"My magic is not working!");
			} else {
				say("\"My magic was not working!");
			}
			say("\"I attributed it to a disturbance in the ethereal waves! I had to find out what was happening. So here I am!\"");
			remove(["correct", "ethereal waves"]);
			fallthrough;

		case "thine head":
			say("\"There is a voice in mine head. Some demon of some sort. It is always congratulating me on things. And then other times it scolds me for things. I -know- it is not my conscience. I -know- what -he- sounds like! This is... someone else.\"");
			remove("thine head");
			add("voice");
			fallthrough;

		case "voice":
			say("\"I started hearing it around the time my magic began to fail. I do not find it amusing.\"");
			remove("voice");
			fallthrough;

		case "lost":
			if (!gflags[0x0003]) {
				say("\"My crystal ball told me that the source of my problems was in a dungeon, but it did not say which one. This was the first dungeon I had ever explored. I have not found anything that might help me, and I cannot find my way out!\"");
			} else {
				say("\"I came down here to find the source of my problems. My crystal ball told me that it was in a dungeon, but did not say which one. This is my first dungeon expedition, and now I am lost.\"");
			}
			remove("lost");
			if (gflags[0x0000]) {
				add("wrong dungeon");
			}
			add("way out");
			fallthrough;

		case "wrong dungeon":
			say("You explain to Garok that the Tetrahedron Generator is located in Dungeon Deceit.~~\"Hmmmm. Correct idea. Wrong dungeon.\"");
			remove("wrong dungeon");
			fallthrough;

		case "way out":
			say("\"Dost thou know the way out?\"");
			var0001 = Func090A();
			if (var0001) {
				say("You tell Garok how to get out of the dungeon.~~\"Why, it sounds so simple! My marbles must be losing me!~~ \"I thank thee! Now I must be on my way. In fact, now that I know the way, I can use what little magic I have going for me to teleport. One must know the direction thou art travelling if one wishes to teleport!~~\"Say, for helping me, wouldst thou like to have some useless reagents? By useless, I mean they are useless to me. They are probably perfectly good reagents. Thou art welcome to have them. Dost thou want them?\"");
				var0002 = Func090A();
				if (var0002) {
					var0003 = UI_add_party_items(0x0006, 0x034A, QUALITY_ANY, 0x0000, false);
					var0004 = UI_add_party_items(0x0004, 0x034A, QUALITY_ANY, 0x0001, false);
					var0005 = UI_add_party_items(0x0008, 0x034A, QUALITY_ANY, 0x0004, false);
					var0006 = UI_add_party_items(0x0008, 0x034A, QUALITY_ANY, 0x0005, false);
					var0007 = UI_add_party_items(0x0006, 0x034A, QUALITY_ANY, 0x0003, false);
					var0008 = UI_add_party_items(0x0007, 0x034A, QUALITY_ANY, 0x0002, false);
					var0009 = UI_add_party_items(0x0006, 0x034A, QUALITY_ANY, 0x0006, false);
					var000A = UI_add_party_items(0x0008, 0x034A, QUALITY_ANY, 0x0007, false);
					if (var0003 && (var0004 && (var0005 && (var0006 && (var0007 && (var0008 && (var0009 && var000A))))))) {
						say("\"Good. One less thing I have to carry.\"");
					} else {
						say("\"Oh. Thou dost not have the room. Too bad.\"");
					}
				} else {
					say("Garok shrugs. \"Suit thyself. Thanks anyway.\"");
				}
				say("You watch as Garok turns, intones a spell, and vanishes.*");
				item->Func0632();
				abort;
			}
			say("\"Oh. Thou art as lost as I, eh? Then we shall surely die in here.\"");
			remove("way out");
			fallthrough;

		case "Tax Council":
			say("\"Grrrr! They are a thorn in my side! They have been seeking me for the past three years! I neglected to report a certain amount of income for reagent distribution, and somehow they found me out. By the way, if thou shouldst ever care to visit me in the mountains, I can sell thee reagents at reduced prices!\"");
			remove("Tax Council");
			fallthrough;

		case "Brother Wayne":
			say("\"Yes, I remember him! He is lost, too! Dost thou know if he found his way out? Give him my best when thou dost speak to him.\"");
			remove("Brother Wayne");
			fallthrough;

		case "bye":
			break;

	}
	say("\"Goodbye.\"*");
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();

void Func046F object#(0x46F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		GHARL->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x0149]) {
			say("You see a troll, sulking in his cell. As he breathes, you can see his ribs protrude out from under his hide.");
		} else {
			say("\"What you want?\" growls Gharl.");
		}
		converse (0) {
			case "name":
				say("\"I Gharl.\"");
				remove("name");
				fallthrough;

			case "job":
				say("He shakes his head. \"No job. Hunt. Eat. Sleep. Now,\" he gestures around the cell, \"no hunt, no eat, just sleep.\"");
				add(["hunt", "eat", "sleep"]);
				fallthrough;

			case "hunt":
				say("\"I good hunter. Catch many things.\"");
				remove("hunt");
				fallthrough;

			case "sleep":
				say("\"I still do that,\" he says, shrugging. \"But not as good as when home.\"");
				remove("sleep");
				add("home");
				fallthrough;

			case "home":
				say("He stares at you oddly and says, \"With other trolls, fleshface! Under bridges.\"");
				remove("home");
				fallthrough;

			case "eat":
				say("\"No eat.\" He shakes his head. \"Not feed. Hate jailer!\" he growls.");
				remove("eat");
				add("offer food");
				fallthrough;

			case "offer food":
				say("\"You give me food?\" His face displays a mixture of surprise and hope. \"You give me food, I tell you secret. Yes?\"");
				var0002 = Func090A();
				if (var0002) {
					var0003 = UI_remove_party_items(0x0001, 0x0179, QUALITY_ANY, FRAME_ANY, 0x0000);
					if (var0003) {
						say("He quickly devours the food.~~\"I thank. You want secret?\"");
						add("secret");
					} else {
						say("\"You taunt me. I not like you.\"*");
						abort;
					}
				} else {
					say("\"Go away.\"*");
					abort;
				}
				remove("offer food");
				fallthrough;

			case "secret":
				say("\"Trolls have powerful ally. He warn us in head when trouble around corner.\"");
				remove("secret");
				fallthrough;

			case "bye":
				break;
		}
		say("He grunts and turns away.*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern void Func0911 0x911 (var var0000);

void Func0470 object#(0x470) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		D_REL->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		var0003 = "Nystul";
		var0004 = "Geoffrey";
		add(["name", "job", "bye"]);
		if (!gflags[0x014A]) {
			say("You see a rough-looking man with a bitter expression on his face.");
			gflags[0x014A] = true;
		} else {
			say("D'Rel scowls at you. \"What in the blazes do ye want?\"");
		}
		converse (0) {
			case "name":
				say("\"What do ye care about the name of a wretch?\"");
				add(["wretch", "care"]);
				remove("name");
				fallthrough;

			case "wretch":
				say("\"They've put me in here to rot, they have!\"");
				remove("wretch");
				add(["they", "rot"]);
				fallthrough;

			case "they":
				say("\"The Britannian Tax Council done it. They and the two here -- Sir Jeff and Goth.\"");
				remove("they");
				add(["Sir Jeff", "Goth"]);
				if (!var0002) {
					add("Britannian Tax Council");
				}
				fallthrough;

			case "rot":
				say("\"They told me I'd be here for the rest of my life. I have no reason to doubt them either!\"");
				remove("rot");
				fallthrough;

			case "Sir Jeff":
				say("\"That stuffed cock believes he's above everyone in Britannia. Just because he presides over the High Court he thinks he can pass judgement over any and everyone.\"");
				remove("Sir Jeff");
				fallthrough;

			case "Goth":
				say("\"That thieving scoundrel belongs in here more than I do! Don't trust him if ye've gotta choice.\"");
				remove("Goth");
				fallthrough;

			case "Britannian Tax Council":
				say("\"Thieves, the whole lot of 'em! Tryin' to take a person's hard-earned gold. Mayhaps they wouldn't need to take all of our money if they would go out and earn their own!\"");
				var0002 = true;
				remove("Britannian Tax Council");
				fallthrough;

			case "care":
				say("\"Ye care, do ye? All right, then. I'll tell ye my name if ye tell me thine, deal?\"");
				var0005 = Func090A();
				if (var0005) {
					var0006 = Func090B([var0000, var0003, var0004]);
					say("\"",
						var0006,
						", eh. Very well, a deal's a deal. I'm D'Rel.\"");
				} else {
					say("\"I thought as much.\"");
				}
				remove("care");
				fallthrough;

			case "job":
				say("\"None now. But 'til I made this mine home, I was a sailor, a... privateer, out of Buccaneer's Den.\"");
				add(["thine home", "Buccaneer's Den"]);
				fallthrough;

			case "thine home":
				say("\"Well, actually I am in here for not paying my taxes. After all, I... earned the money, why should I give it to the Britannian Tax Council?\"");
				remove("thine home");
				if (!var0002) {
					add("Britannian Tax Council");
				}
				fallthrough;

			case "Buccaneer's Den":
				say("\"Thou hast heard of Buccaneer's Den, hast thou not? 'Tis the island due east of the mainland. Home of the sort of men who walk with peg-legs, have hooks for hands, and carry parrots on their shoulders! Har! Har!\"");
				remove("Buccaneer's Den");
				if (gflags[0x0043]) {
					add("Hook");
				}
				fallthrough;

			case "Hook":
				say("\"Yeah, I know Hook. Lookin' for him, are ye? He be from Buccaneer's Den. He usually travels with some gargoyle named Forskis or something like that. If ye see him, give him my... hello, for me.\" He gestures to his clenched fist.");
				remove("Hook");
				gflags[0x0135] = true;
				Func0911(0x000A);
				fallthrough;

			case "bye":
				break;
		}
		say("\"Aye, get thy face from my sight!\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();

void Func0471 object#(0x471) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		SMITH->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func08F7(IOLO);
		var0002 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x014B]) {
			say("You see a horse. \"What else did you expect to see?\"");
			gflags[0x014B] = true;
		} else {
			say("\"What now, ",
				var0000,
				"?\" asks Smith.");
		}
		converse (0) {
			case "name":
				say("\"Yes, I have a name.\"");
				remove("name");
				if (var0001) {
					IOLO->say("\"Scoundrel! When thou art asked thy name, thou shouldst respond politely and accurately! The Avatar has just asked thee for -thy- name.\"");
					SMITH->say("\"My name? You can call\tme what you want, but I will only respond to Smith.\"");
					add("Smith");
					IOLO->hide();
				} else {
					add("-thy- name");
				}
				fallthrough;

			case "-thy- name":
				say("\"My name? You can call\tme what you want, but I will only respond to Smith.\"");
				add("Smith");
				remove("-thy- name");
				fallthrough;

			case "job":
				say("\"Job? -Job-? I'm a horse, what kind of job could I have?\" He looks off in the distance. \"I can see it now: Smith -- Baker extraordinaire.~~\"Actually, I have gotten quite good at interior decorating. See how I arranged my abode? You like it, don't you?\"");
				var0003 = Func090A();
				if (var0003) {
					say("\"Good. I will let you continue talking to me then! Which do you prefer, my living room or my bedroom?\"");
					UI_push_answers();
					add(["living room", "bedroom"]);
				} else {
					say("\"That's funny, I feel the same way about you!\"*");
					abort;
				}
				fallthrough;

			case "living room", "bedroom":
				say("\"You always did have bad taste!\"");
				remove(["living room", "bedroom"]);
				UI_pop_answers();
				fallthrough;

			case "Smith":
				if (var0002) {
					var0004 = "still want";
				} else {
					var0004 = "want";
				}
				say("\"Yep, that's what I told you to call me. Oh, I get it! You ",
					var0004,
					" something from me, don't you?");
				var0005 = Func090A();
				if (var0005) {
					say("\"I thought as much. You've always been a selfish one. What do you want? Now, let's see... Money? Advice?\tHappiness? No, you usually want a clue of some sort, don't you. Of course, you may have become altruistic over the past 200 years....~~\"I know! You want to save Britannia!\"");
					add(["money", "advice", "a clue", "happiness", "to save Britannia"]);
				} else {
					say("\"Then what are you talking to me for?\"*");
					abort;
				}
				fallthrough;

			case "money":
				say("\"From a horse? Right! Like I've got some to give you.\"");
				remove(["money", "advice", "a clue", "happiness", "to save Britannia"]);
				fallthrough;

			case "advice":
				say("\"Don't talk to horses!\"*");
				abort;

			case "happiness":
				say("\"Who doesn't?\"");
				remove(["money", "advice", "a clue", "happiness", "to save Britannia"]);
				fallthrough;

			case "to save Britannia":
				say("\"You really expect me to believe that? You're just in this for the money.\"");
				remove(["money", "advice", "a clue", "happiness", "to save Britannia"]);
				fallthrough;

			case "a clue":
				say("\"Now we're getting to the nitty-gritty. O.K., I'll give you a clue, but what's in it for me? Let me guess. Money? Love? No, knowing you it's probably nothing. With any luck, you'll go away and leave me alone.\"");
				remove(["money", "advice", "a clue", "happiness", "to save Britannia"]);
				add(["money", "love", "nothing", "will not make you glue"]);
				fallthrough;

			case "nothing":
				say("\"I've already got that!\"*");
				abort;

			case "money":
				say("\"Sure! Like I have a use for that!\"*");
				abort;

			case "love":
				say("\"Sorry, I don't get into that.\"*");
				abort;

			case "will not make you glue":
				say("\"Threats, huh? And how do you expect me to respond to that? With courtesy and open hooves?~~ \"Tell you what: you go away and leave me alone, and I'll tell you a clue. Fair?\"");
				var0006 = Func090A();
				if (var0006) {
					say("\"Now we're talking! Done deal. Here we go.\" He checks around to make sure no else is within earshot. \"The gargoyles,\" he pauses, \"are not evil.~~\"And Rasputin is a mean Martian. There, that's it! Now get!\"*");
					abort;
				}
				say("\"Fine. I'm not going to talk to you anyway!\"*");
				abort;
				// Dead code
				remove("will not make you glue");
				fallthrough;

			case "bye":
				say("\"That's just fine. I was getting tired of you anyway.\"");
				if (var0001) {
					IOLO->say("\"Why, how dare thou speakest to the Avatar in that manner, Smith!\"");
					SMITH->say("\"And who are you? My master?\"");
					IOLO->say("\"Why, as a matter of fact...\"");
					SMITH->say("\"Sure, whatever.\"");
					IOLO->hide();
				}
				say("*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func0472 object#(0x472) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		AIMI->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = false;
		add(["name", "job", "bye"]);
		if (gflags[0x015A] && gflags[0x015B]) {
			add("garden");
		}
		if (!gflags[0x014C]) {
			say("The monk pulls back her cowl far enough for you to see her face.");
			gflags[0x014C] = true;
		} else {
			say("\"Greetings, ",
				var0000,
				". I hope thy days are full of beauty.\"");
		}
		converse (0) {
			case "name":
				say("\"Thou mayest call me Aimi, ",
					var0000,
					".\"");
				gflags[0x015B] = true;
				if (gflags[0x015A] && (!var0001)) {
					add("garden");
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"As a monk, I am not sure how to answer thy question. I often help to make wine. However, ",
					var0000,
					", in my spare time I paint or tend my garden here at the Abbey.\"");
				add(["paint", "garden", "Abbey"]);
				if (gflags[0x0148]) {
					add("Kreg");
				}
				fallthrough;

			case "Abbey":
				say("\"I have spent little time with others in the area. Thou mayest wish to speak with Taylor, for he knows much more about the people, animals, and sights in this area than I do.\"");
				add("Taylor");
				remove("Abbey");
				fallthrough;

			case "Taylor":
				say("\"He is a fellow monk. He spends his time studying the plants, animals, and geography of Britannia.\"");
				remove("Taylor");
				fallthrough;

			case "paint":
				say("\"Yes,\" she blushes, \"I have long admired those who are able to express themselves visually. Sadly,\" she says, laughing, \"I am not very good. However, I also collect art. In fact, I have an original Sterling hanging in my room. Perhaps thou couldst see it sometime.\"");
				remove("paint");
				fallthrough;

			case "garden":
				var0001 = true;
				say("\"My garden? I have been tending it for years now. I am a firm believer in the value of aesthetics, so I plant only flowers. Sometimes I sell them in bouquets when people want them, but I do that very rarely.\"");
				add(["aesthetics", "buy"]);
				remove("garden");
				fallthrough;

			case "aesthetics":
				say("\"It refers to the practice or study of all things beautiful.\"");
				remove("aesthetics");
				fallthrough;

			case "buy":
				say("\"Thou wishest to buy a bouquet?\"");
				var0002 = Func090A();
				if (var0002) {
					say("\"Dost thou have anyone to give these flowers to?\"");
					var0003 = Func090A();
					if (var0003) {
						if (gflags[0x0128] && (!gflags[0x015C])) {
							say("You tell her about the passing away of Reyna's mother.~\"Ah, yes. I had heard of Reyna's loss. That is a noble reason. Please take these flowers and give them to her.\"");
							var0004 = UI_add_party_items(0x0001, 0x03E7, QUALITY_ANY, 0x0004, true);
							gflags[0x015C] = true;
						} else {
							say("\"Good. 'Tis always best to have someone to receive flowers. The flowers will cost 10 gold. Dost thou still want them?\"");
							var0005 = Func090A();
							if (var0005) {
								var0006 = Func0931(PARTY, 0x000A, 0x0284, QUALITY_ANY, FRAME_ANY);
								var0007 = UI_add_party_items(0x0001, 0x03E7, QUALITY_ANY, 0x0004, true);
								if (var0006) {
									if (var0007) {
										var0008 = UI_remove_party_items(0x000A, 0x0284, QUALITY_ANY, FRAME_ANY, true);
										say("\"I think thou wilt find these to be exceptionally beautiful.\"");
									} else {
										say("\"It appears thou dost not have room for my flowers. A pity.\"");
									}
								} else {
									say("\"I am sorry, ",
										var0000,
										". Thou dost not have the gold.\"");
								}
							} else {
								say("\"I understand, ",
									var0000,
									". Free flowers are indeed the best. And wild flowers are quite free. For now, ",
									var0000,
									", do no more than promise me thou wilt take the time to enjoy my garden.\"");
							}
						}
					} else {
						say("\"That is indeed unfortunate, ",
							var0000,
							". 'Tis always best to have someone to receive flowers.\"");
					}
				} else {
					say("\"Perhaps next time, thou mightest be interested. For now, ",
						var0000,
						", do no more than promise me thou wilt take the time to enjoy my garden.\"");
				}
				remove("buy");
				fallthrough;

			case "Kreg":
				say("\"I am afraid I do not know of such a person.\"");
				remove("Kreg");
				fallthrough;

			case "bye":
				say("\"Fare thee well, ",
					var0000,
					". May the sweet scent of beauty never pass thee by.\"*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		Func092E(AIMI);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func08C8 0x8C8 (var var0000, var var0001);
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0473 object#(0x473) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		PENNI->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		var0003 = false;
		var0004 = PENNI->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (!gflags[0x014D]) {
			say("The woman you see in front of you has a concerned expression on her face, as if her thoughts were far away.");
			gflags[0x014D] = true;
		} else {
			say("\"Hail, ",
				var0000,
				". Might I assist thee?\" asks Penni.");
			if (gflags[0x01DE]) {
				add("Addom");
			}
		}
		converse (0) {
			case "name":
				say("\"My name is Penni, ",
					var0001,
					".\"");
				remove("name");
				if (gflags[0x01DE] && (!var0003)) {
					add("Addom");
				}
				fallthrough;

			case "job":
				say("\"I have no occupation, ",
					var0001,
					". At least not one I would call work. I do, however, teach skills in close quarter combat.~~She thinks for a moment. \"I suppose a better way to answer thy question would have been to say `Yes, I do have a job.' I'm a trainer. But,\" she smiles, \"I enjoy it too much to call it work.\"");
				add(["enjoy", "train"]);
				if (gflags[0x0142]) {
					if (!var0002) {
						add("Bradman");
						var0002 = true;
					}
				}
				fallthrough;

			case "enjoy":
				say("\"I have loved close-quarter fighting since I was old enough to grasp my first spear. That's why I moved to Yew.\"");
				remove("enjoy");
				add(["spear", "Yew"]);
				fallthrough;

			case "spear":
				say("\"It is my choice in arms. The spear combines the best of both range and power. It is the perfect hunting weapon.\"");
				remove("spear");
				fallthrough;

			case "Yew":
				say("\"I moved here to hunt, of course. The forest is full of game. I would not think of living anywhere else!\"");
				remove("Yew");
				fallthrough;

			case "train":
				if (var0004 == TEND_SHOP) {
					say("\"Art thou interested in training? My price is 35 gold for each training session.\"");
					if (Func090A()) {
						Func08C8([STRENGTH, COMBAT], 35);
					} else {
						say("\"Perhaps next time.\"");
					}
				} else {
					say("\"I am sorry, ",
						var0001,
						", but I am not training at this moment. Perhaps if thou wert to return between 9 in the morning and 6 in the evening, I will be able to help thee.\"");
				}
				fallthrough;

			case "Bradman":
				say("\"Yes,\" she nods her head, grinning, \"I know Bradman. We go hunting together. Of course, he rarely catches anything with that toothpick shooter of his.\"");
				var0005 = Func08F7(IOLO);
				if (var0005) {
					IOLO->say("\"I resent that, my friend. Bows and crossbows can be wielded with deadly effect.\"");
					PENNI->say("She smiles, nodding to Iolo. \"Perhaps thou art correct, friend archer, but I prefer more physical challenges.\"");
					IOLO->hide();
				} else {
					say("\"Although I consider him a true friend and an honorable companion, I wonder about his physical prowess.\"");
				}
				remove("Bradman");
				fallthrough;

			case "Addom":
				say("\"Addom is mine husband. But how did...?\" She appears confused, but suddenly directs her gaze at you. \"Hast thou seen him?\"");
				var0006 = Func090A();
				if (var0006) {
					say("\"Is he in good health?\"");
					var0007 = Func090A();
					if (var0007) {
						say("\"Thank goodness!\" she sighs in relief.");
					} else {
						say("\"I knew he should not have left this time! I hate it when he leaves!\" She chokes back her tears.*");
						abort;
					}
				} else {
					say("\"I do hate it so when he travels so far away for such a long time. I can only hope he returns to mine arms quickly!\" She peers off in the distance, as if searching for Addom.");
				}
				remove("Addom");
				var0003 = true;
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good journeying, ",
			var0001,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(PENNI);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func08F7 0x8F7 (var var0000);
extern void Func0911 0x911 (var var0000);

void Func0474 object#(0x474) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		BEN->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x014E]) {
			say("Resting an axe on his shoulder, a tall, broad-chested man smiles and nods at you.");
			gflags[0x014E] = true;
		} else {
			say("\"'ello, ",
				var0000,
				". Good day, ay?\"");
		}
		converse (0) {
			case "name":
				say("\"Thou kin call me Ben, ",
					var0000,
					". I live 'ere in the forest of Yew.\"");
				remove("name");
				add(["Yew", "forest"]);
				fallthrough;

			case "job":
				say("\"I be a logger, ",
					var0000,
					". 'Tis what I have done all my life. In fact, ",
					var0000,
					", 'tis what my father did. And 'is father before 'im. And so on. We have been doin' this for more than ten generations.\"");
				if (gflags[0x012A]) {
					add("Silverleaf");
				}
				fallthrough;

			case "Yew":
				say("\"It was once a large town, but now, 'tis but a smattering of cottages livin' throughout the woods.\"");
				remove("Yew");
				fallthrough;

			case "forest":
				say("\"I am afraid, ",
					var0000,
					", that I know no one in this area. But,\" he adds proudly, \"I do know 'oo runs the sawmill in Minoc. I also know that monks reside in the abbey, next to the high court.\"");
				add(["sawmill", "high court"]);
				remove("forest");
				fallthrough;

			case "sawmill":
				say("\"The sawyer there is named William.\"");
				remove("sawmill");
				fallthrough;

			case "high court":
				say("\"'Tis in the building just northeast of the Brotherhood. I know they keep prisoners there.\"");
				remove("high court");
				fallthrough;

			case "Silverleaf":
				say("\"Why, yes, ",
					var0000,
					", I cut down Silverleaf trees. They only grow in one area, so I 'afta travel quite a distance when I needs some of their wood. Why dost thou ask, ",
					var0000,
					"?~~\"Oh, I see,\" he grins, \"Thou wants some for thyself, ay?\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"I am sorry, ",
						var0000,
						", I do not know 'ow to prepare it. Perhaps thou shouldst try a pub.\"");
				} else {
					say("\"Thou'st got another reason for askin'?\"");
					var0002 = Func090A();
					if (var0002) {
						UI_push_answers();
						add("Emps");
					} else {
						say("\"All right, ",
							var0000,
							",\" he shrugs.");
					}
				}
				add("one area");
				remove("Silverleaf");
				fallthrough;

			case "one area":
				say("\"They mainly populate the east part o' the Great Forest, way on the other side.\"");
				remove("one area");
				fallthrough;

			case "Emps":
				say("\"What in the bloody 'ell are emps?\"~~After you quickly explain the Silverleaf Tree situation to him, he exclaims, \"Oh, well, that's 'orrible. I did not realize anyone -- er -- any other creature used the Silverleaf trees. What\tkin I do about it?\"");
				UI_pop_answers();
				add("sign contract");
				remove("Emps");
				fallthrough;

			case "sign contract":
				say("\"Why, o' course I'll sign. No more Silverleaf trees for me.\"");
				var0003 = Func0931(PARTY, 0x0001, 0x031D, 0x0003, FRAME_ANY);
				if (var0003) {
					say("He takes the contract from you and signs it.");
					var0004 = Func08F7(TRELLEK);
					if (var0004) {
						say("He turns to Trellek. \"Please apologize to thy kindred for me. I never meant to destroy thine 'omes. Friends, ay?\"~~ Trellek smiles and nods.");
					} else {
						say("\"And please apologize to the Emps for me, ",
							var0000,
							". I never meant to destroy their 'omes.\"");
					}
					gflags[0x012B] = true;
					Func0911(0x01F4);
				} else {
					say("\"Well, I would sign it, but it seems thou hast lost it. If thou dost find it again I will be more than happy to help thee and the Emps.\"");
				}
				UI_pop_answers();
				remove("sign contract");
				fallthrough;

			case "bye":
				break;
		}
		say("\"G'bye, ",
			var0000,
			". Pleasant journeys, ay.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();

void Func0475 object#(0x475) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == DOUBLECLICK) {
		GOTH->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x014F]) {
			say("The beady-eyed man sneers at you.");
			gflags[0x014F] = true;
		} else {
			say("\"What dost thou want now?\" Goth spits.");
		}
		if (gflags[0x012C]) {
			add("buy keys");
		}
		converse (0) {
			case "name":
				say("\"Goth. Not that it is any of thy business!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"What does it look like I do?\" he says, holding up a ring of keys. \"Gardening?\"");
				add(["keys", "gardening"]);
				fallthrough;

			case "gardening":
				say("\"What? Art thou daft?\" He shakes his head. \"Well, at least thou art in the right area for gardening.\"");
				add("area");
				remove("gardening");
				fallthrough;

			case "area":
				say("\"Empath Abbey, dolt!\"");
				add("Empath Abbey");
				remove("area");
				fallthrough;

			case "Empath Abbey":
				say("\"As a matter of fact,  know quite a bit about the people who live here. And I just might even tell thee. What is it worth to thee in gold?\"");
				UI_push_answers();
				add(["nothing", "2", "3", "4", "5"]);
				remove("Empath Abbey");
				fallthrough;

			case "nothing":
				UI_pop_answers();
				say("\"Fine by me!\"");
				fallthrough;

			case "2", "3", "4":
				say("He glowers at you. \"Thou must do better than that, fool!\"");
				fallthrough;

			case "5":
				UI_pop_answers();
				var0001 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var0001 > 0x0004) {
					var0002 = UI_remove_party_items(0x0005, 0x0284, QUALITY_ANY, 0x0000, 0x0000);
					say("\"I will tell thee what I know: Sir Jeff is in charge of the High Court. 'E's a real mean bastard, so I would stay away from 'im. The monks nearby make excellent wine, and Aimi doth warm a man's... heart. And whatever thou dost, do not waste time talking to the undertaker -- 'e's daft in the head.\"");
				} else {
					say("\"Thou dost not have enough gold, toad.\"");
				}
				remove(["2", "3", "4", "5"]);
				fallthrough;

			case "keys":
				say("\"These? They are for the prisoner's cells, witless knave!\"");
				add(["prisoners", "buy keys"]);
				remove("keys");
				fallthrough;

			case "prisoners":
				say("\"I will tell thee for 5 gold. Interested?\"");
				var0003 = Func090A();
				if (var0003) {
					var0004 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var0004 > 0x0004) {
						var0005 = UI_remove_party_items(0x0005, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						say("\"One of them is named D'Rel. E's a pirate, from Buccaneer's Den.\"");
						add("another prisoner");
					} else {
						say("\"Thou dost not have enough money, stonehead.\"");
					}
				} else {
					say("\"Pinchpenny!\"*");
					abort;
				}
				remove("prisoners");
				fallthrough;

			case "another prisoner":
				say("\"Another, eh. Hast thou 5 more gold for me?\"");
				var0006 = Func090A();
				if (var0006) {
					var0007 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var0007 > 0x0004) {
						say("\"The other one is a troll. 'E don't talk much, but\t'e's the first troll prisoner I have ever seen.\"");
						var0008 = UI_remove_party_items(0x0005, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						remove("another prisoner");
					} else {
						say("\"Thou canst not fool me, brainless dolt. Thou dost not have enough gold!\"");
					}
				} else {
					say("\"Fine, slug!\"*");
					abort;
				}
				remove("another prisoner");
				fallthrough;

			case "buy keys":
				say("\"Thou dost want these, eh?\" he asks, holding up keys. \"'Twill cost thee... 20 gold. Still want them?\"");
				var0009 = Func090A();
				if (var0009) {
					var000A = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var000A > 0x0013) {
						say("\"Done!\"");
						var000B = UI_remove_party_items(0x0014, 0x0284, QUALITY_ANY, FRAME_ANY, false);
						var000C = UI_add_party_items(0x0001, 0x0281, 0x00F8, FRAME_ANY, false);
						remove("buy keys");
					} else {
						say("He smiles cruelly. \"I am afraid thou dost not have enough gold.\"");
					}
				} else {
					say("\"Fine. Rot for all I care!*");
					abort;
				}
				remove("buy keys");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Indeed, knave. Get thee gone!\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern void Func085D 0x85D ();
extern void Func085E 0x85E ();
extern var Func090A 0x90A ();
extern void Func085C 0x85C ();
extern void Func092E 0x92E (var var0000);

void Func0476 object#(0x476) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		CARLYN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x0208]) {
			say("At your approach, the woman raises her eyebrows to indicate she is aware of your presence and interested in what you are about to say.");
			gflags[0x0208] = true;
		} else {
			say("\"And how may I help thee, ",
				var0000,
				"?\" asks Carlyn.");
		}
		converse (0) {
			case "name":
				say("\"I am Carlyn.\" She smiles broadly.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the tailor of Moonglow.\"");
				if (var0001 == NIGHT) {
					say("\"I also tend the bar for Phearcy in the evenings.\"");
					add("buy refreshment");
					if (!var0002) {
						add("Phearcy");
					}
				}
				add(["tailor", "Moonglow"]);
				fallthrough;

			case "buy refreshment":
				say("\"Wouldst thou prefer food or drink, ",
					var0000,
					"?\"");
				UI_push_answers();
				add(["food", "drink"]);
				remove("buy refreshment");
				fallthrough;

			case "food":
				Func085D();
				UI_pop_answers();
				remove("food");
				fallthrough;

			case "drink":
				Func085E();
				UI_pop_answers();
				remove("drink");
				fallthrough;

			case "Phearcy":
				if (var0001 == NIGHT) {
					var0003 = "here";
				} else {
					var0003 = "at the Friendly Knave";
				}
				say("\"He is the owner and bartender. Every night at 9, he goes to the Fellowship meetings, so I serve refreshment for him ",
					var0003,
					".\"");
				var0002 = true;
				remove("Phearcy");
				add("Fellowship");
				fallthrough;

			case "Moonglow":
				say("\"'Tis a very pleasant town, ",
					var0000,
					". There are so many different types of people here. I wish I knew more of them.~~\"If thou hast any questions about them, I highly recommend to thee that thou speakest with Phearcy.\"");
				if (!var0002) {
					add("Phearcy");
				}
				remove("Moonglow");
				fallthrough;

			case "Fellowship":
				say("\"I know little about the group. Every night at 9 they have a meeting or some such of all the members. And, if I remember correctly, the leader of that branch doth give a speech -- a sermon is what I believe it is called.~~\"There is another member in town, if thou hast questions about The Fellowship.\"");
				add(["another", "leader"]);
				remove("Fellowship");
				fallthrough;

			case "another":
				say("\"I believe his name is Tolemac. He is a farmer, from what I have heard. Phearcy would know more than I. Or thou couldst ask their clerk.\"");
				add("clerk");
				remove("another");
				fallthrough;

			case "clerk":
				say("\"'Tis a woman, I know that, but I do not know her name.\"");
				remove("clerk");
				fallthrough;

			case "leader":
				say("\"His name is Rankin. I do not believe he has been here terribly long.\"");
				remove("leader");
				fallthrough;

			case "tailor":
				if ((var0001 == MORNING) || ((var0001 == NOON) || ((var0001 == AFTERNOON) || (var0001 == EVENING)))) {
					say("\"Yes, I love sewing clothing. Wouldst thou be interested in seeing or purchasing some of my creations?\"");
					var0004 = Func090A();
					if (var0004) {
						Func085C();
					} else {
						say("Shock covers her face.~~\"Well,\" she huffs.");
					}
				} else {
					say("\"Yes, ",
						var0000,
						". 'Tis my job, and my passion. I love sewing clothing. If thou were to come to my shop when it was open, I could show thee many exquisite things.\"");
				}
				remove("tailor");
				fallthrough;

			case "bye":
				say("\"Fare thee well, ",
					var0000,
					".\"*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		Func092E(CARLYN);
	}
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);
extern void Func0878 0x878 (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func0477 object#(0x477) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	if (event == DOUBLECLICK) {
		DE_SNEL->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = DE_SNEL->get_npc_object()->get_schedule_type();
		var0003 = DE_SNEL->get_npc_object();
		add(["name", "job", "bye"]);
		if (!gflags[0x0171]) {
			say("Though he does not seem hostile, the man greets you in a fighting stance.");
			gflags[0x0171] = true;
		} else {
			say("\"What dost thou need?\" asks De Snel.");
		}
		var0004 = SPRELLIC->is_dead();
		if (var0004) {
			add("Sprellic");
		}
		var0005 = VOKES->is_dead();
		var0006 = SYRIA->is_dead();
		var0007 = TIMMONS->is_dead();
		if (var0005 && (var0006 && var0007)) {
			add("duellists");
		}
		if (gflags[0x016A]) {
			add("honor flag");
		}
		converse (0) {
			case "name":
				say("\"I am called Master De Snel.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I operate the famous fighting school here in Jhelom, the Library of Scars. I also train fighters personally from time to time, if they show potential.\"");
				add(["Jhelom", "Library of Scars", "potential"]);
				fallthrough;

			case "potential":
				say("\"I teach a fighting style of mine own invention. It enables one to gain complete mastery over his opponent. I could arrange a little demonstration for thee...\"");
				add("demonstration");
				remove("potential");
				fallthrough;

			case "Jhelom":
				say("\"This city is devoted to the art of combat. Not mere slavish military discipline, but pure violent confrontation. It is a place after mine own heart.\"");
				remove("Jhelom");
				fallthrough;

			case "Library of Scars":
				if (var0002 == TEND_SHOP) {
					say("\"An elite school of fighters with a long, proud history. Many great fighters have trained within its walls. The group even has its own special weaponry.\"");
					add(["fighters", "weaponry"]);
				} else {
					say("\"I do not feel like discussing business at the moment. Some other time perhaps.\"");
					abort;
				}
				remove("Library of Scars");
				fallthrough;

			case "fighters":
				say("\"I train my students to be fierce and ruthless fighters!\"");
				remove("fighters");
				fallthrough;

			case "weaponry":
				say("He unsheathes his own sword and shows it to you. The sword has an elaborate serpentine pattern engraved in it. \"Thou mayest recognize a weapon of the Library of Scars by its engraving. It is the sign of the snake. Striking quick, silent, deadly, as are we!\"");
				remove("weaponry");
				var0008 = Func0931(PARTY, 0x0001, 0x027C, QUALITY_ANY, FRAME_ANY);
				if (var0008) {
					add("dagger");
				}
				fallthrough;

			case "dagger":
				say("You produce the dagger found at the scene of the murders in Minoc. The serpentine engraving matches the markings of the Library of Scars exactly. De Snel looks at it and then back at you. He cannot conceal his surprise.~\"From where didst thou get that dagger?\"");
				UI_push_answers();
				var0009 = Func090B(["found it", "murder site"]);
				if (var0009 == "found it") {
					say("De Snel peers at you, obviously aware you are lying.");
				}
				if (var0009 == "murder site") {
					say("You look De Snel in the eye and tell him that you found it at the scene of the murders in Minoc. He gives you a curious look.");
				}
				say("\"That dagger was stolen from the Library of Scars weeks ago. I have no further knowledge of it.\"");
				say("\"By the way, hast thou had a demonstration of my training technique?\"");
				if (Func090A()) {
					say("\"Then perhaps thou shouldst have another.\"");
				} else {
					say("\"Then perhaps thou shouldst try one.\"");
				}
				UI_pop_answers();
				remove("dagger");
				add("demonstration");
				gflags[0x016C] = true;
				Func0911(0x0032);
				fallthrough;

			case "demonstration":
				if (gflags[0x016C]) {
					say("\"Very well. Let us begin!\"*");
					var0003->set_alignment(EVIL);
					var0003->set_schedule_type(IN_COMBAT);
					abort;
				}
				say("\"I must apologize for the discourtesy, but mine unequaled talents demand that I charge thee 40 gold for a training demonstration. Wilt thou accept?\"");
				if (Func090A()) {
					Func0878(COMBAT, 40);
				} else {
					say("\"Very well, then!\" His scowl indicates his displeasure. \"If thou dost not like it, perhaps the Library of Scars is not the place for thee.\"");
					remove("demonstration");
				}
				fallthrough;

			case "Sprellic":
				say("\"As thou hast probably seen, a few of our members had a dispute with a local troublemaker over our honor flag. We of the Library of Scars have a fierce dedication to our institution. I do not know what exactly happened to this upstart, but I understand that he is now dead. I am not trying to suggest the Library of Scars had anything to do with it, of course. Only that it would be wise not to cross us.\"");
				remove("Sprellic");
				fallthrough;

			case "duellists":
				say("\"I have heard that thou didst kill several of our members while champion of a duel defending the thief of our honor flag.\" His eyes narrow as he stares at you intensely. \"Outstanding! I am a man who values nothing higher than the application of skill. I salute thee on thy victory. Perhaps thou wouldst like to join our group?\"");
				var000A = Func090A();
				if (var000A) {
					if (gflags[0x016C]) {
						say("\"Thy companions and thee look fit enough for an informal practice session. Consider it a demonstration of my fighting style.\"");
						add("demonstration");
					} else {
						say("\"As my style of fighting is the superior style, I am only interested in training the best. Perhaps thy companions and thee qualify. We might find out, that is, if thou art courageous enough.\"");
						add("demonstration");
					}
				}
				remove("duellists");
				fallthrough;

			case "honor flag":
				say("\"Fortunately for Sprellic our honor flag was returned. If it had not been we would have had no choice but to regain our honor with his blood.\"");
				remove("honor flag");
				fallthrough;

			case "bye":
				break;
		}
		if (gflags[0x016C]) {
			say("\"Thou canst walk away so easy without a demonstration! Thou shalt have one anyway!\"*");
			var0003->set_alignment(EVIL);
			var0003->set_schedule_type(IN_COMBAT);
		} else {
			say("\"May thy stay in Jhelom be a memorable one,\" De Snel laughs as he turns and walks away.*");
		}
	}
	if (event == PROXIMITY) {
		Func092E(DE_SNEL);
	}
}

extern var Func0909 0x909 ();
extern void Func092E 0x92E (var var0000);

void Func0478 object#(0x478) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		JOSEPH->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x0217]) {
			add("Elizabeth and Abraham");
		}
		if (gflags[0x0170]) {
			add("Sprellic");
		}
		if (!gflags[0x0172]) {
			say("You see a man who exudes the outward mannerisms of a shrewd administrator, in contrast to his youthful appearance.");
			gflags[0x0172] = true;
		} else {
			say("Joseph nods his head respectfully to you. \"How may I assist thee?\"");
		}
		converse (0) {
			case "name":
				say("\"My name is Joseph.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Presently, I am the mayor of Jhelom.\"");
				add(["mayor", "Jhelom"]);
				fallthrough;

			case "mayor":
				say("\"I may seem a bit young for the job, but in a town such as this I am called upon to help keep order as often as administrate. I use my sword and pen in equal measure.\"");
				remove("mayor");
				fallthrough;

			case "Jhelom":
				say("\"This town is a rough place. A fine place for fighting men and women to live. Perhaps thou hast seen our local sport?\"");
				remove("Jhelom");
				add("sport");
				fallthrough;

			case "sport":
				say("\"Why, 'tis duelling! At twelve noon every day, the town square becomes a battlefield.\"");
				add(["duelling", "battlefield"]);
				remove("sport");
				fallthrough;

			case "duelling":
				say("\"Well, the sound is worse than the act. 'Tis actually just a form of training and exercise. The fighters practice with targets and such. That is where I can be found, keeping mine own skills sharp.\"");
				remove("duelling");
				fallthrough;

			case "battlefield":
				say("\"I am exaggerating. Many of the fighters in town gather to spar with the training dummies and practice various methods of combat. There are a few harmless matches at times. Some are a bit rough every now and then. Some folks take wagers on it and turn a profit.\"");
				remove("battlefield");
				add(["spar", "take wagers"]);
				fallthrough;

			case "spar":
				say("\"Ahem... Of course most duels are simply to the blood, not to the death. It is a practice that helps restrain the passing knaves and rogues.\"");
				remove("spar");
				fallthrough;

			case "take wagers":
				say("\"Speak to Daphne or Ophelia at the Bunk and Stool, our town pub and inn.\"");
				remove("take wagers");
				fallthrough;

			case "Fellowship":
				say("\"That is what many of the duels are fought over! Some say The Fellowship is a load of rot, some say it is the only truth. Others say it is foolishness. Of course, as Mayor I remain neutral on such matters.\"");
				remove("Fellowship");
				add(["truth", "foolishness"]);
				fallthrough;

			case "Elizabeth and Abraham":
				if (!gflags[0x0088]) {
					say("\"Elizabeth and Abraham?\" Joseph scratches his head. \"Oh, yes! They were the Fellowship members who were just here! They were trying to start a branch in Jhelom. I am undecided on what to tell them. We will probably have a town meeting to decide if there should be a branch here. The couple said they were returning to Britain for a few days.\"");
					gflags[0x016B] = true;
				} else {
					say("\"Elizabeth and Abraham?\" Joseph scratches his head. \"Oh, yes! They were the Fellowship members who were here -- why, it must have been last week or so. I have not seen them since.\"");
				}
				add("Fellowship");
				remove("Elizabeth and Abraham");
				fallthrough;

			case "truth":
				say("\"De Snel, the leader of the Library of Scars, requires that his members fight in many duels. One week they will fight for one cause and the next week for the opposite side.\"");
				remove("truth");
				add(["De Snel", "Library of Scars"]);
				fallthrough;

			case "foolishness":
				if (var0001) {
					say("Joseph looks a little embarrassed. \"I meant no insult to thee as a member of The Fellowship, ",
						var0000,
						".\"");
				} else {
					say("\"If thou must know mine opinion,\" he says to you in quiet confidence, \"I agree with those that say The Fellowship is a bunch of foolishness.\"");
				}
				remove("foolishness");
				fallthrough;

			case "De Snel":
				say("\"De Snel says he only wishes the best for his school. If his fighters are ever beaten he throws them out and recruits the winner to join the Library of Scars.\"");
				remove("De Snel");
				fallthrough;

			case "Library of Scars":
				say("\"It attracts fighters from all over Britannia who want to learn from De Snel. They are an unruly bunch. Thou wouldst do best to stay clear of them.\"");
				remove("Library of Scars");
				fallthrough;

			case "Sprellic":
				say("\"Yes, I have heard of the events surrounding this fellow Sprellic and the duels against the Library of Scars, but frankly, mine official policy has been to not get involved in these sort of personal disputes.\"");
				remove("Sprellic");
				add(["get involved", "personal dispute"]);
				fallthrough;

			case "get involved":
				say("\"De Snel and I have an understanding. He works his side of the street and I work mine. It is hard enough to maintain order in this town without jeopardizing that. If I intervene De Snel will challenge me to a duel and if I am killed then his control of our town would be absolute.\"");
				remove("get involved");
				add(["challenge", "understanding"]);
				fallthrough;

			case "personal dispute":
				say("\"As Mayor and the peacekeeper I have to pick and choose my fights very carefully. There is no love lost between myself and the members of the Library of Scars, but they can legitimately claim that they have been wronged. I am required to remain impartial in this matter. As far as I can see, Sprellic brought this on himself when he took the honor flag. If thou dost wish to stop the duel, thou dost need only convince him to give it back.\"");
				remove("personal dispute");
				fallthrough;

			case "understanding":
				say("\"Believe me, we are not in each other's company so often because we are friends. We do so to maintain a careful watch on each other. Keep thy friends close, but keep thine enemies closer. Words to live by in Jhelom.\"");
				remove("understanding");
				fallthrough;

			case "challenge":
				say("\"When I say that De Snel would challenge me to a duel I do not mean to insinuate that it would in any way be a fair or honorable contest-- more like a dagger in the back from one of his bullies as I was walking down a dark alley somewhere. That it would be a duel is just the story he would tell to make mine assassination somehow honorable.\"");
				remove("challenge");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Enjoy thy stay in my city. But if thou hast no stomach for fighting thou shouldst not stay long.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(JOSEPH);
	}
}

extern var Func0909 0x909 ();
extern void Func08AA 0x8AA ();
extern void Func08A9 0x8A9 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0479 object#(0x479) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		KLIFTIN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = KLIFTIN->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x0186]) {
			add("Sprellic");
		}
		if (gflags[0x0167]) {
			if (!gflags[0x0168]) {
				add("false flag");
			}
		}
		if (!gflags[0x0173]) {
			say("You see a battle-scarred old soldier.");
			gflags[0x0173] = true;
		} else {
			say("\"Greetings!\" says Kliftin. \"Hast thou gotten into any scrapes lately?\"");
		}
		converse (0) {
			case "name":
				say("\"I am Kliftin.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"In my day I was a pretty damned good soldier. Now I am the master of the Armoury here in Jhelom.\"");
				add(["soldier", "Armoury", "Jhelom", "buy"]);
				fallthrough;

			case "buy":
				if ((var0002 == TEND_SHOP) || (var0002 == SEW)) {
					say("\"I sell armour and weapons here. I have something to meet thine every need. Dost thou wish to see armour or weapons?\"");
					UI_push_answers();
					add(["armour", "weapons"]);
				} else {
					say("\"My shop is presently closed for business, but do return again, ",
						var0000,
						".\"");
				}
				remove("buy");
				fallthrough;

			case "armour":
				Func08AA();
				fallthrough;

			case "weapons":
				Func08A9();
				fallthrough;

			case "soldier":
				say("\"Surely thou dost not want to listen to old war stories?! I have seen my share of death and destruction. Leave it at that.\"");
				remove("soldier");
				fallthrough;

			case "Armoury":
				say("\"I sell and collect weapons of all types. Business is always excellent, although my best customers keep getting killed in duels!\"");
				remove("Armoury");
				add(["duels", "buy"]);
				fallthrough;

			case "Jhelom":
				say("\"Jhelom is a rough place. If thou dost not like trouble then I can think of many better places for thee to be than here.\"");
				remove("Jhelom");
				fallthrough;

			case "duels":
				say("\"Every day at noon in the Town Square people come to settle their differences. They fight to the blood or to the death. It is a madness! Like that Sprellic fellow for instance.\"");
				remove("duels");
				add("Sprellic");
				fallthrough;

			case "Sprellic":
				if (!gflags[0x0186]) {
					say("\"Sprellic, our rather mild-mannered innkeeper, stole the honor flag from the wall of the Library of Scars and refused to return it. Now he must fight three of our best local fighters in a duel to the death.\"");
					add("fighters");
				} else if (!gflags[0x0167]) {
					say("You relate Sprellic's story to the old man who listens intently. \"It sounds to me like the work of Sullivan, the Trickster. He is a legendary thief and swindler who has never once been caught! Indeed, few even believe he actually exists. Thou shalt not be able to dissuade the duellists with a tale like that.\"");
					add("dissuade");
				} else {
					say("\"It is good of thee to help that poor Sprellic fellow in his hour of need.\"");
				}
				remove("Sprellic");
				fallthrough;

			case "fighters":
				say("\"Thou canst ask about the entire matter at the pub if thou dost wish to know more about it.\"");
				remove("fighters");
				fallthrough;

			case "dissuade":
				say("\"The only thing that can dissuade them from wanting to kill poor Sprellic is to return the honor flag! It must have been taken away by Sullivan, but the duellists do not know that! If we had a duplicate of the honor flag we could give them that instead!\"");
				remove("dissuade");
				add("duplicate");
				fallthrough;

			case "duplicate":
				say("\"In my day I was fairly handy at stitching wounds... Hmmm, perhaps I can make a duplicate of the honor flag. The deception only has to work long enough for them to formally call off the duel.\"");
				remove("duplicate");
				add(["deception", "sewing"]);
				fallthrough;

			case "sewing":
				say("\"I stitched so many of my comrades back together after all the battles I fought in. Now that I am retired, sewing has sort of become mine hobby.\" He looks at you with a little embarrassment. \"There is nothing wrong with that!\"");
				remove("sewing");
				fallthrough;

			case "deception":
				say("\"Even if they notice that it is not their true honor flag they would never admit it. To do so would make them look foolish. They would rather simply challenge anyone who might say it is not their honor flag to yet another\tduel! But let us deal with one duel at a time here.\"");
				remove("deception");
				add("honor flag");
				fallthrough;

			case "honor flag":
				say("\"Dost thou want me to make an honor flag that can be given to the Library of Scars so the duels can be stopped?\"");
				var0003 = Func090A();
				if (var0003) {
					if (gflags[0x0170]) {
						say("\"Then thou must be sure to come pick it up from me before thou dost go to the Duelling Area. It is the area outside my shop next to the Library of Scars. I had best get busy if I am to have it finished in time! Please return to my shop in a few hours.\"*");
						gflags[0x0167] = true;
						gflags[0x017B] = true;
						UI_set_timer(0x0000);
						abort;
					}
					say("\"Then thou must be sure to come pick it up from me before Sprellic goes to the Duelling Area. I had best get busy if I am to have it finished in time. Please return to my shop in a few hours.\"*");
					gflags[0x017B] = true;
					gflags[0x0167] = true;
					UI_set_timer(0x0000);
					abort;
				}
				if (gflags[0x0170]) {
					say("\"Thou dost wish to deal with the Library of Scars personally? Very well then, but be warned -- the only type of honor they believe in is victory.\"");
				} else {
					say("\"How canst thou have the key to saving Sprellic's life in thine hand and do nothing as he faces certain death?!\"");
				}
				remove("honor flag");
				fallthrough;

			case "false flag":
				var0004 = UI_get_timer(0x0000);
				if (!(var0004 > 0x0002)) {
					say("\"Disturb me not! The flag is not finished! Come to my shop later.\"");
				} else {
					say("\"Here is the imitation I have made of the Library of Scars' honor flag.\"");
					var0005 = UI_add_party_items(0x0001, 0x011E, QUALITY_ANY, FRAME_ANY, false);
					if (var0005) {
						say("\"The time for the duels must be drawing near. Good luck to Sprellic, and to thee as well!\"");
						gflags[0x0168] = true;
					} else {
						say("\"Thou must put something down if thou art to carry the flag!\"");
					}
				}
				remove("false flag");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day.\"*");
	}
	if (event == PROXIMITY) {
		var0001 = UI_part_of_day();
		var0002 = KLIFTIN->get_npc_object()->get_schedule_type();
		var0006 = UI_die_roll(0x0001, 0x0004);
		if ((var0002 == TEND_SHOP) || (var0002 == SEW)) {
			if (var0006 == 0x0001) {
				var0007 = "@Fine arms and armour for sale!@";
			}
			if (var0006 == 0x0002) {
				var0007 = "@Just look at this fine armoury!@";
			}
			if (var0006 == 0x0003) {
				var0007 = "@I have the fiercest weapons!@";
			}
			if (var0006 == 0x0004) {
				var0007 = "@I have the strongest armour!@";
			}
			KLIFTIN->item_say(var0007);
		} else {
			Func092E(KLIFTIN);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func047A object#(0x47A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;

	if (event == DOUBLECLICK) {
		OPHELIA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_is_pc_female();
		var0002 = UI_part_of_day();
		var0003 = OPHELIA->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		var0004 = Func08F7(DAPHNE);
		if (!gflags[0x0174]) {
			say("A pretty woman gives you a friendly grin and then coyly turns her eyes away from you.");
			gflags[0x0174] = true;
		} else {
			say("\"I bid thee welcome once again, ",
				var0000,
				",\" says Ophelia.");
		}
		if (gflags[0x02D7]) {
			add("Cosmo");
		}
		if (gflags[0x016E]) {
			add("Sprellic");
		}
		var0005 = VOKES->get_npc_object()->is_dead();
		var0006 = SYRIA->get_npc_object()->is_dead();
		var0007 = TIMMONS->get_npc_object()->is_dead();
		var0008 = SPRELLIC->get_npc_object()->is_dead();
		if (gflags[0x0165]) {
			if (var0005 && (var0006 && var0007)) {
				add("winnings");
			}
			if (var0008) {
				add("Sprellic dead");
				remove("Sprellic");
			}
		}
		converse (0) {
			case "name":
				say("\"My name is Ophelia, ",
					var0000,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a barmaid. I do most of the work at The Bunk and Stool here in Jhelom.\"");
				add(["work", "Bunk and Stool", "Jhelom"]);
				fallthrough;

			case "work":
				say("\"Ever since Sprellic, the owner, was challenged to those duels by the three students at the Library of Scars, he has been busy preparing himself. I have been running the place all by myself... although Daphne has been helping me, I suppose.\"");
				gflags[0x016E] = true;
				remove("work");
				add(["Sprellic", "Library", "Daphne"]);
				fallthrough;

			case "Daphne":
				say("\"Honestly, I cannot imagine why thou wouldst be interested in her.\" She lets out a throaty laugh.*");
				var0004 = Func08F7(DAPHNE);
				if (var0004) {
					DAPHNE->say("\"I heard that, Ophelia. Thou art a spiteful wench!\"*");
					OPHELIA->say("\"Now, now, Daphne. Temper, Temper! We don't want to scare off the patrons with a poor disposition in addition to a poor face!\"*");
					DAPHNE->say("\"Witch!\"*");
					DAPHNE->hide();
					OPHELIA->show_npc_face(0x0000);
				}
				remove("Daphne");
				fallthrough;

			case "Bunk and Stool":
				say("\"'Tis said that indeed many strange things happen at this bar. As of late, in addition to being an inn and a pub, where thou mayest buy fine food and drink, it has become a betting parlor.\"");
				remove("Bunk and Stool");
				add(["strange", "food", "room", "betting"]);
				fallthrough;

			case "Jhelom":
				say("\"It is a pretty rough place to work, but,\" she whispers to you in confidence, \"I must confess I find myself attracted to the type of men that live here.\"");
				remove("Jhelom");
				fallthrough;

			case "Library":
				say("\"Surely thou hast heard of our famous school for fighters by now! What kind of a world traveller art thou? Do not answer. 'Twas a rhetorical question,\" she sniffs.");
				remove("Library");
				fallthrough;

			case "food":
				say("\"Thou shalt have to see Daphne about that. Thou wouldst not expect me to have to go into the kitchen?\" Ophelia laughs.");
				remove("food");
				fallthrough;

			case "room":
				if (var0003 == MAJOR_SIT) {
					say("\"For naught more than 5 gold thou canst get a lovely room. Dost thou wish to stay the night?\"");
					if (Func090A()) {
						var0009 = UI_get_party_list();
						var000A = 0x0000;
						for (var000D in var0009 with var000B to var000C) {
							var000A += 0x0001;
						}
						var000E = var000A * 0x0005;
						var000F = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var000F >= var000E) {
							var0010 = UI_add_party_items(0x0001, 0x0281, 0x00FF, FRAME_ANY, true);
							if (var0010) {
								say("\"Here is thy key. Be warned, 'twill only work in this establishment, and only for one use.\"");
								var0011 = UI_remove_party_items(var000E, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							} else {
								say("\"Sorry, ",
									var0000,
									", thou must lose some weight, er, some bundles, before I can give thee the room key.\"");
							}
						} else {
							say("\"I am truly sorry, ",
								var0000,
								", but the rooms cost more gold than thou hast.\"");
						}
					} else {
						say("\"Our rooms are not good enough, I suppose,\" she says, scowling.");
					}
				} else {
					say("\"Right now I am not at work so please do not address me as if I were.\"");
				}
				remove("room");
				fallthrough;

			case "Sprellic":
				say("\"No one knows old Sprellic better than myself. Although he does not look it, he may well be the deadliest fighting master in all of Britannia.\"");
				remove("Sprellic");
				add("master");
				fallthrough;

			case "master":
				say("\"After he defeats the fighters of the Library of Scars, he may open his own school teaching his own unique style of fighting.\"");
				remove("master");
				add("school");
				fallthrough;

			case "school":
				say("\"It will be a great fighting school. Already, fighting men and women are coming to Jhelom to become Sprellic's students. They all long to know the secret that I can tell thee right now.\"");
				remove("school");
				add("secret");
				fallthrough;

			case "secret":
				if (!var0001) {
					say("Ophelia motions you closer to her. She whispers to you. \"Sprellic is really the Avatar returned to us after all these years.\" She nods solemnly.");
				} else {
					say("Ophelia motions you closer to her. She whispers to you. \"Sprellic can call upon the Avatar to come and be his champion.\" She nods solemnly.");
				}
				remove("secret");
				fallthrough;

			case "strange":
				say("\"In case thou hast not noticed, this is a rough town. We see all types of odd characters in this place.\" She looks you over carefully.");
				remove("strange");
				fallthrough;

			case "betting":
				if (var0006 || (var0005 || (var0007 || var0008))) {
					say("\"Sorry, all bets are off, due to the... er, unfortunate passing on of one or more of the parties involved.\"");
				} else {
					say("\"I am taking wagers on Sprellic's duels. Wouldst thou like to place a bet?\"");
					var0012 = Func090A();
					if (var0012) {
						say("\"How much wouldst thou like to bet that Sprellic defeats all three of his challengers?\"");
						do {
							var0012 = UI_input_numeric_value(0x0000, 0x00C8, 0x000A, 0x0000);
							if (var0012 == 0x0000) {
								say("\"Perhaps thou art not truly serious about thy convictions. Mayhaps Daphne will take thy line of bets.\"");
								// I see no way other than this
								goto labelFunc047A_0447;
							}
							say("\"Thou wouldst bet ",
								var0012,
								" gold that Sprellic will win?\"");
							var0013 = Func090A();
							if (var0013) {
								break;
							}
							say("\"Very well. How much wouldst thou like to bet?\"");
						} while (true);
						var000F = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var000F >= var0012) {
							say("\"Very well. Let me give thee markers for thy gold. Each one is worth 10 gold coins. If Sprellic wins, thou mayest come collect twice that amount of gold from me.~~\"Should he lose, ",
								var0000,
								", thy markers are, of course, worthless.\"");
							var0014 = UI_add_party_items(var0012 / 0x000A, 0x0399, QUALITY_ANY, 0x0000, false);
							if (var0014) {
								var0015 = UI_remove_party_items(var0012, 0x0284, QUALITY_ANY, FRAME_ANY, true);
								gflags[0x0165] = true;
								say("\"I shall soon see thee again, ",
									var0000,
									".\" You notice she is suppressing a tiny giggle. \"When thou dost return to collect thy winnings.\" For a moment it seems she cannot make eye contact with you.");
							} else {
								say("\"Thou must return later when thou hast enough room in thy pack for these markers.\"");
							}
						} else {
							say("\"Thou hast not the amount of gold thou dost want to bet! Art thou trying to swindle me?\"");
						}
					} else {
						say("\"Then if thou wouldst like to bet against Sprellic, thou mayest see Daphne, but I warn thee thou wilt be throwing thy money away!\"");
					}
				}
labelFunc047A_0447:
				remove("betting");
				fallthrough;

			case "winnings":
				if (!gflags[0x016F]) {
					var0016 = PARTY->count_objects(0x0399, QUALITY_ANY, 0x0000);
					var0017 = var0016 * 0x0014;
					var0018 = UI_add_party_items(var0017, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0018) {
						var0019 = UI_remove_party_items(var0016, 0x0399, QUALITY_ANY, 0x0000, false);
						say("\"I see thou hast returned to collect thy winnings.\" She shrugs and pays them to you.");
						gflags[0x016F] = true;
					} else {
						say("\"Thou cannot carry that much gold! Return later when thou canst take all thy winnings at one time!\"");
					}
				} else {
					say("\"Thou hast already collected thy winnings!\"");
				}
				remove("winnings");
				fallthrough;

			case "Cosmo":
				say("\"Who? Oh, he is a local boy who comes in here and moons over me on occasion. Do not concern thyself with him. I do not.\"");
				if (var0004) {
					DAPHNE->say("\"Why what kind of way is that to speak of he who will soon become thy betrothed! Finally, I can make thee move out of mine house! Every moment of sharing my life with thee has been intolerable!\"*");
					OPHELIA->say("\"Do not get thine hopes up yet, my dear Daphne! I have put a condition on our marriage and poor Cosmo will never be able to fulfill it!\"");
					DAPHNE->say("\"Thou dost never know! The thought of thee in thy wedding gown with thy groom Cosmo at thy side is simply delicious! Perhaps he is the man who will finally teach thee to be a lady at last!\"");
					DAPHNE->hide();
					OPHELIA->show_npc_face(0x0000);
				}
				remove("Cosmo");
				fallthrough;

			case "Sprellic dead":
				say("\"Hmpf! If thou didst bet against him, then I suppose thou shalt be rich! I wouldst bet that thou wert the one who killed him, too!\"");
				say("She turns away from you with a sneer.*");
				remove("Sprellic dead");
				abort;

			case "bye":
				break;
		}
		say("\"Do come and visit us again, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(OPHELIA);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func0871 0x871 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func047B object#(0x47B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;

	if (event == DOUBLECLICK) {
		DAPHNE->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = DAPHNE->get_npc_object()->get_schedule_type();
		var0003 = Func08F7(OPHELIA);
		var0004 = false;
		var0005 = SPRELLIC->get_npc_object()->is_dead();
		var0006 = VOKES->get_npc_object()->is_dead();
		var0007 = SYRIA->get_npc_object()->is_dead();
		var0008 = TIMMONS->get_npc_object()->is_dead();
		if (var0005 || (var0006 || (var0007 || var0008))) {
			var0004 = true;
		}
		add(["name", "job", "bye"]);
		if (var0005 && (!gflags[0x017A])) {
			add("winnings");
		}
		if (!gflags[0x0175]) {
			say("You see a disgruntled, obviously overworked barmaid. She gives you a perfunctory grunt of a hello.");
			gflags[0x0175] = true;
			var0009 = Func08F7(DUPRE);
			if (var0009) {
				say("\"Art thou still here?\" she asks Dupre.");
				DUPRE->say("\"I have not finished making mine assessment of thy fine drinking establishment!\"*");
				DAPHNE->say("\"What? Art thou working for Brommer's Britannia travel guides?\"*");
				DUPRE->say("\"No, my dear. This research is strictly for mine own digestion!\"*");
				DUPRE->hide();
				DAPHNE->show_npc_face(0x0000);
			}
		} else {
			say("\"Good day to thee, ",
				var0000,
				". Rest and take a load off.\"");
		}
		converse (0) {
			case "name":
				say("\"I am Daphne.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"That is an easy one. I am the workhorse in residence of the Bunk and Stool. While our resident princess flirts with the customers I do all the cooking, cleaning and serving.\"");
				add(["workhorse", "princess", "buy", "Bunk and Stool", "room"]);
				fallthrough;

			case "buy":
				if (var0002 == WAITER) {
					Func0871();
				} else {
					say("\"Sorry, ",
						var0000,
						", I do not sell food and drink at this time.\"");
				}
				remove("buy");
				fallthrough;

			case "workhorse":
				say("\"Ever since the owner, Sprellic, got himself into trouble with the Library of Scars, there hath been no one else to run the place. Ohh, mine aching back!\"");
				remove("workhorse");
				add(["Sprellic", "Library of Scars"]);
				fallthrough;

			case "princess":
				say("\"Hmmph! That would be Ophelia.\"");
				remove("princess");
				add("Ophelia");
				fallthrough;

			case "room":
				say("\"Thou shalt have to ask Ophelia about that. My domain is the kitchen!\"");
				remove("room");
				fallthrough;

			case "Ophelia":
				say("\"Ophelia this! Ophelia that! That is all I ever hear all bloody day! If all thou dost want to talk about is her, talk to someone else!\"");
				if (var0003) {
					OPHELIA->say("\"Do not hate me just because I am beautiful, Daphne.\"*");
					DAPHNE->say("\"That is not the reason I hate thee, Ophelia!\"*");
					OPHELIA->say("\"Oh, yes, I remember now. Thou dost hate me because I am beautiful, and thou art not!\"*");
					DAPHNE->say("\"Thank thee so much, ",
						var0000,
						", for bringing up my favorite subject.\"*");
					OPHELIA->hide();
					DAPHNE->show_npc_face(0x0000);
				}
				remove("Ophelia");
				fallthrough;

			case "Bunk and Stool":
				say("\"The Bunk and Stool is where the fighters and ruffians come to drink in Jhelom. 'Tis not an easy job keeping such a lot happy with all their drinking and duelling and gambling.\"");
				remove("Bunk and Stool");
				add("gambling");
				fallthrough;

			case "Sprellic":
				say("\"The fool was caught stealing the honor flag from the wall of the Library of Scars! Now the three students who challenged him will kill him on the duelling field. 'Tis a tragedy.\"");
				gflags[0x016E] = true;
				remove("Sprellic");
				fallthrough;

			case "Library of Scars":
				say("\"That is the fighting club in Jhelom which produces perhaps the toughest fighters in all Britannia. Sprellic has never fought before in his entire life.\"");
				remove("Library of Scars");
				fallthrough;

			case "gambling":
				if (var0004) {
					say("\"I am sorry. All bets are off since the matter has been resolved.\"");
				} else {
					say("\"In fact, I am taking bets on the upcoming duels. Dost thou wish to bet that Sprellic will lose to any of the three other duellists?\"");
					var000A = Func090A();
					if (var000A) {
						say("\"How much wouldst thou like to bet?\"");
						do {
							var000B = UI_input_numeric_value(0x0000, 0x00C8, 0x000A, 0x0000);
							if (var000B == 0x0000) {
								say("\"Perhaps thou art not truly serious about thy convictions. Mayhaps the princess will take thy line of bets.\"");
								// I see no way other than this
								goto labelFunc047B_0352;
							}
							say("\"Thou wouldst bet ",
								var000B,
								" gold that Sprellic will lose?\"");
							var000C = Func090A();
							if (var000C) {
								break;
							}
							say("\"Very well. How much wouldst thou like to bet?\"");
						} while (true);
						var000D = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var000D >= var000B) {
							var000E = UI_add_party_items(var000B / 0x000A, 0x0399, QUALITY_ANY, 0x0001, false);
							if (var000E) {
								var000F = UI_remove_party_items(var000B, 0x0284, QUALITY_ANY, FRAME_ANY, true);
								var0010 = true;
								say("\"Very well. Let me give thee markers for thy gold. Each one is worth 10 gold coins. If Sprellic loses, thou mayest come collect twice that amount of gold from me.~~\"Should he win, ",
									var0000,
									", thy markers are, of course, worthless.\"");
								say("\"Thou mayest come see me after the duels and exchange this marker for thy winnings if thou hast won.\"");
							} else {
								say("\"Oh! Thou must return later when thou hast enough room in thy pack for these markers.\"");
							}
						} else {
							say("\"Thou hast not the amount of gold thou dost want to bet! Art thou trying to swindle me?\"");
						}
					} else {
						say("\"Then if thou wouldst like to bet in favor of Sprellic, thou mayest see Ophelia, but I warn thee thou wilt be throwing thy money away!\"");
					}
				}
labelFunc047B_0352:
				remove("gambling");
				fallthrough;

			case "winnings":
				var0011 = PARTY->count_objects(0x0399, QUALITY_ANY, 0x0001);
				var0012 = var0011 * 0x0014;
				var0013 = UI_add_party_items(var0012, 0x0284, QUALITY_ANY, FRAME_ANY, true);
				if (var0013) {
					say("\"Here are thy winnings, ",
						var0000,
						". But I have reason to believe that thou wert the one who killed poor Sprellic! If this is the way that thou makest thy money, then thou shouldst be ashamed!\"");
					var0014 = UI_remove_party_items(var0011, 0x0399, QUALITY_ANY, 0x0001, false);
					gflags[0x017A] = true;
				} else {
					say("\"Thou cannot possibly carry all that gold. Thou must come back when I can give thee the proper amount of gold!\"");
				}
				remove("winnings");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Enjoy thyself.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(DAPHNE);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func047C object#(0x47C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		SPRELLIC->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		var0002 = false;
		var0003 = VOKES->get_npc_object()->is_dead();
		var0004 = SYRIA->get_npc_object()->is_dead();
		var0005 = TIMMONS->get_npc_object()->is_dead();
		if (var0003 && (var0004 && var0005)) {
			var0002 = true;
		}
		if (gflags[0x0168] && (!gflags[0x016A])) {
			add("I have false flag");
		}
		if (var0002 || gflags[0x016A]) {
			add("thou art safe now");
			remove("I have false flag");
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x0176]) {
			say("You see a scrawny and timid-looking man who eyes you fearfully.");
			say("\"Oh, my!\" he cries. \"'Tis really the Avatar this time! Please do not hurt me, Avatar!\"");
			gflags[0x0176] = true;
			add("this time");
		} else {
			say("\"Greetings again, ",
				var0000,
				",\" says Sprellic.");
		}
		if (gflags[0x0186]) {
			if (!gflags[0x0170]) {
				if (!gflags[0x016A]) {
					add("champion");
				}
			}
		}
		converse (0) {
			case "name":
				say("\"My name is Sprellic.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the proprietor of the Bunk and Stool here in Jhelom.\"");
				add(["Bunk and Stool", "Jhelom"]);
				fallthrough;

			case "Bunk and Stool":
				say("\"It is the local inn where all the fighters from the Library of Scars come to drink. They would wreck the place every night if not for Ophelia and Daphne.\"");
				if (!(gflags[0x016A] || var0002)) {
					say("\"But that does not matter for soon I will be dead.\"");
					add("dead?");
				}
				remove("Bunk and Stool");
				add(["Library of Scars", "Ophelia", "Daphne"]);
				fallthrough;

			case "Jhelom":
				say("\"This is a town of fighters who pass their time fighting each other in bloody duels. It is no place for me. I should never have left Minoc!\"");
				remove("Jhelom");
				fallthrough;

			case "Library of Scars":
				say("\"It is the club of fighters run by Master De Snel! Second home to the fiercest and most ruthless fighters in all of Britannia.\"");
				remove("Library of Scars");
				fallthrough;

			case "Ophelia":
				say("\"Ophelia is one of my barmaids. She is gorgeous. If Daphne cannot handle our patrons when they become unruly, Ophelia will simply charm them.\"");
				remove("Ophelia");
				fallthrough;

			case "Daphne":
				say("\"Daphne is one of my barmaids. She is, ahem, rather large. If Ophelia cannot charm our patrons when they become unruly, Daphne wrestles them to the ground.\"");
				remove("Daphne");
				fallthrough;

			case "this time", "dead?":
				say("\"'Tis a long story. I shall probably be dead before I can finish it.\"");
				remove(["this time", "dead?"]);
				add("story");
				fallthrough;

			case "story":
				say("\"My tale is a strange one. It may disturb and puzzle thee. Art thou certain thou wouldst like to hear it?\"");
				var0006 = Func090A();
				if (!var0006) {
					say("\"Well, then I hope I was of some assistance to thee. Farewell forever, ",
						var0000,
						".\"*");
					abort;
				}
				say("\"It all started the previous evening. I had given Ophelia and Daphne the evening off. A stranger had come to mine inn... A very odd stranger.");
				say("\"He... he claimed he was the -Avatar-!");
				say("\"...And I believed him, which shows thee how gullible I am!\"");
				add("stranger");
				remove("story");
				fallthrough;

			case "stranger":
				say("\"His eccentricity seemed to be surpassed only by his wealth. He booked both rooms in the inn so that he could try each bed and decide for himself which one was the most comfortable. As for food, he was voracious.");
				if (var0001) {
					say("\"No offense, but he was also a member of The Fellowship!\"");
				} else {
					say("\"He was a member of The Fellowship, too!\"");
				}
				remove("stranger");
				add(["eccentricity", "food"]);
				fallthrough;

			case "eccentricity":
				say("\"I fear that this stranger was not who he claimed to be at all. I was a victim of a great and terrible deception that was perpetrated upon me.\"");
				remove("eccentricity");
				fallthrough;

			case "food":
				say("\"This stranger ordered one of every kind of food and drink on the menu. So if he ever wanted anything, it would be right there to eat. I was cooking for hours. But then it got worse. He went to bed.\"");
				remove("food");
				add(["cooking", "bed"]);
				fallthrough;

			case "cooking":
				say("\"Of course most of the food he left was uneaten! I had to give it away once it started to spoil!\"");
				remove("cooking");
				fallthrough;

			case "bed":
				say("\"After he went to bed, he complained that he was too cold. I brought him more and more blankets, but it was not enough. Finally, he had every blanket in the inn. And he was still cold!\"");
				remove("bed");
				add("cold");
				fallthrough;

			case "cold":
				say("\"In desperation I ran down the street. It was the middle of the night. All of the shops were closed. The only thing I could find was some sort of old tapestry hanging on a wall. So I took it down.\"");
				remove("cold");
				add(["night", "tapestry"]);
				fallthrough;

			case "night":
				say("\"Actually, now as I recall being out in the night air, it was a quite tolerable evening. Alas, I was oblivious to little else but the prospect of earning a goodly sum in the service of the stranger. Woe is me!\"");
				remove("night");
				fallthrough;

			case "tapestry":
				say("\"The next thing I remember there was an angry woman chasing after me. For some reason she wanted to kill me! I managed to get away from her and get back to the inn and cover the stranger with the tapestry. Finally he fell asleep.\"");
				remove("tapestry");
				add(["angry woman", "asleep"]);
				fallthrough;

			case "angry woman":
				say("\"Actually, I had seen this angry woman before. She would enter mine establishment upon occasion. Unfortunately, this was our first formal acquaintance.\"");
				remove("angry woman");
				fallthrough;

			case "asleep":
				say("\"I also fell asleep, only I slept late. When I awoke the guest was gone. He had not paid his bill and had taken all the blankets, even the tapestry. Before I could go look for him I had a visitor.\"");
				remove("asleep");
				add(["gone", "visitor"]);
				fallthrough;

			case "gone":
				say("\"As I have said, I was rooked by a professional. A Master Criminal, no doubt -- and one who is still at large!\"");
				remove("gone");
				fallthrough;

			case "visitor":
				say("\"It was the woman who had chased me the night before. Her name was Syria. She said I had stolen the honor flag from the wall of the Library of Scars. She also challenged me to a duel to the death unless I gave it back. And she is much bigger than I! When I tried to explain that I could not give it back, she hit me. It hurt. A lot!\"");
				remove("visitor");
				add(["hit", "duel"]);
				fallthrough;

			case "hit":
				say("\"I will say this of the Lady Syria. She is quite beautiful when she is angry... At least, the visions of her that swam through mine head after she had hit me were quite beautiful. Tragically, I awoke.\"");
				remove("hit");
				fallthrough;

			case "duel":
				say("\"Later that day I ran into a man named Vokes. He is a fighter at the Library of Scars. He asked me to return the honor flag and when I tried to tell him I could not, he hit me. Then he challenged me to a duel to the death to be fought right after my duel with Syria.");
				say("\"After Vokes left, I encountered a man named Timmons. He asked me to return the honor flag to the Library of Scars. I told him I could not and he also challenged me to a duel to the death. I told him I was busy, but he scheduled the challenge for right after my duel with Vokes.");
				say("\"Timmons, Vokes and Syria are the three toughest fighters in Jhelom. I could not hope to survive against one of them, let alone all three. The mysterious guest and the honor flag are nowhere to be found. Even now my barmaids are taking bets on the manner of my demise!\"");
				remove("duel");
				add(["Timmons", "Vokes", "Syria", "demise"]);
				fallthrough;

			case "Timmons":
				say("\"Timmons has come to Jhelom only recently. I can tell thee nothing more of him.\"");
				remove("Timmons");
				fallthrough;

			case "Vokes":
				say("\"He is a fearless warrior, who cherishes any opportunity for combat. Beware of him.\"");
				remove("Vokes");
				fallthrough;

			case "Syria":
				say("\"She is not as bad as she may appear to be. No doubt that woman has a temper. But I am sure she is quite nice once thou hast gotten the chance to know her. If not for these sad circumstances, we might have gotten the chance to get to know each other better.\"");
				remove("Syria");
				fallthrough;

			case "demise":
				say("\"Mine only hope for survival is to find a champion who could stand up to the fiercest fighters in Jhelom.\"");
				gflags[0x0186] = true;
				remove("demise");
				add("champion");
				fallthrough;

			case "champion":
				say("\"Wouldst thou be my champion, Avatar?\"");
				var0007 = Func090A();
				if (var0007) {
					say("Sprellic falls to his knees before you in gratitude. \"Avatar, thou hast saved my life! I cannot thank thee enough!\"");
					gflags[0x0170] = true;
				} else {
					say("\"Oh, well. I had no choice but to ask.\"");
				}
				remove("champion");
				fallthrough;

			case "thou art safe now":
				say("You tell Sprellic that the situation has been resolved and how it was done.");
				say("Sprellic practically kisses your feet.");
				say("\"How can I ever thank thee? Thou art the most noble person I have ever met! I shalt be forever in thy debt! I thank thee!\"");
				remove("thou art safe now");
				fallthrough;

			case "I have false flag":
				say("You tell Sprellic that Kliftin made you a false flag.");
				say("\"How ingenious! Please! Deliver it to Syria as soon as thou art able! And I thank thee for thy trouble in helping me!\"");
				remove("I have false flag");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day to thee, Avatar.\"");
	}
	if (event == PROXIMITY) {
		Func092E(SPRELLIC);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func047D object#(0x47D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		VOKES->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = VOKES->get_npc_object();
		var0003 = TIMMONS->get_npc_object();
		var0004 = SYRIA->get_npc_object();
		var0005 = Func08F7(SYRIA);
		var0006 = Func08F7(TIMMONS);
		if (!gflags[0x0177]) {
			say("You see a fighting man. His voice booms like thunder as he greets you. \"Hail to thee, ",
				var0000,
				"!\"");
			gflags[0x0177] = true;
		} else {
			say("\"So, once again, I am at thy service,\" bellows Vokes.");
		}
		if (gflags[0x0168]) {
			if (!gflags[0x0164]) {
				say("\"If thou wouldst return the honor flag of the Library of Scars, then it is only proper that is turned back over to Syria, who was guarding it when it was stolen. Please do so.\"*");
				abort;
			}
		} else if (gflags[0x0170]) {
			if (var0001 == NOON) {
				say("\"So, thou wishest to fight for the cowardly Sprellic! Then I have no choice but to finish thee myself!\"*");
				Func0911(0x0064);
				var0002->set_alignment(CHAOTIC);
				var0004->set_alignment(CHAOTIC);
				var0003->set_alignment(CHAOTIC);
				var0002->set_schedule_type(IN_COMBAT);
				var0003->set_schedule_type(IN_COMBAT);
				var0004->set_schedule_type(IN_COMBAT);
				abort;
			}
			say("\"So, thou wishes to fight for the cowardly Sprellic! Meet us at the duelling area at next noon!\"");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("\"My name is Vokes, ",
					var0000,
					". As big as a mountain, as strong as an ox, as fierce as... well, more fierce than anything thou hast ever fought!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Job! I am not in the habit of plowing fields or peddling vegetables, ",
					var0000,
					"! I earn my gold with this sword arm,\" he says as he flexes a mighty bicep. \"Right now I am in Jhelom continuing my studies in my trade with De Snel, and when I am finished my price is going to go up!\"");
				add("Jhelom");
				fallthrough;

			case "Jhelom":
				say("\"I was born here! Is it not magnificent?! Why, in any hour of any day thou canst get into a duel with anyone for no reason at all! Now that is what I call the benefits of civilization!\"");
				add("duel");
				remove("Jhelom");
				fallthrough;

			case "duel":
				say("\"A responsibility, yes, even a necessity. The cost of being honorable is that one must defend one's honor. There is no telling just where or when the next stain on one's honor may appear. Like this Sprellic fool, for instance. The perfect example!\"*");
				if (var0005) {
					SYRIA->say("\"I'll make a stain on his honor, that's for sure. A blood red one!\"*");
					SYRIA->hide();
					VOKES->show_npc_face(0x0000);
				}
				add("Sprellic");
				remove("duel");
				fallthrough;

			case "Sprellic":
				if (!gflags[0x0164]) {
					say("\"The bloody idiot had no idea that when he took our honor flag he would be seen doing it. Hence, he never considered the fact that he would have to fight a duel over our sullied honor. But now that the whole town is talking of the incident there is no way that we could refrain from standing up for ourselves. Especially since he has refused to return what he has taken from us.\"*");
					if (var0006) {
						TIMMONS->say("\"Were he not such a cad, he would see the foolishness of his actions. 'Tis now up to us to show him!\"*");
						TIMMONS->hide();
						VOKES->show_npc_face(0x0000);
					}
					add("honor flag");
					if (gflags[0x0186]) {
						add("misunderstanding");
					}
				} else {
					say("\"If he had not returned the honor flag to us we would have had to kill him dead as sure as I am standing here.\"");
				}
				remove("Sprellic");
				fallthrough;

			case "honor flag":
				say("\"There is a widely known and long-standing tradition concerning the honor flag of the Library of Scars. It is said that taking the flag from the wall is a signal meaning that the person who takes the flag can beat anyone who studies at the school in a fight. It is also a grossly insulting way of saying that thou dost think the method of fighting a school teaches is inferior, which the Library of Scars most certainly is not!\"");
				add("Library of Scars");
				remove("honor flag");
				fallthrough;

			case "misunderstanding":
				say("\"I have heard that rot about it all being a misunderstanding. The only thing misunderstood is how bad Sprellic will look when we finish with him!\"");
				remove("misunderstanding");
				fallthrough;

			case "Library of Scars":
				say("\"The Library of Scars teaches the supreme fighting style! One that enables thee to get the advantage against thine opponents and soundly defeat them through the brilliantly conceived subterfuge of Master De Snel!\"");
				add("De Snel");
				remove("Library of Scars");
				fallthrough;

			case "De Snel":
				say("\"He is a genius. Perhaps the greatest military mind that ever lived. He told us so!\"");
				remove("De Snel");
				fallthrough;

			case "bye":
				break;
		}
		say("\"If I am not killed and thou art not killed perhaps we may raise a\tglass together some day!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(VOKES);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func047E object#(0x47E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		SYRIA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = SYRIA->get_npc_object();
		var0003 = VOKES->get_npc_object();
		var0004 = TIMMONS->get_npc_object();
		var0005 = Func08F7(VOKES);
		add(["name", "job", "bye"]);
		if (gflags[0x0168]) {
			if (!(var0001 == NOON)) {
				if (!gflags[0x016A]) {
					add("return flag");
				}
			}
		}
		if (var0001 == NOON) {
			if (gflags[0x0168]) {
				if (!gflags[0x016A]) {
					say("\"I see that coward Sprellic has given thee the flag so that it may be returned to us. Thou hadst better hand it over.\"");
					var0006 = UI_remove_party_items(0x0001, 0x011E, QUALITY_ANY, FRAME_ANY, TEMPORARY_ANY);
					if (var0006) {
						say("She takes the banner from you.");
						say("\"This matter is now settled. But tell that worm Sprellic from me that he had better keep his hands off of other people's property in the future.\"*");
						gflags[0x016A] = true;
						gflags[0x0164] = true;
						Func0911(0x0064);
						abort;
					}
					say("\"It has come to our attention that thou hast been given our honor flag. Apparently Sprellic gave it to thee to return to us. If thou dost wish to keep it then our quarrel is now with thee.\"*");
					Func0911(0x0064);
					var0002->set_alignment(CHAOTIC);
					var0004->set_alignment(CHAOTIC);
					var0003->set_alignment(CHAOTIC);
					var0002->set_schedule_type(IN_COMBAT);
					var0004->set_schedule_type(IN_COMBAT);
					var0003->set_schedule_type(IN_COMBAT);
					abort;
				}
			}
			if (gflags[0x0170] && (!gflags[0x0168])) {
				say("\"Thou mayest fight for Sprellic, but I fight for honor!\"*");
				Func0911(0x0064);
				var0002->set_alignment(CHAOTIC);
				var0004->set_alignment(CHAOTIC);
				var0003->set_alignment(CHAOTIC);
				var0002->set_schedule_type(IN_COMBAT);
				var0004->set_schedule_type(IN_COMBAT);
				var0003->set_schedule_type(IN_COMBAT);
				abort;
			}
		}
		if (!gflags[0x0178]) {
			say("Standing before you is a statuesque fighting woman with eyes that radiate a familiarity with danger.");
			gflags[0x0178] = true;
		} else {
			say("\"It seems we meet again,\" says Syria.");
		}
		converse (0) {
			case "name":
				say("\"I am Syria, a fighter from the south.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Currently I am resting from my last voyage as a mercenary. I am\tstudying in Jhelom with the fighting trainer De Snel\tat the Library of Scars.\"");
				add(["Jhelom", "De Snel", "Library of Scars"]);
				fallthrough;

			case "Jhelom":
				say("\"This is a city of fighters and duels. If thou dost not like it the way it is, then leave. Duels are fought here for many reasons. I have mine own reasons for fighting them.\"");
				add("duels");
				remove("Jhelom");
				fallthrough;

			case "duels":
				if (!gflags[0x0164]) {
					say("\"There is no question that Sprellic is the one who took the honor flag of our school. If he does not wish to fight the duels then he has only to return it.\"");
					add(["Sprellic", "return"]);
				} else {
					say("\"A pity we could not teach that little fool a lesson. Still, we have regained our honor and that is enough. For now.\"");
					add("Sprellic");
				}
				remove("duels");
				fallthrough;

			case "return":
				say("\"Since Sprellic has not done this, it proves that he is sincere in the grievous insult that he has made against us.\"*");
				if (var0005) {
					VOKES->say("\"And I shall grievously insult him-- through his heart!\"*");
					VOKES->hide();
					SYRIA->show_npc_face(0x0000);
				}
				remove("return");
				fallthrough;

			case "Sprellic":
				if (!gflags[0x0164]) {
					say("\"I was on guard when Sprellic took our club's honor flag. I saw him take it but I lost him in the shadows of the night. My punishment was ten lashes for allowing the thief to escape. I mean to repay him for that.\"");
				} else {
					say("\"A pity we could not teach that little fool a lesson. Perhaps we have anyway. For his sake, he had better have learned it well.\"");
				}
				remove("Sprellic");
				fallthrough;

			case "Library of Scars":
				say("\"The Library of Scars is the greatest guild of fighters in Britannia.\"*");
				if (var0005) {
					VOKES->say("\"Here! Here!\"*");
					VOKES->hide();
					SYRIA->show_npc_face(0x0000);
				}
				remove("Library of Scars");
				fallthrough;

			case "De Snel":
				say("\"Master De Snel teaches a style of pure fighting which takes thee beyond all previous disciplines that thou mayest have learned. He is a great man.\"");
				remove("De Snel");
				fallthrough;

			case "return flag":
				say("\"I understand that coward Sprellic has given thee the flag so that it may be returned to us. Thou hadst better hand it over.\"");
				var0006 = UI_remove_party_items(0x0001, 0x011E, QUALITY_ANY, FRAME_ANY, TEMPORARY_ANY);
				if (var0006) {
					say("She takes the banner from you.");
					say("\"This matter is now settled. But tell that worm Sprellic from me that he had better keep his hands off of other people's property in the future.\"");
					gflags[0x016A] = true;
					gflags[0x0164] = true;
					Func0911(0x0064);
					abort;
				}
				say("\"It has come to our attention that thou hast been given our honor flag. Apparently Sprellic gave it to thee to return to us. If thou dost wish to keep it then our quarrel is now with thee.\"");
				if (!(var0001 == NOON)) {
					say("\"Meet us at the dueling area at next noon!\"*");
				} else {
					say("\"Prepare to die!\"*");
					Func0911(0x0064);
					var0002->set_alignment(CHAOTIC);
					var0004->set_alignment(CHAOTIC);
					var0003->set_alignment(CHAOTIC);
					var0002->set_schedule_type(IN_COMBAT);
					var0004->set_schedule_type(IN_COMBAT);
					var0003->set_schedule_type(IN_COMBAT);
				}
				abort;
				// Dead code
				remove("return flag");
				fallthrough;

			case "bye":
				break;
		}
		say("\"We do not appreciate people who interfere in our private matters. We shall be watching thee.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(SYRIA);
	}
}

extern var Func0909 0x909 ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func047F object#(0x47F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		TIMMONS->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = TIMMONS->get_npc_object();
		var0003 = SYRIA->get_npc_object();
		var0004 = VOKES->get_npc_object();
		if (!gflags[0x0179]) {
			say("You see a very serious young man. He carries himself like a learned and mannered gentleman.");
			gflags[0x0179] = true;
		} else {
			say("\"Dost thou wish to speak with me?\" asks Timmons.");
		}
		if (gflags[0x0168]) {
			if (!gflags[0x0164]) {
				say("\"I see thou hast the honor flag. As little more than an interested third party in this affair, I ask thee to return the flag to Syria. Please do so.\"*");
				abort;
			}
		} else if (gflags[0x0170]) {
			if (var0001 == NOON) {
				say("\"Well, ",
					var0000,
					", I must prove myself to De Snel. If thou art the one who suffers, I will apologize, but I will not back down!\"");
				say("\"Prepare to die!\"*");
				Func0911(0x0064);
				var0002->set_alignment(CHAOTIC);
				var0003->set_alignment(CHAOTIC);
				var0004->set_alignment(CHAOTIC);
				var0002->set_schedule_type(IN_COMBAT);
				var0003->set_schedule_type(IN_COMBAT);
				var0004->set_schedule_type(IN_COMBAT);
				abort;
			}
			say("\"Well, ",
				var0000,
				", I must prove myself to De Snel. If thou art the one who suffers, so be it! Meet us at the dueling area at next noon!\"*");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("\"Timmons is my name, ",
					var0000,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"At the moment I have no job. I left all that behind in New Magincia. I have come to Jhelom to study under Master De Snel in the Library of Scars.\"");
				add(["Jhelom", "Library of Scars"]);
				fallthrough;

			case "Jhelom":
				say("\"I am afraid I would not be able to help thee. I know little of this town, except for the duels. I am newly arrived here myself. Perhaps thou shouldst ask someone else.\"");
				add("duels");
				remove("Jhelom");
				fallthrough;

			case "duels":
				if (!gflags[0x0164]) {
					say("\"I had heard of this man Sprellic who claims he is a greater fighter than any in the Library of Scars and how he had stolen the honor flag from their wall. So I sought this man out and challenged him to a duel myself.\"");
					add("Library of Scars");
				} else {
					say("\"Unfortunately, the duels with Sprellic were called off before I had the opportunity to impress Master De Snel.\"");
				}
				remove("duels");
				fallthrough;

			case "Library of Scars":
				if (!gflags[0x0164]) {
					say("\"A sailor on a ship at port in New Magincia first told me of the Library of Scars, of how it was the greatest fighting guild in Britannia and how its trainer, Master De Snel, had created the perfect fighting style. I immediately spent every coin I had to come here. But De Snel now refuses to accept me as a student. I know if I can defeat a fighter who claims to be better than anyone in the guild, and help restore its honor in the process, De Snel will have to finally accept me.\"");
				} else {
					say("\"Master De Snel, the trainer at the Library of Scars, has refused me entry until I have proven myself in combat. The only way to prove oneself in combat in the town of Jhelom is by duelling. But my mother raised me to be a perfect gentleman. So far I have not succeeded in offending anyone sufficiently to have them challenge me to a duel. Hmmm. Perhaps I am just not suited to be a member of the Library of Scars.\"");
				}
				remove("Library of Scars");
				fallthrough;

			case "bye":
				break;
		}
		say("\"It was a pleasure speaking to thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(TIMMONS);
	}
}

extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();

void Func0480 object#(0x480) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == PROXIMITY) {
		abort;
	}
	IRIALE->show_npc_face(0x0000);
	var0000 = Func0908();
	add(["name", "job", "bye"]);
	if (gflags[0x02BB]) {
		add("Gorn");
	}
	if (!gflags[0x02CC]) {
		say("You see a striking woman in fighter's gear. She looks at you fiercely.");
		say("\"Halt!\"");
		gflags[0x02CC] = true;
	} else {
		say("\"What dost thou want?\" Iriale demands.");
	}
	converse (0) {
		case "name":
			say("\"I am called Iriale Silvermist. Who art thou?\"");
			var0001 = Func090B([var0000, "The Avatar"]);
			if (var0001 == var0000) {
				say("\"I do not know thee!\"");
			}
			if (var0001 == "The Avatar") {
				say("\"I do not approve of jokes.\"");
			}
			remove("name");
			fallthrough;

		case "job":
			say("Iriale smiles devilishly.~~\"I bar people from entering. Thou hast disobeyed the rule of the Meditation Retreat. Ian will be most displeased. Thou had best leave now.\"");
			add(["rule", "Meditation Retreat"]);
			fallthrough;

		case "rule":
			say("\"Thou dost know it. Attendees of the Retreat must stay out of this cave.\"");
			remove("rule");
			var0002 = Func08F7(IOLO);
			if (var0002) {
				IOLO->say("\"Come, ",
					var0000,
					", we had better leave. I believe this woman is serious.\"");
				IOLO->hide();
				IRIALE->show_npc_face(0x0000);
			}
			fallthrough;

		case "Gorn":
			say("\"Is that the name of that smelly barbarian who was here? If thou dost see him on the -way out-, tell him that if he approaches me again, I shall cut off his head!\"");
			remove("Gorn");
			fallthrough;

		case "Meditation Retreat":
			say("\"Yes, I work for the Meditation Retreat.~~\"And I work for -him-. -He- does not want thee here. I give thee only one chance to turn around and leave.");
			say("\"Wilt thou leave?\"");
			if (Func090A()) {
				say("\"Do so and I shall spare thee!\" She watches as you turn away.*");
				IRIALE->get_npc_object()->set_schedule_type(TEND_SHOP);
				abort;
			}
			say("She sees your jaw set with determination and nods her head. \"Then die, foolish one!\"*");
			IRIALE->get_npc_object()->set_schedule_type(IN_COMBAT);
			abort;

		case "bye":
			break;
	}
	say("\"Away with thee!\"*");
	IRIALE->get_npc_object()->set_schedule_type(TEND_SHOP);
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func0481 object#(0x481) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		RUSSELL->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = RUSSELL->get_npc_object()->get_schedule_type();
		var0003 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x017D]) {
			add("locket");
		}
		if (var0003) {
			add("medallion");
		}
		if (gflags[0x0127]) {
			add(["Hook", "Crown Jewel"]);
		}
		if (gflags[0x0180]) {
			add("strangers");
		}
		if (!gflags[0x018A]) {
			say("Before you is a shrewd-looking craftsman, obviously filled with the contentment of a peaceful life.");
			gflags[0x018A] = true;
		} else {
			say("\"What may I do for thee?\" says Russell.");
		}
		converse (0) {
			case "name":
				say("\"I am Russell, a shipwright.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I build ships in New Magincia. It is a profession I enjoy very much. I also sell deeds for my ships, and sextants by which one can navigate the open seas.\"");
				add(["New Magincia", "deeds", "sextants"]);
				fallthrough;

			case "deeds":
				if (var0002 == TEND_SHOP) {
					if (gflags[0x0193]) {
						say("\"But I have already sold thee the deed to 'The Nymphet'! I am afraid that was the only ship I had at this time.\"");
					} else {
						say("\"Thou wishest to purchase my ship 'The Nymphet'? The deed will cost thee 600 gold.\"");
						var0004 = Func090A();
						if (var0004) {
							var0005 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
							if (var0005 >= 0x0258) {
								var0006 = UI_add_party_items(0x0001, 0x031D, 0x0011, FRAME_ANY, false);
								if (var0006) {
									say("\"'The Nymphet' is thine, ",
										var0000,
										". Enjoy the waters.\"");
									var0007 = UI_remove_party_items(0x0258, 0x0284, QUALITY_ANY, FRAME_ANY, true);
									gflags[0x0193] = true;
								} else {
									say("\"Thou art carrying too much to take thy deed. Come back after putting some things down.\"");
								}
							} else {
								say("\"Mine apologies, ",
									var0000,
									", thou dost not have enough gold.\"");
							}
						} else {
							say("\"I understand, ",
								var0000,
								", the seas aren't for everyone.\"");
						}
					}
				} else {
					say("\"When my shop is again open I shall be more than happy to help thee.\"");
				}
				remove("deeds");
				fallthrough;

			case "sextants":
				if (var0002 == TEND_SHOP) {
					say("\"Thou wishest to purchase one of my fine sextants? 'Twill cost thee 40 gold.\"");
					var0008 = Func090A();
					if (var0008) {
						var0009 = Func0931(PARTY, 0x0028, 0x0284, QUALITY_ANY, FRAME_ANY);
						if (var0009) {
							say("\"'Tis thine, ",
								var0000,
								". Enjoy the waters.\"");
							var000A = UI_remove_party_items(0x0028, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							var000B = UI_add_party_items(0x0001, 0x028A, QUALITY_ANY, FRAME_ANY, true);
							if (!var000B) {
								say("\"I would gladly give thee thy sextant but thou shalt have to put something down! Thou art carrying\ttoo much to take it.\"");
							}
						} else {
							say("\"Mine apologies, ",
								var0000,
								", thou dost not have enough gold.\"");
						}
					} else {
						say("\"I understand, ",
							var0000,
							", some of us can navigate with just the naked stars!\"");
					}
				} else {
					say("\"At present my shop is closed. If thou wilt come back during business hours I shall be more than happy to help thee.\"");
				}
				remove("sextants");
				fallthrough;

			case "New Magincia":
				say("\"Things have been very peaceful in New Magincia. There has been little trouble from outsiders lately.\"");
				add("outsiders");
				remove("New Magincia");
				fallthrough;

			case "outsiders":
				say("\"Before thine arrival there had not been a stranger in New Magincia for years, save for the survivors of the shipwreck.\"");
				add("shipwreck");
				remove("outsiders");
				fallthrough;

			case "shipwreck":
				say("\"I found the wreckage. Three men were clinging to it for their lives.\"");
				add(["wreckage", "three men"]);
				remove("shipwreck");
				fallthrough;

			case "wreckage":
				say("\"I had never seen a ship like it before. The markings show it was constructed by a Minoc shipwright named Owen. It was not very well constructed.\"");
				remove("wreckage");
				fallthrough;

			case "three men", "strangers":
				say("\"They were from Buccaneer's Den. Most people that come here come because they are lost on their way to or from Buccaneer's Den.\"");
				gflags[0x0180] = true;
				add("Buccaneer's Den");
				remove(["strangers", "three men"]);
				fallthrough;

			case "Buccaneer's Den":
				say("\"The three men wish to go back. They say there is a house of games in Buccaneer's Den.\" Russell shrugs. \"As if that would be a reason to go there.");
				say("\"I offered to sell them a ship, but they had no money. They actually seemed offended when I would not give it to them for free!\"");
				remove("Buccaneer's Den");
				fallthrough;

			case "locket":
				say("\"The three strangers tried to offer me some kind of trinket to build or sell them a ship. It sounds like the locket thou art describing.\"");
				add("trinket");
				remove("locket");
				fallthrough;

			case "trinket":
				say("\"I would not have accepted their offer, but I was curious. Later they said nothing when I wanted to see the trinket again. I doubt they have it.\"");
				remove("trinket");
				fallthrough;

			case "medallion":
				say("\"I could not help noticing your medallion. It does look somewhat sinister. I cannot recall ever having seen one like it before.\"");
				remove("medallion");
				fallthrough;

			case "Crown Jewel":
				if (!gflags[0x0181]) {
					say("\"The Crown Jewel just left here a short while ago. I do not know where it was headed.\"");
					gflags[0x0181] = true;
				} else {
					say("\"I have heard nothing more of the Crown Jewel since we last spoke of it.\"");
				}
				remove("Crown Jewel");
				fallthrough;

			case "Hook":
				if (!gflags[0x0182]) {
					say("\"Just as the Crown Jewel left I saw a man with a hook jump on board. There was a gargoyle accompanying him.\"");
					gflags[0x0182] = true;
				} else {
					say("\"I have heard nothing more of this man Hook since we last spoke of him.\"");
				}
				remove("Hook");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Fare thee well, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(RUSSELL);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func0855 0x855 ();
extern void Func092E 0x92E (var var0000);

void Func0482 object#(0x482) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	if (event == DOUBLECLICK) {
		BORIS->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = BORIS->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x0180]) {
			add("strangers");
		}
		if (gflags[0x017D]) {
			add("locket");
		}
		if (gflags[0x0195]) {
			say("\"Art thou ready to pay thy bill?\"");
			if (Func090A()) {
				// I see no way other than this
				goto labelFunc0482_00E5;
			}
			say("\"Goodbye, then!\"*");
			abort;
		}
		if (!gflags[0x018B]) {
			say("You see a leering, ill-postured man who chortles to himself.");
			gflags[0x018B] = true;
			if (var0002 == WAITER) {
				var0003 = Func08F7(DUPRE);
				if (var0003) {
					say("\"Well if it isn't Dupre! -Sir- Dupre now, is it?\"");
					DUPRE->say("\"That it is, Boris.\"");
					BORIS->say("\"Hmmm-- it seems to me thou dost have a tab still going here? Yes?\"");
					DUPRE->say("\"Oh? Do I?\"");
					BORIS->say("\"Yes indeed! Let me see... I believe the total that thou dost owe is 74 gold pieces. I am afraid that thou must pay up before I can speak with thee or anyone else with thee.\"");
					DUPRE->say("Dupre looks embarrassed. He turns to you. \"My friend, wilt thou help me out?\"");
					if (Func090A()) {
labelFunc0482_00E5:
						var0004 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var0004 >= 0x004A) {
							var0005 = UI_remove_party_items(0x004A, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							if (var0005) {
								DUPRE->say("\"I thank thee, Avatar.\"");
								say("You hand the gold over to Boris.");
								gflags[0x0195] = false;
								BORIS->say("\"'Tis a pleasure to do business with thee, Sir Dupre! And welcome to my pub!\"");
								DUPRE->hide();
								BORIS->show_npc_face(0x0000);
							} else {
								say("\"Hmmm, where did our gold go?\"*");
								gflags[0x0195] = true;
								abort;
							}
						} else {
							say("\"I am afraid are pockets are too empty!\"*");
							gflags[0x0195] = true;
							abort;
						}
					} else {
						BORIS->say("\"Well, I wilt not be serving thee or speaking to thee until thy bill is paid!\"*");
						gflags[0x0195] = true;
						abort;
					}
				}
			}
		} else {
			say("\"Hello again,\" says Boris.");
		}
		converse (0) {
			case "name":
				say("\"Call me Boris.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I run The Modest Damsel, here in New Magincia.\"");
				add(["Modest Damsel", "New Magincia"]);
				fallthrough;

			case "Modest Damsel":
				if (var0002 == WAITER) {
					say("\"It is a little inn and tavern. I am the owner, along with my wife, Magenta. Wouldst thou like something to eat or drink, or perhaps a room?\"");
					add(["Magenta", "eat or drink", "room"]);
				} else {
					say("\"The Modest Damsel is now closed for business. But do please return during business hours.\"");
				}
				remove("Modest Damsel");
				fallthrough;

			case "Magenta":
				say("\"She became the mayor of New Magincia after the death of the old mayor, her father, several years ago. She has done such a good job that no one has opposed her for the position yet.\"");
				remove("Magenta");
				fallthrough;

			case "eat or drink":
				say("\"I am certain thou wilt enjoy our food and drink.\"");
				Func0855();
				fallthrough;

			case "room":
				say("\"Why dost thou not stay the night? For but 3 gold thou canst let one of our rooms. Dost thou wish to stay the night?\"");
				if (Func090A()) {
					var0006 = UI_get_party_list();
					var0007 = 0x0000;
					for (var000A in var0006 with var0008 to var0009) {
						var0007 += 0x0001;
					}
					var000B = var0007 * 0x0003;
					var000C = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var000C >= var000B) {
						var000D = UI_add_party_items(0x0001, 0x0281, 0x00FF, FRAME_ANY, true);
						if (var000D) {
							say("\"Here is thy room key. 'Twill only work in this inn.\"");
							var000E = UI_remove_party_items(var000B, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						} else {
							say("\"Sorry, ",
								var0000,
								", thou must remove some of thy load before I can give thee the room key.\"");
						}
					} else {
						say("\"Thou hast not enough gold for my rooms.\"");
					}
				} else {
					say("\"Some other evening, perhaps.\"");
				}
				remove("room");
				fallthrough;

			case "New Magincia":
				say("\"In all of Britannia thou shalt not find a place that changes so little. Even the people always seem the same.\"");
				add("people");
				remove("New Magincia");
				fallthrough;

			case "people":
				say("\"There are merchants and laborers, as well as a few new folks.\"");
				add(["merchants", "laborers", "new folks"]);
				remove("people");
				fallthrough;

			case "merchants":
				say("\"They would be Russell, the shipwright; Henry, the peddler; and Sam, the flower man.\"");
				add(["Russell", "Henry", "Sam"]);
				remove("merchants");
				fallthrough;

			case "laborers":
				say("\"They would be Katrina, the shepherd, and Constance, the water carrier.\"");
				add(["Katrina", "Constance"]);
				remove("laborers");
				fallthrough;

			case "new folks":
				say("\"Except for the three strangers, the only relatively new person on the island is Alagner, the sage.\"");
				add(["Alagner", "strangers"]);
				remove("new folks");
				fallthrough;

			case "Alagner":
				say("\"Alagner is not from New Magincia, of course, but has settled here after studying the world, for he well knows the value of our peace and solitude.\"");
				remove("Alagner");
				fallthrough;

			case "Russell":
				say("\"A brilliant artist and craftsman, Russell cares little for wealth or notoriety. He is content simply building his fine ships and watching them sail.\"");
				remove("Russell");
				fallthrough;

			case "Katrina":
				say("\"Katrina has come to the aid of the people of this town on more than one occasion. She gets an interesting smile on her face whenever thy name is mentioned.\"");
				var000F = Func08F7(KATRINA);
				if (var000F) {
					KATRINA->say("\"That is because the Avatar is one my dearest friends.\"");
					BORIS->say("\"Am I not one of thy dearest friends, Katrina?\"");
					KATRINA->say("\"Thou art a flirt, Boris! Dost Magenta know how thou dost want to be dearest friends with the other women living on the island?\"");
					BORIS->say("\"Thou dost torture me, Katrina!\" He laughs.");
					KATRINA->hide();
					BORIS->show_npc_face(0x0000);
				}
				remove("Katrina");
				fallthrough;

			case "Henry":
				say("\"Henry's parents were so poor it is a wonder he did not starve to death. I think Constance kept him going. He has loved her since they were children.\"");
				remove("Henry");
				fallthrough;

			case "Constance":
				say("\"Constance is an orphan who was raised mostly by Katrina. Her innocence is surpassed only by her beauty. She is loved by all.\" Boris stares off into space for a few seconds before coming to his senses.");
				remove("Constance");
				fallthrough;

			case "Sam":
				say("Boris laughs. \"Thou wouldst have to meet Sam for thyself. He is an incredible person who is perfecting the art of enjoying life.\"");
				remove("Sam");
				fallthrough;

			case "strangers":
				say("\"A shipwreck has brought three strangers to our island. Rumor has it one of them is a monied gentleman from Buccaneer's Den, and the other two are his hired swords. They were in here drinking one night. They are not the sort of crowd I would wish to serve at mine establishment.\"");
				gflags[0x0180] = true;
				remove("strangers");
				fallthrough;

			case "locket":
				if (gflags[0x017F]) {
					say("\"I do not wish to hear of that locket ever again! Do not speak to me of it!\"");
					abort;
				}
				if (!gflags[0x0185]) {
					say("\"I am quite certain I have never seen such a locket. I shall be happy to keep mine eyes open, though.\"");
					gflags[0x0183] = true;
				} else if (!gflags[0x017E]) {
					say("You tell Boris what you had heard from the pirate, Battles. He breaks out into a cold sweat. \"Thou hast seen through my deception. I shall hand it over to thee.\" He opens a secret panel from behind the bar and looks inside. When he looks back to you his face has lost all color. \"The locket is gone! I swear to thee, I know not where it is!\"");
					gflags[0x017E] = true;
				} else {
					say("\"I still have not been able to find the locket!\" Boris looks as if he is about to tear his hair out, \"But I will keep looking until I find it!\"");
				}
				remove("locket");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good journey!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(BORIS);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0483 object#(0x483) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		MAGENTA->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (gflags[0x017E] && (!gflags[0x017F])) {
			add("locket");
		}
		if (gflags[0x0180]) {
			add("strangers");
		}
		if (!gflags[0x018C]) {
			say("You see a humble-looking older woman. She gives you a friendly smile.");
			gflags[0x018C] = true;
		} else {
			say("Magenta smiles. \"Good day, ",
				var0000,
				". May I help thee?\"");
		}
		converse (0) {
			case "name":
				say("\"I am Magenta, of New Magincia.\"");
				remove("name");
				add("New Magincia");
				fallthrough;

			case "job":
				say("\"I am the Mayor of New Magincia, and the wife of Boris.\"");
				add(["Mayor", "Boris"]);
				fallthrough;

			case "Mayor":
				say("\"It is a job that requires little actual administration. I mostly try to make sure that everyone is getting along with everyone else. Apart from that, the town practically runs itself.\"");
				remove("Mayor");
				add("administration");
				fallthrough;

			case "administration":
				say("\"Why even the taxes here are less severe than anywhere else in Britannia. The Britannian Tax Council sometimes forgets to come collecting here for years on end.\"");
				remove("administration");
				fallthrough;

			case "Boris":
				say("\"Boris is the local innkeeper and a bit of a scoundrel if I say so myself. But he pours a good drink and tells a good story. Although I have to keep an eye on him, I love him.\"");
				remove("Boris");
				fallthrough;

			case "New Magincia":
				say("\"Oh, nothing is ever new in New Magincia, as the joke around here goes. But that is how we like it. We have few visitors here.\"");
				add("visitors");
				remove("New Magincia");
				fallthrough;

			case "visitors", "strangers":
				say("\"I hear there are three other new arrivals wandering around here somewhere. I always try to give people the benefit of the doubt, but be careful of them.\"");
				add("new arrivals");
				remove(["strangers", "visitors"]);
				fallthrough;

			case "new arrivals":
				say("\"Certainly some of the other townsfolk must have seen them by now. Perhaps they will have more information.\"");
				remove("new arrivals");
				fallthrough;

			case "locket":
				say("You see the locket Henry described to you hanging around Magenta's neck. \"Is it not beautiful? I found it in the secret hiding place behind mine husband's bar.\"");
				add("found");
				remove("locket");
				fallthrough;

			case "found":
				say("\"I would never have suspected anything so romantic from Boris. The locket must be a surprise for me!\"");
				add(["romantic", "surprise"]);
				remove("found");
				fallthrough;

			case "romantic":
				if (!gflags[0x017F]) {
					say("\"He must be trying to get back on my good side after all of the times I have caught him wenching and carousing.\"");
				} else {
					say("\"Well, I -did- think he was going to give it to me to make up for all the times I have caught him wenching and carousing.\"");
				}
				add("carousing");
				remove("romantic");
				fallthrough;

			case "carousing":
				say("\"Say, dost thou think that Boris could have meant to give this locket to someone else?\"");
				var0001 = Func090A();
				if (var0001) {
					say("Magenta's eyes widen in shock. \"Who?\"");
					UI_push_answers();
					var0002 = Func090B(["Constance", "don't know who"]);
					if (var0002 == "Constance") {
						say("\"I cannot possibly wear a piece of jewelry meant for another woman. As mayor, I charge thee, Avatar, with the task of returning it to her, or more properly to the person who had intended to give it to her. As for Boris... well, I shall deal with him later!\"");
						if (!gflags[0x017F]) {
							var0003 = UI_add_party_items(0x0001, 0x03BB, QUALITY_ANY, 0x0002, false);
							if (var0003) {
								say("\"Here is the locket. Take it.\"");
								gflags[0x017F] = true;
							} else {
								say("\"I cannot give thee the locket. Thou art too encumbered. Come back after thou hast put a few things down.\"");
							}
						}
					}
					if (var0002 == "don't know who") {
						say("Magenta looks puzzled. \"I wonder who it could be?");
						say("Then Magenta gets a devilish gleam in her eye. \"Well then. I shall just beat it out of him!\"");
					}
					UI_pop_answers();
				} else {
					say("Magenta sighs with relief. \"I am glad thou hast said this. Now I shall feel no guilt about keeping it.\"");
				}
				remove("carousing");
				fallthrough;

			case "surprise":
				if (!gflags[0x017F]) {
					say("\"I am flattered Boris would buy me such an obviously expensive gift. But how could he ever have afforded it?\"");
					UI_push_answers();
					var0004 = Func090B(["stolen", "don't know how"]);
					if (var0004 == "stolen") {
						say("Although Magenta struggles to retain her dignity, she cannot hide her disappointment. \"As Mayor, I charge thee with the task of locating the rightful owner of this locket and returning it to them.\"");
						if (!gflags[0x017F]) {
							var0003 = UI_add_party_items(0x0001, 0x03BB, QUALITY_ANY, 0x0002, false);
							if (var0003) {
								say("\"Here it is. Take it.\"");
								gflags[0x017F] = true;
							} else {
								say("\"Thou hast not room to carry even such a small thing as this! If thou wilt set something down, I will give thee the locket.\"");
							}
						}
					}
					if (var0004 == "don't know how") {
						say("Magenta looks puzzled. Then she smiles. \"Oh well. It sure is nice, is it not? If he thought this would improve our marital relations, he was not altogether wrong!\"");
					}
					UI_pop_answers();
				} else {
					say("\"Well, I thought at first that Boris had bought the locket for me as a surprise! Wait until I get mine hands on that no good...\" Magenta's face turns as red as her hair.");
				}
				remove("surprise");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I look forward to the next time when I will see thee.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(MAGENTA);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0484 object#(0x484) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		HENRY->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (gflags[0x0180]) {
			add("strangers");
		}
		if (gflags[0x017F] && (!gflags[0x01CD])) {
			add("found");
		}
		if (!gflags[0x018D]) {
			say("You see a scruffy young man who is obviously suffering from a broken heart.");
			gflags[0x018D] = true;
		} else {
			say("Henry greets you. \"It is good to speak with thee again, ",
				var0000,
				"!\"");
		}
		converse (0) {
			case "name":
				say("\"My name is Henry, ",
					var0000,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				if (!(gflags[0x017D] || gflags[0x01CD])) {
					say("\"Job?! Who can work when he has a broken heart?!\"");
					add("broken heart");
				} else {
					say("\"Although I am called a peddler, I have the greatest selection of items to be found in New Magincia.\"");
					add("New Magincia");
				}
				fallthrough;

			case "New Magincia":
				say("\"I have lived here all of my life and have never known anyplace else. It is a basically a very nice place where people still adhere to the old ways and values. The rest of the world must think it has passed us by, but it is they who have lost what once was.\"");
				remove("New Magincia");
				fallthrough;

			case "broken heart":
				say("\"I have been rejected by the woman I love.\"");
				add("woman");
				remove("broken heart");
				fallthrough;

			case "woman":
				say("His eyes light up. \"Her name is Constance, she is the most beautiful woman in the world, and for a time we were in love.\" His face falls, and he sighs deeply. \"But that was before I made a terrible mistake...\"");
				add(["Constance", "mistake"]);
				remove("woman");
				fallthrough;

			case "Constance":
				say("\"She is the waterbearer of the town. She carries water from the well of Humility to all the homes in town.\"");
				remove("Constance");
				fallthrough;

			case "mistake":
				say("\"I promised to give her a very old and valuable locket as a token of mine affection. My childhood friend, Katrina, had given the locket to me.\"");
				remove("mistake");
				add(["locket", "Katrina"]);
				fallthrough;

			case "locket":
				say("\"Before I could give her the locket, I lost it. I have searched everywhere but I cannot find it. Now, Constance thinks I am a cad and has forsaken me.\"");
				remove("locket");
				add("lost");
				fallthrough;

			case "Katrina":
				say("\"Katrina is a shepherd here on New Magincia. She has been a friend of mine since I was a boy.\"");
				var0001 = Func08F7(KATRINA);
				if (var0001) {
					KATRINA->say("\"We have had some good memories, have we not, Henry?\"");
					HENRY->say("\"Oh that we have! But thou wouldst not be my sweetheart, so we resigned ourselves to being 'just friends' a long time ago, is that not true?\"");
					KATRINA->say("\"Whatever thou dost say, dear Henry.\"");
					KATRINA->hide();
					HENRY->show_npc_face(0x0000);
				}
				remove("Katrina");
				fallthrough;

			case "lost":
				say("\"I noticed I had lost the locket right after I spoke with those three strangers yesterday. Wouldst thou help me find it?\"");
				var0002 = Func090A();
				if (var0002) {
					say("\"Oh, thank thee, ",
						var0000,
						"! If not for thee, I would be lost.\"");
					gflags[0x017D] = true;
				} else {
					say("\"Oh, well... I know thou art busy on thine own quest. I thank thee for listening to my tale, ",
						var0000,
						".\"");
				}
				remove("lost");
				fallthrough;

			case "strangers":
				say("\"There are three other strangers in New Magincia. They arrived a few days before thee. Their ship was sunk and they barely made it here with their lives.\"");
				remove("strangers");
				gflags[0x0180] = true;
				fallthrough;

			case "found":
				say("\"Thou hast found the locket!\"");
				var0003 = UI_remove_party_items(0x0001, 0x03BB, QUALITY_ANY, 0x0002, true);
				if (var0003) {
					Func0911(0x0032);
					say("You hand the locket to Henry. \"Now I may give it to Constance and keep my promise to her! I cannot thank thee enough, Avatar!\"");
					gflags[0x01CD] = true;
					var0004 = Func08F7(KATRINA);
					if (var0004) {
						KATRINA->say("\"I am glad that this situation has concluded in thy favor, dear Henry.\"");
						HENRY->say("\"My thanks to thee, Katrina.\"");
						KATRINA->hide();
						HENRY->show_npc_face(0x0000);
					}
				} else {
					say("He looks distraught when you make no move to give it to him. \"Where is it?! I need it if I am to prove myself to the woman I love!\"");
				}
				remove("found");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Travel safely and be well.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(HENRY);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0485 object#(0x485) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		CONSTANCE->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func08F7(SHAMINO);
		var0002 = Func08F7(IOLO);
		var0003 = Func08F7(DUPRE);
		var0004 = Func08F7(SPARK);
		var0005 = Func08F7(HENRY);
		add(["name", "job", "bye"]);
		if (gflags[0x0180]) {
			add("strangers");
		}
		if (gflags[0x0184]) {
			add("scoundrels");
		}
		if (gflags[0x01CD]) {
			add("locket found");
		}
		if (!gflags[0x018E]) {
			say("You see an angelic young woman who gives you a smile of complete innocence.");
			gflags[0x018E] = true;
		} else {
			say("\"",
				var0000,
				"!\" says a wide-eyed Constance, \"What may I do for thee?\"");
		}
		converse (0) {
			case "name":
				say("\"My name, ",
					var0000,
					", is Constance.\" She shyly lowers her eyes.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I carry water from the well of humility to all of the homes here in New Magincia.\"");
				add(["well of humility", "New Magincia"]);
				fallthrough;

			case "well of humility":
				say("\"The water from the well is pure and cool. If thou wouldst like I will pour thee some.\"");
				var0006 = Func090A();
				if (var0006) {
					say("With a big smile Constance takes a\tdipper and submerges it in the cool water of her bucket. She draws out the dipper and hands it to you. You drink and find the water delicious and very refreshing.");
					if (var0002) {
						IOLO->say("\"Actually, I feel quite parched myself. Might I have some as well?\" Constance nods yes, and hands him a\tdipper of water. He drinks with loud gulping sounds.*");
						IOLO->hide();
						CONSTANCE->show_npc_face(0x0000);
					}
					if (var0001) {
						SHAMINO->say("\"I, too, am feeling dry. Wouldst thou share thy water with me, milady?\" Constance fills the dipper with water for Shamino and he drinks until water runs down his chin.*");
						SHAMINO->hide();
						CONSTANCE->show_npc_face(0x0000);
					}
					if (var0003) {
						if (var0001) {
							SHAMINO->say("You see Shamino nudge Dupre. \"Art thou not going to have a drink?\"");
							SHAMINO->hide();
							DUPRE->say("\"I shall wait until we find something a bit stronger than water to quench my thirst.\"*");
							DUPRE->hide();
							CONSTANCE->show_npc_face(0x0000);
						}
					}
					if (var0004) {
						SPARK->say("Constance hands Spark a dipper full of water. He drinks it down in one long slurp. Upon finishing it, he burps. With an\tembarrassed grin he bows\tapologetically to Constance\tas he hands her back the dipper.");
						SPARK->hide();
						CONSTANCE->show_npc_face(0x0000);
					}
				} else {
					say("\"If thou wouldst ever change thy mind thou needest only let me know.\"");
				}
				remove("well of humility");
				fallthrough;

			case "strangers":
				say("\"There are three strangers on the island! They have been shipwrecked here! I have met them. Their leader's name is Robin.\"");
				add("Robin");
				remove("strangers");
				gflags[0x0180] = true;
				fallthrough;

			case "New Magincia":
				say("\"I was born in New Magincia and I have lived here mine entire life. But now I wish to leave for mine heart hath been broken.\"");
				remove("New Magincia");
				add("heart");
				fallthrough;

			case "heart":
				if (!gflags[0x0184]) {
					say("\"Once I was in love with Henry, the peddler, but then I learned he is a liar and a cad. Perhaps soon mine heart shall belong to another.\"");
					add("another");
				} else {
					say("You tell Constance of Robin's plans for her. She gives you a shocked look. \"Many thanks. I now know that my rightful place is with Henry.\"");
				}
				remove("heart");
				fallthrough;

			case "locket found":
				say("You tell Constance of how you have returned the locket that has been stolen from Henry. \"Oh, how could I ever have doubted my dear darling Henry?\" she frowns. \"I thank thee for telling me the truth.\"");
				if (var0005) {
					HENRY->say("\"Constance, I am sorry that things ran afoul as they did, but if thou wilt, I would like thee to have this locket as a symbol of my love.\"*");
					CONSTANCE->say("\"My sweet Henry, mine heart belongs to only thee.\"*");
					HENRY->hide();
					CONSTANCE->show_npc_face(0x0000);
				}
				remove("locket found");
				fallthrough;

			case "another":
				say("\"There is a charming and mysterious stranger on the island named Robin. He says one day he may show me the world and buy me many fine things.\" Constance sighs. \"He even gave me some lovely flowers.\"");
				remove("another");
				add("Robin");
				fallthrough;

			case "Robin":
				say("\"He is a wealthy man and his two friends are big, strong men. They have been telling me about a very wonderful-sounding place called Buccaneer's Den.\"");
				remove("Robin");
				add(["friends", "Buccaneer's Den"]);
				fallthrough;

			case "friends":
				say("\"Their names were Battles and Leavell. Both of them treated me like proper gentlemen.\"");
				remove("friends");
				add(["Battles", "Leavell"]);
				fallthrough;

			case "Buccaneer's Den":
				say("\"Buccaneer's Den must be a wonderland. There is a spinning wheel that gives thee money! Canst thou imagine! And opulent, luxurious baths.\"");
				remove("Buccaneer's Den");
				add(["spinning wheel", "baths"]);
				fallthrough;

			case "Battles":
				say("\"Battles was quiet at first. I thought he was mean-looking, but he is nice once thou dost get to know him. He told me of the various monsters he fought, and exciting stories of how he raided ships in the south seas.\"");
				remove("Battles");
				fallthrough;

			case "Leavell":
				say("\"Leavell was charming and witty. He can always make me laugh.\"");
				remove("Leavell");
				fallthrough;

			case "spinning wheel":
				say("\"Well, they certainly have nothing like that in New Magincia. I had never even heard of such a thing before!\"");
				remove("spinning wheel");
				fallthrough;

			case "baths":
				say("\"Doth that not sound nice?\"");
				remove("baths");
				fallthrough;

			case "scoundrels":
				say("You gently explain to Constance that Robin, Battles and Leavell were scoundrels with intent to do her great harm. She is quite alarmed. Then you explain that they will not be troubling her anymore. She thanks you.");
				remove("scoundrels");
				fallthrough;

			case "bye":
				break;
		}
		say("\"It was a pleasure speaking with thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(CONSTANCE);
	}
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0486 object#(0x486) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	if (event == DOUBLECLICK) {
		ROBIN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = ROBIN->get_npc_object();
		var0002 = LEAVELL->get_npc_object();
		var0003 = BATTLES->get_npc_object();
		var0004 = Func0931(AVATAR, 0x0001, 0x03BB, QUALITY_ANY, 0x0002);
		var0005 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x017D]) {
			add("locket");
		}
		if (var0004) {
			add("show locket");
		}
		if (var0005) {
			add("Fellowship");
		}
		if (!gflags[0x018F]) {
			say("You see a roguish man dressed in what appears to be some nobleman's ratty hand-me-downs.");
			gflags[0x018F] = true;
			if (gflags[0x0180]) {
				add("strangers");
			}
		} else {
			say("\"Greetings, and how may I be of service to thee?\" asks Robin.");
		}
		converse (0) {
			case "name":
				say("\"My name, ",
					var0000,
					", is Robin. A pleasure to meet thee. I have come to New Magincia only recently.\"");
				gflags[0x018F] = true;
				remove("name");
				add("New Magincia");
				fallthrough;

			case "job":
				say("\"My father, a well-respected nobleman whose name I will not defame by mentioning, bastardized and disowned me. But he did teach me mine occupation.\"");
				add("occupation");
				fallthrough;

			case "occupation":
				say("\"Why, that most glamorous and respected of occupations, ",
					var0000,
					". Winning at games of chance.\"");
				remove("occupation");
				fallthrough;

			case "New Magincia":
				say("\"I am not from here. My colleagues and I had to quickly leave Buccaneer's Den after a dispute with the casino owner. And a rough voyage it was, too.\"");
				add(["colleagues", "Buccaneer's Den", "dispute", "voyage"]);
				remove("New Magincia");
				fallthrough;

			case "colleagues":
				say("\"My friends are Battles and Leavell. Their job is to protect me and my winnings. In exchange they share in my profits.\"");
				add(["Battles", "Leavell"]);
				remove("colleagues");
				fallthrough;

			case "Battles":
				say("\"I rescued him from his captain who was about to make him walk the plank. I diced with that Captain for the lad's life. Later, Battles led a mutiny that took the ship, and... well, that is another story.\"");
				remove("Battles");
				fallthrough;

			case "Leavell":
				say("\"I rescued him from a gaggle of angry noblemen's daughters who had just discovered he was courting all of them simultaneously. If not for me he would have certainly perished! But I am ahead of myself.\"");
				remove("Leavell");
				fallthrough;

			case "Buccaneer's Den":
				say("\"It is where we live most of the year. There are a lot of rough characters there and it is not a place to be seen carrying large amounts of money.\"");
				add("rough characters");
				remove("Buccaneer's Den");
				fallthrough;

			case "dispute":
				say("\"I won a vulgar amount of the casino's gold and 'The Mister' of the place, Gordy, accused me of cheating. He sent his legbreaker, Sintag, after us. Pirates do not like to lose!\"");
				remove("dispute");
				add("The Mister");
				fallthrough;

			case "The Mister":
				say("\"Do not ask me why he is called that! Everyone there calls him that, though!\"");
				remove("The Mister");
				fallthrough;

			case "voyage":
				say("\"We took the first ship out, but before we got back to the mainland it had sunk. The three of us barely managed to make it to New Magincia with our lives. Now we are marooned here.\"");
				remove("voyage");
				add("marooned");
				fallthrough;

			case "strangers":
				say("\"I do not know of any. I only just arrived here myself.\"");
				remove("strangers");
				fallthrough;

			case "rough characters":
				say("\"One rough character in particular to stay away from is a man called Hook. He would kill thee for a trifle. Thou canst tell him by the hook he has for a hand.\"");
				add("Hook");
				remove("rough characters");
				fallthrough;

			case "Hook":
				say("\"I know nothing more. If thou thinkest that I would willingly cross paths with the likes of him thou must have me mistaken for someone else!\"");
				remove("Hook");
				fallthrough;

			case "locket":
				say("\"We are trying to return to Buccaneer's Den. I was hoping to sell a gold locket which came into my possession to buy our passage back, but I fear it is lost. If thou dost come across it be sure to let me know.\"");
				remove("locket");
				fallthrough;

			case "Fellowship":
				say("\"Thou art a member of The Fellowship! For years I have been seeing Fellowship members winning heavy stakes at the House of Games. Canst thou tell me their secret?\"");
				var0006 = Func090A();
				if (var0006) {
					say("\"Of course thou canst. But I do not suspect that thou wilt.\" Robin shrugs his shoulders.");
				} else {
					say("\"Forgive me if I do not believe thee.\"");
				}
				remove("Fellowship");
				fallthrough;

			case "marooned":
				say("\"That is right. We cannot afford the stinking ship sold by the shipwright.");
				say("\"But say, thou must have gotten here in some manner! Dost thou have some manner of ship on which we could leave the island?\"");
				var0007 = Func090A();
				if (var0007) {
					say("\"I could pay thee well if thou wouldst\ttake us back to Buccaneer's Den.\"");
					add("pay");
				} else {
					say("\"If thou shouldst come across a way off this island please permit us to leave with thee.\"");
				}
				remove("marooned");
				fallthrough;

			case "pay":
				say("\"Of course, I cannot pay thee right now at this moment.\tBut when we reach Buccaneer's Den, I promise thee, I shall be able to get mine hands on a lot of money.\"");
				remove("pay");
				add("money");
				fallthrough;

			case "money":
				say("\"Yes, money! For I have found something here in New Magincia that will be worth more than gold in Buccaneer's Den.\"");
				remove("money");
				add("something");
				fallthrough;

			case "something":
				say("\"Before I tell thee what it is, wilt thou promise to take me and my mates back to Buccaneer's Den?\"");
				var0008 = Func090A();
				if (var0008) {
					var0009 = true;
					say("Robin looks you in the eye. \"Thou art truly a kind friend. I suppose then I should tell thee what it is we are planning on bringing back from New Magincia.\"");
					add("bringing back");
				} else {
					say("\"Then I cannot trust thee enough to tell thee of my plans. Go away.\"");
					abort;
				}
				remove("something");
				fallthrough;

			case "bringing back":
				if (!var0004) {
					say("\"Since thou art truly a friend then I know that I can ask a favor of thee. Why dost thou not bring back that lost locket to me and we shall speak of these things some more.\" He flashes you a wicked grin.");
				} else {
					say("\"Since thou hast brought my locket back here, I suppose that I can trust thee. I intend to take Constance back with us and sell her to the operator of the baths.\"");
				}
				remove("bringing back");
				fallthrough;

			case "show locket":
				say("\"Now that I know I can trust thee, I can let thee in on our plan. I intend to take another passenger in thy boat back with us to Buccaneer's Den. Her name is Constance and she should fetch a goodly price from Glenno, operator of the baths. Enough to pay my debts, pay thee for passage and still have plenty left over for another go at the House of Games!\"");
				Func0911(0x0064);
				gflags[0x0184] = true;
				add("boat");
				remove("show locket");
				fallthrough;

			case "boat":
				say("\"Thou must get thy boat ready to leave this place immediately. My lads and I shall get Constance and then we shall join thee. But wilt thou tell me where thy boat is located?\"");
				var000A = Func090A();
				if (var000A) {
					say("You give Robin the location of your boat. He slowly breaks into an evil laugh. \"I thank thee, friend. All that is left for us is to eliminate one remaining loose end. Now that we know where thy boat is we will collect more on our investment by simply killing thee and taking it.\"*");
				} else {
					say("\"Thou hast lost thy stomach for our game, eh? If that is the case then my lads and I have no choice but to kill thee dead to protect our secret!\"*");
				}
				var0001->set_schedule_type(IN_COMBAT);
				var0002->set_schedule_type(IN_COMBAT);
				var0003->set_schedule_type(IN_COMBAT);
				abort;

			case "bye":
				break;
		}
		say("\"It has been a pleasure speaking with thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(ROBIN);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0487 object#(0x487) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		BATTLES->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = Func08F7(ROBIN);
		var0003 = Func08F7(LEAVELL);
		add(["name", "job", "bye"]);
		if (gflags[0x017D]) {
			add("locket");
		}
		if (!gflags[0x0190]) {
			say("The man before you examines you with shifty eyes. He has a slightly crouched posture as if constantly poised to strike out at the world around him.");
			gflags[0x0190] = true;
			if (gflags[0x0180]) {
				add("strangers");
			}
		} else {
			say("\"What?\" asks Battles.");
		}
		converse (0) {
			case "name":
				say("\"Battles. M'self, I be a stranger to New Magincia.\"");
				add("New Magincia");
				remove("name");
				fallthrough;

			case "job":
				say("\"I be hired as a bodyguard for Master Robin, as is me partner, Leavell. The pay be good.\"");
				add(["Robin", "Leavell"]);
				fallthrough;

			case "Robin":
				say("\"Robin be a high stakes gamblin' gent who makes his living inna casino at Buccaneer's Den.\"");
				if (var0002) {
					ROBIN->say("\"A living that would not have been anything near as profitable if not for thy good works, Battles.\"*");
					BATTLES->say("\"Thank yer, Milord.\"*");
					ROBIN->hide();
					BATTLES->show_npc_face(0x0000);
				}
				remove("Robin");
				add(["gamblin' gent", "casino"]);
				fallthrough;

			case "gamblin' gent":
				say("\"Gamblin' is how Robin makes his living. I do not think he has had a regular post in all of his life!\"");
				if (var0002) {
					ROBIN->say("\"Why, I thank thee for the compliment, Battles!\"*");
					ROBIN->hide();
					BATTLES->show_npc_face(0x0000);
				}
				remove("gamblin' gent");
				fallthrough;

			case "casino":
				say("\"The casino in Buccaneer's Den is called the House of Games and it the most fabulous place I have ever seen in me life. I shall never forget the first time Robin took me there. He walked away with a hundred gold pieces for less than an hour's work!\"");
				remove("casino");
				fallthrough;

			case "Leavell":
				say("\"He's a lady's man, he is. But do not be thinkin' he cannot handle hissel' inna fight. T'would be yer last mistake.\"");
				if (var0003) {
					LEAVELL->say("\"I can near out wrestle thee, Battles, ye old dog!\"*");
					BATTLES->say("\"Har! Har! Har! Har!\"");
					LEAVELL->hide();
					BATTLES->show_npc_face(0x0000);
				}
				remove("Leavell");
				add(["lady's man", "fight"]);
				fallthrough;

			case "lady's man":
				say("\"Why, I reckon Leavell has broken near as many hearts as I have made stop beating!\"");
				if (var0003) {
					LEAVELL->say("\"So many!\"*");
					LEAVELL->hide();
					BATTLES->show_npc_face(0x0000);
				}
				remove("lady's man");
				fallthrough;

			case "fight":
				say("\"Just the practice Leavell has had in fending off jealous husbands 'twould make any man a master combatant!\"");
				remove("fight");
				fallthrough;

			case "strangers":
				say("\"Strangers? ~~Thou must mean us!\" Battles snorts loudly.");
				remove("strangers");
				fallthrough;

			case "New Magincia":
				say("\"We be looking to get off this boring rock, New Magincia, and back to Buccaneer's Den. If ye have a way to get us there, and away from these peasant knaves, Master Robin shall pay ye well.\"");
				remove("New Magincia");
				add(["boring rock", "peasant knaves"]);
				fallthrough;

			case "boring rock":
				say("\"Canst thou imagine spending thine entire life here with nothing happening day after day after day? 'Tis enough to drive a man mad!\"");
				remove("boring rock");
				fallthrough;

			case "peasant knaves":
				say("\"The people here are so lacking in education that they never even heard of gamblin' before! Never heard of gamblin'? That is what life is all about!\"");
				remove("peasant knaves");
				fallthrough;

			case "locket":
				say("\"I sar a locket jus' like the one thou be describin' in the possession o' Master Robin. The last time I sar it was... Lessee... It was right before the three of us went drinkin' at the Modest Damsel.\"");
				gflags[0x0185] = true;
				remove("locket");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Be seein' ye.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(BATTLES);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0488 object#(0x488) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		LEAVELL->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = Func08F7(ROBIN);
		var0003 = Func08F7(BATTLES);
		add(["name", "job", "bye"]);
		if (gflags[0x017D]) {
			add("locket");
		}
		if (!gflags[0x0191]) {
			say("You see a young man balancing a dagger on the tip of his finger. He tries hard to ignore you.");
			gflags[0x0191] = true;
			if (gflags[0x0180]) {
				add("strangers");
			}
		} else {
			say("Leavell balances his dagger on his fingertip. In a blur of motion, he snatches it out of the air, pointing at you. He stares you in the eye.");
		}
		converse (0) {
			case "name":
				say("\"I am Leavell.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Along with Battles, I am a bodyguard for Master Robin. If not for him, I would have landed in prison instead of in New Magincia.\"");
				add(["Battles", "Robin", "prison", "New Magincia"]);
				fallthrough;

			case "strangers":
				say("\"I do not know what thou art talking about.\"");
				remove("strangers");
				fallthrough;

			case "Battles":
				say("\"He has an eye like a hawk, and is quicker than a cat. 'Twould be wise of thee to pay him respect.\"");
				if (var0003) {
					BATTLES->say("\"Har! Har! Thou art too correct, Leavell!\"");
					BATTLES->hide();
					LEAVELL->show_npc_face(0x0000);
				}
				remove("Battles");
				add(["eye", "quick", "respect"]);
				fallthrough;

			case "eye":
				say("\"If Battles had not spotted that approaching storm we would have all been dead men for certain!\"");
				remove("eye");
				add("storm");
				fallthrough;

			case "storm":
				say("\"It took a terrible toll on our boat, but if truth be told I have seen far worse.\"");
				remove("storm");
				fallthrough;

			case "quick":
				say("\"I have seen Battles has reflexes faster than a snake.\"");
				remove("quick");
				fallthrough;

			case "prison":
				say("\"Yes, I have done things to be put in prison for. But I am not ashamed of my life. I do not have to be held accountable to thee about it.\"");
				remove("prison");
				fallthrough;

			case "respect":
				say("\"And while thou art about it, thou mayest show respect to me, too.\" Leavell says with a sneer.");
				remove("respect");
				fallthrough;

			case "Robin":
				say("\"He is a gambler by profession, who earns his winnings at the House of Games's tables on Buccaneer's Den.\"");
				if (var0002) {
					ROBIN->say("\"Soon we shall return and the money will pour like sweet wine once again, eh, Leavell?\"");
					ROBIN->hide();
					LEAVELL->show_npc_face(0x0000);
				}
				add(["profession", "Buccaneer's Den"]);
				remove("Robin");
				fallthrough;

			case "profession":
				say("\"Gambling is what Robin does for money. But he spends so much time talking about Lord British that thou wouldst think he was royalty or something!\"");
				if (var0002) {
					say("Suddenly Leavell gets an embarrassed look on his face and stops talking.*");
					ROBIN->say("\"Enough about that, Leavell!\"*");
					ROBIN->hide();
					LEAVELL->show_npc_face(0x0000);
				}
				remove("profession");
				fallthrough;

			case "Buccaneer's Den":
				say("\"We ran into some misfortune the last time we were there. The Mister at the House of Games learned\tof Master Robin's system and caused him to lose much of his gold.\"");
				add(["The Mister", "system"]);
				remove("Buccaneer's Den");
				fallthrough;

			case "system":
				say("\"He had devised a clever method of cheating at all the various games at the House of Chance. It had earned him several times his weight in gold coins, I am certain.\"");
				remove("system");
				fallthrough;

			case "The Mister":
				say("\"When Master Robin could not pay his debts, The Mister sent his legbreaker, Sintag, and his knaves after us. We had to leave on the first ship out of Buccaneer's Den. I do not know why he is called 'The Mister'.\"");
				add(["Sintag", "ship"]);
				remove("The Mister");
				fallthrough;

			case "Sintag":
				say("\"Battles and myself are more than capable of taking care of Sintag...\" *");
				if (var0003) {
					BATTLES->say("\"Yeh, thou art bloody right we coulda handled him! We'd a slit him like a sheep! Har!\" *");
					BATTLES->hide();
					LEAVELL->show_npc_face(0x0000);
				}
				say("\"But Gordy had hired a troupe of ruffians to chase after us. 'Tis a pity. I would have liked to teach him a lesson or two. In fact, one day I think I shall.\"");
				remove("Sintag");
				fallthrough;

			case "ship":
				say("\"The ship we sailed on sank, leaving us stranded here. We were lucky to make it to New Magincia with our lives!\"");
				add(["sank", "stranded"]);
				remove("ship");
				fallthrough;

			case "sank":
				say("\"The crew could not believe it! The vessel was almost new. It had sailed all the way from Minoc without a problem. In fact, that was the first storm that ship had ever encountered. None of the crew survived, poor buggers.\"");
				remove("sank");
				fallthrough;

			case "stranded":
				say("\"If thou wouldst have some way of getting us back to Buccaneer's Den, Master Robin would reward thee handsomely.\"");
				remove("stranded");
				fallthrough;

			case "New Magincia":
				say("\"Peasant fools and sheep. The only thing worth a second look in this whole town is Constance.\"");
				add(["fools and sheep", "Constance"]);
				remove("New Magincia");
				fallthrough;

			case "fools and sheep":
				say("\"Here, what is not one is the other. This place is so isolated that it is backward. What is worse, they prefer it this way!\"");
				remove("fools and sheep");
				fallthrough;

			case "Constance":
				say("\"She doth put a spring in a man's step! We have our eye on her, we do!\" Leavell quickly clears his throat and he looks away from you momentarily.");
				remove("Constance");
				fallthrough;

			case "locket":
				say("\"While I myself have seen no such locket, perhaps thou shouldst ask Master Robin about it.\"");
				remove("locket");
				fallthrough;

			case "bye":
				break;
		}
		say("With that Leavell goes back to playing with his dagger.*");
	}
	if (event == PROXIMITY) {
		Func092E(LEAVELL);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func0489 object#(0x489) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	if (event == DOUBLECLICK) {
		SAM->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = UI_part_of_day();
		var0003 = SAM->get_npc_object()->get_schedule_type();
		var0004 = "Avatar";
		var0002 = UI_part_of_day();
		var0005 = UI_is_pc_female();
		add(["name", "job", "bye"]);
		if (gflags[0x0180]) {
			add("strangers");
		}
		if (gflags[0x017D]) {
			add("locket");
		}
		if (gflags[0x018F]) {
			add("Robin");
		}
		if (gflags[0x0190]) {
			add("Battles");
		}
		if (gflags[0x0191]) {
			add("Leavell");
		}
		if (gflags[0x0187]) {
			var0006 = var0000;
		}
		if (gflags[0x0188]) {
			var0006 = var0004;
		}
		if (!gflags[0x0192]) {
			say("You see a content-looking bearded man, with deep-set laugh lines in his face and gentle eyes.");
			gflags[0x0192] = true;
		} else {
			say("\"Hey there, how are things with thee?\" says Sam.");
		}
		converse (0) {
			case "name":
				say("\"My name is Sam. I am the Flower Man. And what is thy name?\"");
				UI_push_answers();
				var0007 = Func090B([var0000, var0004]);
				if (var0007 == var0000) {
					say("\"It is nice to meet thee.\"");
					gflags[0x0187] = true;
				} else {
					say("\"Fine. If thou dost wish to be the Avatar, I will not argue. Thou canst be the Avatar if thou dost want to be.\"");
					var0008 = true;
				}
				UI_pop_answers();
				remove("name");
				fallthrough;

			case "job":
				say("\"The way I perceive it I do not really have a job. I sell flowers to the people of New Magincia. Although I am paid for it, it is something I enjoy doing very much. I wonder, does that still qualify as a job?\" He scratches his chin thoughtfully.");
				add(["flowers", "New Magincia"]);
				fallthrough;

			case "flowers":
				say("\"I grow all of the flowers that I sell in a greenhouse which is also mine home. I sell a lot of red roses but I have many varieties. If thou art interested in buying some, please say so!\"");
				add(["greenhouse", "buy"]);
				remove("flowers");
				fallthrough;

			case "greenhouse":
				say("\"I built my greenhouse by hand. When I am not selling flowers I am engaged in various studies of plants and nature there. I find it fascinating. As thou mayest have noticed, I prefer to grow them big!\"");
				remove("greenhouse");
				add(["studies", "big"]);
				fallthrough;

			case "studies":
				say("\"Presently I am studying possible uses and applications of wheatgrass. One day soon I shall begin compiling my notes but it will require a long effort for there is much that I have learned. It is mostly to support my work that I operate my flower wagon.\"");
				add("wagon");
				remove("studies");
				fallthrough;

			case "big":
				say("\"It is because of what I learn in my studies that I may grow my flowers to be so large and healthy.\"");
				remove("big");
				fallthrough;

			case "wagon":
				say("\"Actually my business does quite well and I do like the way my flowers brighten the whole place. But who really cares about business anyway, so why shouldst thou ask? Suffice it to say that life is sweet!\"");
				remove("wagon");
				add("life");
				fallthrough;

			case "life":
				say("\"Thou hast enough money as long as thou dost have a place to live and can afford food, so I consider myself a wealthy man. I enjoy a good drink and round of song at the Modest Damsel nightly. I have a thriving business and stimulating work. I consider every resident of this island a good friend. I feel anger towards no one and do not desire anything more. I have never had reason to feel lonely, worried or bored. What else is there? Life is good!\"");
				remove("life");
				fallthrough;

			case "buy":
				if (var0003 == TEND_SHOP) {
					if (!var0005) {
						say("\"There are many pretty ladies on this island and they are in the habit of receiving flowers from the gentlemen they meet. It would cause a dreadful embarrassment if thou didst not have any!");
					} else {
						say("\"The gentlemen of this island have a peculiarity in their taste in women. They cannot refuse anything of a woman who wears flowers. If thou dost not wear any they will simply ignore thee!");
					}
					say("\"Surely thou dost wish to purchase some?\"");
					var0009 = Func090A();
					if (var0009) {
						say("\"A bouquet costs 12 gold. Art thou still interested?\"");
						var000A = Func090A();
						if (var000A) {
							var000B = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
							if (var000B >= 0x000C) {
								var000C = UI_add_party_items(0x0001, 0x03E7, QUALITY_ANY, 0x0004, true);
								if (var000C) {
									say("\"The bouquet is thine!\"");
									var000D = UI_remove_party_items(0x000C, 0x0284, QUALITY_ANY, FRAME_ANY, true);
								} else {
									say("\"Thine hands are too full to take the bouquet!\"");
								}
							} else {
								say("\"Thou dost not have the money to buy flowers. But take heart, whenever thou canst afford them, I shall still be selling them.\"");
							}
						} else {
							say("\"Perhaps next time, ",
								var0001,
								",\" he responds, smiling.");
						}
					} else {
						say("\"Perhaps another time then.\"");
					}
				} else {
					say("\"I am afraid that my shop is now closed, but if thou wilt return during business hours, I shall provide the solution to thine apparent floral emergency.\"");
				}
				remove("buy");
				fallthrough;

			case "strangers":
				say("\"There are three strangers on this island that have washed ashore in a shipwreck. Perhaps thou shalt meet them.\"");
				remove("strangers");
				gflags[0x0180] = true;
				fallthrough;

			case "locket":
				say("\"Yes, I saw Henry walking past my shop with that locket looking for Constance. It must have been shortly after he received it from Katrina. I remember it because I gave him a flower to give to Constance. Poor fellow, by the time he found her it was all he had to give her.\"");
				remove("locket");
				fallthrough;

			case "Robin":
				say("\"Why, he sounds like one of those three strangers! I have met him. He talked as if he wanted to buy some flowers but he just walked away. Later I noticed a bouquet of flowers was missing from my wagon. The scoundrel must have pilfered them!\"");
				remove("Robin");
				fallthrough;

			case "Battles":
				say("\"He must be one of those shipwrecked visitors we have on our island. Yes, when the three of them came up to my wagon he gave me a stare that sent a chill through my blood. I did my best to ignore him. I absolutely abhor violence.\"");
				remove("Battles");
				fallthrough;

			case "Leavell":
				say("\"So that is the name of one of our uninvited guests! When the three of them came to my wagon earlier, he was very friendly while talking to me, but I saw through him. He mentioned noticing Constance, but the others gestured for him to be quiet.\"");
				remove("Leavell");
				fallthrough;

			case "New Magincia":
				say("\"I was not born here. I came here as a young man. My father was a nobleman who was more interested in my counting gold than devoting myself to my studies. For a time I travelled the world until I landed here. It is a special place unlike any other in all of Britannia. So while thou art here please help us take good care of it.\"");
				remove("New Magincia");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Enjoy thy life, friend.\"*");
	}
	if (event == PROXIMITY) {
		var0002 = UI_part_of_day();
		var0003 = SAM->get_npc_object()->get_schedule_type();
		var000E = UI_die_roll(0x0001, 0x0004);
		if (var0003 == TEND_SHOP) {
			if (var000E == 0x0001) {
				var000F = "@Beautiful flowers!@";
			}
			if (var000E == 0x0002) {
				var000F = "@I have pretty flowers!@";
			}
			if (var000E == 0x0003) {
				var000F = "@Who will buy these lovely flowers?@";
			}
			if (var000E == 0x0004) {
				var000F = "@Thou dost need beautiful flowers!@";
			}
			SAM->item_say(var000F);
		} else {
			Func092E(SAM);
		}
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();

void Func048A object#(0x48A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == PROXIMITY) {
		abort;
	}
	GORN->show_npc_face(0x0000);
	var0000 = Func0908();
	var0001 = Func0909();
	var0002 = Func08F7(IOLO);
	var0003 = Func08F7(SHAMINO);
	var0004 = Func08F7(DUPRE);
	var0005 = UI_wearing_fellowship();
	if (gflags[0x02CC]) {
		add("Iriale");
	}
	if (!gflags[0x02BB]) {
		say("You see a familiar face, a stern-looking bearded warrior whom you have met on one of your previous journeys to Britannia.");
		gflags[0x02BB] = true;
	} else {
		say("\"Ho, Avatar!\" says Gorn. \"Thou dost vish to speak mit me?\"");
	}
	if (gflags[0x02D2]) {
		say("\"De voice ov Brom has told me not to trust thee, Avatar,\" says Gorn. \"I tought dat ve vere friends and I do not vish to cause thee harm. But I varn thee, do not speak mit me anymore!\"*");
		abort;
	}
	converse (["name", "job", "bye"]) {
		case "name":
			say("The warrior's eyes narrow. \"I am Gorn, as if thou didst not remember! It is good to see thee again.\" He laughs and slaps you on the shoulder.");
			remove("name");
			fallthrough;

		case "job":
			say("\"My job is a never-ending qvest of high adventure. Ever since I vas a child und vas taken from mine homeland of Balema, I haf spent my life in search of heroic deeds to perform.\"");
			add(["Balema", "heroic deeds"]);
			fallthrough;

		case "Balema":
			say("\"Yah, Balema is vere I vas born. I vas a child dere. It is a vonderland ov snow-covered mountains und dark forests. It vas not an easy life, but it vas a place dat made young boys into strong heroic men. Dat vas long before I came to Britannia.\"");
			remove("Balema");
			add("Britannia");
			fallthrough;

		case "Britannia":
			say("\"Yah! I came to Britannia t'rough vone ov de Moongates, de same as thee. Dat vas many, many years ago.\"");
			remove("Britannia");
			fallthrough;

		case "heroic deeds":
			say("\"I perform heroic deeds in honor ov Brom. Everyting I do is in service to him.\"");
			remove("heroic deeds");
			add("Brom");
			fallthrough;

		case "Brom":
			say("\"He is my master, und de master ov all ov de people ov Balema. Brom is all powerful und if I am strong he vill aid me. Sometimes I hear de voice ov Brom inside ov mine head.\"");
			remove("Brom");
			add(["master", "voice"]);
			fallthrough;

		case "master":
			say("\"Ya! Brom he is my master. If he vishes me to do someting, I must do it! If he does not vant me to do someting, I must not do it!\"");
			remove("master");
			fallthrough;

		case "voice":
			say("\"Ya! Only recently I haf begun to hear his voice in mine head. His voice tells me vat to do! As I came tovard dis cave de voice ov Brom became clearer.\"");
			remove("voice");
			add(["what to do", "cave", "clearer"]);
			fallthrough;

		case "what to do":
			say("\"Vhen I first heard de voice ov Brom, he told me dat I should follow him. But how does one follow de voice ov someone dat thou cannot see vhen de voice is coming from inside ov thine head?\"");
			remove("what to do");
			add("follow");
			fallthrough;

		case "follow":
			say("\"Dis vas very, very difficult for me but after a vhile I vas able to figure out how to do it. Vhen I came nearer to da camp surrounding dis cave da voice vould get louder. Vhen I vould move avay de voice vould be qvieter.\"");
			remove("follow");
			add(["camp"]);
			fallthrough;

		case "camp":
			say("\"It vas very simple for a trained varrior like myself to slip into de camp ov dose who are holding Brom prisoner. Dey posed no threat vatsoever. So dat means dat de danger must be vaiting down here. But I cannot find it!\"");
			if (var0005) {
				say("\"I can see by dat medallion thou dost vear dat thou hast snuck into dis place by disguising thyself as vone of dem. Very clever, Avatar!\"");
			}
			if (var0002) {
				IOLO->say("Iolo whispers to you, \"This fellow is quite sharp, is he not?\"*");
				IOLO->hide();
				GORN->show_npc_face(0x0000);
			}
			remove("camp");
			add("danger");
			fallthrough;

		case "danger":
			say("\"Zo far de only danger I haf found down here has been a female fighter. She vas beautiful. Vhen I vent to talk to her she hit me over de head mit her svord. Vhen I voke up she vas gone. I bet she tought she had killed me but mine head is harder dan dat. I vas not even vounded.\"");
			if (var0003) {
				SHAMINO->say("Shamino whispers to you. \"Luckily, Gorn was hit in the one spot where he has no feeling whatsoever -- his head!\"*");
				GORN->say("\"Hey, vhat are you vhispering about over dere?\"*");
				SHAMINO->say("\"Oh, nothing. Nothing at all.\"*");
				SHAMINO->hide();
				GORN->show_npc_face(0x0000);
			}
			remove("danger");
			fallthrough;

		case "cave":
			say("\"I know dat Brom is somevhere down in dis cave, und I vill not leave dis place until I find him!\"");
			remove("cave");
			add("find Brom");
			fallthrough;

		case "clearer":
			say("\"The nearer I haf come to dis cave, the more times I haf been hearing de voice ov Brom. But lately he has been saying tings to me dat are very, very strange!\"");
			remove("clearer");
			add("strange");
			fallthrough;

		case "strange":
			say("\"De first strange ting dat he says to me is \"Strive For Unity\". I say, yah, dat is vhy I am performing mine heroic deeds. Den Brom says someting else dat is strange.\"");
			remove("strange");
			add("something else strange");
			fallthrough;

		case "something else strange":
			say("\"Next de voice ov Brom says to me \"Trust My Brothers\". Dis is strange because all ov my brothers are back in Balema, und I vould never trust dem anyvays. Dey vere all bigger den me and vere alvays beating me. But even dat vas not as strange as da next strange ting.\"");
			remove("something else strange");
			add("next strange thing");
			fallthrough;

		case "next strange thing":
			say("\"De voice ov Brom tells me dat \"Worldliness Receives Avard\". I haf been tinking about dat von for a long time und I still haf not figured it out. But I vill not give up until I find Brom.\"");
			if (var0004) {
				DUPRE->say("\"A mysterious voice speaking inside someone's head, suggesting the philosophy of The Fellowship. Does this sound familiar, ",
					var0000,
					"?\"*");
				DUPRE->hide();
				GORN->show_npc_face(0x0000);
			}
			remove("next strange thing");
			add("find Brom");
			fallthrough;

		case "find Brom":
			say("\"Wouldst thou help me find Brom?\"");
			var0006 = Func090A();
			if (var0006) {
				say("Gorn seems distracted for a moment. He places his hand to his ear as if he is listening to something. He looks back at you and there is a shocked look on his face. \"I haf just heard de voice ov Brom and he has told me not to trust thee! Go avay from me, Avatar! I tought dat thou vert my friend! I do not vish to speak vith thee anymore!\"*");
				gflags[0x02D2] = true;
				abort;
			}
			say("Gorn has a confused look on his face. \"Vhy vill thou not help me find Brom? Dost thou tink dat dis is all some kind ov trick, or should I go on looking for Brom by myself?\"");
			add(["look for Brom", "it's a trick"]);
			remove("find Brom");
			fallthrough;

		case "look for Brom":
			say("\"If dat is how thou vants it. Den I shall go on searching for Brom mit no vone else but myself. Good luck in vhatever qvest thou art on, Avatar. Farewell to thee!\"*");
			GORN->get_npc_object()->set_schedule_type(WANDER);
			abort;

		case "it's a trick":
			say("Gorn seems distracted for a moment. He puts his hand to his ear as if he is listening to something. He looks back at you with a shocked expression on his face. \"I haf just heard de voice ov Brom and he says dat I should not trust thee! I tought dat thou vert my friend, Avatar! Go avay! I do not vish to speak vith thee again!\"*");
			gflags[0x02D2] = true;
			abort;

		case "Iriale":
			say("\"Dat is de name ov de female fighter who has been guarding dis place. I haf fought her vonce already. She is a strong fighter! I haf to find her so I can make her to tell me vhere is Brom!\"");
			remove("Iriale");
			fallthrough;

		case "bye":
			break;
	}
	say("\"Until ve meet again, Avatar.\"*");
}

extern var Func08F7 0x8F7 (var var0000);

void Func048C object#(0x48C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		MARKHAM->show_npc_face(0x0000);
		if (!gflags[0x01B4]) {
			say("This undead fellow looks through you. Though he is obviously aware of his surroundings, you are quite sure that he doesn't even see you.*");
			abort;
		}
		if (gflags[0x01CA]) {
			var0000 = "Paulette";
		} else {
			var0000 = "barmaid";
		}
		var0001 = "it's not all his fault";
		var0002 = false;
		if (gflags[0x0198]) {
			add("sacrifice");
		}
		var0003 = UI_part_of_day();
		var0004 = MARKHAM->get_schedule_type();
		if (!gflags[0x01AA]) {
			if ((var0003 == MIDNIGHT) || (var0003 == EARLY)) {
				if (var0004 == SLEEP) {
					say("You attempt to start a conversation with the portly ghost, but he seems distanced from you and everything else.*");
					abort;
				}
				if (!(var0004 == MAJOR_SIT)) {
					say("The heavy-set ghost looks a bit shaken and his speech is a little slurred as he says, \"Excuse me, yer honor. But I got me a splittin' headache. Do ya mind if we continue this little chat later?\"~~He begins to rub his temples with both hands.*");
					abort;
				}
			}
		}
		var0005 = Func08F7(ROWENA);
		if (var0005) {
			say("\"Oh, hello there, lady Rowena. 'Tis good to see ye again. It brings a ray o' sunshine into this old man's heart ta see yer beauteous face,\" he says, smiling.*");
			ROWENA->say("She curtsies delicately and smiles back.~~\"Hello, Markham. It is good, indeed, to see that none of this horrible business can keep thee from giving a lady a compliment.\"*");
			ROWENA->hide();
			MARKHAM->show_npc_face(0x0000);
		}
		var0006 = Func08F7(FORSYTHE);
		if (var0006) {
			say("\"Oh, uh, hello there Mayor. I thought ye were sequestered in the Town Hall. Well, uh, it's good ta see ya again.\"*");
			FORSYTHE->say("\"Yes, well, it is good to see thee again, too.\"*");
			FORSYTHE->hide();
			MARKHAM->show_npc_face(0x0000);
			gflags[0x01BD] = true;
		}
		if (!gflags[0x01C4]) {
			say("The corpulent, undead barkeep greets you with a wide, gruesome smile. \"Come, stranger. Have a seat near old Markham and tell me o' yer travels. I don't often get visitors in here anymore.\"");
			gflags[0x01C4] = true;
		} else {
			say("Markham hails you and drinks down a tankard of the house spirits. \"Welcome, my friend. Sit with me a while and enliven my eternity with yer wondrous wit.\" He smiles in that charming way that only the half-rotted can.");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("The heavy-set zombie wipes his mouth off on the back of his hand. \"I be Markham. Markham o' the Keg.\" He pats the large keg of wine he carries.");
				var0007 = Func08F7(PAULETTE);
				if (var0007 && gflags[0x01B9]) {
					if (var0002) {
						QUENTON->hide();
					}
					if (!gflags[0x01A4]) {
						PAULETTE->say("The lovely ",
							var0000,
							" strolls over and pats Markham's rather large belly. \"Yes, he's Markham of the Keg, all right.\" She smiles sweetly down at the older man.*");
						PAULETTE->hide();
						MARKHAM->say("\"That's enough of that!\" Markham smacks the pretty young woman on her ghostly posterior.~~ \"Make yerself useful and fetch me a haunch o' venison.\" She turns away, giggling. He looks at you with a mirthful expression, \"I just don't know what I'm goin' ta do with that girl.\"");
					}
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"Why, I run this fine establishment, the Keg O' Spirits.\" For a moment he becomes serious. \"This place once drew folk from all across Britannia, gargoyle and human alike. Until the fire, that is.\"");
				add(["Keg O' Spirits", "fire"]);
				fallthrough;

			case "fire":
				say("He looks uncomfortable, \"Caine blew the town to the four winds, and now we're all trapped here, slaves of that bastard Horance.\" Tiny blue flames appear in the pupils of his glazed eyes, then go out as he regains his composure.");
				add(["Caine", "Horance"]);
				var0008 = Func08F7(QUENTON);
				if (var0008 && gflags[0x01BA]) {
					QUENTON->say("\"Please, Markham. Have a little pity for Caine. He was trying to create something to save the town when he made his fatal mistake.\" The pale ghost looks deeply troubled.");
					QUENTON->hide();
					MARKHAM->show_npc_face(0x0000);
					var0002 = true;
					var0001 = "yer right Quen,";
				}
				say("\"Oh, I suppose ",
					var0001,
					" he was tryin' ta help us when he called the proverbial fires o' Hell down on us. It just rankles me to have died in my prime.\" His roguish smile once again lightens his ghostly visage.");
				remove("fire");
				fallthrough;

			case "Caine":
				say("A look of disgust comes to his disfigured features. \"That tortured soul haunts the crater made by his foolish mistake. I wouldn't go near him though, he's a bit daft, ya know.\" He refills his mug from the cask at his side and swigs down most of the wine in one swallow.");
				add("tortured soul");
				remove("Caine");
				fallthrough;

			case "tortured soul":
				say("\"That's just the name the rest of us in Skara Brae call him -- the Tortured One,\" he grins, embarrassed.");
				remove("tortured soul");
				add("Skara Brae");
				fallthrough;

			case "Skara Brae":
				say("\"That's the name o' the island yer on.\" He shakes his head.");
				remove("Skara Brae");
				fallthrough;

			case "Horance":
				say("\"For all the years I've been in Skara Brae, he's been a raving lunatic. What with all o' them silly rhymes and his crazy laughter.~~\"Then one night, we all hears thunder when there isn't a cloud in the starry sky, and I seem to recall a full moon...\" He gets a thoughtful look on his face. \"But as I was sayin', there was this thunder, then this deep, dark laughter coming from the tower on the northern point -- Horance's Dark Tower.\" After this he falls silent for a moment.");
				if (var0002) {
					QUENTON->say("The pale ghost moves forward and whispers, \"I was already living in the half world of the dead when these events took place, and ever since, I've felt a strange pull coming from the tower.\"*");
					QUENTON->hide();
					MARKHAM->show_npc_face(0x0000);
				}
				say("After a brief swig, he continues, \"Then, even worse... I'm out checkin' on the cows when I hears a sound like moanin'. It's off to the east, so I look that way, into the graveyard y'know, and what do I see?~~\"I'll tell ya what I seen. The graves, rippin' open like the people in 'em got a place to go.\" Eyes wide, he tips back another sip.");
				remove("Horance");
				fallthrough;

			case "Keg O' Spirits":
				say("He truly looks sad as he says, \"This place was once my pride and joy. The Keg was known all 'round Britannia, and a few other places, too. Well, now it don't look like too much, but in it's heyday, it saw the likes of nobles, knights, minstrels, and merchants. And o' course, a bit o' riff raff to be sure.\" He winks at you. His spirit seems indomitable.");
				remove("Keg O' Spirits");
				fallthrough;

			case "sacrifice":
				if (!gflags[0x019A]) {
					say("You relate the need for a sacrifice to enter the Well of Souls. Afterwards, Markham seems to think long and hard.~~\"So, yer wantin' me to go mad as a March hare, an' jump right into this... Well O' Souls?\" He looks at you incredulously.~~\"Listen now. I haven't had courage like that since I were a young lad. Since then I got some sense, too. You'll have to look elsewhere fer yer sacrifice.\"");
					gflags[0x019A] = true;
				} else {
					say("\"All right, now. I already told ya. I ain't interested.\" He looks a little put out by your persistence.*");
					abort;
				}
				remove("sacrifice");
				fallthrough;

			case "bye":
				say("\"Oh, are ya leavin' then? Well, ya take care now. And watch out for those walkin' dead. Some o' them aren't too happy about their state, and none too picky about who they complain to, neither.\"*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func08B1 0x8B1 ();
extern void Func08B2 0x8B2 ();
extern void Func08AF 0x8AF ();
extern void Func08AD 0x8AD ();
extern void Func08B0 0x8B0 ();

void Func048D object#(0x48D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		if (!gflags[0x01B5]) {
			HORANCE->say("You attempt to speak to the undead creature, but it does not, or cannot, respond.*");
			abort;
		}
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = Func08F7(ROWENA);
		var0003 = false;
		if (gflags[0x01A3]) {
			if (!gflags[0x01AB]) {
				Func08B1();
			} else {
				Func08B2();
			}
		}
		if (gflags[0x0198]) {
			Func08AF();
		}
		if (gflags[0x01AA]) {
			Func08AD();
		} else {
			HORANCE->show_npc_face(0x0000);
		}
		var0004 = UI_part_of_day();
		var0005 = HORANCE->get_schedule_type();
		if ((var0004 == MIDNIGHT) || (var0004 == EARLY)) {
			if (var0005 == SLEEP) {
				Func08B0();
			} else {
				var0003 = true;
			}
		}
		if (!gflags[0x01C5]) {
			if (var0003) {
				say("The Liche practically glows, power coursing visibly through its undead veins.");
			}
			say("You step forward to confront this vile-looking creature and he slowly turns to face you. As his intense gaze locks onto your form, you almost wish you hadn't been so bold.~~ \"",
				var0000,
				".\" A sardonic expression comes to his undead features. \"How may I help thee?\" You get the distinct impression that help is the last thing you'll get from the Liche.");
			var0006 = Func08F7(SHAMINO);
			var0007 = Func08F7(IOLO);
			if (var0006) {
				SHAMINO->say("Shamino steps near you and speaks in a whispered tone.~~\"Do not trust this one, ",
					var0001,
					". Methinks he'll cause naught but evil.\"");
				SHAMINO->hide();
				HORANCE->show_npc_face(0x0000);
			} else if (var0007) {
				IOLO->say("Iolo steps near you and speaks in a whispered tone.~~\"Do not trust this one, ",
					var0001,
					". Methinks he'll cause naught but evil.\"");
				IOLO->hide();
				HORANCE->show_npc_face(0x0000);
			}
			var0008 = Func08F7(SPARK);
			if (var0008) {
				SPARK->say("\"Uh, ",
					var0001,
					"? I am ready to go now,\" he says to you, cowering from the undead creature.*");
				SPARK->hide();
				HORANCE->show_npc_face(0x0000);
			}
			gflags[0x01C5] = true;
		} else {
			say("The Liche performs something akin to a smile and speaks with a sarcastic flair.~~\"Ah, the wondrous Avatar has returned. What have I done to deserve such an honor?\" The word \"honor\" sours on this creature's tongue.");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("The Liche's dry features take on a haughty appearance. \"Thou mayest call me Lord Horance. It would only be prudent, as I shall one day rule all of Britannia.~~ \"Surprised, Avatar? Come now. Surely thou dost not think that Lord British will stand in my way. I know how to deal with his ilk.\"");
				remove("name");
				add(["Lord Horance", "Lord British"]);
				fallthrough;

			case "Lord Horance":
				say("\"Ah, it is good to hear such an obeisance from the Avatar. Perhaps thou wilt have a place in my New Order.\" The Liche looks at you with an expression somewhere between malice and humor.");
				remove("Lord Horance");
				add(["obeisance", "New Order"]);
				fallthrough;

			case "obeisance":
				say("\"Why, what else wouldst thou call it? Surely thou art truly humbled by my `majestic' presence.\"");
				remove("obeisance");
				fallthrough;

			case "New Order":
				say("An expression of zeal lights the dead face of the Liche.~~\"Yes, ",
					var0000,
					". The dead will rule! I will be their leader and thou canst become an Avatar... to ME!\"");
				remove("New Order");
				UI_push_answers();
				add(["Over my dead body!", "Fine!"]);
				fallthrough;

			case "Over my dead body!":
				say("\"Why, ",
					var0000,
					". I thought that was understood. It will be my pleasure to help thee enter the realm of the dead.\"");
				UI_pop_answers();
				fallthrough;

			case "Fine!":
				say("\"Yes, I thought thou wouldst see the wisdom of my vision.\" He looks at you like a cat toying with a mouse.");
				UI_pop_answers();
				fallthrough;

			case "Lord British":
				say("`Evil' is a mild word for the sneer that appears on the Liche's cracked lips. \"It has recently come to my attention that a certain ore found in the Britannian surface can, if fashioned properly, become the bane of the vaunted Lord British.~~\"I know this ore and have used it\tbefore for other purposes. I will use it once again to destroy that so-called Lord.\"");
				add(["ore", "other purposes"]);
				remove("Lord British");
				fallthrough;

			case "other purposes":
				if (!gflags[0x0003]) {
					say("He gestures at the walls of the tower. \"How else didst thou expect my tower to withstand the ravaging effect the ether is having\ton my magic?\"");
				} else {
					say("He gestures at the walls of the tower. \"It served as an effective barrier against the ravaging effects of the disrupted ether.\"");
				}
				remove("other purposes");
				fallthrough;

			case "job":
				say("A harsh cackle escapes his dry throat. \"I am the illustrious Lord of the Dead, soon to be Lord of all Britannia. Dost thou have any idea of the number of dead people and creatures there are? I thought not.~~\"The dead of the ages are mine to summon and control. The graves of beloved ancestors will spew forth their contents into an army. A special treat for the living, mine undead monsters will be. Imagine a skeletal dragon that cannot be killed. Consider a cabal of everliving mages eternally enthralled to me.~~\"And the most beautiful part of my plot is that, as the living die in these battles, and they will die, they will swell the ranks of the undead host. I will rule supreme -- a world of the dead!\" A terrifying glimpse of his sick and twisted future causes you to shiver\tever so slightly.~~\"And I will have a queen, the lovely Rowena.\"");
				add("Rowena");
				if (var0002) {
					ROWENA->say("\"Yes, my Lord. I must be the happiest Lady in all the land.\" Her gaze never wanders from the horrid face of the Liche.");
					ROWENA->hide();
					HORANCE->show_npc_face(0x0000);
				}
				fallthrough;

			case "Rowena":
				if (var0002) {
					say("\"Is she not the most beautiful lady thou hast seen? ~~\"She shall have eternal beauty at my side, and we shall rule together.\"");
				} else {
					say("\"She is the most beautiful lady I have been witness to. She shall have eternal beauty at my side, and we shall rule together.\" After hearing him speak of his plans for the future, you find this a very unlikely statement.");
				}
				remove("Rowena");
				fallthrough;

			case "ore":
				say("\"Now, now, Avatar, that would be revealing. Then I would have no secret from thee, would I?\"");
				remove("ore");
				fallthrough;

			case "bye":
				say("\"It is truly sad to see thee go.\" He says with a sardonic smile.*");
				var0009 = Func08F7(DUPRE);
				var0007 = Func08F7(IOLO);
				if (var0009) {
					DUPRE->say("\"Yeah, right.\"*");
					DUPRE->hide();
					HORANCE->show_npc_face(0x0000);
				} else if (var0007) {
					IOLO->say("\"Yeah, right.\"*");
					IOLO->hide();
					HORANCE->show_npc_face(0x0000);
				}
				say("\"Feel free to explore mine humble abode. Though, have a care. My guardians are none too intelligent and will most likely assault anything living.\" He smiles with his death's head grin.*");
				abort;
		}
	}
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func0909 0x909 ();
extern void Func08F0 0x8F0 ();
extern void Func08EF 0x8EF ();

void Func048E object#(0x48E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		TRENT->show_npc_face(0x0000);
		var0000 = Func0931(PARTY, 0x0001, 0x0127, 0x0000, FRAME_ANY);
		var0001 = Func0909();
		var0002 = TRENT->find_nearest(0x02EB, ON_SCREEN);
		var0003 = false;
		if (gflags[0x01CE]) {
			say("Trent glares, giving his eyes an intensity that leaves no doubt in your mind about his attitude. \"If I thought that thou wert going to run off at a moment's notice I'd not have asked thee to help me free my love.~~\"Now please, take the cage and go to\tMordra. She will instruct thee in its use.\" His manner smoothes, \"I have placed mine only chance at reunion with Rowena in thy capable hands.\"*");
			gflags[0x01CE] = false;
			abort;
		}
		if (gflags[0x01CF] && (!gflags[0x01A8])) {
			say("\"Please, do not disturb me whilst I build this cage, for my thoughts are on nothing but the destruction of that foul Horance!\" He continues the construction of the Soul Cage.*");
			abort;
		}
		if (!gflags[0x01B6]) {
			if (var0002) {
				say("The large, angry-looking ghost ignores your presence and continues to hammer on a strange iron cage.*");
			} else {
				say("The large, angry-looking ghost ignores your presence, while obviously searching for some item.*");
			}
			abort;
		}
		if (var0000) {
			add("ring");
		}
		if (gflags[0x0198]) {
			add("sacrifice");
		}
		if (gflags[0x01A6]) {
			TRENT->show_npc_face(0x0001);
			Func08F0();
		}
		if (gflags[0x01A5]) {
			TRENT->show_npc_face(0x0001);
			gflags[0x01C1] = false;
			Func08EF();
		}
		if (!gflags[0x01C7]) {
			say("You see in the fire of the ghostly forge a large, heavily-muscled ghost with a full beard and mustache. He does not notice your approach.");
			gflags[0x01C7] = true;
		} else if (var0002) {
			say("Trent continues his work on the strangely-shaped iron cage.");
			add("iron cage");
		} else {
			say("Trent seems to be searching for something.");
			add("something");
		}
		converse (["name", "job", "bye"]) {
			case "name":
				say("A deep furrow, accentuated by thick eyebrows, creases the ghost's weary brow. He doesn't look away from his work. \"I am Trent. Now, please, leave me to my work.\"");
				if (var0002) {
					say("He continues hammering on a strangely-shaped iron cage.");
					if (!var0003) {
						add("iron cage");
					}
				}
				remove("name");
				fallthrough;

			case "something":
				say("\"I cannot find the iron cage!\" he shouts. \"Some fool must have taken it! When I find out who did it and where it is, that fool will sorely regret having removed it from my shop!\"*");
				abort;

			case "job":
				say("\"Art thou blind! Canst thou not see that I am a smith?\" He doesn't seem the sort for idle conversation.");
				remove("job");
				fallthrough;

			case "iron cage":
				say("Anger radiates from the large ghost in almost tangible waves. He looks up from the cage and you see that the light of fire isn't coming from the forge, it's coming from his eyes. \"I build this cage to destroy that bastard, Horance, who took my wife from me.\"~~For a moment, you think he is going to strike out at you, then he unclenches his fists with a heavy sigh and returns to his work.");
				var0003 = true;
				remove("iron cage");
				add(["Horance", "wife"]);
				fallthrough;

			case "Horance":
				say("His whole body tenses as you speak.~~\"Horance...\" The word comes out like a curse. \"I will see his foul spirit burn before mine eyes. Then I will laugh as he cries out pitifully for mercy.\" For some reason you think that you'd rather avoid hearing that laugh.");
				remove("Horance");
				fallthrough;

			case "wife":
				say("One hot tear slips from the ghost's eye and falls on a heated piece of the iron cage. It sizzles, and then is gone.~~\"Rowena was my life, mine only joy in this world.\" His voice is almost tender, but then he returns to his guttural tones. \"He killed her and took that joy from me. Now I am only a hollow shell of a man, burning with hatred.\"");
				remove("wife");
				add(["Rowena", "killed"]);
				fallthrough;

			case "killed":
				say("\"In an attempt to steal her away from my side, the evil fiend sent his undead minions to bring her to the dark tower. The mindless creatures slew her as she struggled.\" The ghost turns to you in anguish, \"I could do nought to save her... the sheer numbers of skeletal warriors bore me to the ground as she was bereft of life.\"~~Insane determination flickers in the big ghost's eyes, \"For this I will never forgive and never forget.");
				remove("killed");
				fallthrough;

			case "Rowena":
				say("He holds up one hand as you say the name of his late wife. \"Please, do not say that name. It takes from me\ta little of mine Hatred, which is all I have now. Wouldst thou rob me of the one thing that keeps me alive?\" It would seem that he is unaware of the fact that he is, indeed, no longer alive. An odd expression crosses his face.~~\"I gave her a music box for our wedding, and now it is all I have left to remember her by.\" His tone changes.~~\"Do thou see what thou hast done?! I cannot work when I think of her!\" He returns to his work with renewed passion.");
				var0004 = AVATAR->find_nearest(0x02F0, ON_SCREEN);
				if (var0004) {
					say("You notice the music box he spoke of sitting nearby.");
				}
				remove("Rowena");
				fallthrough;

			case "ring":
				var0005 = UI_remove_party_items(0x0001, 0x0127, 0x0000, FRAME_ANY, false);
				say("You hold out the ring to Trent. At first he ignores you. Then, recognizing the ring, he takes it from you and holds it before him. Something in him snaps and his huge frame slumps forward.~~You let the ghost cry for a while, and when he finishes, you see a remarkable change in his appearance.");
				TRENT->hide();
				TRENT->show_npc_face(0x0001);
				say("The flames that once burned in his eyes are now gone, replaced by a deep shade of blue. He looks like a new man, or rather, ghost as it were.~ \"Forgive my behavior, ",
					var0001,
					". I know not what came over me. I remember flames, but they burned no hotter than mine own Hatred.\" He looks pained at the memory.~~ \"Thou hast seen her? Thou hast seen Rowena? And she still cares for me. Well, all the more reason to finish this Soul Cage. We must free her from Horance's vile sorcery.\"");
				gflags[0x01A5] = true;
				remove(["iron cage", "name", "job", "Horance", "wife", "Rowena", "killed", "ring", "bye"]);
				gflags[0x01C1] = true;
				Func08EF();
				fallthrough;

			case "bye":
				say("If he heard you, he ignores the fact as you take your leave. You truly feel pity for this deeply wounded spirit.*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern void Func08C1 0x8C1 ();
extern void Func08C2 0x8C2 ();
extern void Func091F 0x91F (var var0000, var var0001);
extern void Func08BF 0x8BF (var var0000);
extern var Func090A 0x90A ();
extern void Func08C0 0x8C0 ();

void Func048F object#(0x48F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;

	if (event == DOUBLECLICK) {
		MORDRA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func0908();
		var0002 = false;
		var0003 = false;
		var0004 = false;
		var0005 = false;
		var0006 = UI_part_of_day();
		var0007 = false;
		var0008 = false;
		var0009 = MORDRA->get_schedule_type();
		if (!gflags[0x01B7]) {
			say("The old, ghostly woman hums the tune to an ancient ballad and smiles up at you. This old woman brings to mind every grandmother you've ever seen.~~Apparently she is not entirely oblivious to your presence. However, when you speak to her, it seems as if your words fall on deaf ears. She looks puzzled for a moment, then moves her arms in magical passes. You recognize the words to be a variant of the Seance spell.");
			gflags[0x01B7] = true;
		}
		if (!gflags[0x01AA]) {
			if ((var0006 == MIDNIGHT) || (var0006 == EARLY)) {
				if (var0009 == SLEEP) {
					say("The old, ghostly woman looks very strange. Her eyes are open, but she doesn't seem to be awake, or at least not aware of her surroundings.*");
					abort;
				}
				if (!(var0009 == MAJOR_SIT)) {
					say("\"I am sorry, ",
						var0000,
						". Do not take offense, but I must rest before we speak further. I thank thee for thy patience, young one.\" She looks very weary as she turns away.*");
					abort;
				}
			}
		}
		if (!gflags[0x01D0]) {
			if (gflags[0x01C0]) {
				add("ingredients");
			}
		}
		var000A = UI_get_party_list();
		if (ROWENA->get_npc_object()->get_item_flag(IN_PARTY)) {
			Func08C1();
		}
		if (FORSYTHE->get_npc_object()->get_item_flag(IN_PARTY)) {
			Func08C2();
		}
		if (gflags[0x0198]) {
			add("sacrifice");
		}
		var000B = false;
		var000C = false;
		if (!gflags[0x01C8]) {
			say("\"Hello, ",
				var0000,
				". Thou mayest call me Mistress Mordra.\" She peers at you closely.~~\"And thou must be ",
				var0001,
				", the Avatar.\" She looks you over thoroughly.");
			gflags[0x01C8] = true;
		} else {
			say("\"Greetings once again, ",
				var0001,
				".\"");
			var0008 = true;
		}
		var000D = UI_get_avatar_ref();
		var000E = var000D->find_nearest(0x0190, 0x0019);
		if (var000E == 0x0000) {
			var000E = var000D->find_nearest(0x019E, 0x0019);
		}
		if (!(var000E == 0x0000)) {
			var000F = 0x0000;
			Func091F(var000E, var000F);
			var0002 = true;
		}
		var000A = UI_get_party_list2();
		for (var0012 in var000A with var0010 to var0011) {
			var0012->clear_item_flag(POISONED);
			Func08BF(var0012);
		}
		say("She lifts up her arms and in one of them you see an ankh. Words which you vaguely recognize flow from her lips and the ankh glows brightly. She stops chanting and the ankh dims. After her analysis of your condition is complete, \"Ah, it is good to see that the world has been treating thee well. How may I serve thee, 'O Virtuous One?\"");
		add(["name", "job", "bye"]);
		if (gflags[0x01A8] && (!gflags[0x01AA])) {
			add("cage made");
		}
		converse (0) {
			case "name":
				say("She smiles at you. \"Thou art quite forgetful, ",
					var0001,
					". As I have told thee, I am known as Mordra.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I was the healer of this town before the fire erupted that shattered the lives of those here. I also dabbled in secret magical arts for a while.\" She winks at you slyly.");
				add(["lives", "fire", "magical arts"]);
				fallthrough;

			case "ingredients":
				say("\"If I tell thee, thou must be sure to get them right. Otherwise, what happened when I told that blasted mayor will happen again. And, while we here in Skara Brae have no more lives to lose, thou hast quite a valuable one! ~~\"The ingredients necessary for the concoction to dissolve the liche are a potion of invisibility, a dose of a potion of curing, and one\tvial of the essence of mandrake -- I have one set aside somewhere in mine house. Remember, only -one- vial of the mandrake!\"");
				remove("ingredients");
				fallthrough;

			case "cage made" (remove):
				say("\"The Soul Cage must be empowered with the might of the dead. The way to accomplish this is to go to the back of the Dark Tower, to the Well of Souls. Thou must lower the cage into the well, where the souls trapped there will lose a little of themselves to imbue it with the required power.~~\"I know this sounds harsh, but it is a necessary evil if thou wouldst see them freed.\" She looks at you sharply.~~\"The next step is to wait until midnight, then clap the cage upon the recumbent form of the Liche. This is the period of time in which he drains the spirits of the townsfolk in his Black Service.\"~~After a brief moment, she continues. \"Finally, thou must pour a magical formula upon the Liche within the cage. This formula is the same substance that destroyed the town.~~\"Do be careful when procuring it from the alchemist, Caine.\"");
				add(["Dark Tower", "Well of Souls", "Black Service"]);
				if (!gflags[0x01C0]) {
					add("formula");
				}
				var0004 = true;
				fallthrough;

			case "formula":
				say("\"Thou must have Caine's assistance in creating the formula, but I can give thee the ingredients.\"");
				gflags[0x01C0] = true;
				remove("formula");
				add("ingredients");
				fallthrough;

			case "Dark Tower":
				say("\"The Dark Tower lies on the northwestern point of Skara Brae. There is something odd about its construction, for I find it very hard to penetrate with my magical senses.~Within it,\" she says, \"thou wilt find the Well of Souls.\"");
				remove("Dark Tower");
				if (!var0007) {
					add("Well of Souls");
				}
				var0013 = true;
				fallthrough;

			case "Well of Souls":
				var0007 = true;
				say("\"The Well of Souls is a powerful artifact, located beneath the Dark Tower, from which the Liche draws his power. The souls of the dead are incarcerated there, doomed to the torment of Horance's all-consuming appetite.\" An expression of pain shows in her features.");
				remove("Well of Souls");
				var0007 = true;
				fallthrough;

			case "Black Service":
				if (!gflags[0x01AA]) {
					say("Angrily, Mordra says, \"Each night, at the stroke of midnight, the spirits of Skara Brae travel to the Dark Tower and are used to infuse Horance with power to continue his dark existence. None of the others are aware when this happens, but I feel it without being able to stop myself.\"");
					if (!var0013) {
						add("Dark Tower");
					}
				} else {
					say("\"Even though the Liche is gone, we are still drawn to the place of his Black Service. He must have bound us with a geas and tied it to the power of the Well of Souls. Oh, what a crafty villain he was.\" Grudging respect for a skilled mage is mixed with disgust in Mordra's expression.");
					if (!var0007) {
						add("Well of Souls");
					}
				}
				remove("Black Service");
				fallthrough;

			case "lives":
				say("\"Wouldst thou like to know about the townsfolk of Skara Brae?\"");
				if (var0008) {
					say("\"I might have some new information on my fellow townsfolk that could be of use to thee,\" she says, adding a smile.");
				}
				var0014 = Func090A();
				if (var0014) {
					Func08C0();
				} else {
					say("\"Very well, ",
						var0000,
						". What wouldst thou care to know about?\"");
				}
				remove("lives");
				fallthrough;

			case "fire":
				say("\"'Twas the doom of this town, although I place no blame upon the alchemist, Caine. For I was the one who told him the recipe that I am sure will rid us of Horance the Liche.\"");
				remove("fire");
				if (!var0005) {
					add("Caine");
				}
				add("recipe");
				var000B = true;
				var000C = true;
				fallthrough;

			case "recipe":
				say("\"'Twas but a simple mixture of a few ingredients. It should have worked.\" Her eyes narrow.~~\"I expect that mayor of ours, Forsythe, fouled things up!\"");
				remove("recipe");
				if (!var0003) {
					add("mayor");
				}
				fallthrough;

			case "mayor":
				say("\"That man is a bumbling idiot. It is his fault that the island was destroyed. I gave him the exact portions of the reagents to be used in the magical formula, and he paraphrased it to the alchemist, Caine. By the size of the fire, I am sure he misquoted the amount of mandrake root by\ttenfold. Damn that foolish man!\"~~Her brow creases and you\tcan see that this is a subject that she likes to avoid.");
				var0003 = true;
				remove("mayor");
				if (!var0005) {
					add("Caine");
				}
				fallthrough;

			case "Caine":
				say("\"Now those who reside here call him `the Tortured One.' That is because he is in eternal pain, caused by searing flames licking at his flesh.~~The pain is imagined, but to him, 'tis as real as thou or I... or, at least, as real as\tthou art!\"");
				var0005 = true;
				remove("Caine");
				fallthrough;

			case "magical arts":
				say("Her eyes twinkle mischievously. \"If I were to reveal them to thee, they wouldn't be secret any longer, now would they?\"");
				remove("magical arts");
				fallthrough;

			case "sacrifice":
				if (!gflags[0x01A0]) {
					say("She smiles at first, then turns serious. \"I have tied my spirit to powers beyond the realm of this mortal world. Were I to enter the Well of Souls, this entire island and a good bit of the mainland would be destroyed in a magical discharge. Wouldst thou lose the town of Skara Brae for all eternity?\"");
					gflags[0x01A0] = true;
				} else {
					say("\"Thou knowest full well that I cannot. If thou wouldst\tsee mass destruction, thou shalt have to cause it thyself.\" She turns away quickly for a woman of her age.*");
					abort;
				}
				remove("sacrifice");
				fallthrough;

			case "bye":
				say("\"Goodbye, young ",
					var0001,
					". Take care of thyself, but should ill befall thee, I hope that thou wilt come back here and let me minister to thine ailments.\" She smiles kindly as you leave.*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern void Func08D6 0x8D6 ();
extern void Func08D7 0x8D7 ();
extern void Func08D8 0x8D8 ();
extern void Func08D9 0x8D9 ();
extern void Func08DA 0x8DA ();

void Func0490 object#(0x490) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		if (!gflags[0x01B8]) {
			ROWENA->say("The beautiful ghost looks through you with a slack look. Nothing\tyou do seems to attract her attention.*");
			gflags[0x01A7] = false;
			abort;
		}
		if (gflags[0x0198]) {
			add("sacrifice");
		}
		var0000 = UI_is_pc_female();
		var0001 = Func0909();
		if (gflags[0x01A6]) {
			ROWENA->show_npc_face(0x0001);
			Func08D6();
		}
		if (gflags[0x01AA]) {
			ROWENA->show_npc_face(0x0001);
			Func08D7();
		}
		if (gflags[0x01A7]) {
			if (!gflags[0x01A9]) {
				ROWENA->show_npc_face(0x0001);
				Func08D8();
			}
		}
		var0002 = UI_part_of_day();
		var0003 = ROWENA->get_schedule_type();
		if ((var0002 == MIDNIGHT) || (var0002 == EARLY)) {
			if (var0003 == SLEEP) {
				ROWENA->show_npc_face(0x0000);
				Func08D9();
			} else if (!(var0003 == MAJOR_SIT)) {
				ROWENA->show_npc_face(0x0000);
				Func08DA();
			}
		}
		ROWENA->show_npc_face(0x0000);
		if (!gflags[0x01C9]) {
			say("You see a ghostly lady wearing a long, black gown. Something is a bit strange about the way she looks, but you can't quite place it. After a pause, she says, \"Greetings, ",
				var0001,
				". I am Rowena, lady of this wondrous tower.\" She gestures around the room, indicating the moldering walls and cobwebbed rafters.");
			gflags[0x01C9] = true;
		} else {
			say("Rowena smiles in an abstract manner as you approach. \"Ah, thou hast returned, ",
				var0001,
				". How may the lady of the tower be of assistance to thee?\"");
		}
		converse (["name", "job", "tower", "bye"]) {
			case "name":
				say("\"I am called... Rowena\"");
				remove("name");
				fallthrough;

			case "job":
				say("She stares blankly for a second, then, as if on cue, \"I am the Mistress of the Tower. I tend to my Lord Horance's needs and keep our place looking respectable.\" It would appear that she's been falling behind in the latter duty.");
				add("Horance");
				fallthrough;

			case "tower":
				say("After a moment, \"This is a lovely tower, dost thou not agree?\" Before you can answer, she continues.~~ \"Dost thou see the lovely rays of light playing across the flagstones of the floor? Water sparkles in the fountain. This is truly a beautiful place in which to live.\" Her eyes fix upon the floor.");
				remove("tower");
				fallthrough;

			case "Horance":
				say("She blinks once, then, \"Horance... What a wonderful name. He found me lost and lonely and brought me here to be a lady. Is he not truly the most magnificent of Lords?\"");
				remove("Horance");
				fallthrough;

			case "bye":
				say("She pauses. \"Goodbye, ",
					var0001,
					". I hope thou hast enjoyed thy visit to our glorious tower. Please, return whenever thou wishest.\" You feel as if you've been speaking to a statue.*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();

void Func0491 object#(0x491) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		PAULETTE->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_is_pc_female();
		var0002 = UI_part_of_day();
		var0003 = PAULETTE->get_schedule_type();
		var0004 = false;
		var0005 = false;
		add(["name", "job", "bye"]);
		if (gflags[0x017C]) {
			add("Tortured One");
		}
		if (!gflags[0x01B9]) {
			say("The lovely apparition goes about her tasks without offering any response.*");
			abort;
		}
		if (!gflags[0x01AA]) {
			if ((var0002 == MIDNIGHT) || (var0002 == EARLY)) {
				if (var0003 == SLEEP) {
					say("The lovely barmaid stares off into oblivion, completely unaware of her location and position.*");
					abort;
				}
				if (!(var0003 == LOITER)) {
					say("The pretty barmaid looks as if she's about to fall over for a moment, then quickly rights herself. \"Oh, I feel a bit... faint.\" She turns away, distracted.*");
					abort;
				}
			}
		}
		if (gflags[0x01A4]) {
			say("\"Go away! Thou art cruel and mean-hearted.\" She turns away, but not before you see the tears in her eyes.*");
			abort;
		}
		var0006 = Func08F7(ROWENA);
		if (var0006) {
			if (!gflags[0x01BE]) {
				say("Paulette perks up as she sees Rowena.~~\"Hello, milady. 'Tis good to see thee again. How art thou?\"*");
				ROWENA->say("\"I am fine, Paulette. I thank thee for thy concern.\"*");
				ROWENA->hide();
				PAULETTE->say("\"'Tis good news indeed, milady.\"");
				gflags[0x01BE] = true;
			}
		}
		var0007 = Func08F7(FORSYTHE);
		if (var0007) {
			if (!gflags[0x01BD]) {
				say("\"Hello, Mayor. It has been quite a while since we've seen thee in our tavern. There was a time, I remember, when we couldn't keep thee away.\"*");
				FORSYTHE->say("The mayor becomes quickly embarrassed as he tries to quiet the rather friendly Paulette.~~\"I, er, used to be a wine connoisseur of sorts,\" he says to you.*");
				FORSYTHE->hide();
				PAULETTE->say("\"'Tis not all thou wert a connoisseur of,\" adds Paulette, eyes twinkling. \"I seem to remember thou had quite a taste for redheads.\"");
				gflags[0x01BD] = true;
			}
		}
		if (gflags[0x0198]) {
			add("sacrifice");
		}
		if (!gflags[0x01CA]) {
			if (var0001) {
				say("You see a pretty, ghostly girl with long black hair. \"Hello, ",
					var0000,
					". I am called Paulette. How may I help thee?\"");
			} else {
				say("Standing before you, with a hand on her hip, is a lovely, young woman with long black hair. \"Ooooh... Thou art a big one, ",
					var0000,
					".\" She traces the line of your bicep.~~\"I'd wager thou couldst lift me over thine head.\" She smiles enticingly. However, you doubt that you could even touch her in her ghostly state.~~\"Thou mayest call me Paulette, gorgeous. What can I do for thee?\" She winks at you.");
			}
			gflags[0x01CA] = true;
		} else if (var0001) {
			say("\"Yes, ",
				var0000,
				"?\", she asks sweetly.");
		} else {
			say("Paulette turns to face you and smiles coquettishly, \"I had thought that thou might return.\" Her eyes sparkle up at you mischievously.");
		}
		converse (0) {
			case "name":
				say("\"Why, ",
					var0000,
					", hast thou forgotten already? I am Paulette.\"");
				remove("name");
				fallthrough;

			case "job":
				if (var0001) {
					say("\"Well, ",
						var0000,
						", before the fire,\" she shudders, \"I used to be the barmaid here.\"");
				} else {
					say("\"Well, ",
						var0000,
						". I used to clean tables here...\" As she says this, she bends over and pretends to wipe a table clean. You notice how low the cut of her bodice really is.~~\"...and serve people, like thyself. Of course, none so handsome.\" Her ghostly features blush prettily.~~\"But that was before,\" she shudders, \"the fire.\"");
				}
				add("buy");
				if (!var0005) {
					add("here");
				}
				if (!var0004) {
					add("fire");
				}
				fallthrough;

			case "buy":
				say("\"Thou dost wish to purchase something?\"");
				var0008 = Func090A();
				if (var0008) {
					say("\"I am sorry, ",
						var0000,
						",\" she giggles, \"but all we serve here are... spirits!\"*");
					var0009 = Func08F7(MARKHAM);
					if (var0009 && gflags[0x01B4]) {
						MARKHAM->say("\"That's a good one, wench,\" laughs the portly ghost.*");
						MARKHAM->hide();
						PAULETTE->show_npc_face(0x0000);
					}
				} else {
					say("\"Very well, ",
						var0000,
						".\"");
				}
				remove("buy");
				fallthrough;

			case "Tortured One":
				say("She appears puzzled for an instant, but then she nods her head.~~\"Oh, thou must be referring to Caine. He was the alchemist who was responsible for the fire.\"");
				remove("Tortured One");
				if (!var0004) {
					add("fire");
				}
				fallthrough;

			case "fire":
				say("\"Oh, yes. It was horrible! The tavern caught on fire. I ran to my room, hoping to escape the flames. But then I started coughing. I couldn't breathe.\" Her chest rises and falls quickly as if she's reliving the experience.~~\"Finally, I could take it no longer.\" She brings the back of her hand to her forehead, dramatically. \"I fainted. Then I was here again, just like thou dost see me now.\" Her smile is like that of a child.");
				var0004 = true;
				remove("fire");
				add("here again");
				if (!var0005) {
					add("tavern");
				}
				fallthrough;

			case "here again":
				say("\"Yes, 'twas quite odd. When I awoke, it was as if I had never left when the fire began. In fact, were it not for the scorch marks everywhere, I would doubt the fire ever happened.\"");
				remove("here again");
				fallthrough;

			case "tavern", "here":
				if (var0001) {
					var000A = " coyly";
				} else {
					var000A = "";
				}
				say("\"Why, 'tis called the Keg O' Spirits. That's a fine name for a tavern, dost thou not agree?\" She smiles ",
					var000A,
					".");
				remove(["here", "tavern"]);
				var0005 = true;
				fallthrough;

			case "sacrifice":
				if (!gflags[0x019B]) {
					say("\"Thou wantest me to... to jump in a well?\" Her eyes widen with astonishment.");
					var000B = Func090A();
					if (var000B) {
						say("\"Well, thou canst go jump in a lake!\" She crosses her arms on her buxom chest and turns away from you angrily.*");
						gflags[0x019B] = true;
						abort;
					}
					say("She recovers her composure, \"Oh. For a moment there, I thought that thou wouldst have me be thy... sacrifice.\"");
				} else {
					say("\"Please, just leave me alone!\" she looks as if she's about to cry.*");
					gflags[0x01A4] = true;
					abort;
				}
				remove("sacrifice");
				fallthrough;

			case "bye":
				break;
		}
		if (var0001) {
			say("\"Goodbye, ",
				var0000,
				".\" The pretty ghost turns away.*");
		} else {
			say("Paulette rushes up to you as you say goodbye and gives you a little kiss on the cheek. She backs away slowly, \"Farewell, handsome.\"*");
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func0492 object#(0x492) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		QUENTON->show_npc_face(0x0000);
		if (!gflags[0x01BA]) {
			say("The pale ghost seems to see you but cannot speak to you for some reason. In frustration the ghost turns away.*");
			abort;
		}
		var0000 = false;
		var0001 = Func0909();
		var0002 = Func08F7(MARKHAM);
		if (gflags[0x01C4]) {
			var0003 = "Markham";
		} else {
			var0003 = "The barkeep";
		}
		if (gflags[0x0198]) {
			add("sacrifice");
		}
		var0004 = UI_part_of_day();
		var0005 = QUENTON->get_schedule_type();
		if (!gflags[0x01AA]) {
			if ((var0004 == MIDNIGHT) || (var0004 == EARLY)) {
				if (var0005 == SLEEP) {
					say("As you start to speak to the pale ghost, you notice that he seems to be looking through you, as if you don't exist at all. You wave your hand in front of his face, but there is no response.*");
					abort;
				}
				if (!(var0005 == MAJOR_SIT)) {
					say("\"Please, please. I... cannot speak with thee right now. I am not sure what has come over me. Please forgive me, ",
						var0001,
						".\" The wan ghost looks more pale than usual.*");
					abort;
				}
			}
		}
		var0006 = UI_get_party_list();
		var0007 = ROWENA->get_npc_object();
		var0008 = FORSYTHE->get_npc_object();
		if ((var0007 in var0006) || (var0008 in var0006)) {
			if (var0007 in var0006) {
				ROWENA->say("\"Hello, Quenton. I hope thou art doing well.\" Rowena gives the pale ghost a winning smile.*");
				ROWENA->hide();
				QUENTON->say("\"Yes, milady. I am doing as well as can be expected. It gladdens mine heart to see that thou art once again free. Hast thou been to see Trent yet?\"*");
				ROWENA->say("\"Alas, no. This kind person is taking me to him.\" She indicates you.*");
				ROWENA->hide();
				QUENTON->say("\"These are glad tidings, for he misses thee so.\"*");
			}
			if (var0008 in var0006) {
				FORSYTHE->say("\"Well met, Quenton.\" The Mayor's mustache spreads as he smiles.*");
				FORSYTHE->hide();
				QUENTON->say("\"Hello, Mayor. How dost thou fare, milord?\"*");
				FORSYTHE->say("Forsythe seems taken aback by Quenton's sincere sounding query. \"Why, I fare well, Quenton. I thank thee for thy concern.\"*");
				FORSYTHE->hide();
				QUENTON->say("He smiles in acknowledgement of the Mayor's thanks.*");
			}
			var0009 = true;
		}
		if (!var0009) {
			QUENTON->show_npc_face(0x0000);
		}
		if (!gflags[0x01CB]) {
			say("The pale-looking ghost turns in your direction and gives you a wan smile. \"Hello, could it be that we have met somewhere before, ",
				var0001,
				"?\" You see recognition in his eyes, then it fades.~~\"Forgive me.\" He shakes his head, then smiles. \"I am the shade of Quenton.\"");
			gflags[0x01CB] = true;
		} else {
			say("Quenton turns in your direction. \"Greetings, ",
				var0001,
				". Come, take rest from thy travels and sit a while with me. I am but a simple shade, but I may have information useful to thee.\"");
			add("information");
		}
		add(["name", "job", "shade", "bye"]);
		if (gflags[0x017C]) {
			add("Tortured One");
		}
		converse (0) {
			case "name":
				say("\"I am called Quenton, ",
					var0001,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("He smiles at your question, \"I once roamed the sea, for days at a time, gathering mine harvest of fish.\"");
				fallthrough;

			case "information":
				say("\"I have been around for many, many years. And,\" he smiles, \"I have seen many, many things in that time.\"");
				remove("information");
				fallthrough;

			case "Tortured One":
				say("\"Caine? He was an alchemist here on Skara Brae. Now he spends his days in eternal pain caused by his guilt from causing the fire that destroyed this town.\"");
				remove("Tortured One");
				fallthrough;

			case "shade":
				say("\"My story is a long and a sad one. I hope thou hast some time.\" He appears thoughtful for a moment, and then begins.~~ [\"When I was a young man, I met a lovely woman by the name of Gwen. I made her my wife, and we lived for a time, happy and carefree. She brought a light into the world and we called her Marney, which means the cool breeze after a storm.\" He smiles to himself at some memory, then continues with a furrowed brow.");
				say("\"Then, one day, my wife was taken from me. I know not where, or by whom, save that they were evil men. Soon after, my sweet Marney became sick at heart and I feared for her health. I could not take time from my fishing to care for her, but I needed gold. So I made a deal with a man who was not to be trifled with. This was mine undoing, for when I failed to repay his loan, he came to me one night and slew me. I had not a chance to fight back or call for help.\" He falls silent.~~\"But that was long before the fire that turned this whole island into the land of the dead.\"");
				remove("shade");
				add(["Marney", "fire"]);
				fallthrough;

			case "Marney":
				say("\"After I was murdered, my good friend, Yorl, cared for her as his own. He tried his best, but her sickness only worsened. After several months she weakened, and died.\" He stops here, tears filling his ghostly eyes, then, angrily, he says, \"And now her spirit is held by Horance the Liche. Thou must rescue her from that foul beast!\" He attempts to grab you, but his hands pass through without resistance.*");
				if (var0002) {
					if (gflags[0x01B4]) {
						MARKHAM->say("\"Now, now, Quen. Settle down.\" ",
							var0003,
							" moves closer to you and whispers, \"Fergive him, ",
							var0001,
							".~~\"He sometimes loses control like that when he talks about his daughter. Sure'n ya can understand, tho'.\"*");
						MARKHAM->hide();
						QUENTON->show_npc_face(0x0000);
					}
				} else {
					say("Quenton regains control of himself. \"Forgive me, ",
						var0001,
						". I've no right to inflict my woes upon thee. It hurts to think of my sweet Marney in the power of that... creature.\"");
				}
				remove("Marney");
				fallthrough;

			case "fire":
				say("\"It seems that Mistress Mordra, the town healer, thought she had a plan to stop the Liche, Horance, which she told to the Mayor. I am not sure exactly what she planned, but it involved Trent, the town smith, and Caine, the alchemist. Not long after Caine began his work, a maelstrom of fire tore over the island, destroying everything. Skara Brae burned for days.\"");
				remove("fire");
				add(["Mistress Mordra", "Liche", "Mayor", "Trent", "Caine"]);
				fallthrough;

			case "Liche":
				say("\"Once, over two centuries ago, I knew a gifted mage named Horance. His two loves in life were the study of magic, and writing lovely poetry. The people of Skara Brae felt safe in the knowledge that this sort of mage protected the town. Then he began to change.~~\"First his beautiful sonnets became a rhyming doggerel. It became the only way in which he would speak. His spells, which he displayed before the townsfolk, became destructive and violent. People began to fear him. My death occurred at about this time. Not long after that, he became reclusive. He had a tower built on the northern point and never removed himself from it.~~ \"Then, one night, the graves in the graveyard opened and the dead began to walk.\"*");
				if (var0002) {
					if (gflags[0x01B4]) {
						MARKHAM->say(var0003,
							" nods his head emphatically, \"'At's right, I seen it, I did.\"*");
						MARKHAM->hide();
						QUENTON->show_npc_face(0x0000);
					}
				}
				say("\"They marched to his tower, and now they roam all over the island, performing his bidding.\"*");
				if (var0002) {
					if (gflags[0x01B4]) {
						MARKHAM->say("\"It be gettin' so's a ghost cannot make an honest livin' no more. Hmph.\" ",
							var0003,
							" looks a bit disgruntled.*");
						MARKHAM->hide();
						QUENTON->show_npc_face(0x0000);
					}
				}
				remove("Liche");
				fallthrough;

			case "Mistress Mordra":
				say("Quenton looks hopeful, \"If thou wouldst like to assist us, she is the best one to speak to. She seems to know the way to rid us of the Liche, at the least.\"");
				remove("Mistress Mordra");
				fallthrough;

			case "Mayor":
				say("\"The mayor...,\" Quenton selects his words carefully. \"...well, he believes that discretion is the better part of Valor. So, he may be able to offer thee some aid, but thou art likely first to need convince him that thou'rt not here to hurt him.\"");
				remove("Mayor");
				fallthrough;

			case "Trent":
				say("\"Ah, the poor man knows the spirit-wrenching feeling of loss almost as well as I. His wife, Rowena, was killed by the walking dead. And Mistress Mordra claims that she saw her sitting on a throne next to the Liche's own. I believe this has driven Trent somewhat mad. He works night and day upon some oddly formed cage. Strange, though, he never seems to finish it. He doth not seem to recall that he died in the fire, either, but a great hatred for Horance still burns in his heart.\"");
				remove("Trent");
				fallthrough;

			case "Caine":
				say("He looks as if he expected your question. \"Alas, Caine, in his attempt to free us of the Liche, instead damned us to become slaves of the selfsame Liche.\"");
				remove("Caine");
				add("slaves");
				fallthrough;

			case "slaves":
				say("\"Yes, we are his slaves. Every night at midnight, we must go to the Dark Tower and become servants of his Black Mass. I only know this because Mordra tells us it is so. I have no recollection of ever having been to the Dark Tower at all.\" His expression betrays his fear.");
				remove("slaves");
				fallthrough;

			case "sacrifice":
				if (!gflags[0x019C]) {
					say("You explain that you need a spirit to volunteer to freely enter the Well of Souls in order to bring about its destruction. Quenton considers for a while, and then responds, \"Please understand, ",
						var0001,
						". I truly wish that I had that kind of Courage. But I cannot risk doing anything that might destroy Marney. Remember, her spirit is kept in that well, along with all of the dead of the graveyard.\"");
					gflags[0x019C] = true;
				} else {
					say("\"No, I am sorry. I cannot risk it.\" He looks very weary.");
				}
				remove("sacrifice");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0001,
			".\"*");
		if (Func08F7(MARKHAM)) {
			say("He turns back to his conversation with ",
				var0003,
				".*");
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern void Func088B 0x88B ();
extern var Func0909 0x909 ();
extern void Func088A 0x88A ();

void Func0493 object#(0x493) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		FORSYTHE->show_npc_face(0x0000);
		var0000 = false;
		var0001 = UI_part_of_day();
		var0002 = FORSYTHE->get_schedule_type();
		if (!gflags[0x01BB]) {
			say("You see a ghostly man cowering in the corner. Holding up an ankh in a protective fashion, he looks around the room frantically, but takes no notice of you.*");
			abort;
		}
		var0003 = UI_get_party_list();
		if (FORSYTHE->get_npc_object() in var0003) {
			add("leave");
			var0004 = AVATAR->find_nearby(0x02EC, 0x001E, MASK_NONE);
			if (var0004) {
				say("He looks into the well, at the swirling pool of trapped souls and his newfound resolve seems to diminish. \"Perhaps this was not such a good idea. Art thou sure that I must go through with this?\"~~You nod. His resolve firms once again.~~\"Yes, thou art quite right. No time for speeches. No time for a wavering will. No time for...\" He sees that you're not buying his attempt to stall.~~\"Well then, this is it.\" He moves toward the well. \"I suppose I didn't make a very good Mayor in life.\" Forsythe's jowls droop.~~\"Well, at least in death, I'll make a name for myself and do the job right.\" With that, he's gone.~~The souls of the well rush out of their confinement, leaving the blackened remains of the powerful artifact.*");
				Func088B();
			} else {
				say("\"Thou must merely lead me to the well, and I shall do my duty.\" He seems quite resigned to his fate.*");
				abort;
			}
		}
		var0005 = Func0909();
		if (gflags[0x0198]) {
			add("sacrifice");
			if (gflags[0x0199]) {
				if (gflags[0x019A]) {
					if (gflags[0x019B]) {
						if (gflags[0x019C]) {
							if (gflags[0x01A0]) {
								if (gflags[0x019E]) {
									if (gflags[0x019D]) {
										if (gflags[0x01A1]) {
											gflags[0x01A2] = true;
										} else {
											var0006 = "Caine";
											var0007 = "Caine";
										}
									} else {
										var0006 = "Rowena";
										var0007 = "Rowena";
									}
								} else {
									var0006 = "Trent";
									var0007 = "Trent";
								}
							} else {
								var0006 = "Mistress Mordra";
								var0007 = "Mistress Mordra";
							}
						} else {
							var0006 = "Quenton";
							var0007 = "Quenton";
						}
					} else {
						var0006 = "the barmaid, Paulette";
						var0007 = "Paulette";
					}
				} else {
					var0006 = "Markham of the Keg";
					var0007 = "Markham";
				}
			} else {
				var0006 = "the Ferryman";
				var0007 = "Ferryman";
			}
		}
		if (!gflags[0x01AA]) {
			if ((var0001 == MIDNIGHT) && (var0001 == EARLY)) {
				if (var0002 == SLEEP) {
					say("The man looks strangely relaxed, almost too relaxed. He also ignores your attempt to converse with him. It would seem that he is not in control of his actions.*");
					abort;
				}
				if (!(var0002 == STANDTHERE)) {
					say("\"No! Back! Please, leave me alone!\" The Mayor looks terrified. It seems that you must give up trying to get anything useful out of him for the time being.*");
					abort;
				}
			}
		}
		if (!gflags[0x01CC]) {
			if (!gflags[0x01AA]) {
				say("You see a middle-aged ghost cowering in the corner of this burned-out room. He's shaking from head to toe, and, as you approach, he jumps out, waving an ankh in your face.~~ \"Thou'lt not have me, foul beast! Back, back I say! In the name of the Virtues, back!\" He slowly notices that this is having no effect other than to surprise you and looks more closely in your direction. He looks from you to a picture of you on the wall. Back and forth he looks, squinting his eyes until they go wide with relief.~~\"Oh, thank thee for coming. Lord British finally called thee to help us.\" He's obviously suffering from some delusion. \"I am Mayor Forsythe. Dost thou think it will take long for thee to defeat the Liche?\"");
			} else {
				say("\"Ah, hello, ",
					var0005,
					". May I be off assistance to thee?\"");
			}
			gflags[0x01CC] = true;
		} else if (gflags[0x01A2]) {
			say("\"Greetings, ",
				var0005,
				".\" The mayor smiles at you half-heartedly.");
		} else {
			if (gflags[0x01AA]) {
				var0008 = "";
			} else {
				var0008 = "Is that Liche gone yet? ";
			}
			say("\"Ah yes, good Avatar. 'Tis good to see thee again. ",
				var0008,
				"Of what service can I be to one so great as thee?\" He bows.");
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x01AA]) {
			add("Liche");
		}
		converse (0) {
			case "name":
				say("\"As I told thee, my name is Forsythe.\"");
				remove("name");
				fallthrough;

			case "job":
				say("He seems confused by your question. \"Did I not already reveal that? I am the mayor.\"");
				if (gflags[0x017C]) {
					add("Tortured One");
				}
				fallthrough;

			case "Liche":
				say("\"Why yes, the Liche has been a horrible scourge on my poor town. First he drives away all visitors by raising the dead. Then, in an attempt to stop him, the town is destroyed in a terrible fire. Well, I suppose that is not strictly his fault, but, well, something had to be done about him.\" Forsythe looks a little flustered.");
				remove("Liche");
				add("his fault");
				if (!var0000) {
					add("fire");
				}
				fallthrough;

			case "his fault":
				say("\"Well, the alchemist is the one who started the fire!\"");
				remove("his fault");
				fallthrough;

			case "Tortured One":
				say("\"That is what we call Caine. He is the alchemist who created the fire.\"");
				if (!var0000) {
					add("fire");
				}
				remove("Tortured One");
				fallthrough;

			case "fire":
				say("He puts his arm around your shoulders and whispers, \"Mistress Mordra, our healer, thought she found a way to get rid of Horance once and for all. All we have to do is make a gold cage, or was it an old cage. Well, no matter.~~\"We make this cage, and someone...\" He smiles at you, \"...lowers it into the Well of Souls to do something or other to it. When this is done, thou shalt catch the Liche off guard late at night and snap it tight around him. Sounds easy thus far, yes?~~ \"Well, now. After that, thou needest only pour on him the magic liquid that the alchemist was making.\" He pauses here as if a little embarrassed.~~");
				say("\"I apparently got the proportions a bit off when I told the alchemist about the formula. Anyway, it should be as easy as falling off a log, for thee. I guess thou hadst better be running along now, Mistress Mordra can tell thee ever so much more about this than can I. Be careful though, she is a dangerous old wench.\"");
				var0000 = true;
				remove("fire");
				if (gflags[0x01AA]) {
					say("\"Of course, now thou hast already taken care of all that!\" He smile gracioulsy.");
				} else {
					add(["Horance", "Mistress Mordra", "proportions"]);
				}
				fallthrough;

			case "proportions":
				say("\"'Twas so long ago that I barely remember. A smattering of curing, a dash of a potion of invisibility, and... that's right, a -ton- of the essence of mandrake root!\"");
				remove("proportions");
				fallthrough;

			case "Horance":
				say("\"Well, if I've got all this Liche lore straight, then, Horance, who used to be a good and kindly mage, has become a nasty, horrible, undead mage.\" He smiles patronizingly. \"Now run along. Thou canst ask Mordra if thou needest more information.\"");
				remove("Horance");
				fallthrough;

			case "Mistress Mordra":
				say("\"She resides just across the way, and can help thee with everything thou mightest need to rid us of the Liche. Thank thee ever so much. It has been nice talking with thee. Goodbye.\" He scurries back into his corner and holds his ankh in a protective fashion.*");
				remove("Mistress Mordra");
				abort;

			case "sacrifice":
				if (!gflags[0x019F]) {
					if (!gflags[0x01A2]) {
						say("\"Oh, goodness no. I do not think I'm the one thou wantest for that job. No, I should think not. Maybe thou shouldst ask all of the townsfolk first. If none of them will do it, I might just think about it. Yes, that's right, thou shouldst just ask the others, then come back here to tell me who the poor soul is.\" He smiles at his own cleverness.");
						gflags[0x019F] = true;
					} else {
						Func088A();
					}
				} else if (!gflags[0x01A2]) {
					say("The Mayor's eyes dart back and forth as you ask him to sacrifice himself for the good of his people. \"There is still one thou hast neglected to ask. Go and find ",
						var0006,
						". Then come back and we'll see.\" Spectral sweat drips from his ghostly forehead.");
					add(var0007);
				} else {
					Func088A();
				}
				remove("sacrifice");
				fallthrough;

			case "Caine":
				say("\"Just look for the crater near the northeast coast. Thou shalt find him there.\"");
				remove(var0007);
				fallthrough;

			case "Rowena":
				say("\"The town healer said something about Rowena sitting on a throne in the Dark Tower on the northwestern point.\"");
				remove(var0007);
				fallthrough;

			case "leave":
				say("\"As thou wishest!\"");
				FORSYTHE->remove_from_party();
				FORSYTHE->set_schedule_type(LOITER);
				fallthrough;

			case "Trent":
				say("\"Trent is in the smithy, not far from here, across the road.\"");
				remove(var0007);
				fallthrough;

			case "Mistress Mordra":
				say("\"She can be found in her house, right across the road.\"");
				remove(var0007);
				fallthrough;

			case "Quenton":
				say("\"Quen spends just about all of his time in the Keg Of Spirits tavern, near the ferry dock.\"");
				remove(var0007);
				fallthrough;

			case "Paulette":
				say("\"Ah, that lovely girl is the barmaid of the Keg Of Spirits tavern, down by the ferry dock.\"");
				remove(var0007);
				fallthrough;

			case "Markham":
				say("\"That cantankerous man runs the tavern, the Keg Of Spirits. Thou canst find it near the ferry dock.\"");
				remove(var0007);
				fallthrough;

			case "Ferryman":
				say("\"Well, now. Just how didst thou come to this island? That is right. -That- ferryman. He is on the ferry of Skara Brae, to the southeast.\"");
				remove(var0007);
				fallthrough;

			case "bye":
				say("\"Oh, yes, right. If I have forgotten to tell thee something, thou mayest come back and ask, all right.\" He sighs heavily as you start to leave, then returns to his vigil in the corner.*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

void Func0495 object#(0x495) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == PROXIMITY) {
		abort;
	}
	0xFEE8->show_npc_face(0x0000);
	var0000 = 0x0000;
	var0001 = UI_get_party_list();
	var0002 = 0x0000;
	for (var0005 in var0001 with var0003 to var0004) {
		var0002 += 0x0001;
	}
	add(["name", "job", "bye"]);
	if (!gflags[0x02C7]) {
		say("You see a three-headed hydra. The head on the left speaks.~~ \"Wake up, there is something here.\"");
		0xFEE6->say("The head on the right looks up and at you.~~\"I wonder if it is good to eat.\"*");
		0xFEE6->hide();
		0xFEE7->say("The middle head wakes with a start, sees you, becomes alarmed, and begins to snort excitedly.*");
		0xFEE8->say("\"Fear not, brother; we know it's there.\"*");
		0xFEE7->hide();
		0xFEE6->say("\"I wonder if it talks?\"*");
		0xFEE6->hide();
		0xFEE8->show_npc_face(0x0000);
		gflags[0x02C7] = true;
	} else {
		say("\"We are not talking to thee! We are trying to eat thee!\"*");
		HYDRA->get_npc_object()->set_alignment(EVIL);
		HYDRA->get_npc_object()->set_schedule_type(IN_COMBAT);
		abort;
	}
	converse (0) {
		case "name":
			say("\"My name is Shandu. My brother next to me is Shanda. My brother next to him is Shando.\"*");
			0xFEE6->say("\"It does not matter what our names are!\"*");
			0xFEE6->hide();
			0xFEE7->say("Shanda shakes his head and glares at you.*");
			0xFEE7->hide();
			0xFEE8->show_npc_face(0x0000);
			remove("name");
			add(["Shandu", "Shanda", "Shando"]);
			fallthrough;

		case "Shandu":
			say("\"That is me.\"~~Shandu smiles and licks his lips.~~ \"I like it when my food says my name!\"");
			remove("Shandu");
			fallthrough;

		case "Shanda":
			0xFEE7->say("Shanda rolls his eyes and exhales a puff of smoke from his nostrils.*");
			0xFEE7->hide();
			0xFEE6->say("\"Shanda says that thou shouldst refrain from saying his name. He does not like it when his food says his name.\"*");
			0xFEE6->hide();
			0xFEE8->show_npc_face(0x0000);
			remove("Shanda");
			fallthrough;

		case "Shando":
			0xFEE6->say("\"That is me. I am the oldest brother.\"*");
			0xFEE8->say("\"We are all connected, Shando! Thou cannot be older!\"*");
			0xFEE6->say("\"Mine head was the first to breathe the air.\"*");
			0xFEE8->say("Shandu spits.~~\"What does it matter? Our food does not care which of us is the eldest!\"*");
			0xFEE6->hide();
			0xFEE8->show_npc_face(0x0000);
			remove("Shando");
			fallthrough;

		case "job":
			say("\"Job?\"");
			0xFEE7->say("Shanda opens his mouth wide and emits a burst of flame.*");
			0xFEE7->hide();
			0xFEE6->say("\"He thinks that is a joke. Job! Ha! I think it is amusing, too. I have never heard my food tell jokes.\"*");
			0xFEE8->say("\"Ah, but brothers, we -do- have a job.\"*");
			0xFEE6->say("\"We do?\"*");
			0xFEE8->say("\"We guard the Caddellite, do we not? Our purpose in life is to guard the Caddellite!\"");
			0xFEE6->hide();
			0xFEE8->show_npc_face(0x0000);
			add("Caddellite");
			fallthrough;

		case "Caddellite":
			if (var0000 == 0x0000) {
				0xFEE7->say("Shanda becomes excited and snorts as if he were saying several sentences.");
				0xFEE7->hide();
				0xFEE8->show_npc_face(0x0000);
				remove("Caddellite");
				add("What did he say?");
				var0000 = 0x0001;
			} else {
				say("\"Thou dost want to know about Caddellite? Very well, I shall tell thee about Caddellite.\"~~The hydra shifts its weight a moment, then grins wickedly.~~\"We are guarding it.\"");
				remove("Caddellite");
				add("guarding");
			}
			fallthrough;

		case "What did he say?":
			say("\"He wasn't talking to thee!\"");
			remove("What did he say?");
			add("Caddellite");
			fallthrough;

		case "guarding":
			0xFEE6->say("\"The creature seems to echo everything we say, Shandu.\"*");
			0xFEE6->hide();
			0xFEE7->say("Shanda makes a horrid growling noise.*");
			0xFEE7->hide();
			0xFEE8->say("\"Shanda says he is hungry!\"*");
			0xFEE6->say("\"So am I!\"*");
			0xFEE6->hide();
			0xFEE8->say("\"Now that thou dost mention it, I am feeling a few hunger pangs myself. If we did not have to protect the Caddellite, I would eat this creature in a single gulp!\"");
			remove("guarding");
			add(["echo", "protect"]);
			fallthrough;

		case "echo":
			say("\"Hearing this creature repeat whatever we say is making me hungry!\"*");
			0xFEE6->say("\"It amuses me! Obviously it is a creature of severely limited intelligence!\"*");
			0xFEE6->hide();
			0xFEE7->say("Shanda lets out a low growl.*");
			0xFEE7->hide();
			0xFEE8->say("\"Shanda says he wants something to eat!\"");
			remove("echo");
			fallthrough;

		case "protect":
			say("\"I suppose we must protect the Caddellite from creatures like thee who come around once every 1000 years or so wanting to take it.\"*");
			0xFEE7->say("Shanda growls louder than before, then breathes a bit of fire.*");
			0xFEE7->hide();
			0xFEE6->say("\"Creature! Thou art making Shanda angry! He thinks that thou art attempting to steal the Caddellite! Beware!\"*");
			0xFEE6->hide();
			0xFEE8->show_npc_face(0x0000);
			remove("protect");
			add("steal");
			fallthrough;

		case "steal":
			say("Shandu becomes enraged.~~\"I knew it! It is trying to steal our Caddellite!\"~~Shandu addresses his brothers.~~\"We must not delay any longer.\"*");
			0xFEE7->say("Shanda roars angrily!*");
			0xFEE7->hide();
			0xFEE8->say("\"That is a good idea, my brother!\"~~Shandu turns to you.~~ [\"This creature vaguely resembles a troll, only it smells a little more pleasant. Dost thou think it might taste better than a troll, Shando?\"*");
			0xFEE6->say("\"We shall not know until we try!\"*");
			0xFEE6->hide();
			0xFEE7->say("Shanda nods his head furiously, licking his lips.*");
			0xFEE7->hide();
			0xFEE8->say("\"Very well! Let's eat it!\"*");
			HYDRA->get_npc_object()->set_alignment(EVIL);
			HYDRA->get_npc_object()->set_schedule_type(IN_COMBAT);
			abort;

		case "bye":
			say("\"Thou cannot say 'bye' to us! How rude!\"");
			remove("bye");
			fallthrough;
	}
	say("\"Leaving so soon?\"*");
}

extern var Func08C9 0x8C9 ();
extern var Func0908 0x908 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func0909 0x909 ();
extern void Func0911 0x911 (var var0000);
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);

void Func0496 object#(0x496) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == PROXIMITY) {
		abort;
	}
	PENUMBRA->show_npc_face(0x0000);
	gflags[0x01E2] = Func08C9();
	var0000 = Func0908();
	var0001 = Func0931(PARTY, 0x0001, 0x02F7, QUALITY_ANY, FRAME_ANY);
	var0002 = Func0909();
	add(["name", "job", "bye"]);
	if (gflags[0x01DF]) {
		add("blackrock");
	}
	if (gflags[0x01E0]) {
		add("ring");
	}
	if (!gflags[0x01F8]) {
		say("The mage, having been asleep for 200 years, looks just as she did upon your last visit to Britannia.~~\"Avatar! I cannot believe 'tis thee! Thou didst come and wake me! I knew thee would!\"");
		say("Suddenly, Penumbra grabs her head in pain. \"Oh!\" she cries. \"Mine head! The pain! What is happening? What didst thou do to me?\" She closes her eyes and concentrates. \"There is a disturbance in the ether! I can feel my magical powers fading! Help me, ",
			var0000,
			"! Help me!!\"");
		PENUMBRA->get_npc_object()->set_schedule_type(LOITER);
		add("ether");
		gflags[0x01F8] = true;
		Func0911(0x0320);
	} else {
		if (!gflags[0x0003]) {
			if (!gflags[0x01E2]) {
				say("Penumbra is in so much pain she can barely speak. \"Yes, ",
					var0000,
					"?\"");
			} else {
				say("\"Oh! I feel so much better! The pain is ebbing. Now we may converse much more easily.\"");
			}
		} else {
			say("\"Yes, ",
				var0000,
				"?\"");
		}
		add("ether");
	}
	converse (0) {
		case "name":
			say("\"I am Penumbra. Surely thou dost remember me?\"");
			remove("name");
			fallthrough;

		case "job":
			if (!gflags[0x01E2]) {
				say("Penumbra is in pain. \"I cannot think straight whilst the ether is disturbed. I can do nothing until it is flowing smoothly again!\"");
			} else {
				say("\"I am a practicing mage. Once I get my business going again, I should be able to sell spells and reagents. After all, I have been asleep for 200 years!\"");
			}
			fallthrough;

		case "ether":
			if (!gflags[0x0003]) {
				if (!gflags[0x01E2]) {
					say("\"The ether controls all the magic in the world. When there is a disturbance in the ether, no mage can cast successful spells. A mage might even lose his mind after a long period of time! Thou must find a way to protect me from the warped ethereal waves!\"");
					add("protect");
				} else {
					say("\"I feel much better. The damaged ethereal waves are not striking my mind. But now we must destroy what is causing this problem!\"");
					if (!gflags[0x0000]) {
						say("Penumbra thinks a moment. \"I feel that the damaged ethereal waves are coming from a source very near here. I suspect there is something in a dungeon on these islands that is creating the havoc. Try Dungeon Deceit. I have a strong sense that thy goal is there.");
						say("She closes her eyes a moment.");
						say("\"In my mind's eye, I see a large object shaped like a tetrahedron. I am beginning to understand what this is.\"");
					} else {
						say("\"In my mind's eye, I see a large object in a dungeon north of here. Thou dost know of what I speak, dost thou not?\"");
					}
					add("Tetrahedron");
				}
			} else {
				say("\"The ether is flowing smoothly now. I thank thee, ",
					var0000,
					". Thou hast saved all mages everywhere!\"");
			}
			remove("ether");
			fallthrough;

		case "Draxinusom":
			say("\"Thou shalt find him on the island of Terfin. Ask him about the ring.\"");
			remove("Draxinusom");
			fallthrough;

		case "Tetrahedron":
			if (!gflags[0x0003]) {
				if (!gflags[0x01E2]) {
					say("\"Please! I cannot help thee until I am protected from the damaged ether!\"");
				} else {
					say("\"Yes, that is the shape of the thing I have seen in my mind's eye. It appears to be some type of magic generator which damages the ethereal flow.\"");
					say("Penumbra thinks a moment. \"This generator is producing dangerous ethereal waves. Thou must find the Ethereal Ring and wear it to break the generator's defense. Now where is that ring...?\"");
					if (!var0001) {
						say("Penumbra consults some books and cross references them with a map. \"I believe that the Ethereal Ring was last in the possession of King Draxinusom of the Gargoyles. Once thou hast found the ring, thou must bring it back to me. I must perform an enchantment upon it so that it may work for thee.\"");
						add("Draxinusom");
						gflags[0x01E0] = true;
					} else if (gflags[0x01E1]) {
						say("\"The enchanted ring shall protect thee.\"");
					} else {
						say("\"The ethereal ring must be enchanted.\"");
						add("ring");
					}
				}
			} else {
				say("\"Thou hast destroyed it! All the mages thank thee!\"");
			}
			remove("Tetrahedron");
			fallthrough;

		case "protect":
			say("\"I need some kind of barrier to protect me from the ethereal waves. There must be a material we could use!\"~~ Penumbra clutches her temples. She is obviously in great pain.");
			say("\"Dost thou know of a material that is impenetrable?\"");
			var0003 = Func090A();
			if (var0003) {
				say("\"What is it?\"");
				UI_push_answers();
				var0004 = Func090B(["iron ore", "gold", "blackrock", "lead"]);
				if (var0004 == "blackrock") {
					say("\"Yes! That is what we need!");
				} else {
					say("\"No, I do not think that will work. Oh, I cannot think, the pain is so great!");
				}
				UI_pop_answers();
			} else {
				say("\"There must be something! Oh, I cannot think, the pain is so great!");
			}
			say("\"Please -- canst thou find a few pieces of blackrock to set about my room? I will need four pieces! But hurry! I do not think I can last much longer! Please go!\"");
			gflags[0x01DF] = true;
			remove("protect");
			fallthrough;

		case "blackrock":
			if (!gflags[0x0003]) {
				if (!gflags[0x01E2]) {
					var0005 = Func0931(PARTY, 0x0004, 0x0392, QUALITY_ANY, FRAME_ANY);
					if (var0005) {
						say("\"Thou hast brought the blackrock! I did not think I could manage much longer! Hurry! Place the pieces on the pedestals at the north, south, east, and west ends of the room! I shall wait here!\"*");
						abort;
					}
					say("\"But thou dost not have the blackrock! Thou must get four pieces and help me! Thou wilt need to place the pieces on the pedestals at the north, south, east, and west ends of the room! Hurry!\"*");
					abort;
				}
				say("\"The blackrock is working! I no longer feel the painful ether!\"");
				remove("blackrock");
			} else {
				say("\"It is quite a material, is it not? I imagine it could be used for many magical things.\"");
				remove("blackrock");
			}
			fallthrough;

		case "ring":
			if (!gflags[0x0003]) {
				if (!gflags[0x01E1]) {
					var0001 = Func0931(PARTY, 0x0001, 0x02F7, QUALITY_ANY, 0x0000);
					if (var0001) {
						say("\"Thou hast the ethereal ring? Good! I must enchant it! Quickly!\"~~Penumbra takes the ring from you and intones a few magical words upon it. After a moment, she hands it back to you.");
						var0006 = UI_remove_party_items(0x0001, 0x02F7, QUALITY_ANY, 0x0000, false);
						var0007 = UI_add_party_items(0x0001, 0x02F7, QUALITY_ANY, 0x0001, false);
						gflags[0x01E1] = true;
						Func0911(0x00C8);
						say("\"Now thou must go to the generator. Be sure thou art wearing the ring! It should now protect thee from the ethereal attacks. Be aware that it is functional only near the Tetrahedron. And tell thy companions to wait out of range. Thou must enter the generator alone!\"");
						say("Penumbra thinks a moment. \"By the way. How didst thou happen to know to come to me about this problem?\"");
						var0004 = Func090B(["Nicodemus", "Time Lord"]);
						if ((var0004 == "Nicodemus") || (var0004 == "Time Lord")) {
							say("You tell Penumbra the story of how you need to get the hourglass enchanted.");
							say("\"I see. Well, thou best be on thy way, so that thou canst indeed get thine hourglass enchanted!\"");
						}
					} else {
						say("\"Where is the ring? Dost thou not have it? We can do nothing without the ring! Go and find it! Please!\"*");
						abort;
					}
				} else {
					say("\"What dost thou want? I have already enchanted the ring!\"");
				}
			} else {
				say("\"What dost thou want? I have already enchanted the ring. It can do no more for thee!\"");
			}
			remove("ring");
			fallthrough;

		case "bye":
			break;
	}
	if (!gflags[0x01E2]) {
		say("Penumbra waves at you and then closes her eyes in pain.*");
	} else {
		say("\"Farewell, ",
			var0000,
			"! And good luck to thee!\"*");
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();

void Func0497 object#(0x497) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		KISSME->show_npc_face(0x0000);
		var0000 = Func08F7(IOLO);
		var0001 = Func08F7(SPARK);
		var0002 = Func08F7(DUPRE);
		var0003 = Func08F7(SHAMINO);
		var0004 = Func0909();
		var0005 = KISSME->get_npc_object()->get_schedule_type();
		var0006 = UI_is_pc_female();
		add(["name", "job", "bye"]);
		if (!gflags[0x02C6]) {
			say("This spritely fairy flutters around you, sprinkling some kind of sparkling dust on your head as she giggles.~~ \"I love thee! Yes, I do! I love thee!\"");
			gflags[0x02C6] = true;
		} else {
			say("\"Yes, my love?\" Kissme asks.");
		}
		converse (0) {
			case "name":
				say("\"Kissme! Kissme!\" She giggles.");
				if (var0000) {
					IOLO->say("\"Don't do it, ",
						var0004,
						"! Who knows what evil this strange creature might possess!\" He inspects the sprite more closely. \"Mayhaps I should try it first to be sure it is safe...\"*");
					IOLO->hide();
				}
				if (var0001) {
					SPARK->say("\"Hey, -I'll- kiss her! She doesn't scare me!\"*");
					SPARK->hide();
				}
				if (var0003) {
					SHAMINO->say("\"She -doth- look rather inviting, doth she not?\"*");
					SHAMINO->hide();
				}
				if (var0002) {
					DUPRE->say("\"My liege has asked thee thy -name-, foul creature!\"*");
					DUPRE->hide();
				}
				KISSME->say("\"But that -is- my name! Kissme! Kissme! It is true!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"My purpose is to spread love dust all around and welcome thee to Ambrosia! I love thee! Yes, I do!\"");
				if (var0003) {
					say("She flutters over Shamino's head.~~\"I love -thee-, as well!\"*");
					SHAMINO->say("\"If only thou wert a little larger...\"*");
					SHAMINO->hide();
					KISSME->show_npc_face(0x0000);
				}
				if (var0001) {
					say("Then she flies around Spark.~~\"Oooh, and I love -thee-, too!\"*");
					SPARK->say("Spark blushes. \"Aww, cut it out!\"*");
					SPARK->hide();
					KISSME->show_npc_face(0x0000);
				}
				if (var0002) {
					say("Kissme then flies near Dupre.~~\"Handsome man! Handsome man! I love thee! It's true! It's true!\"*");
					DUPRE->say("Dupre swats at the fairy. \"Away with thee! Thou dost not love me! Thou dost not even -know- me!\"*");
					DUPRE->hide();
					KISSME->show_npc_face(0x0000);
				}
				if (var0000) {
					say("Kissme glides over to Iolo and plants a big kiss on his cheek.~~\"Yes! I love thee! Yes, I do!\"*");
					IOLO->say("Iolo makes a sour face and wipes his cheek.~~ \"Avatar, that was the sloppiest, wettest, most... -disgusting- kiss I have ever felt!\"*");
					IOLO->hide();
					KISSME->show_npc_face(0x0000);
				}
				add(["Ambrosia", "love dust"]);
				fallthrough;

			case "Ambrosia":
				say("\"That is where thou art! It is true! Oh, yes! Ambrosia!\"");
				if (var0000) {
					IOLO->say("\"Ambrosia! Then it really does exist!\"*");
					IOLO->hide();
					KISSME->show_npc_face(0x0000);
				}
				say("\"Ambrosia, the lost isle of Britannia! Thou art really here!\"");
				remove("Ambrosia");
				add("lost isle");
				fallthrough;

			case "love dust":
				say("\"It does nothing that I know of! But it's pretty!\" Kissme giggles like a child. \"It's how I show thee I love thee! It's true!\"");
				remove("love dust");
				fallthrough;

			case "lost isle":
				say("\"Ambrosia was hit by stones from the sky hundreds of years ago! Oh, yes indeed! The entire island was battered to bits! It is true!\"");
				remove("lost isle");
				add(["stones", "years ago"]);
				fallthrough;

			case "stones":
				say("\"I believe it is called Caddellite. Yes, I believe it's true!~~\"And I -do- love thee, it is so true!\"");
				remove("stones");
				add("Caddellite");
				fallthrough;

			case "Caddellite":
				say("\"Most of it is collected in the pit where the hydra sits. Thou shalt have to ask the hydra about it. It is true!\"");
				remove("Caddellite");
				add("hydra");
				fallthrough;

			case "hydra":
				say("\"The hydra is made up of three brothers -- all dragons! It is true! Thou shalt be careful not to make them angry, for they have a temper! Oh, yes indeed, they do! They are very protective of their Caddellite, so speak to them about it first!\"");
				remove("hydra");
				fallthrough;

			case "years ago":
				say("\"Ambrosia was once very beautiful! Yes, it was! All of mine ancestors lived here then! Love dust was all around, and every day was like a jewel! Yes, it's true! Yes, thou wilt!~~\"Oh, I must kiss thee again!\"");
				if (var0006) {
					say("\"It does not matter whether thou art male or female! No, it does not! I shall kiss thee anyway!\"");
				}
				remove("years ago");
				add("kiss");
				fallthrough;

			case "kiss":
				if (var0000) {
					IOLO->say("\"No! Don't do it, ",
						var0004,
						".\"*");
					IOLO->hide();
				}
				if (var0001) {
					SPARK->say("\"Sheesh, here we go again!\"*");
					SPARK->hide();
				}
				if (var0003) {
					SHAMINO->say("\"Hey, I think she's cute!\"*");
					SHAMINO->hide();
				}
				if (var0002) {
					DUPRE->say("\"If thou wouldst do it, ",
						var0004,
						", do it quickly. We have not time to waste with such foolishness.\" Dupre looks distinctly disgusted with the whole affair.*");
					DUPRE->hide();
				}
				KISSME->say("Do you allow Kissme to kiss you?");
				if (Func090A()) {
					say("Kissme places the wettest, sloppiest, oozingest, and mushiest smack you have ever felt on your mouth. ~~\"Oh, yes! That was fun! I love thee! Yes, it's true!\"");
				} else {
					say("\"I love thee anyway! It is true!\" Kissme giggles and sprinkles more love dust in your hair.");
				}
				remove("kiss");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, my love! Oh yes! I love thee! It is true!\"*");
	}
	if (event == PROXIMITY) {
		var0007 = UI_part_of_day();
		var0005 = KISSME->get_npc_object()->get_schedule_type();
		var0008 = UI_die_roll(0x0001, 0x0004);
		if (var0005 == DANCE) {
			if (var0008 == 0x0001) {
				var0009 = "@I love thee!@";
			}
			if (var0008 == 0x0002) {
				var0009 = "@I want to kiss thee!@";
			}
			if (var0008 == 0x0003) {
				var0009 = "@I love thee, yes, I do!@";
			}
			if (var0008 == 0x0004) {
				var0009 = "@Thou art my love!@";
			}
			KISSME->item_say(var0009);
		}
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func0498 object#(0x498) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		ZELDA->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		add(["name", "job", "bye"]);
		var0003 = UI_is_pc_female();
		if (!gflags[0x01FA]) {
			say("You see a woman who meets your gaze with an icy stare.");
			gflags[0x01FA] = true;
		} else {
			say("\"What dost thou need now?\"");
			if (gflags[0x01DB]) {
				add("Brion's feelings");
			}
			if (gflags[0x01DC]) {
				add("Nelson's feelings");
			}
		}
		converse (0) {
			case "name":
				say("\"I am Zelda.\"");
				remove("name");
				if (gflags[0x01DB]) {
					add("Brion's feelings");
				}
				if (gflags[0x01DC]) {
					add("Nelson's feelings");
				}
				fallthrough;

			case "job":
				say("\"I am the advisor at the Lycaeum.\"");
				add(["Lycaeum", "advisor"]);
				if (gflags[0x01F6]) {
					add("North East sea");
				}
				fallthrough;

			case "Lycaeum":
				say("She rolls her eyes. \"The Lycaeum is the building in which thou dost stand. It is a great library designed to house a wealth of knowledge. Though the structure has changed a bit over the past two hundred years, the essence of learning has not.\"");
				remove("Lycaeum");
				fallthrough;

			case "advisor":
				say("\"Yes,\" she says. \"My job is to manage and regulate the events in the Lycaeum. And,\" she adds, \"provide assistance to the people here in Moonglow -- when they need it!\"");
				remove("advisor");
				add(["events", "townspeople"]);
				fallthrough;

			case "events":
				say("\"I am in charge of maintaining the reading areas and bringing in new books. In addition, I help organize special group sessions for Jillian's tutorials and set up educational entertainment programs.\"");
				remove("events");
				if (!var0002) {
					add("Jillian");
				}
				fallthrough;

			case "North East sea":
				say("\"I have not the time for these petty geography questions. Check an atlas!\"");
				remove("North East sea");
				fallthrough;

			case "townspeople":
				say("\"I have little time for this,\" she sighs. \"I know only the Lycaeum head and his twin, Brion, at all well. The trainer also studies here in the Lycaeum.\" She looks up at the ceiling, as if reading from an invisible, overhead list.~~\"Thou dost already know about Penumbra. Mariah is here. If thou wishest to know about a member of The Fellowship, ask the clerk there. Otherwise,\" she eyes you coldly, \"let me return to my duties.\" As an afterthought, she adds, \"And keep thy voice down. People are trying to read.\"");
				add(["Mariah", "Lycaeum head", "Brion", "Penumbra"]);
				if (!var0002) {
					add("trainer");
				}
				remove("townspeople");
				fallthrough;

			case "Mariah":
				say("\"Well, they say she used to be an adept mage, but all I see is a woman who wanders around complimenting the furniture. Thou mayest speak to her if thou wishest, but I doubt she will make sense to thee. And do not disorganize the shelves while looking for her!\"");
				remove("Mariah");
				fallthrough;

			case "Jillian", "trainer":
				say("\"Jillian? She is very well-behaved. Also quiet and tidy. I believe she is an excellent scholar. If thou art going to seek her out, try not to overturn any shelves. Some new books have just arrived and I have not finished placing all of them.\"");
				remove(["Jillian", "trainer"]);
				var0002 = true;
				add("new books");
				fallthrough;

			case "new books":
				say("\"Yes, they arrived not long ago, including the recently rediscovered copy of DeMaria and Spector's work,`The Avatar Adventures.' If thou canst avoid creating too much of a disturbance, I recommend it to thee.\"");
				remove("new books");
				add("Avatar Adventures");
				fallthrough;

			case "Avatar Adventures":
				say("\"If I tell thee this last thing, wilt thou depart so I may return to my job?\"");
				if (var0003) {
					var0004 = "her";
				} else {
					var0004 = "his";
				}
				var0005 = Func090A();
				if (var0005) {
					say("\"We discovered the tome in the lower depths of the basement. We have no way to account for the accuracy of the contents, but have noticed many parallels between the events in the work and the events in Britannia's recent history.~~ \"The book is a copy of the Avatar's diary, written about two hundred years ago during ",
						var0004,
						" most recent visit to Britannia. Of course,\" she smiles sardonically, \"it has been annotated by others.~~\"It was recently published to give the general public more courage and confidence.~~\"And now, goodbye.\"");
					abort;
				}
				say("\"Fine.\"");
				abort;

			case "Penumbra":
				if (var0003) {
					var0006 = "she";
				} else {
					var0006 = "he";
				}
				say("She shakes her head, muttering, \"Why doth ",
					var0006,
					" waste my time in this manner?\" Looking back up at you, she says, \"Penumbra is the sage who put herself to sleep two centuries ago. Rumor has it that only the Avatar can awaken her.\"");
				remove("Penumbra");
				fallthrough;

			case "Lycaeum head":
				say("\"Nelson is very competent, although a little eccentric. I do wish he would refrain from showing off his collection of trinkets to everyone who enters the building. It always makes such a commotion.\"");
				remove("Lycaeum head");
				fallthrough;

			case "Brion":
				say("Her chilly expression melts away. \"Brion,\" she says, smiling, \"is very open-minded and idealistic. He knows the heavens quite well.\" She looks up to emphasize `heavens.' \"I find him very attractive. But, I do not know how to convey mine intentions.\" She turns away, shyly.~~\"Unless, perchance, ",
					var0001,
					" wilt aid me?\" she asks, hopefully. \"Wilt thou agree to tell him for me, ",
					var0001,
					"?\"");
				var0007 = Func090A();
				if (var0007) {
					say("\"Thank thee, ",
						var0001,
						". Thank thee.\" She blushes.");
					var0008 = UI_add_party_items(0x0001, 0x0154, QUALITY_ANY, 0x0006, 0x0000);
					if (var0008) {
						say("\"For thy kindness, I will give thee this white potion I found once while straightening the basement.\"");
					}
				} else {
					say("Her cold glare returns. \"Very well.\"*");
					abort;
				}
				gflags[0x01DA] = true;
				remove("Brion");
				fallthrough;

			case "Brion's feelings":
				say("She looks down for a moment. \"I thought as much.\" As she raises her head, tears are visible in her eyes. \"I thank thee for trying.\"*");
				abort;

			case "Nelson's feelings":
				say("\"Nelson? I never really thought about him.\" She shrugs. \"Hmm, I suppose he is not a bad second best. I will try,\" she says, smiling.");
				gflags[0x01E3] = true;
				Func0911(0x0014);
				remove("Nelson's feelings");
				if (!gflags[0x01DA]) {
					add("second best?");
				}
				fallthrough;

			case "second best?":
				say("\"Well, his brother, Brion, is quite attractive, I think.\"");
				remove("second best?");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func08BB 0x8BB (var var0000);
extern void Func08BC 0x8BC (var var0000);
extern void Func092E 0x92E (var var0000);

void Func0499 object#(0x499) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		MARIAH->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func0908();
		add(["name", "job", "bye"]);
		if (!gflags[0x01FB]) {
			say("You see your old friend Mariah.");
			gflags[0x01FB] = true;
		} else if (gflags[0x0003]) {
			say("\"Yes, ",
				var0001,
				"? How may I help thee?\" Mariah greets you.");
		} else {
			say("\"Yes, ",
				var0000,
				"?\" Mariah smiles, a trifle too sweetly.");
		}
		if (gflags[0x0003]) {
			converse (0) {
				case "name":
					var0002 = Func08F7(IOLO);
					if (var0002) {
						IOLO->say("\"Surely thou dost recognize thine old companion, Mariah?\"*");
						IOLO->hide();
						MARIAH->show_npc_face(0x0000);
					} else {
						say("\"Hast thou already forgotten me, ",
							var0001,
							"? I am Mariah.\"");
					}
					remove("name");
					fallthrough;

				case "job":
					say("\"I sell spells, reagents, and sometimes a few potions here at the Lycaeum. Dost thou wish to buy any of these, ",
						var0001,
						"?\"");
					add(["spells", "reagents", "potions", "Lycaeum"]);
					fallthrough;

				case "spells":
					Func08BB(MARIAH);
					fallthrough;

				case "reagents":
					Func08BC("Reagents");
					fallthrough;

				case "potions":
					say("\"I am afraid, ",
						var0001,
						", that I have a very meager selection.\"");
					Func08BC("Potions");
					fallthrough;

				case "Lycaeum":
					say("She shakes her head sadly. \"I have not been `myself' for so long that I no longer recognize this town.\" Her eyes widen.~~ \"There are so many buildings around the Lycaeum now, hast thou seen them?\"~~She pauses, looking at you.~~\"By the way, old friend. I assume thou art responsible for returning the ether to its normal state. I thank thee.\"");
					remove("Lycaeum");
					fallthrough;

				case "bye":
					say("\"Fair days ahead, friend ",
						var0001,
						".\"*");
					abort;
			}
		} else {
			converse (0) {
				case "name":
					var0002 = Func08F7(IOLO);
					if (var0002) {
						IOLO->say("\"Surely thou dost recognize thine old companion, Mariah?\"*");
						IOLO->hide();
						MARIAH->say("\"Yes, dost thou not recognize me?\" She pauses, glaring at you. \"But who art thou, and where are my pastries?\"");
					} else {
						say("\"Yes, thou mayest tell me thy name,\" she says, glancing around the building. \"Are not the many books beautiful?\"");
					}
					remove("name");
					fallthrough;

				case "job":
					say("She smiles. \"I have a very important job, I do. My, are not those shelves lovely? So neat and orderly.\" She looks back at you.~~\"Be careful! The ink wells are full, and the quills so sharp.\" She giggles.");
					add(["shelves", "ink wells", "quills"]);
					fallthrough;

				case "shelves":
					say("\"Are not they the neatest, most orderly, and well-kept shelves thou hast seen? They do an excellent job of maintaining them!\"");
					add("they");
					remove("shelves");
					fallthrough;

				case "ink wells":
					say("\"They are always so full and ready for use. They are so good about keeping them filled and clean!\"");
					add("they");
					remove("ink wells");
					fallthrough;

				case "quills":
					say("\"Oh, yes, they are quite sharp! Always there when one needs to scribe a missive. They do an excellent job of having many ready at a moment's notice!\"");
					add("they");
					remove("quills");
					fallthrough;

				case "they":
					say("\"Yes, they do!\" Her face turns sad. \"But I only sell.\"");
					add("sell");
					remove("they");
					fallthrough;

				case "sell":
					say("\"Yes,\" she agrees, \"I do indeed sell. I even spell. In fact, I even sell spells! But, if thou desirest reagents, thou art out of luck, for I only sell those during one of the seven weekdays. Wouldst thou like to know which day?~~\"What a lovely set of books thou must have! I have just the item for thee to match thy shelves -- a potion. If thou wilt buy a spell or reagent from me, I will sell thee a potion for only its normal price!\"");
					add(["which day", "reagents", "potions"]);
					remove("sell");
					fallthrough;

				case "which day":
					say("\"Why, today. Thou art in luck. Buy a spell.\"");
					Func08BB(MARIAH);
					remove("which day");
					fallthrough;

				case "reagents":
					Func08BC("Reagents");
					fallthrough;

				case "potions":
					Func08BC("Potions");
					fallthrough;

				case "bye":
					say("\"Certainly, come back anytime and buy.\"*");
					abort;
			}
		}
	}
	if (event == PROXIMITY) {
		var0003 = MARIAH->get_npc_object()->get_schedule_type();
		var0004 = UI_die_roll(0x0001, 0x0004);
		if (var0003 == LOITER) {
			if (!gflags[0x0003]) {
				if (var0004 == 0x0001) {
					var0005 = "@Where -are- those pastries!@";
				}
				if (var0004 == 0x0002) {
					var0005 = "@Lovely, lovely shelves!@";
				}
				if (var0004 == 0x0003) {
					var0005 = "@Lovely, lovely ink wells!@";
				}
				if (var0004 == 0x0004) {
					var0005 = "@Magic is in the air...@";
				}
				MARIAH->item_say(var0005);
			}
		} else {
			Func092E(MARIAH);
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);

void Func049A object#(0x49A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == DOUBLECLICK) {
		GROD->show_npc_face(0x0000);
		add(["name", "job", "Fellowship", "bye"]);
		var0000 = Func08F7(IOLO);
		var0001 = Func08F7(SPARK);
		var0002 = Func08F7(0xFF10);
		var0003 = Func08F7(SULLIVAN);
		var0004 = Func0909();
		var0005 = Func0908();
		GROD->get_npc_object()->set_alignment(EVIL);
		if (!gflags[0x02BE]) {
			say("The troll snarls at you, obviously displeased at your presence.");
			gflags[0x02BE] = true;
		} else {
			say("\"What you want?\" asks Grod.");
		}
		converse (0) {
			case "name":
				var0006 = UI_wearing_fellowship();
				if (var0006) {
					say("\"I Grod. Why you want know? Is voice unhappy?\"");
					var0007 = Func090A();
					if (var0007) {
						say("He seems truly worried.~~\"I will do job better. I promise! I beat harder and more often!\"");
						if (var0002) {
							say("*");
							0xFF10->show_npc_face(0x0000);
							if (gflags[0x02C3]) {
								var0008 = "Anton,";
							} else {
								var0008 = "a prisoner,";
							}
							say("\"Thank thee ever so much, ",
								var0004,
								",\" says ",
								var0008,
								" sarcastically.*");
							0xFF10->hide();
							GROD->show_npc_face(0x0000);
						}
						if (var0002 && var0003) {
							SULLIVAN->say("\"Now, now, Anton, the nice person was simply answering a question.\"*");
							SULLIVAN->hide();
							GROD->show_npc_face(0x0000);
						}
					} else {
						say("\"Good. I do my job good!\"");
					}
				} else {
					say("\"I Grod. Who you?\"");
					var0005 = Func0908();
					var0009 = "the Avatar";
					var000A = Func090B([var0005, var0009, var0004]);
					if (var000A == var0005) {
						say("\"I not know you.\" He shrugs.");
					}
					if (var000A == var0004) {
						say("\"Funny name. But, all humans have funny names.\" He shrugs.");
					}
					if (var000A == var0009) {
						say("\"The Avatar?\" He begins laughing. \"The Avatar not been here for...,\" he begins counting on his fingers. After several attempts, he gives up, saying, \"for many years!~~\"You no Avatar.\"");
					}
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"I torture prisoners,\" he says, thumping his chest proudly.*");
				if (var0001) {
					SPARK->say("Spark's eyes light up.~\"Torture? Wow! He quickly looks at you and changes expressions.~~ \"I, er, mean, that is very awful.\"*");
					SPARK->hide();
					GROD->show_npc_face(0x0000);
				}
				var000B = UI_wearing_fellowship();
				if (var000B) {
					say("\"Want to help?\"");
					var000C = Func090A();
					if (var000C) {
						if (var0003 && var0002) {
							say("He points to one of the prisoners.~~\"He not fun like the other. Torture other first.\"*");
							SULLIVAN->say("\"What? No, that's all right, ",
								var0004,
								". Torture me, first.\"*");
							SULLIVAN->hide();
							0xFF10->say("\"Yes, ",
								var0004,
								". Torture him first.\"*");
							0xFF10->hide();
							SULLIVAN->say("\"I thank thee,\" he says to the other.*");
							SULLIVAN->hide();
							GROD->say("\"Go ahead,\" says Grod.*");
							var000D = UI_add_party_items(0x0001, 0x026E, QUALITY_ANY, FRAME_ANY, true);
							if (var000D) {
								say("He hands you a whip.");
							} else {
								say("\"You too wimpy to use whip!\"");
							}
							abort;
						}
						say("\"No one here to abuse.\" He appears disappointed.");
					} else {
						say("\"You make funny joke. Go ahead, torture.\"*");
						abort;
					}
				}
				add(["torture", "prisoners"]);
				fallthrough;

			case "Fellowship":
				var000E = UI_wearing_fellowship();
				if (var000E) {
					say("\"Yes,\" he nods. \"I belong, too. I strive for unity. I be worthy for my reward. And I trust my brother.\"~~ He smiles, obviously pleased with himself.\"");
					add(["strive", "worthy", "trust"]);
				} else {
					say("\"Big group, many people. You should join!\"");
					add("join");
				}
				remove("Fellowship");
				fallthrough;

			case "strive", "worthy", "trust":
				say("\"You don't know?\" He frowns.~~ \"You should learn before the voice become angry!\"");
				remove(["strive", "worthy", "trust"]);
				fallthrough;

			case "join":
				say("\"Good, join. See Abraham or Danag about join.\"");
				remove("join");
				fallthrough;

			case "prisoners":
				if (gflags[0x02E2] && gflags[0x02E1]) {
					say("\"None here at the moment...\" he appears truly disconcerted.");
				} else {
					say("\"There one!\" he says, pointing to a man.*");
					if (!(gflags[0x02E1] && (!gflags[0x02E2]))) {
						say("\"There another one!\" he says, indicating the other man.");
						SULLIVAN->say("\"How art thou today, ",
							var0004,
							"?\" he says, smiling.");
						SULLIVAN->hide();
					}
					GROD->show_npc_face(0x0000);
				}
				remove("prisoners");
				fallthrough;

			case "torture":
				say("\"Much fun! Prisoners scream loudly.\"*");
				if (var0003) {
					say("\"Except that one. He not scream. He just talk. And talk. I get so bored I get mad. So I torture more. And,\" he throws up his hands, \"he just talk more! I no know what to do.\"*");
				}
				if (var0000) {
					IOLO->say("\"That is terrible, ",
						var0005,
						". We must command him to stop!\"*");
					IOLO->hide();
					GROD->show_npc_face(0x0000);
					if (var0003) {
						say("\"I try make him stop. But he talk and talk. You try? Maybe he stop.\"");
					}
					add("stop torturing");
				}
				remove("torture");
				fallthrough;

			case "stop torturing":
				say("\"Oh, no! Grod love job! Grod never stop. You go away now.\"*");
				abort;

			case "bye":
				break;
		}
		say("\"Come back and visit Grod. Hear victims squeal!\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern void Func092E 0x92E (var var0000);

void Func049B object#(0x49B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		CUBOLT->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		add(["name", "job", "bye"]);
		var0003 = UI_wearing_fellowship();
		if (var0003) {
			say("\"",
				var0001,
				"? Thou, too, hast joined the evil organization? But how is this possible? Canst thou not see their tenets vie with the very virtues themselves? Dost thou not feel more like a sheep than a man? I am truly sorry, for if one of Britannia's greatest heroes has fallen in with such filth, then there is no hope for our great land!\" He turns away in disgust.*");
			abort;
		}
		if (!gflags[0x01FF]) {
			say("You see a man with an unhappy look upon his face.");
			gflags[0x01FF] = true;
		} else {
			say("Cubolt looks up. \"Yes, ",
				var0001,
				"?\"");
		}
		converse (0) {
			case "name":
				say("\"I am Cubolt of Moonglow.\"");
				add("Moonglow");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a farmer, ",
					var0001,
					". I manage my farm with the help of Tolemac, my brother, and Morz, our family friend.\"");
				add(["Tolemac", "Morz"]);
				fallthrough;

			case "Moonglow":
				say("\"The city occupies the entire island now, including the Lycaeum. Most of the residents still live south, though. We are due east of Britain proper.\"");
				add("residents");
				remove("Moonglow");
				fallthrough;

			case "Morz":
				say("\"My brother and I have known Morz for most of our lives. He is very friendly when he is not too busy worrying about his stutter. Unfortunately, he listens to Tolemac too often.\"");
				add("stutter");
				remove("Morz");
				fallthrough;

			case "stutter":
				say("Cubolt looks down at the ground, shaking his head sadly. \"He started when he was five years old. He and my brother were wrestling in the back of a wagon driven by his parents. They hit a bump and he fell out -- and landed on his head. Ever since, he hath had his stutter.\" He looks back up at you. \"The odd thing is, neither he nor Tolemac remember the accident. Or at least, Tolemac doth not. I cannot convince Morz to talk about it.\"");
				remove("stutter");
				fallthrough;

			case "residents":
				say("\"Zelda, the clerk at the Lycaeum, would be the best person to talk to about Moonglow's residents. Or the bartender, though I do not know his name. I know that the Observatory head and the Lycaeum head are twins, but I have never met either of them. I do know that thou dost not want to talk to Rankin or Balayna at The Fellowship. They are ill news to our once-pleasant city.\"");
				if (!var0002) {
					add("Fellowship");
				}
				remove("residents");
				fallthrough;

			case "Tolemac":
				say("\"He is my younger brother. Need I say more? I am a little concerned about him though. I am used to his rebellious behavior, but recently he has joined The Fellowship. That frightens me. They frighten me. I have tried to get him to come to his senses, but he is too busy enjoying making me worry to listen. Also, he is trying to get Morz to join. I wish I could get him to reconsider.\"");
				if (!var0002) {
					add("Fellowship");
				}
				add("reconsider");
				remove("Tolemac");
				fallthrough;

			case "Fellowship":
				say("He spits on the ground. \"A bane to Britannia is what The Fellowship is. They have some odd philosophy that teaches thee to forget who thou art and follow them. The process is dehumanizing, and I think it meshes poorly with the eight virtues. Not only that, but their leader here in Moonglow has persuaded Tolemac to join.\"");
				var0002 = true;
				remove("Fellowship");
				fallthrough;

			case "reconsider":
				say("\"Unfortunately, Tolemac will not listen to me. However,\" he begins to smile hopefully, \"he just might listen to thee, ",
					var0001,
					". Perhaps thou couldst talk him into reconverting. I would very much appreciate that! Perhaps,\" he adds, \"thou couldst also ask Morz not to join.\"");
				gflags[0x01D6] = true;
				gflags[0x01D7] = true;
				remove("reconsider");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Take care, ",
			var0001,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(CUBOLT);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08FC 0x8FC (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func049C object#(0x49C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		BALAYNA->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = UI_part_of_day();
		var0003 = false;
		add(["name", "job", "Fellowship", "bye"]);
		if (var0002 == NIGHT) {
			var0004 = Func08FC(BALAYNA, 0xFF06);
			if (var0004) {
				say("Glaring, she puts a finger over her lips, indicating that you should be silent.*");
				abort;
			}
			say("\"I cannot talk now, I must hurry to the Fellowship meeting.\"*");
			abort;
		}
		if (!gflags[0x01FD]) {
			say("You see a woman with a very serious look about her.");
			gflags[0x01FD] = true;
		} else {
			say("\"How may I be of assistance, ",
				var0000,
				"?\"");
		}
		if (gflags[0x020E]) {
			add("liqueur");
		}
		converse (0) {
			case "name":
				say("She gives you a suspicious look. \"My name is Balayna.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the clerk for the Moonglow branch of The Fellowship.\"");
				add(["clerk", "Moonglow"]);
				fallthrough;

			case "clerk":
				say("\"It is my job to keep records during the meetings, and to administrate the decisions of this branch.\"");
				remove("clerk");
				add("meetings");
				fallthrough;

			case "liqueur":
				var0005 = UI_remove_party_items(0x0001, 0x02ED, QUALITY_ANY, 0x001E, false);
				if (var0005) {
					say("\"What's this?\" she asks, taking the vial from you. She opens it up and sniffs. \"Very good quality. I wonder why he...\" she clutches her throat and gasps. You notice a wispy smoke rise from the top of the vial now spilling out of her hands. Choking, she falls to the ground, and dies.*");
					gflags[0x020D] = true;
					BALAYNA->get_npc_object()->kill_npc();
					abort;
				}
				say("\"I am afraid I must first see what thou art referring to before I can answer thy question.\"");
				remove("liqueur");
				fallthrough;

			case "meetings":
				var0006 = UI_wearing_fellowship();
				if (var0006) {
					say("She stares at you suspiciously.");
				}
				say("\"We have our meetings at 9 at night -- the customary time. After Rankin's lecture, we all discuss the wonderful aspects of our life that have been enhanced by The Fellowship.\"");
				if (!var0003) {
					add("Rankin");
				}
				remove("meetings");
				fallthrough;

			case "Moonglow":
				say("\"This seemed to be an... appropriate place to start up a branch. There are many good citizens here in Moonglow.\"");
				add(["good", "citizens"]);
				remove("Moonglow");
				fallthrough;

			case "good":
				say("She appears surprised at the statement. \"Well, I believe that many of the people are of strong mind and character. They are just the kind of people The Fellowship needs to go out and spread guidance and prosperity throughout Britannia.\"");
				remove("good");
				add(["guidance", "prosperity"]);
				fallthrough;

			case "guidance":
				say("\"Many of the people lack the discipline required to reach their highest potential.\"");
				remove("guidance");
				fallthrough;

			case "prosperity":
				say("\"The Fellowship is designed to enrich the lives of everyone who resides in this fair land.\"");
				remove("prosperity");
				fallthrough;

			case "citizens":
				say("\"I am so busy with my duties that I know very few people here. Phearcy, the bartender, is an outstanding member of the community, as is the farmer, Tolemac. Tolemac's friend, Morz, though shy, is well spoken of. Also, Morz has a brother.\" She glances up, thoughtfully. \"Or is he Tolemac's brother?~~ \"I am not positive whose brother he is, but I do know that I do not know that much about him,\" she sniffs.");
				remove("citizens");
				fallthrough;

			case "Fellowship":
				var0007 = UI_wearing_fellowship();
				if (var0006) {
					say("\"Our Branch has been open here in Moonglow for approximately half a decade. Rankin has been here the entire time, but I started at this branch only a few months ago.\"");
					if (!var0003) {
						add("Rankin");
					}
				} else {
					say("\"The Fellowship is a society of spiritual seekers who strive to reach the highest levels of human potential. We espouse neo-realism through the Triad of Inner Strength. In addition, we manage and organize many festivals and also operate a shelter for the needy.~\"Rankin is the branch head here in Moonglow. He can answer thy questions.\"");
					add("Triad");
				}
				remove("Fellowship");
				fallthrough;

			case "Triad":
				say("The Triad is basically three principles that, when applied in unison, enable the individual to better reach creativity, satisfaction, and success in life.\"");
				add("principles");
				remove("Triad");
				fallthrough;

			case "principles":
				say("\"The three principles are: Strive for Unity, Trust thy Brother -- and sister -- and Worthiness precedes Reward.\"");
				add(["Strive", "Trust", "Worthiness"]);
				remove("principles");
				fallthrough;

			case "Strive":
				say("\"Essentially, this means that cooperation among people is not only a desirable means for reaching human potential in itself, but it also facilitates the entire process.\"");
				remove("Strive");
				fallthrough;

			case "Trust":
				say("\"This tenet illustrates that, as people, we are all the same, and that neither hatred nor fear of one another is productive. In fact, it is destructive.\"");
				remove("Trust");
				fallthrough;

			case "Worthiness":
				say("\"This basically means that individuals should strive to be worthy of that which they want in life. It is often misquoted as `thou dost receive what thou dost deserve,' but that tends to have negative connotations.\"");
				remove("Worthiness");
				fallthrough;

			case "Rankin":
				say("\"He is the branch head here in Moonglow.\"~She glances around cautiously. \"Thou art travelling through the city, correct? And eventually going to visit another city -- Britain, perhaps?\" She shoots another glance, apparently checking for something. Finally, she leans forward, speaking with a whisper.~\"I am unsure whether Rankin is worthy of his position. I heard him talking to the new member, Tolemac, just before Rankin persuaded him to join. He admitted to having doubts about The Fellowship. He told Tolemac that he thought, perhaps, The Fellowship encouraged its members to be nothing more than sheep, and that those really `in charge' were charlatans, in it simply for the money. What does thou think about that?\" She leans back.");
				gflags[0x01D8] = true;
				var0003 = true;
				remove("Rankin");
				fallthrough;

			case "bye":
				break;
		}
		if (gflags[0x01D8]) {
			say("\"Goodbye, ",
				var0000,
				". Remember what I have told thee.\"*");
		} else {
			say("\"Goodbye, ",
				var0000,
				".\"*");
		}
	}
	if (event == PROXIMITY) {
		Func092E(BALAYNA);
	}
}

extern var Func0909 0x909 ();
extern var Func08FC 0x8FC (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func049D object#(0x49D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		TOLEMAC->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		add(["name", "job", "Fellowship", "bye"]);
		if (gflags[0x01D5]) {
			say("\"Get thee away! I'll hear no more of thy lies!\"*");
			abort;
		}
		if (var0001 == NIGHT) {
			var0002 = Func08FC(TOLEMAC, 0xFF06);
			if (var0002) {
				say("\"I am trying to pay attention!\" he says, glaring at you.");
			} else {
				say("\"Sorry, ",
					var0000,
					", I cannot talk now. I must get to the Fellowship meeting!\"");
			}
			abort;
		}
		if (!gflags[0x01FE]) {
			say("You see a friendly-looking farmer.");
			gflags[0x01FE] = true;
		} else {
			say("\"Good day, ",
				var0000,
				".\"");
		}
		if (gflags[0x01D6] && gflags[0x01FE]) {
			add("reconvert");
		}
		converse (0) {
			case "name":
				say("\"I am called Tolemac, ",
					var0000,
					".\"");
				remove("name");
				if (gflags[0x01D6]) {
					add("reconvert");
				}
				fallthrough;

			case "job":
				say("\"I help my brother tend our farm here in Moonglow.\"");
				add(["brother", "Moonglow"]);
				fallthrough;

			case "brother":
				say("\"My brother is Cubolt.\" He frowns for a moment. \"He can be a bit overbearing at times, trying to `take care' of me. But,\" he shrugs, \"he means well, perhaps. I know I've caused him a bit of trouble every now and then,\" he says with a grin, \"but he deserves it.\"");
				remove("brother");
				fallthrough;

			case "Moonglow":
				say("\"Yes, ",
					var0000,
					". That is the name of the town thou art in. Dost thou have questions about the townspeople?\"");
				add("townspeople");
				remove("Moonglow");
				fallthrough;

			case "townspeople":
				say("\"I know only a few people here, ",
					var0000,
					". My brother, Cubolt, runs the farm with me. Morz helps us, too -- we've known him for many years. And now that I've joined The Fellowship, I've met a few more people. Rankin is branch head here in Moonglow, and Balayna is his assistant. If thou dost want to know about other people, thou mayest want to ask the bartender. His name is Phearcy.\"");
				add(["Morz", "Balayna", "Rankin", "Fellowship"]);
				remove("townspeople");
				fallthrough;

			case "Rankin":
				say("\"Rankin is very intelligent. He is the one who persuaded me to join The Fellowship. I have much respect for him.\"");
				remove("Rankin");
				fallthrough;

			case "Balayna":
				say("\"She is the branch clerk. Most of the time, she is friendly. Sometimes, however, she seems a little cold.\"");
				remove("Balayna");
				fallthrough;

			case "Morz":
				say("\"Morz and I grew up together. He is very sensitive about his stutter, though, so I would not bring it up.\"");
				add("stutter");
				remove("Morz");
				fallthrough;

			case "stutter":
				say("\"It is difficult to get him to talk about it. I think it was caused by an accident he had when he was a child. I barely remember the incident. My brother might remember more.\"");
				remove("stutter");
				fallthrough;

			case "Fellowship":
				say("\"Rankin or Balayna would be the best ones to ask, ",
					var0000,
					", but I can tell thee our main tenets.~~\"We believe strongly in neo-realism, which is a form of optimistic outlook which may be reached through the triad of inner strength.~~\"I am hoping that soon I will be able to hear the    voice that comes with meeting one's higher potential.~~\"Also, ",
					var0000,
					", The Fellowship sponsors many feasts and festivals. I strongly recommend that thou ask Rankin about joining.\"");
				remove("Fellowship");
				fallthrough;

			case "reconvert":
				say("\"Reconvert? Why would I want to do that? Did my brother request this? He has always had a problem with letting me make mine own decisions. Nay, ",
					var0000,
					". I will not abandon my beliefs. The Fellowship has done too much for my life.\"");
				var0003 = UI_wearing_fellowship();
				if (var0003) {
					say("\"And to think thou art a fellow member. There is no unity in thy speech!\"");
				}
				say("*");
				gflags[0x01D5] = true;
				abort;

			case "bye":
				break;
		}
		say("\"'Til next time, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(TOLEMAC);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern void Func0911 0x911 (var var0000);

void Func049E object#(0x49E) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		MORZ->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x0200]) {
			say("The man before you shyly looks away.");
			gflags[0x0200] = true;
		} else {
			say("\"H-H-How m-m-may I h-h-help thee, ",
				var0001,
				"?\"");
			add("stutter");
		}
		converse (0) {
			case "stutter":
				say("\"What st-st-stutter?\"  He turns to leave.*");
				abort;

			case "Moonglow":
				say("He points to the ground. \"That is here!\"");
				remove("Moonglow");
				fallthrough;

			case "name":
				say("\"M-M-Morz.\"");
				add("stutter");
				remove("name");
				fallthrough;

			case "job":
				say("\"I work with C-C-Cubolt, f-f-farming here.\"");
				add(["Cubolt", "C-C-Cubolt", "stutter", "here"]);
				fallthrough;

			case "here":
				say("\"M-M-Moonglow.\"");
				add("Moonglow");
				remove("here");
				fallthrough;

			case "C-C-Cubolt", "T-T-Tolemac":
				say("\"That is n-n-not f-f-funny!\" He blushes, and angrily turns away.*");
				abort;

			case "Cubolt":
				say("\"He is T-T-Tolemac's older br-br-brother. I t-t-trust him.\"");
				add(["Tolemac", "T-T-Tolemac", "stutter"]);
				remove(["Cubolt", "C-C-Cubolt"]);
				fallthrough;

			case "Tolemac":
				say("\"T-T-Tolemac is m-m-my f-f-friend. I've kn-kn-known h-h-him f-f-for a long t-t-time. He just joined The F-F-Fellowship. He wants m-m-me t-t-to join, t-t-too.\"");
				add("Fellowship");
				remove(["Tolemac", "T-T-Tolemac"]);
				fallthrough;

			case "Fellowship":
				say("\"T-T-Tolemac says they d-d-do m-m-many g-g-good things and they would h-h-help m-m-me m-m-make f-f-friends m-m-more easily. C-C-Cubolt thinks they're b-b-bad. I d-d-do not kn-kn-know what t-t-to d-d-do.\"");
				if (gflags[0x01D7]) {
					add("don't join");
				}
				remove("Fellowship");
				fallthrough;

			case "don't join":
				say("\"Thou d-d-dost n-n-not think I should join? C-C-Cubolt does not want m-m-me t-t-to either. I s-s-suppose I won't. I thank thee.\"");
				Func0911(0x0014);
				remove("don't join");
				fallthrough;

			case "bye":
				break;
		}
		say("\"B-b-bye.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func08A2 0x8A2 (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func049F object#(0x49F) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		JILLIAN->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = UI_part_of_day();
		add(["name", "job", "bye"]);
		if (!gflags[0x0201]) {
			say("You see a young woman with an intellectual bearing.");
			gflags[0x0201] = true;
		} else {
			say("\"Greetings, ",
				var0000,
				". As usual, I have much to do. However, I can spare a moment for thee if necessary.\"");
		}
		converse (0) {
			case "name":
				say("\"I am Jillian, ",
					var0001,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a scholar, ",
					var0001,
					". I also tutor and train those who seek knowledge here in Moonglow.\"");
				add(["Moonglow", "tutor"]);
				if (gflags[0x01F6]) {
					add("North East sea");
				}
				fallthrough;

			case "Moonglow":
				say("\"The town occupies almost the entire island of the same name. The island is located due east and a few degrees south of the city of Britain.\"");
				remove("Moonglow");
				fallthrough;

			case "North East sea":
				say("\"Long ago there was a small continent -- an island really -- called Ambrosia. However, meteorites struck it, destroying its primary city. The island was located in the North East sea. I suppose the ruins still lie far beneath the rubble.\"");
				remove("North East sea");
				fallthrough;

			case "tutor":
				var0002 = UI_part_of_day();
				if ((var0002 >= MORNING) || (var0002 <= EVENING)) {
					say("\"My price is 35 gold for each training session. Art thou willing to pay that?\"");
					if (Func090A()) {
						Func08A2([MAX_MANA, INTELLIGENCE], 35);
					} else {
						say("\"Then I really should return to my studies.\"");
					}
				} else {
					say("\"A better time to train thee would be when I am in my study.\"");
				}
				fallthrough;

			case "bye":
				break;
		}
		say("\"Fare thee well, ",
			var0000,
			",\" she says, returning to her previous activity.*");
	}
	if (event == PROXIMITY) {
		Func092E(JILLIAN);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04A0 object#(0x4A0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		EFFREM->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = "the Avatar";
		var0003 = UI_is_pc_female();
		var0004 = false;
		var0005 = Func08F7(JILLIAN);
		if (var0003) {
			var0006 = "woman";
			var0007 = "she";
		} else {
			var0006 = "man";
			var0007 = "he";
		}
		if (gflags[0x01F4]) {
			var0008 = var0000;
		} else {
			var0008 = var0001;
		}
		add(["name", "job", "bye"]);
		if (!gflags[0x0202]) {
			say("You see a man with a sour expression on his face holding a baby boy. As he sees you, his face brightens.");
			gflags[0x0202] = true;
		} else {
			say("\"Hello again, ",
				var0008,
				". I am here as usual, taking care of little Mikhail.\" Effrem grimaces.");
		}
		converse (0) {
			case "name":
				say("\"I am Effrem, ",
					var0001,
					". I am but a simple resident of Moonglow.");
				if (!gflags[0x01F4]) {
					say("\"What is thy name?\"");
					var0009 = Func090B([var0000, var0002, var0001]);
					if (var0009 == var0000) {
						say("\"Hello, ",
							var0000,
							".\" He turns to the baby.~~ \"Say `hello' to ",
							var0000,
							", Mikhail.\"");
						gflags[0x01F4] = true;
					}
					if (var0009 == var0001) {
						say("\"Fine, ",
							var0001,
							", if that is the title by which thou dost wish to be called.\" He looks at the infant. \"The ",
							var0006,
							" is quite a snob is ",
							var0007,
							" not, Mikhail?\"");
					}
					if (var0009 == var0002) {
						say("\"Aha, the Avatar, thou sayest. Whatever thou thinkest....\" He turns to the baby.~~\"This poor person here wants to be the Avatar. Too bad there is only one Avatar, eh Mikhail?\"");
					}
				}
				add(["Mikhail", "Moonglow"]);
				remove("name");
				fallthrough;

			case "job":
				say("\"Me? I do not have a job. Not a real one like my wife has. All I do all day is watch over my little Mikhail, here.\" He turns to look at the baby, taking on a patronizing tone. \"Yes, I take care of thee, do I not? Yes, I do. I sure do.\" He kisses the boy and then looks back up at you,\tembarrassed.~~\"Where was I? Oh yes. All I do is take care of the boy. What I should be doing is working, not staying at home. That should be Jillian's job. She belongs here at home, not me.\"");
				if (!var0004) {
					add("Jillian");
				}
				fallthrough;

			case "Mikhail":
				say("\"That is the name of my son. 'Tis a good name, yes?\"");
				remove("Mikhail");
				fallthrough;

			case "wife", "Jillian":
				say("\"My wife? Jillian? She's the scholar. She is a very good one, too. Not that I could not have done well. I could have. Better, in fact. But it is not worth arguing about now. She has her occupation, even if I do not have one. I should have a job, though. Dost thou not agree, ",
					var0001,
					"? This is not what a man ought to be doing. Staying at home raising the children, like this. 'Tis a disgrace!\"~~He begins to stroke the infant's small tuft of hair.*");
				if (var0005) {
					JILLIAN->say("\"Now Effrem! Thou knowest perfectly well what we agreed when little Mikhail was born. Thou shouldst be ashamed, talking such nonsense.\"*");
					JILLIAN->hide();
					EFFREM->say("He raises his shoulders, making him appear quite sheepish.");
				}
				remove(["wife", "Jillian"]);
				var0004 = true;
				fallthrough;

			case "Moonglow":
				say("\"What about Moonglow?\" He shrugs, \"'Tis a fair town, but a little too crowded these days. I hear it was a much nicer place back when Moonglow was separate from the Lycaeum. Much smaller.~~\"This place is too large to really get to know anyone. Not that I have had much of an opportunity, having to stay at home and take care of my son.\" He looks down at the boy, smiles, and tickles the baby's nose.");
				if (!var0005) {
					say("\"This is not a job for a man. My wife should be home with the boy, not me. I should be out earning a living. That is what I ought to be doing!\"");
				}
				if (!var0004) {
					add("wife");
				}
				remove("Moonglow");
				fallthrough;

			case "bye":
				break;
		}
		if (UI_is_pc_female()) {
			say("\"Leaving so soon? Fine, leave me with the baby. Go on, leave me. Just like my wife!\"*");
		} else {
			say("\"Leaving so soon? Ah, that's all right, ",
				var0001,
				". I understand, thou hast real man things to do.\"*");
		}
	}
	if (event == PROXIMITY) {
		Func092E(EFFREM);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func085F 0x85F (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func04A1 object#(0x4A1) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		CHAD->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = "Avatar";
		add(["name", "job", "bye"]);
		if (gflags[0x01F1]) {
			var0003 = var0000;
		}
		if (gflags[0x01F3]) {
			var0003 = var0002;
		}
		if (gflags[0x01F2]) {
			var0003 = var0001;
		}
		if (!gflags[0x0203]) {
			say("You see a lithe-looking fighter smile in your direction.");
		} else {
			say("Chad smiles. \"Hello, ",
				var0003,
				". I hope thy days are going well.\"");
		}
		converse (0) {
			case "name":
				say("\"Chad, at thy service, ",
					var0001,
					". And what is thy name?\"");
				remove("name");
				var0004 = Func090B([var0000, var0002, var0001]);
				if (var0004 == var0000) {
					say("\"Greetings, ",
						var0000,
						". I am at thy service.\"");
					gflags[0x01F1] = true;
				}
				if (var0004 == var0001) {
					say("\"Greetings, ",
						var0001,
						".\" He shrugs.");
					gflags[0x01F2] = true;
				}
				if (var0004 == var0002) {
					say("\"Of course, of course,\" he smiles. \"I should have realized that thou wert the Avatar. Why, it must have been, oh, at least, two weeks since thy last visit!\" He winks.*");
					var0005 = Func08F7(SHAMINO);
					if (var0005) {
						SHAMINO->say("\"Thou art a fool! Cannot thy feeble eyes see this is the Avatar?\"*");
						SHAMINO->hide();
						CHAD->say("\"Yes, yes! I can see that,\" he laughs. \"Then I must be Iolo!\"*");
						var0006 = Func08F7(IOLO);
						SHAMINO->show_npc_face(0x0000);
						if (var0006) {
							say("\"No, rogue! He is Iolo!\" He nods to Iolo. \"Thou... art a blind idiot!\"*");
						} else {
							say("\"No, rogue, thou art a blind idiot!\"*");
						}
						SHAMINO->hide();
						CHAD->show_npc_face(0x0000);
					}
					gflags[0x01F3] = true;
				}
				gflags[0x0203] = true;
				remove("name");
				fallthrough;

			case "job":
				say("\"I teach expertise with light weapons here in Moonglow.\"");
				add(["train", "Moonglow"]);
				fallthrough;

			case "Moonglow":
				say("\"Dost thou want the location of the city or to know about the townspeople?\"");
				add(["location", "townspeople"]);
				remove("Moonglow");
				fallthrough;

			case "location":
				say("\"Moonglow is on an island directly east of the border between Britain and Paws.\"");
				remove("location");
				fallthrough;

			case "townspeople":
				say("\"The person to ask for that information would be Phearcy, the bartender. All I know are other bar patrons: Tolemac and Morz, two farmers.\"");
				remove("townspeople");
				fallthrough;

			case "train":
				var0007 = UI_part_of_day();
				if ((var0007 == EVENING) || (var0007 == NIGHT)) {
					say("\"Yes, I train people. But only during the day. Now, 'tis time for drink!\"");
				} else {
					say("\"Wilt thou pay the 45 gold for the training session?\"");
					if (Func090A()) {
						Func085F([DEXTERITY, COMBAT], 45);
					} else {
						say("\"Well, mayhap next time thou wilt be willing.\"");
					}
				}
				fallthrough;

			case "bye":
				break;
		}
		say("\"Remember, always keeps thy wits about and thy blade ready.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(CHAD);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern void Func0879 0x879 (var var0000, var var0001, var var0002);
extern void Func092E 0x92E (var var0000);

void Func04A2 object#(0x4A2) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		ELAD->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x0204]) {
			say("The man looks at you through smiling eyes.");
		} else {
			say("Elad bows in your direction.~\"My pleasure to see thee again.\"");
		}
		converse (0) {
			case "name":
				say("\"Elad is my name, ",
					var0001,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the healer of the residents of this community.\"");
				add(["residents", "heal", "community"]);
				fallthrough;

			case "community":
				say("\"Moonglow is mine home. I have lived in this town for mine entire life. But I am weary of my life here. 'Tis time, I think, to move on. If only I did not have such strong ties here.\"~He sighs sadly.");
				if (!gflags[0x01ED]) {
					say("\"There is a traveller visiting from Yew. He has seen many exciting things in Britannia. I enjoy listening to his many tales of adventure.\"");
					add("traveller");
				}
				add("ties");
				remove("community");
				fallthrough;

			case "traveller":
				say("\"His name is Addom. While he is in town, I am letting him stay in one of my beds.\"");
				remove("traveller");
				fallthrough;

			case "heal":
				say("\"Yes, I sell mine healing services to those who need them.\"");
				add("services");
				remove("heal");
				fallthrough;

			case "services":
				var0002 = UI_part_of_day();
				if ((var0002 == DAWN) || ((var0002 == MORNING) || ((var0002 == NOON) || (var0002 == EVENING)))) {
					Func0879(0x0019, 0x000A, 0x01A9);
				} else {
					say("\"Perhaps thou couldst come for healing when I am working in my shop.\"");
				}
				remove("services");
				fallthrough;

			case "ties":
				say("\"My patients here in Moonglow. Who will help them if not I?\"");
				remove("ties");
				fallthrough;

			case "residents":
				say("\"There are many people in Moonglow. My father once told me that the town was much smaller during his time. In fact, he said that Moonglow used to be separate from the Lycaeum!~~\"But, I digress. Thou didst ask about the people. I know most of the residents here. Dost thou want to know about the Lycaeum, the observatory, The Fellowship, the farmers, the trainer, or the tavern?\"");
				add(["Lycaeum", "observatory", "Fellowship", "farmers", "trainer", "tavern"]);
				remove("residents");
				fallthrough;

			case "Lycaeum":
				say("\"The Lycaeum is run by a kind man named Nelson. His advisor is Zelda. Do not break any rules in her presence or thou wilt receive a sharp reprimand!~\"Jillian also studies there. She can teach thee many things. And do not worry about Mariah. She is harmless if thou wilt but leave her be.\"");
				remove("Lycaeum");
				fallthrough;

			case "observatory":
				say("\"The head there is Brion. He is the twin of the head of the Lycaeum. I like him, although he and his brother are both a little eccentric.\"");
				remove("observatory");
				fallthrough;

			case "Fellowship":
				say("\"I know these people least of all. The branch opened here about five years ago under the direction of a man named Rankin. A few months ago, a clerk joined him. Her name is Balayna.\"");
				remove("Fellowship");
				fallthrough;

			case "farmers":
				say("\"Cubolt owns the farm. He manages it with his younger brother Tolemac and their friend Morz. I am not positive, but I believe Tolemac recently joined The Fellowship.\"");
				remove("farmers");
				fallthrough;

			case "tavern":
				say("\"Phearcy tends the bar there. He is another good person with whom thou shouldst speak about the townspeople. However, he enjoys gossip, and may be a bit single-minded.\"");
				remove("tavern");
				fallthrough;

			case "trainer":
				say("\"The trainer is named Chad. I believe he specializes in swift, skillful fighting, with knives and swords and such. See him if thou wishest to improve thy skills.\"");
				remove("trainer");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Leaving so soon, ",
			var0001,
			"? Very well, may thy journeys be filled with prosperity.\"~He sighs. Suddenly, his face brightens.~ \"Wait! Perhaps I could join thee?\"~He quickly stands up, smiling. Then, just as suddenly, his smile fades.~\"No. I cannot. I have far too many things to do, too many people to care for. Perhaps in the future?\"~He forces a smile.~\"I hope when we meet next time, ",
			var0001,
			", I will have the opportunity to join thee. Pleasant journey, my friend.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(ELAD);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090A 0x90A ();
extern void Func08CB 0x8CB ();
extern void Func08CC 0x8CC ();
extern void Func092E 0x92E (var var0000);

void Func04A3 object#(0x4A3) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		PHEARCY->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = Func08F7(DUPRE);
		var0003 = UI_part_of_day();
		var0004 = false;
		if (var0003 == NIGHT) {
			var0005 = Func08FC(PHEARCY, 0xFF06);
			if (var0005) {
				say("\"Sorry, ",
					var0001,
					", I may talk to thee later. But now I wish to pay attention to the meeting.\"");
				abort;
			}
			say("\"Sorry, ",
				var0001,
				", I must get to the Fellowship meeting!\"");
			abort;
		}
		add(["name", "job", "Fellowship", "bye"]);
		if (var0002) {
			say("\"Why, Hello, Sir Dupre. Things fare well I trust?\"");
			DUPRE->say("\"Greetings, fair Phearcy. Yes, thank thee, things are well.\"");
			DUPRE->hide();
			PHEARCY->show_npc_face(0x0000);
		}
		if (!gflags[0x0205]) {
			say("You see a man who gives you a friendly smile.");
			gflags[0x0205] = true;
		} else {
			say("\"How may I help thee, ",
				var0001,
				"?\" asks Phearcy.");
		}
		if (gflags[0x01DA]) {
			if (!gflags[0x01D9]) {
				say("\"Hast thou discovered the reason for Zelda's moods?\"");
				var0006 = Func090A();
				if (var0006) {
					say("\"Excellent. Thou canst tell me while I get thy refreshment.\" As he prepares your meal, you tell him what you know about Zelda and Brion.");
					var0007 = UI_add_party_items(0x0005, 0x0179, QUALITY_ANY, 0x000F, true);
					if (!var0007) {
						say("\"Too bad, ",
							var0001,
							". When thou art carrying less weighty things I shall give thee thy jerky.\"");
					} else {
						gflags[0x01D9] = true;
					}
					var0008 = UI_add_party_items(0x0005, 0x0268, QUALITY_ANY, 0x0000, true);
					if (!var0008) {
						say("\"And when thy load is lighter, then I can give thee thy beverages.\"");
					}
				} else {
					say("\"'Tis a shame, ",
						var0001,
						". Perhaps thou wilt know next time.\"");
				}
			}
		}
		converse (0) {
			case "name":
				say("\"I am Phearcy, at thy service.\" He gives a short bow.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the bartender here in Moonglow.\"");
				add(["Moonglow", "buy"]);
				fallthrough;

			case "Fellowship":
				say("\"Oh, thou referest to this?\" he asks, pointing to his medallion. \"Thou hast not heard of The Fellowship? I strongly recommend that thou speakest with Rankin or Balayna at the branch office. The Fellowship has done many things for our town, if not for all of Britannia. I am a firm believer in neo-realism.\"");
				add("neo-realism");
				remove("Fellowship");
				fallthrough;

			case "neo-realism":
				say("\"That is the fundamental principle of The Fellowship. It is composed of the triad of inner strength, which is strive for unity, trust thy brother, and... one other one.... Oh, yes, thou dost get what thou deservest, or some such.\"");
				remove("neo-realism");
				fallthrough;

			case "Moonglow":
				say("\"Thou wants to know about someone in the town? Thou hast asked the right person. I know all about the residents here in Moonglow. I would be happy to tell thee about any of the shop keepers, scholars, or farmers who live here. Or art thou interested in the trainer, healer, mage, or Fellowship leaders?");
				remove("Moonglow");
				UI_push_answers();
				add(["no one", "shop keeper", "scholars", "farmers", "trainer", "healer", "mage", "leaders"]);
				fallthrough;

			case "scholars":
				say("\"Ah, the learned scholars. I can tell thee about Brion, Nelson, Zelda, and Jillian.\"");
				UI_push_answers();
				add(["no one", "Brion", "Nelson", "Zelda", "Jillian"]);
				fallthrough;

			case "leaders":
				say("\"Dost thou want to know about the one in charge or his clerk?\"");
				UI_push_answers();
				add(["no one", "charge", "clerk"]);
				fallthrough;

			case "mage":
				say("\"Ah, yes, Mariah is very nice.\"");
				if (gflags[0x01D9]) {
					say("\"She can sell thee many spells.\"");
				} else if (!var0004) {
					say("\"But I am more interested in discussing Zelda.\"");
				}
				remove("mage");
				fallthrough;

			case "shop keeper":
				say("\"She is a tailor. Lovely woman, that Carlyn. She minds the bar when I go to the Fellowship meetings at night.\"");
				if (!gflags[0x01D9]) {
					if (!var0004) {
						say("\"But I would rather discuss Zelda.\"");
					}
				}
				remove("shop keeper");
				fallthrough;

			case "Jillian":
				say("\"Wonderful scholar. Very nice woman. Married to Effrem.\"");
				add("Effrem");
				if (!gflags[0x01D9]) {
					if (!var0004) {
						say("\"But I am more interested in discussing Zelda.\"");
					}
				}
				remove("Jillian");
				fallthrough;

			case "Effrem":
				say("\"Friendly fellow -- I like him.\"");
				if (gflags[0x01D9]) {
					say("\"He stays home to care for their son.\"");
				} else if (!var0004) {
					say("\"But I am more interested in discussing Brion.\"");
				}
				remove("Effrem");
				fallthrough;

			case "trainer":
				say("\"Chad is a friendly fellow -- I like him.\"");
				if (!gflags[0x01D9]) {
					if (!var0004) {
						say("\"But I would rather discuss Brion.\"");
					}
				}
				remove("trainer");
				fallthrough;

			case "farmers":
				say("\"Tolemac and Cubolt are brothers. With Morz's help, they run a farm.\"");
				if (!gflags[0x01D9]) {
					if (!var0004) {
						say("\"But I would prefer to talk about Brion.\"");
					}
				}
				remove("farmers");
				fallthrough;

			case "healer":
				say("\"Friendly fellow -- I like him. His name is Elad.\"");
				if (gflags[0x01D9]) {
					say("\"Sadly, his true desire is to leave Moonglow in search of adventure. But he will not leave, for he feels too much obligation for his patients.\" Phearcy shrugs.~\"Perhaps not without reason.\"");
				} else if (!var0004) {
					say("\"But Brion is more interesting to me.\"");
				}
				remove("healer");
				fallthrough;

			case "Nelson":
				say("\"He is Brion's twin brother.\"");
				if (!gflags[0x01D9]) {
					if (!var0004) {
						say("\"Speaking of that, I would like to discuss Brion.\"");
					}
				}
				remove("Nelson");
				fallthrough;

			case "charge":
				say("\"Rankin is in charge of the entire local branch. If thou hast any questions about The Fellowship, he can answer them.\"");
				remove("charge");
				fallthrough;

			case "clerk":
				say("\"If thou hast any questions about The Fellowship, Balayna can answer them.\"");
				remove("clerk");
				fallthrough;

			case "Brion", "Zelda":
				if (gflags[0x01D9]) {
					say("\"Well, as thou dost know, Brion is the head of Observatory, and Zelda, the advisor at the Lyceaum, is in love with him.\"");
				} else {
					say("\"Ah, so thou dost wonder, too. All I know is that every time someone mentions Brion's name to Zelda, her serious expression changes to a smile.~~\"I have a deal for thee. Find out what their story is, and I will give thee and thy friends a free meal and drink. Thou canst find Brion at the observatory and Zelda at the Lyceaum.\"");
					var0004 = true;
					remove(["Brion", "Zelda"]);
				}
				fallthrough;

			case "no one":
				UI_pop_answers();
				add("bye");
				fallthrough;

			case "buy":
				say("\"Food or drink, ",
					var0001,
					"?\"");
				UI_push_answers();
				add(["food", "drink"]);
				remove("buy");
				fallthrough;

			case "food":
				Func08CB();
				UI_pop_answers();
				remove("food");
				fallthrough;

			case "drink":
				Func08CC();
				UI_pop_answers();
				remove("drink");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Remember! Tell them thou didst eat at the Friendly Knave!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(PHEARCY);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();

void Func04A4 object#(0x4A4) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		ADDOM->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x0206]) {
			say("You see a handsome,hardened, muscular man who, surprisingly, bears a friendly smile on his face.");
			gflags[0x0206] = true;
		} else {
			say("\"Please, ",
				var0001,
				". Join me for some company.\"");
			if (gflags[0x01DD] && (!gflags[0x01ED])) {
				add("crystal");
			}
		}
		converse (0) {
			case "name":
				say("\"I am called Addom, ",
					var0001,
					".");
				remove("name");
				fallthrough;

			case "job":
				say("\"I travel the world in search of rare and unique items to sell to museums. I am not a resident of Moonglow.\"");
				add(["Moonglow", "travel", "items"]);
				if (gflags[0x01DD] && (!gflags[0x01ED])) {
					add("crystal");
				}
				fallthrough;

			case "travel":
				say("\"I have been all over Britannia, ",
					var0001,
					". Nothing about the land frightens me any longer.\"~~ He grins. \"The same is not true of some of the residents.\"");
				add("residents");
				remove("travel");
				fallthrough;

			case "residents":
				say("\"'Twas a joke, ",
					var0001,
					".\"");
				remove("residents");
				fallthrough;

			case "items":
				say("\"I have found many odd artifacts. Many of the things thou hast seen in The Music Hall and the Lycaeum have been brought to them by me.\"");
				if (!gflags[0x01DD]) {
					say("\"In fact, ",
						var0001,
						", I have this unique crystal I found on the mainland near Jhelom that I am hoping will fetch a fair price from Nelson.\"~~He pulls out a small clear crystal and shows it to you.~~The facets gleam in the light.");
					if (!var0002) {
						add("Nelson");
					}
				}
				remove("items");
				fallthrough;

			case "Nelson":
				say("\"He is in charge of the Lycaeum. He loves trinkets and rarities.\"");
				var0002 = true;
				remove("Nelson");
				fallthrough;

			case "Moonglow":
				say("\"I am afraid, ",
					var0001,
					", that I know nothing about this fair city. I reside in Yew with my wife, Penni, who is the trainer there.~~\"Actually, ",
					var0001,
					", I have met two people here, other than Nelson.\"");
				remove("Moonglow");
				add(["people", "Penni"]);
				gflags[0x01DE] = true;
				fallthrough;

			case "people":
				say("I have come to know the bartender and the healer.\"");
				remove("people");
				add(["bartender", "healer"]);
				fallthrough;

			case "bartender":
				say("\"Phearcy is quite friendly. But he does love to gossip. He has offered me a deal whereby I might earn free meals if I can discover why Nelson's assistant reacts differently to some man, or something like that. I am not going to bother, but pray, do not tell Phearcy that!\"");
				if (!var0002) {
					add("Nelson");
				}
				remove("bartender");
				fallthrough;

			case "healer":
				say("\"Elad is very generous. In fact, he is letting me sleep in one of his spare beds while I am in town. His only charge,\" he laughs, \"is the stories I tell him about mine adventures.~~\"Not a bad trade if I say so myself,\" he shrugs.");
				remove("healer");
				fallthrough;

			case "Penni":
				say("\"She teaches close-quarter combat. Everything I needed to know to survive on my journeys I learned from her.\"");
				remove("Penni");
				fallthrough;

			case "crystal":
				say("\"Dost thou mean this?\" He pulls a small, clear, multi-faceted gem from a pouch beneath his cloak. \"I just found this recently. I was hoping to sell it to the Lycaeum, but, alas, they have no use for it. Dost thou want it, perhaps?\" he asks, hopefully. \"I will sell it to thee for 20 gold.\"");
				var0003 = Func090A();
				if (var0003) {
					var0004 = UI_add_party_items(0x0001, 0x02EA, QUALITY_ANY, FRAME_ANY, false);
					var0005 = UI_remove_party_items(0x0014, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0005) {
						if (var0004) {
							say("\"I thank thee.\"");
							gflags[0x01ED] = true;
						} else {
							say("\"I am truly sorry, ",
								var0001,
								", but thou dost not have enough room.\"");
						}
					} else {
						say("\"I am truly sorry, ",
							var0001,
							", but thou dost not have enough gold.\"");
						var0006 = UI_remove_party_items(0x0001, 0x02EA, QUALITY_ANY, FRAME_ANY, false);
					}
				} else {
					say("\"Very well,\" he sighs, disappointed.");
				}
				remove("crystal");
				fallthrough;

			case "bye":
				break;
		}
		say("\"May thy days be always pleasant, ",
			var0001,
			".\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func04A5 object#(0x4A5) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		FRANK->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		add(["name", "job", "bye"]);
		if (gflags[0x0207]) {
			say("\"I think thou dost ask too many questions.\"");
			var0002 = true;
		} else {
			say("You see a fox standing on his hind legs, staring directly at you.");
			gflags[0x0207] = true;
		}
		converse (0) {
			case "name":
				say("\"My name is Frank, devout follower of honesty.\" He makes a slight bow.");
				remove("name");
				if (!var0002) {
					say("\"And who wouldst thou be?\"");
					add(["won't tell", var0000]);
				}
				fallthrough;

			case var0000:
				say("\"It is good that thou didst tell me. One should always be honest in one's dealings with others. By the by, thy voice crackles too much.\"");
				remove(["won't tell", var0000]);
				fallthrough;

			case "won't tell":
				say("\"I am sorry to see that thou art not trusting enough to reveal thy name.\" He shrugs. \"By the by, thy voice crackles too much.\"");
				remove(["won't tell", var0000]);
				fallthrough;

			case "job":
				say("\"I,\" he says, \"am on a quest. A quest for honesty.\" He sniffs the air, and then turns to you.~~ \"By the by, thou mightest have more friends if thou didst bathe a little more often.\"");
				add(["bathed", "friends"]);
				fallthrough;

			case "bathed":
				say("\"Yes, as in `take a bath.' I must inform thee that thou dost truly stink!\"");
				remove("bathed");
				fallthrough;

			case "friends":
				say("\"Speaking of thy friends, I have heard that thy companion, Dupre, is a drunken sot.\"");
				var0003 = Func08F7(DUPRE);
				if (var0003) {
					DUPRE->say("\"Hey, I don't think --\"*");
					DUPRE->hide();
					FRANK->show_npc_face(0x0000);
				}
				say("\"Yes, from what I have been told, that Dupre has no will when confronted by a tankard of, well, anything.~~\"As a matter of fact, thou hast fairly poor taste in companions overall.\"");
				add("companions");
				remove("friends");
				fallthrough;

			case "companions":
				say("\"I am glad thou didst ask, ",
					var0001,
					". Thy friend, Iolo, charges far too much for his bows. Perhaps thou couldst have a chat with him.\"");
				var0004 = Func08F7(IOLO);
				if (var0004) {
					IOLO->say("\"Too much? What dost thou mean, too --\"*");
					IOLO->hide();
					FRANK->show_npc_face(0x0000);
				}
				say("\"His bows and crossbows just aren't of the quality that is worth the kind of gold he charges.\"~~He takes a step back.~~\"Gads! Thy breath could gag an ox. Thou shouldst consider taking better care of thy teeth, or thy fellows will leave thee.\"");
				add("teeth");
				remove("companions");
				fallthrough;

			case "teeth":
				say("\"That is the reason for thine offensive mouth odor. I have not seen anything that yellow since the time thy fellow Shamino ran away from a battle in fear.\"");
				var0005 = Func08F7(SHAMINO);
				if (var0005) {
					SHAMINO->say("\"Thou must be mad!\" Shamino turns to you. \"This rogue needs to be taught a lesson.\"*");
					SHAMINO->hide();
					FRANK->say("\"And thy friend, Shamino, ",
						var0000,
						", has quite a bellicose temper.\"");
					add("bellicose");
				}
				say("\"And,\" he pauses, peering very closely at your face, \"I never noticed how large thy nose is. 'Tis amazing thou canst find enough air to breathe.\"");
				add("nose");
				remove("teeth");
				fallthrough;

			case "bellicose":
				say("\"Yes, bellicose, warlike, angry. If thou dost not know that, I believe thou needest to improve thy vocabulary. Thou art too unschooled.\"");
				remove("bellicose");
				add("unschooled");
				fallthrough;

			case "unschooled":
				say("\"Trust me, ",
					var0001,
					", thou art too ignorant to argue with me.\"");
				if (var0003) {
					DUPRE->say("\"Oh, this is too much!\"*");
					DUPRE->hide();
					FRANK->show_npc_face(0x0000);
				}
				remove("unschooled");
				fallthrough;

			case "nose":
				say("\"Truly quite large, and not in the least bit attractive.\"");
				remove("nose");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Thou hast the manners of a pig. 'Tis not polite to break conversation so abruptly.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04A6 object#(0x4A6) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		THURSTON->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = THURSTON->get_npc_object()->get_schedule_type();
		var0003 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x0212] && (!gflags[0x0218])) {
			add("thief");
		}
		if (gflags[0x021A]) {
			if (!gflags[0x021D]) {
				add("delivery");
			}
		}
		if (gflags[0x021B]) {
			add("Polly");
		}
		if (!gflags[0x021F]) {
			say("You see a man covered in the sweat of a hard day's work.");
			gflags[0x021F] = true;
		} else {
			say("\"Greetings, ",
				var0000,
				",\" says Thurston.");
		}
		converse (0) {
			case "name":
				say("\"I am Thurston.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I operate the mill here in Paws.\"");
				add(["mill", "Paws"]);
				fallthrough;

			case "mill":
				say("\"The local economy depends upon the mill for flour. So I ensure that the mill runs. Sometimes, I feel that keeping the wheels turning is the only reason to live.\"");
				add(["flour", "reason to live"]);
				remove("mill");
				fallthrough;

			case "flour":
				if (var0002 == TEND_SHOP) {
					say("\"A sack will cost thee 12 gold. Art thou interested in purchasing some?\"");
					if (Func090A()) {
						while (true) {
							var0004 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
							if (var0004 >= 0x000C) {
								var0005 = UI_add_party_items(0x0001, 0x035F, QUALITY_ANY, 0x000E, true);
								if (var0005) {
									var0006 = UI_remove_party_items(0x000C, 0x0284, QUALITY_ANY, FRAME_ANY, true);
									if (var0006) {
										say("\"Here it is,\" he says, handing you the sack. \"Wouldst thou wish another?\"*");
										var0007 = Func090A();
										if (var0007) {
											continue;
										}
										// I see no way other than this
										goto labelFunc04A6_02F6;
									}
									break;
								}
								say("\"Thou hast not the room for this sack.\"");
								break;
							}
							say("\"Thou hast not the gold for this, ",
								var0000,
								". Perhaps some other time.\"");
							break;
						}
					} else {
						say("\"Perhaps next time, ",
							var0000,
							".\"");
					}
				} else {
					say("\"The mill is closed at present. If thou wouldst please return when it is open again I would gladly sell thee all the flour thou canst carry.\"");
				}
				remove("flour");
				fallthrough;

			case "Paws":
				say("\"In case thou hadst not noticed, the people who live here are not so well off as their cousins who live in Britain. In fact, we have even had a theft recently.\"");
				remove("Paws");
				if (!gflags[0x0218]) {
					add("theft");
				}
				fallthrough;

			case "thief", "theft":
				say("\"Indeed, thou shouldst be wary, ",
					var0000,
					". There is a thief in this town! Morfin, a merchant, had several vials of valuable silver snake venom stolen.\"");
				gflags[0x0212] = true;
				remove(["theft", "thief"]);
				add("snake venom");
				fallthrough;

			case "snake venom":
				say("\"It is procured from the Silver Serpent. I believe Gargoyles used it habitually in the old days. I am not so sure what it might do to a human. Perhaps Morfin can tell thee more.\"");
				remove("snake venom");
				fallthrough;

			case "delivery":
				if (gflags[0x021D]) {
					say("\"I have paid thee once for thy delivery. I shall not do so again.\"");
				} else {
					var0008 = UI_remove_party_items(0x0001, 0x02A5, QUALITY_ANY, FRAME_ANY, true);
					if (var0008) {
						say("You give the sack over to Thurston. He opens it and reaches inside. His hand comes back out filled with wheat. He sifts through it with his fingers. \"I know Camille is oft quite busy running her farm. Thanks to thee for making the delivery.\"");
						var0009 = UI_add_party_items(0x000A, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						if (var0009) {
							say("\"This should compensate thee for thy trouble.\" He hands you ten gold pieces.");
							gflags[0x021D] = true;
						}
					} else {
						say("\"'Tis a puzzlement! Camille promised to make a delivery of wheat to me sometime today and it is late. I wonder where it could be.\"");
					}
				}
				remove("delivery");
				fallthrough;

			case "reason to live":
				say("\"I have no wife or family. I have thought about joining The Fellowship, but I refuse. I have nothing but my work, and a drink at the Salty Dog now and then.\"");
				remove("reason to live");
				add(["Fellowship", "Salty Dog"]);
				fallthrough;

			case "Fellowship":
				say("\"I know they do good work here in town, but there is just something about them that makes me uncomfortable.\"");
				if (var0003) {
					say("He notices your Fellowship medallion and hurriedly clears his throat. \"No offense intended, ",
						var0000,
						".\"");
				}
				remove("Fellowship");
				fallthrough;

			case "Salty Dog":
				if (!gflags[0x0216]) {
					say("\"In truth, I go there more to be near Polly, the innkeeper, than for the wine. But she is always busy tending bar and has no time for me, I am sure.\"");
					gflags[0x0216] = true;
				} else {
					say("\"I should go to the Salty Dog and see Polly.\" Thurston stares off into space for a few moments, his eyes are big and he has a moony expression on his face. Suddenly, he snaps back to reality. \"Excuse me, thou wert saying something?\"");
				}
				remove("Salty Dog");
				fallthrough;

			case "Polly":
				if (!gflags[0x0231]) {
					say("You relate to Thurston what Polly had said about him. He looks at you with joyous surprise. \"Did Polly really say these things?! It is ridiculous that she believes I am too good for her!\" Suddenly he forgets his work and starts hurrying around in excitement. \"For years I have loved this woman from afar. I will begin courting her immediately!\"");
					gflags[0x0231] = true;
				} else {
					say("\"I want to thank thee for telling me the truth about Polly's feelings about me. I can be such a stick in the mud running this bloody mill all of the time that I would never have noticed it if she were wearing a sign on her back! This is just what I needed to help me start enjoying my life!\"");
				}
				remove("Polly");
				fallthrough;

			case "bye":
labelFunc04A6_02F6:
				break;
		}

		say("\"Good day to thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(THURSTON);
	}
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04A7 object#(0x4A7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		FERIDWYN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		var0002 = false;
		var0003 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
		if (gflags[0x0236] && (!gflags[0x0213])) {
			if (!gflags[0x0212]) {
				say("\"Avatar! Didst thou know that the merchant Morfin had a quantity of silver serpent venom stolen? This theft has caused the community no small amount of distress.\"");
			} else {
				say("\"Avatar! Oh Avatar! I have news!\"");
			}
			say("\"Garritt, my son, told me that Tobias was in possession of some silver snake venom. I went to investigate and found Tobias with it!\"*");
			var0004 = Func08F7(MERRICK);
			if (var0004) {
				MERRICK->say("\"That is correct! I am a witness that what Feridwyn has said is the truth!\"*");
				MERRICK->hide();
				FERIDWYN->show_npc_face(0x0000);
			}
			say("\"I have often said that Tobias was no good. Now here is proof. He is the thief that has been praying upon one of our honest merchants! And to think I let him come into contact with my son! I hope he shall be dealt with in a manner appropriate to one who is leading youth astray from the way of The Fellowship.");
			say("\"I suggest that thou go and speak with his mother at once! Camille should keep a tighter rein on her offspring!\"*");
			gflags[0x0213] = true;
			gflags[0x021C] = true;
			CAMILLE->get_npc_object()->set_schedule_type(TALK);
			FERIDWYN->get_npc_object()->set_schedule_type(LOITER);
			abort;
		}
		add(["name", "job", "bye"]);
		if (gflags[0x0105]) {
			add("Elizabeth and Abraham");
		}
		var0005 = Func0931(PARTY, 0x0001, 0x0289, QUALITY_ANY, 0x0001);
		if (var0005) {
			var0002 = true;
			add(["found venom", "case solved"]);
		}
		if (gflags[0x0218]) {
			add(["found venom", "Garritt caught", "take action", "Tobias", "case solved"]);
		}
		if (!gflags[0x0220]) {
			say("You see a small man with twisted, sloped posture. He looks you up and down before deciding he will speak to you.");
			say("\"I had gotten word that thou wert coming to our town. I have been expecting thee. I must admit, though, that I find it difficult to believe that thou art truly the Avatar.\"");
			gflags[0x0220] = true;
		} else {
			say("\"Thou dost wish to speak with me again, Avatar?\" says Feridwyn.");
		}
		converse (0) {
			case "name":
				say("\"My name is Feridwyn.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I run the Fellowship shelter with my wife Brita and my son Garritt here in Paws.\"");
				add(["Fellowship", "shelter", "Brita", "Garritt", "Paws"]);
				fallthrough;

			case "Fellowship":
				if (!(var0001 && (!gflags[0x0006]))) {
					say("\"Wouldst thou like to join?\"");
					var0006 = Func090A();
					if (var0006) {
						say("\"Then thou must see Batlin of Britain. He is the founder of The Fellowship.\"");
					} else {
						say("\"Thou dost not yet comprehend how much thy life could be improved through the guidance of The Fellowship.\"");
					}
				} else {
					say("\"Gentle Avatar, it is good of thee to come to our humble town. Thou canst well see that The Fellowship has much work to do if it is to alleviate the suffering of the unfortunate of Britannia.\"");
				}
				remove("Fellowship");
				fallthrough;

			case "shelter":
				say("\"This is the only place in all of Britannia designed for the aid and care of the poor. It is hard work, but then one strives to be worthy of that which we wish to receive.\"");
				remove("shelter");
				fallthrough;

			case "Brita":
				if (!gflags[0x0221]) {
					say("\"A wonderful woman. Thou shouldst meet her.\"");
					var0007 = Func08F7(BRITA);
					if (var0007) {
						BRITA->say("\"Mine husband is such a flatterer. The truth is that our work for The Fellowship has brought us closer together.\"*");
						BRITA->hide();
						FERIDWYN->show_npc_face(0x0000);
					}
				} else {
					say("\"As thou dost already know my wife Brita, I am certain thou wilt agree that thou couldst not find a more dedicated practitioner of The Fellowship's teachings.\"");
				}
				remove("Brita");
				fallthrough;

			case "Garritt":
				say("\"Thankfully, we have been able to raise our son properly by emphasizing the teachings of The Fellowship. Garritt shall not be trapped in the poverty of his surroundings. He shall be intellectually, spiritually, and morally superior. He's talented, too!\"");
				remove("Garritt");
				add("talented");
				fallthrough;

			case "talented":
				say("\"He plays the whistle panpipes extremely well for a lad his age! Brita and I are very proud. He could probably attend The Music Hall in Britain when he is older!\"");
				remove("talented");
				fallthrough;

			case "Paws":
				say("\"As this is a small town with few privileges and little privacy, our family has come to know everyone in Paws quite well. Is there someone thou dost wish to hear about? I am well acquainted with these people.\"");
				remove("Paws");
				add(["merchants", "farmers", "shelter residents", "beggars"]);
				fallthrough;

			case "merchants":
				say("\"They would be Morfin, Andrew, Thurston, and Beverlea.\"");
				add(["Morfin", "Andrew", "Thurston", "Beverlea"]);
				remove("merchants");
				fallthrough;

			case "Beverlea":
				say("\"She is a nearly blind elderly woman who runs the antique shoppe on the east side of the river.\"");
				remove("Beverlea");
				fallthrough;

			case "farmers":
				say("\"That would be Camille and her son Tobias.\"");
				add(["Camille", "Tobias"]);
				remove("farmers");
				fallthrough;

			case "beggars":
				say("\"Oh. Them. Komor and Fenn.\" Feridwyn rolls his eyes.");
				add(["Komor", "Fenn"]);
				remove("beggars");
				fallthrough;

			case "shelter residents":
				say("\"Our residents include Alina and her child, and Merrick.\"");
				add(["Alina", "Merrick"]);
				remove("shelter residents");
				fallthrough;

			case "Alina":
				say("\"Her husband is currently in Britain somewhere. I do not know the details. She has a small child.\"");
				remove("Alina");
				fallthrough;

			case "Elizabeth and Abraham":
				if (!gflags[0x016B]) {
					say("\"I am so sorry! Thou hast just missed them! Elizabeth and Abraham were here delivering funds, but they have gone now to Jhelom. There is currently no Fellowship branch there, so they are taking the Triad of Inner Strength to lands west!\"");
					gflags[0x0217] = true;
				} else {
					say("\"I have not seen Elizabeth and Abraham for many days now.\"");
				}
				remove("Elizabeth and Abraham");
				fallthrough;

			case "Thurston":
				say("\"Thurston owns the mill. He could do better if he ran his business with more of an eye toward profit.\"");
				remove("Thurston");
				fallthrough;

			case "Camille":
				say("\"She's a sad woman -- a widow -- who is living in the past. 'Tis a pity, really. Fortunately her husband left her the farm which does happen to turn a profit.\"");
				remove("Camille");
				fallthrough;

			case "Merrick":
				say("\"A splendid example of The Fellowship turning someone's life around. Presently he resides in our shelter.\"");
				remove("Merrick");
				fallthrough;

			case "Morfin":
				say("\"Morfin is a clever and industrious member of The Fellowship. He runs the local slaughterhouse and is also a snake venom merchant.\"");
				add("snake venom");
				remove("Morfin");
				fallthrough;

			case "Andrew":
				say("\"Andrew is such a happy young man. He doth not notice the myriad of personal problems that he is afflicted with.\"");
				remove("Andrew");
				fallthrough;

			case "Tobias":
				if (!gflags[0x0218]) {
					say("\"A local rascal. I normally would not allow Garritt to associate with such a troublemaker, but The Fellowship has taught me to be a tolerant parent. Besides, associating with my son might do the lad some good. Who knows?\"");
				} else {
					say("\"No matter that Tobias did not personally steal the venom himself. He caused the theft by means of his corrupting influence on my son. While his actions are just short of criminal, I still blame Tobias.\"");
				}
				remove("Tobias");
				fallthrough;

			case "Fenn":
				say("\"Fenn is a beggar who refuses all aid from The Fellowship. A pathetic case. Not even his former friend Merrick can reach him any more.\"");
				remove("Fenn");
				fallthrough;

			case "Komor":
				say("\"Komor is the most hateful man I have ever met. He is a bundle of bitterness. In all the time I have known him, Komor has never spoken a word to me that was not at best a thinly veiled insult.\"");
				remove("Komor");
				fallthrough;

			case "case solved":
				if (gflags[0x0218] || var0002) {
					say("\"Thankfully we can now put this business of snake venom thefts behind us, thanks to thy thorough efforts. I shall deal with my son. Let us speak of this no more.\"");
				} else {
					say("\"Thank goodness Garritt, my sharp eyed boy, got to the bottom of this business of the snake venom thefts. Frankly, I had my suspicions about Tobias myself.\"");
				}
				remove("case solved");
				fallthrough;

			case "snake venom":
				say("\"Morfin, the local merchant, informs me that a quantity of silver serpent venom was stolen from him. The thief is still at large, so be wary! Of course, I do not know why anyone would want the vile substance. It is surely not good for one's health.\"");
				gflags[0x0212] = true;
				remove("snake venom");
				fallthrough;

			case "take action":
				say("\"I promise thee, I shall apply the necessary discipline to my son to insure that this bad habit he has picked up from the local riffraff will not trouble this community again.\"");
				remove("take action");
				fallthrough;

			case "found venom":
				if (!gflags[0x0218]) {
					say("\"Thou didst find the venom vial in Garritt's belongings? I am amazed! I am astonished! I am-- sorry.\"");
				} else {
					say("\"Thou art a resourceful person. Unfortunately, thy discovery has upset me a great deal.\"");
				}
				remove("found venom");
				fallthrough;

			case "Garritt caught":
				say("\"Thou dost say my son has admitted to stealing the venom?! I do not know what to say. My thanks, Avatar, for uncovering the truth.\"");
				remove("Garritt caught");
				fallthrough;

			case "bye":
				say("\"Mayest thou walk with the Fellowship.\"*");
				abort;
		}
		if (var0003) {
			say("You realize that the Cube did not bring out anything that Feridwyn did not actually believe himself. He is one of the innocent followers of The Guardian.");
		}
	}
	if (event == PROXIMITY) {
		Func092E(FERIDWYN);
	}
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04A8 object#(0x4A8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		BRITA->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (gflags[0x0212] && (!gflags[0x0218])) {
			add("thief");
		}
		if (gflags[0x0218]) {
			add("venom found");
		}
		var0001 = Func0931(PARTY, 0x0001, 0x0289, QUALITY_ANY, 0x0001);
		if (var0001) {
			add("venom found");
		}
		if (!gflags[0x0221]) {
			say("A stern-looking woman stares back at you without humor.");
			gflags[0x0221] = true;
		} else {
			say("\"Greetings to thee, ",
				var0000,
				",\" you hear Brita say.");
		}
		converse (0) {
			case "name":
				say("\"I am Brita.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I help mine husband Feridwyn run The Fellowship's shelter in Paws.\"");
				add(["Feridwyn", "Fellowship", "shelter", "Paws"]);
				fallthrough;

			case "Feridwyn":
				if (!gflags[0x0220]) {
					say("\"Mine husband is a good man who devotes himself selflessly to helping the poor of this town, something they do not appreciate. He is a good man and a dutiful Fellowship member.\"");
				} else {
					say("\"Mine husband is the most honorable man I have ever met in my life.\"");
					var0002 = Func08F7(FERIDWYN);
					if (var0002) {
						FERIDWYN->say("\"Do not put stock in the proud boasts of wives, good Avatar. I am a simple man who only does what he can.\"*");
						FERIDWYN->hide();
						BRITA->show_npc_face(0x0000);
					}
				}
				remove("Feridwyn");
				fallthrough;

			case "Fellowship":
				if (!gflags[0x0006]) {
					say("\"Thou shouldst speak to mine husband of The Fellowship. I am certain thou wilt be most impressed by what he shall have to tell thee.\"");
				} else {
					say("\"Seeing that thou hast joined The Fellowship only confirms what I already know. That The Fellowship is the path by which we shall lead Britannia to a wonderful new future. News that thou hast joined us is spreading far and wide!\"");
				}
				remove("Fellowship");
				fallthrough;

			case "shelter":
				say("\"Running the shelter is hard work for mine husband and me, but it is worth the effort to ease the suffering of those less fortunate than we.\"");
				remove("shelter");
				fallthrough;

			case "Paws":
				say("\"We hear about everything that goes on in Paws. If I do not know about it then mine husband does. Is there anyone in particular thou dost wish to know about?\"");
				var0003 = Func090A();
				if (var0003) {
					say("\"I know about these people:\"");
					add(["Alina", "Camille", "Polly"]);
				} else {
					say("\"It is good to determine an impression of others on one's own.\"");
				}
				remove("Paws");
				fallthrough;

			case "Alina":
				say("\"Alina lives in the shelter with her baby, poor thing. Her husband is a common thief who even now sits in prison. But we shall help her get her life straightened out once we persuade her to join The Fellowship. She is not smart enough, thou knowest, to see the advantages for herself. She must be carefully instructed.\"");
				remove("Alina");
				fallthrough;

			case "Camille":
				say("\"Camille is a farm widow. She tends to live in the past, following the old virtues and questioning the ways of The Fellowship. These country folk are so superstitious, thou knowest. It is a fault of their low intellect. She does not even notice what a hooligan her boy, Tobias, is growing up to be! Not at all like our son, Garritt.\"");
				add(["Tobias", "Garritt"]);
				remove("Camille");
				fallthrough;

			case "Tobias":
				say("\"A simply wretched little urchin. Always sulking. But then, one must realize that he has no father to discipline him properly.\"");
				remove("Tobias");
				fallthrough;

			case "venom found":
				if (!gflags[0x0218]) {
					say("\"Thou dost say that vial of venom was found in Garritt's belongings? I do not believe it! Art thou saying my son is a liar and a thief? I wilt not believe it! Good day to thee!\"*");
					abort;
				}
				say("\"So Garritt admits he stole the venom vial. I cannot believe it! I do not know what to say.\"");
				add("Garritt");
				remove("venom found");
				fallthrough;

			case "Garritt":
				if (!gflags[0x0218]) {
					say("Brita beams. \"Garritt is a wonderful son. He is being raised to follow the values of The Fellowship. His worthiness has been rewarded.\"");
					add("rewarded");
				} else {
					say("Brita frowns even more than before. \"If thou dost ask me, 'twas all a plot to get my little boy in trouble. If thou had not come to town, this entire incident would not have happened!\"");
				}
				remove("Garritt");
				fallthrough;

			case "rewarded":
				say("\"Garritt is so talented at the whistle panpipes! It is truly a gift!\"");
				remove("rewarded");
				fallthrough;

			case "Polly":
				say("\"Polly runs the local tavern to be near people. She is a lonely soul and feels that there is simply no one who wishes for her heart. It makes me so sad to think of her. She could find all the companionship she could want if she would join The Fellowship.\"");
				remove("Polly");
				fallthrough;

			case "thief":
				say("\"One of our members, a local merchant named Morfin, had a shipment of silver serpent venom stolen from him. Not that I care about the venom itself, but is it not shocking?\"");
				gflags[0x0212] = true;
				remove("thief");
				add("serpent venom");
				fallthrough;

			case "serpent venom":
				say("\"I have never seen any myself. I have no idea what it does to someone, but it cannot possibly be good!\"");
				remove("serpent venom");
				fallthrough;

			case "bye":
				say("\"Mayest thou walk with The Fellowship, Avatar.\"*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		Func092E(BRITA);
	}
}

extern var Func0909 0x909 ();
extern void Func092E 0x92E (var var0000);

void Func04A9 object#(0x4A9) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		ALINA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (!gflags[0x0222]) {
			say("You see a simple peasant woman. Her face is etched with sorrow.");
			gflags[0x0222] = true;
		} else {
			say("\"Good day, ",
				var0000,
				",\" says Alina.");
		}
		converse (0) {
			case "name":
				say("\"I am Alina.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I have none, ",
					var0000,
					", save for being the mother of my child. I am waiting for mine husband, Weston, to return from Britain.\"");
				add(["child", "Weston"]);
				fallthrough;

			case "child":
				say("\"Cassie is my daughter. Just a wee babe, she is mine only joy.\"");
				remove("child");
				fallthrough;

			case "Weston":
				if (gflags[0x00CC]) {
					say("\"Good news, ",
						var0000,
						"! Mine husband was pardoned by Lord British. He even provided Weston with short-term employment so that he may return to me with money enough in his pockets to feed us for some time!~~\"Excellent news, no?\"");
				} else {
					say("\"Mine husband is imprisoned in Britain for stealing fruit from the Royal Orchards.\"");
					add("stealing");
				}
				remove("Weston");
				fallthrough;

			case "stealing":
				say("\"Mine husband is no thief, ",
					var0000,
					". He went there to buy fruit for the child and me so that we would have enough to eat. He has been wrongfully accused, I am certain of it!\"");
				add("eat");
				remove("stealing");
				fallthrough;

			case "eat":
				say("\"We are very poor. My baby and I are presently living in the Fellowship shelter because we have nowhere else to go.\"");
				add(["Fellowship", "shelter"]);
				remove("eat");
				fallthrough;

			case "Fellowship":
				if (!var0001) {
					say("\"It was a member of The Fellowship that has accused mine husband. Now they wish for me to join them.\"");
					add(["join them", "accused"]);
				} else {
					say("\"Mine husband is innocent, I know it!. He intended to buy the fruit. Why must I join thy society in order for me to be taken at my word?\"");
				}
				remove("Fellowship");
				fallthrough;

			case "shelter":
				say("\"We are fortunate that we are able to live by The Fellowship's good graces, but I do not know how long we will be allowed to stay.\"");
				add("allowed");
				remove("shelter");
				fallthrough;

			case "join them":
				say("\"I cannot join The Fellowship without feeling that I am betraying mine husband. How could I become one of those who have falsely accused him? Yet, if I do not, they will not allow my child and me to live here.\"~~She sobs and covers her face with her hands. \"It is so unfair. I must choose between starvation and betrayal. If only Weston were here. I do not know what to do!\"");
				remove("join them");
				fallthrough;

			case "accused":
				say("\"They say if I join they will attempt to free mine husband. But it was they who unjustly accused him. I cannot trust them, but I fear I may have no choice.\"");
				remove("accused");
				fallthrough;

			case "allowed":
				say("\"They tell me the shelter is only for members of The Fellowship. Unless I join soon, I shall be asked to leave. And I have nowhere else to go.\"");
				remove("allowed");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Pleasant day to thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(ALINA);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func04AA object#(0x4AA) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		MERRICK->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = "Avatar";
		var0002 = "None of thy concern";
		var0003 = Func0909();
		add(["name", "job", "bye"]);
		if (gflags[0x0212]) {
			add("thief");
		}
		if (gflags[0x0218]) {
			remove("thief");
			add("theft solved");
		}
		if (gflags[0x0215]) {
			var0004 = var0001;
			if (!gflags[0x021E]) {
				add("apology");
			}
		}
		if (gflags[0x022D]) {
			var0004 = var0000;
		}
		if (gflags[0x022E]) {
			var0004 = var0003;
		}
		if (!gflags[0x0223]) {
			say("You see a nervous man who constantly blinks. He sees you and looks like he is in a snit. \"Who art thou?\"");
			var0005 = Func090B([var0000, var0001, var0002]);
			if (var0005 == var0000) {
				say("\"Very well, ",
					var0000,
					". What dost thou want?\"");
				var0004 = var0000;
				gflags[0x022D] = true;
			}
			if (var0005 == var0002) {
				say("\"Fine!\"");
				var0004 = var0003;
				gflags[0x022E] = true;
			}
			if (var0005 == var0001) {
				say("\"Thou art a most pathetic little worm. Really, all this Avatar nonsense is nothing more than a sad plea for attention.\"*");
				gflags[0x0223] = true;
				gflags[0x0215] = true;
				abort;
			}
		} else {
			say("\"Oh, ",
				var0004,
				". It is thee!\"");
		}
		converse (0) {
			case "name":
				say("\"I am Merrick.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I used to be a farmer here in Paws. Now I suppose I work for the Fellowship. I live in their shelter.\"");
				add(["farmer", "Paws", "Fellowship"]);
				fallthrough;

			case "apology":
				say("\"I do most humbly apologize to thee, ",
					var0004,
					". As I am certain thou art aware, there have been many who have claimed to be the one and only true Avatar ever since thou hast last visited us.\"");
				gflags[0x021E] = true;
				remove("apology");
				fallthrough;

			case "farmer":
				say("\"I was a farmer; of course, that was before the seven year drought. Komor, Fenn and myself were reduced to paupers.\"");
				remove("farmer");
				add(["Komor", "Fenn", "paupers"]);
				fallthrough;

			case "theft solved":
				say("\"I heard that Garritt was the one who stole the venom. Hmm! And to think I live under the same roof with the hoodlum. I shall have to guard my belongings more.\"");
				remove("theft solved");
				fallthrough;

			case "Paws":
				say("\"I have lived here in Paws all my life. I will not leave it now. I shall never leave.\"");
				remove("Paws");
				fallthrough;

			case "Fellowship":
				var0006 = UI_wearing_fellowship();
				if (var0006) {
					say("\"It is good to see that thou art one of us. Having the Avatar as a Fellowship member gives The Fellowship much prestige. Already I am certain that more people have been wanting to join because of it.\"");
				} else {
					Func0919();
				}
				remove("Fellowship");
				add("philosophy");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "thief":
				say("\"I have heard that some of Morfin's venom hath been stolen. I cannot imagine who would do it, unless it was that brat that lives with the farmer widow.\"");
				remove("thief");
				add(["brat", "widow"]);
				fallthrough;

			case "brat":
				say("\"I believe his name is Tobias.\"");
				remove("brat");
				fallthrough;

			case "widow":
				say("\"I believe her name is Camille.\"");
				remove("widow");
				fallthrough;

			case "Komor":
				say("\"He once owned one of the largest farms in all of Britannia. He was born to wealthy parents. After he lost his farm he took to sleeping along the road. One night a gang of bullies wanted to steal his gold. He had none so they beat him until he was lame. He is a very bitter man. Tragic.\"");
				remove("Komor");
				fallthrough;

			case "Fenn":
				say("\"Fenn was a farm laborer, and one of Komor's most trusted friends. With the farm gone Fenn just did not have any place to go or any way to live.\"");
				remove("Fenn");
				fallthrough;

			case "paupers":
				say("\"For years Komor, Fenn and I lived off of the rubbish of others, sleeping by the side of the road. Then I found The Fellowship and my life was changed for the better. I have tried to share my newfound fortune with my friends but I fear they hate me for being more resourceful than they.\"");
				remove("paupers");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day, ",
			var0004,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(MERRICK);
	}
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern void Func0919 0x919 ();
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04AB object#(0x4AB) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		GARRITT->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x021C]) {
			add("Tobias");
		}
		var0002 = Func0931(PARTY, 0x0001, 0x0289, QUALITY_ANY, 0x0001);
		if (var0002) {
			add("found venom");
		}
		if (!gflags[0x0224]) {
			say("You see a jovial young man who gives you a friendly greeting.");
			gflags[0x0224] = true;
		} else {
			say("\"A pleasant day to thee, ",
				var0000,
				",\" says Garritt.");
		}
		converse (0) {
			case "name":
				say("\"I am Garritt, the son of Feridwyn and Brita.\"");
				add(["Feridwyn", "Brita"]);
				remove("name");
				fallthrough;

			case "job":
				say("\"I am too young to learn a trade of mine own yet, but I do assist my parents in running the shelter. I hope to be a counselor in The Fellowship one day. Or a professional whistle panpipes player.\"");
				add(["shelter", "Fellowship", "panpipes"]);
				fallthrough;

			case "Feridwyn":
				say("\"My father works for The Fellowship helping the poor people in Paws. He tries to recruit them, but most refuse.\"");
				remove("Feridwyn");
				add(["Paws", "recruit", "poor people"]);
				fallthrough;

			case "Paws":
				say("\"Actually, I do not like this town very much. The people here are all poor and the only one mine own age is Tobias.\"");
				if (!gflags[0x0218]) {
					say("\"And,\" he adds, \"there is a thief here.\"");
				}
				remove("Paws");
				add("Tobias");
				if (!gflags[0x0218]) {
					add("thief");
				}
				fallthrough;

			case "panpipes":
				say("\"I have been playing panpipes since I was little. I'm pretty good now, if I say so myself! I keep the whistle by my bed and practice every night before going to sleep!\"");
				remove("panpipes");
				fallthrough;

			case "Tobias":
				if (gflags[0x0218]) {
					say("\"I may not have told the truth about Tobias stealing the venom, but I know that he is up to no good. He shall come to a bad end, just thou wait and see!\"");
				} else if (!gflags[0x021C]) {
					say("\"He and his mother reject The Fellowship. They are witless and stupid and I do not like them.\"");
				} else {
					say("\"I have said it a thousand times. Tobias is weak of character! He and his mother are poor because they are lazy. Now I am proven right because Tobias is a thief. A thief who has been caught!\"");
				}
				remove("Tobias");
				fallthrough;

			case "recruit":
				say("\"My father was once the head recruiter in Britain until they moved him here. I once heard him talking to mother about how The Fellowship was wasting its time here.\"");
				remove("recruit");
				fallthrough;

			case "poor people":
				say("\"My father says that the poor people reject The Fellowship because the Triad of Inner Strength requires strength of character.\"");
				remove("poor people");
				add("character");
				fallthrough;

			case "character":
				say("\"My father says the poor are weak of character and that is why they are poor. They do not have to be. They are just too lazy to work. Dost thou agree?\"");
				var0003 = Func090A();
				if (var0003) {
					say("\"I was not so sure, but since that is what my father says, it must be true.\"");
				} else if (var0001) {
					say("\"Hmpf. For a Fellowship member, thou dost lack recognition. Thou dost not understand the teachings of The Fellowship.\"");
				} else {
					say("\"Then thou must be a person of weak character, also.\"");
				}
				remove("character");
				fallthrough;

			case "Brita":
				say("\"Oh, she is just my mother. She does whatever my father doth tell her to do.\"");
				remove("Brita");
				fallthrough;

			case "shelter":
				say("\"Plenty of beds are available if thou wouldst like to stay in the shelter,\" he says with a condescending tone.");
				remove("shelter");
				fallthrough;

			case "Fellowship":
				if (var0001) {
					say("\"I am a member and I am proud to say I recruit for them as well.\"");
				} else {
					say("\"Oh, I can tell thee all thou dost need to know about us!\"");
					Func0919();
					add("philosophy");
				}
				remove("Fellowship");
				fallthrough;

			case "philosophy":
				say("\"I am also quite knowledgeable when it comes to our philosophy. We follow the Triad of Inner Strength and do let personal failures get in our way or slow us down.\"");
				say("\"Dost thou want to join?\"");
				var0004 = Func090A();
				if (var0004) {
					say("\"I got another one!\" he says gleefully. \"Thou must speak with my father right away!\"");
				} else {
					say("\"Contemplate it for the nonce, then.\"");
				}
				remove("philosophy");
				fallthrough;

			case "found venom":
				Func0911(0x0096);
				say("\"Thou hast found me out! Yes, it was I who planted the venom on Tobias. He did deserve it! I beg thee, please do not tell my parents!\"");
				gflags[0x0218] = true;
				add(["planted", "parents"]);
				remove("found venom");
				fallthrough;

			case "planted":
				say("\"I stole the venom from Morfin so I could put the blame on Tobias.\"");
				add("Morfin");
				remove("planted");
				fallthrough;

			case "Morfin":
				say("\"I do not know why Morfin has it or what he does with it. I only knew that it was valuable and that it would cause everyone worry if it were stolen.\"");
				say("Garritt does not meet your eyes. You instinctively know he is not telling the truth and may very well be using the venom.");
				remove("Morfin");
				add(["worry", "using venom?"]);
				fallthrough;

			case "using venom?":
				say("Garritt shuffles his feet and frowns. \"Well... I tried it just once. I am sorry. I will never use it again.\"");
				remove("using venom?");
				fallthrough;

			case "worry":
				say("\"I thought that if Tobias were accused of stealing something that everyone would notice, his mother would join The Fellowship and force him to join, too. It would improve their lives and force them to see the truth about themselves.\"");
				remove("worry");
				fallthrough;

			case "parents":
				say("\"Wilt thou tell my parents?\"");
				var0005 = Func090A();
				if (var0005) {
					if (var0001) {
						say("\"But I, like thee, am a member of The Fellowship. Thou must stand in unity with me for what I tried to do!\"");
						remove("parents");
					} else {
						say("\"Thou art weak of character! Or otherwise thou wouldst understand what I tried to do!\"");
					}
				} else {
					say("\"I thank thee most enthusiastically! It will be our little secret then.\"");
					gflags[0x0219] = true;
				}
				remove("parents");
				fallthrough;

			case "thief":
				say("\"There is a thief in this town! Our merchant Morfin had some valuable silver serpent venom stolen from him. The culprit is still free. So be wary!\"");
				gflags[0x0212] = true;
				remove("thief");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, then.\"*");
		if (gflags[0x0218]) {
			GARRITT->get_npc_object()->set_schedule_type(LOITER);
		}
	}
	if (event == PROXIMITY) {
		var0006 = GARRITT->get_npc_object()->get_schedule_type();
		var0007 = UI_die_roll(0x0001, 0x0004);
		if (var0006 == KID_GAMES) {
			if (var0007 == 0x0001) {
				var0008 = "@Nyah nyah!@";
			}
			if (var0007 == 0x0002) {
				var0008 = "@Cannot catch me!@";
			}
			if (var0007 == 0x0003) {
				var0008 = "@Catch me if thou can!@";
			}
			if (var0007 == 0x0004) {
				var0008 = "@Tag! Thou art it!@";
			}
			GARRITT->item_say(var0008);
		} else {
			Func092E(GARRITT);
		}
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04AC object#(0x4AC) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;

	if (event == DOUBLECLICK) {
		MORFIN->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = "Avatar";
		var0003 = "None of thy concern";
		var0004 = UI_part_of_day();
		var0005 = MORFIN->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x022F]) {
			var0006 = var0000;
		}
		if (gflags[0x0230]) {
			var0006 = var0001;
		}
		if (gflags[0x0214]) {
			var0006 = var0001;
			if (!gflags[0x0235]) {
				add("apology");
			}
		}
		if (gflags[0x0213] && (!gflags[0x0218])) {
			add("Tobias stole venom");
		}
		if (gflags[0x0233]) {
			add("ledger");
		}
		var0007 = Func0931(PARTY, 0x0001, 0x0289, QUALITY_ANY, 0x0001);
		if (var0007) {
			add("return venom");
		}
		if (!gflags[0x0225]) {
			say("You see a man whose eyes slowly shift back and forth as a crooked smile curls his lips. He walks up to you, looks you up and down. \"Oh, there must be a travelling show in town!\" he says sniggering. \"That is a very nice clown costume! Who art thou?\"*");
			var0008 = Func090B([var0000, var0002, var0003]);
			if (var0008 == var0000) {
				say("\"Very well, ",
					var0000,
					". What dost thou want?\"");
				gflags[0x022F] = true;
				var0006 = var0000;
			}
			if (var0008 == var0003) {
				say("\"Rude dog!\"*");
				gflags[0x0230] = true;
				gflags[0x0225] = true;
				abort;
			}
			if (var0008 == var0002) {
				say("\"Thou art a vile fool, desperate for others to like thee. I would pity thee, were it not that I loathe thee even more!\"*");
				gflags[0x0214] = true;
				var0006 = var0002;
				gflags[0x0225] = true;
				abort;
			}
			gflags[0x0225] = true;
		} else {
			say("\"Greetings, ",
				var0006,
				",\" says Morfin.");
		}
		converse (0) {
			case "name":
				say("\"My name is Morfin.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a merchant who operates one of the most thriving businesses in Paws, which includes the slaughterhouse.\"");
				add(["merchant", "Paws", "slaughterhouse"]);
				fallthrough;

			case "merchant":
				say("\"Oh, I sell a little of this and that, here and there. Wherever there is a demand, I try to supply it.\"");
				add(["demand", "supply"]);
				remove("merchant");
				fallthrough;

			case "demand":
				say("\"There is quite a demand for the venom of the silver serpent in certain areas, for instance.\"");
				remove("demand");
				fallthrough;

			case "supply":
				say("\"I keep a small stock of silver serpent venom from time to time which I sell to the apothecary in Britannia for a modest profit. The government is trying to control sales of it until they can determine how dangerous the effects are.\"");
				remove("supply");
				add(["apothecary", "effects"]);
				fallthrough;

			case "apothecary":
				say("\"His name is Kessler.\"");
				remove("apothecary");
				fallthrough;

			case "Paws":
				say("\"I do suppose my ventures are profitable enough for me to afford to move to Britain, but things are so much less expensive here. Of course, the theft has me a bit wary.~~\"If thou dost wish to know more about the people here, speak to the couple who run the Fellowship shelter, Feridwyn and Brita.\"");
				remove("Paws");
				if (!gflags[0x0218]) {
					add("theft");
				}
				fallthrough;

			case "slaughterhouse":
				say("\"I take it thou hast noticed the smell. If so I do apologize.\" He shrugs his shoulders, grinning, and holds his palms upward.~~\"I think of it as the smell of success. Thou mayest purchase some meat if thou so wishest.\"");
				add("buy meat");
				remove("slaughterhouse");
				fallthrough;

			case "buy meat":
				if (var0005 == TEND_SHOP) {
					say("\"I sell mutton, beef, and ham. Which wouldst thou like?\"");
					UI_push_answers();
					add(["nothing", "mutton", "beef", "ham"]);
				} else {
					say("\"The slaughterhouse is closed. Come around when it is open for business and I shall sell thee meats then.\"");
				}
				remove("buy meat");
				fallthrough;

			case "nothing":
				say("\"Some other time, perhaps.\"");
				UI_pop_answers();
				fallthrough;

			case "mutton":
				say("\"'Twill cost thee 3 gold each. Still interested?\"");
				if (Func090A()) {
					say("\"How many dost thou want?\"");
					var0009 = UI_input_numeric_value(0x0001, 0x0014, 0x0001, 0x0001);
					var000A = var0009 * 0x0003;
					var000B = UI_remove_party_items(var000A, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var000B) {
						var000C = UI_add_party_items(var0009, 0x0179, QUALITY_ANY, 0x0008, true);
						if (var000C) {
							say("\"Here it is.\"");
						} else {
							say("\"Thou hast not the room for this meat.\"");
							var000D = UI_add_party_items(var000A, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						}
					} else {
						say("\"Thou hast not the gold for this, ",
							var0006,
							". Perhaps something else.\"");
					}
				} else {
					say("\"Perhaps next time, ",
						var0006,
						".\"");
				}
				remove("mutton");
				fallthrough;

			case "beef":
				say("\"'Twill cost thee 2 gold each. Still interested?\"");
				if (Func090A()) {
					say("\"How many dost thou want?\"");
					var000E = UI_input_numeric_value(0x0001, 0x0014, 0x0001, 0x0001);
					var000F = var000E * 0x0002;
					var0010 = UI_remove_party_items(var000F, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0010) {
						var0011 = UI_add_party_items(var000E, 0x0179, QUALITY_ANY, 0x0009, true);
						if (var0011) {
							say("\"Here it is.\"");
						} else {
							say("\"Thou hast not the room for this meat.\"");
							var0012 = UI_add_party_items(var000F, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						}
					} else {
						say("\"Thou hast not the gold for this, ",
							var0006,
							". Perhaps something else.\"");
					}
				} else {
					say("\"Perhaps next time, ",
						var0006,
						".\"");
				}
				remove("beef");
				fallthrough;

			case "ham":
				say("\"'Twill cost thee 4 gold each. Still interested?\"");
				if (Func090A()) {
					say("\"How many dost thou want?\"");
					var0013 = UI_input_numeric_value(0x0001, 0x0014, 0x0001, 0x0001);
					var0014 = var0013 * 0x0004;
					var0015 = UI_remove_party_items(var0014, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0015) {
						var0016 = UI_add_party_items(var0013, 0x0179, QUALITY_ANY, 0x000B, true);
						if (var0016) {
							say("\"Here it is.\"");
						} else {
							say("\"Thou hast not the room for this meat.\"");
							var0017 = UI_add_party_items(var0014, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						}
					} else {
						say("\"Thou hast not the gold for this, ",
							var0006,
							". Perhaps something else.\"");
					}
				} else {
					say("\"Perhaps next time, ",
						var0006,
						".\"");
				}
				remove("ham");
				fallthrough;

			case "venom":
				say("\"A terrible crime, causing me no small amount of monetary distress. It has caused the surrounding community to worry about their possessions as well.\"");
				if (!gflags[0x0218]) {
					say("\"I would be thine humble servant shouldst thou help investigate the matter. Wilt thou?\"");
					var0018 = Func090A();
					if (var0018) {
						say("\"Then I shall cooperate fully, ",
							var0001,
							".\" He bows.");
					} else {
						say("\"I do hope the culprit will be revealed through other methods then.\"");
					}
				} else {
					say("\"I thank thee for solving the mystery of who was behind it.\"");
				}
				remove("venom");
				fallthrough;

			case "theft":
				say("\"Thou art a stranger in Paws. Beware the thief who roams this town! The culprit has stolen a quantity of my valuable silver serpent venom!\"");
				gflags[0x0212] = true;
				remove("theft");
				add("venom");
				fallthrough;

			case "apology":
				say("\"I do apologize for my rudeness earlier, ",
					var0006,
					". I have since realized that thou art an honest person. Please forgive mine insults.\" He bows, dripping insincerity.");
				remove("apology");
				gflags[0x0235] = true;
				fallthrough;

			case "ledger":
				say("You tell Morfin that you have seen his ledger. \"Wait, ",
					var0006,
					"! I admit I do sell Silver Serpent Venom to other places besides the Apothecary. But what I am doing is not -precisely- against the law!\"");
				add(["sell", "law"]);
				remove("ledger");
				fallthrough;

			case "sell":
				say("\"My supply comes from some old friends in Buccaneer's Den. Where they get it, who can say?\"");
				remove("sell");
				fallthrough;

			case "law":
				say("\"I have a notarized contract with the Britannian Mining Company. They use it to keep their gargoyles working longer hours. It seems gargoyles have a greater resistance to the effects of Silver Serpent Venom. Poor devils.\" He grins maliciously at his own joke.");
				remove("law");
				add("effects");
				fallthrough;

			case "effects":
				say("\"They are widely known. Silver serpent venom is a reagent that, when ingested in small doses, temporarily enhances one's physical strength, stamina and quickness along with bringing a feeling of euphoria.~~\"After the effects\twear off, the subject feels quite drained. This tends to make them want to take it again.~~\"Prolonged use in such a fashion will bring about a condition that deteriorates the skin, eventually causing it to rot away.~~\"Finally, too great a dose, or too great an accumulation of doses, is fatal, as the venom is a deadly poison.~~\"It may very well have some healing properties when used in other ways we have yet to discover, but any user of the venom should not do so without caution.\"");
				remove("effects");
				add("user");
				fallthrough;

			case "user", "Tobias stole venom":
				if (gflags[0x0213]) {
					say("\"I am not so sure Tobias was the one who stole the venom. I have not seen any of the signs of venom use in Tobias and I am quite familiar with its symptoms. But, now that I think about it, I have noticed that Garritt has appeared very tired lately. He seems hyperactive one moment and unhealthy the next.\"");
					if (!gflags[0x0237]) {
						add("Garritt");
					}
					remove("Tobias stole venom");
				} else {
					say("\"I do not believe I have noticed anyone in town who is showing the symptoms of venom use. From now on I shall keep watch, so thou shouldst ask again later.\"");
				}
				remove("user");
				fallthrough;

			case "Garritt":
				say("\"Perhaps thou shouldst make a search of Garritt's belongings! Which reminds me-- I saw him earlier playing near the slaughterhouse. He dropped this key. Perhaps it opens something... significant.\"");
				var0019 = UI_add_party_items(0x0001, 0x0281, 0x00E0, 0x0006, false);
				if (var0019) {
					say("\"Here it is.\"");
					gflags[0x0237] = true;
				} else {
					say("\"I shall give it to thee when thine hands are not so full.\"");
				}
				remove("Garritt");
				fallthrough;

			case "return venom":
				var001A = UI_remove_party_items(0x0001, 0x0289, QUALITY_ANY, FRAME_ANY, true);
				if (var001A) {
					say("\"I thank thee for ferreting out the thief and returning my snake venom.\"");
					if (gflags[0x0218]) {
						say("\"So Garritt was the culprit, eh? I am not surprised now that I think about it. I must keep closer tabs on my venom from now on.\"");
					}
				} else {
					say("\"Of course, I do wish for thee to return my venom to me if thou hast recovered it.\"");
				}
				remove("return venom");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day to thee.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(MORFIN);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04AD object#(0x4AD) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;

	if (event == DOUBLECLICK) {
		BEVERLEA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = BEVERLEA->get_npc_object()->get_schedule_type();
		var0003 = AVATAR->find_nearest(0x0347, ON_SCREEN);
		add(["name", "job", "bye"]);
		if (!gflags[0x0226]) {
			say("You see an old woman who gives you a smile of grandmotherly sweetness. You can see immediately that her vision is poor.");
			gflags[0x0226] = true;
		} else {
			say("\"Why, hello again, ",
				var0000,
				". It is so good to see thee!\" says Beverlea.");
		}
		converse (0) {
			case "name":
				say("\"My name is Beverlea.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"Why, I run the House of Items here in Paws.\"");
				add(["House of Items", "Paws"]);
				fallthrough;

			case "House of Items":
				say("\"It is a shop that sells antiques and previously used items. Running this shop allows me to remain youthful and active. It is heartening to sell things to the poor people of this town that they might not otherwise be able to\tafford.\"");
				remove("House of Items");
				add("buy");
				fallthrough;

			case "Paws":
				say("\"Here in Paws the people have very little money, but it matters not, because they care for each other.\"");
				remove("Paws");
				fallthrough;

			case "buy":
				if (var0002 == TEND_SHOP) {
					say("\"There are many rare and fine things to be bought here in my shop. Bargains to be had nowhere else in all of Britannia.\"");
					add("many fine things");
				} else {
					say("\"My store is now closed. I am usually open in the afternoons.\"");
				}
				remove("buy");
				fallthrough;

			case "many fine things":
				say("\"Let me see... There is a cradle for sale. A rocking horse. A bell. An hourglass. A spittoon. A lute. A sextant... Since I am moving a bit more slowly these days, I let my customers help themselves and take what they have bought. Providing they pay me first, of course. I do trust folks to pay me the correct amount. I am nearly blind, I am afraid.\"");
				remove("many fine things");
				add(["cradle", "rocking horse", "bell", "hourglass", "spittoon", "lute", "sextant"]);
				fallthrough;

			case "cradle":
				say("\"That old cradle was the cradle used to rock Gorn the Barbarian to sleep at night when he was just a baby. Thou canst see that there is a crack in its side proving that even as a child Gorn was a strong little tyke. I can let thee take it for ten gold coins. Dost thou wish to buy the cradle?\"");
				var0004 = Func090A();
				if (var0004) {
					var0005 = UI_remove_party_items(0x000A, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0005) {
						say("\"Thou mayest take it then. I hope that thou dost enjoy it.\"");
					} else {
						say("\"Thou dost not have enough gold!\"");
					}
				} else {
					say("A sour look flashes across Beverlea's face. \"Very well. Perhaps I may interest thee in something else.\"");
				}
				remove("cradle");
				fallthrough;

			case "rocking horse":
				say("\"This is the rocking horse that once belonged to a little girl from Britain named Diane. She grew to be one of the finest equestriennes to ever sit upon a horse. I could let thee have this rare and unusual piece for twelve gold. Dost thou wish to buy it?\"");
				var0006 = Func090A();
				if (var0006) {
					var0007 = UI_remove_party_items(0x000C, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0007) {
						say("\"Then thou art free to take the rocking horse. It is thine!\"");
					} else {
						say("\"Thou dost not have enough money to pay for it!\"");
					}
				} else {
					say("Beverlea rolls her eyes. \"In a browsing mood, are we? Take thy time.\"");
				}
				remove("rocking horse");
				fallthrough;

			case "bell":
				say("\"That bell came from the High Court of Justice in Yew. It was rung to announce that court was in session. I can sell thee that interesting conversation piece for six gold coins.\tDost thou wish to buy it?\"");
				var0008 = Func090A();
				if (var0008) {
					var0009 = UI_remove_party_items(0x0006, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0009) {
						say("\"Thou mayest take thy bell. Use it in good health!\"");
					} else {
						say("\"Thou dost not have enough money to buy it!\"");
					}
				} else {
					say("\"Not in the mood for a bell today?\" She wrinkles her lips in the best attempt at a smile. \"Perhaps something else will strike thy fancy.\"");
				}
				remove("bell");
				fallthrough;

			case "hourglass":
				if (var0003) {
					say("\"I also have an antique hourglass. It was sold to me by this old man who was so daft that he could not recall how to use it! I will sell it to thee for five gold pieces. Dost thou wish to buy it?\"");
					var000A = Func090A();
					if (var000A) {
						var000B = UI_remove_party_items(0x0005, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						if (var000B) {
							say("\"I thank thee. Thou mayest take thy glass.\"");
							gflags[0x0211] = true;
						} else {
							say("\"Thou dost not have enough money.\"");
						}
					} else {
						say("\"Thou art not interested in the hourglass?\" She sighs, \"Very well. Look around. I have all the time in the world.\" You catch just a hint of sarcasm in her voice.");
					}
				} else {
					say("\"Curse mine old head and failing memory! Has the hourglass already been sold?! No! It must have been stolen! One of the few dishonest people in this town must have taken it!\"");
				}
				remove("hourglass");
				fallthrough;

			case "spittoon":
				say("\"I also have an old spittoon. It was once used by... a great many people. Thou mayest have it for a gold piece. Take it! Please!\"");
				var000C = Func090A();
				if (var000C) {
					var000D = UI_remove_party_items(0x0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var000D) {
						say("\"I thank thee! Now thou canst go and please do not forget to take it with thee when thou dost leave!\"");
					} else {
						say("\"Thou dost not even have a single gold piece! Nor the decency to inform me that I was wasting my time in talking with thee.\"");
						abort;
					}
				} else {
					say("\"I have many more things in my shop. Many things of high quality and great value as well. Please keep looking.\"");
				}
				remove("spittoon");
				fallthrough;

			case "lute":
				say("\"I have a lute for sale that once belonged to a travelling bard who lost it in a game of dice. I am asking twenty gold coins for it. A song! Wouldst thou like to buy it?\"");
				var000E = Func090A();
				if (var000E) {
					var000F = UI_remove_party_items(0x0014, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var000F) {
						say("\"I thank thee, kind customer. Thou mayest take thy lute. I can see that thou art a true artisan with an appreciation for quality.\"");
					} else {
						say("\"Thou canst not afford the lute!\"");
					}
				} else {
					say("\"Very well, then. Do keep looking. After all, that is why my shop is here.\" You thought you could also hear Beverlea mutter to herself for a few moments after saying this, but you are not entirely certain.");
				}
				remove("lute");
				fallthrough;

			case "sextant":
				say("\"I have a sextant that was sold by the world-famous shipwright Owen of Minoc. They are going to be building a monument to him, I understand. Anyway, the sailor who sold it to me had just suffered some harrowing experience out on the waters. He said when he sold it to me that he was going to retire. He obviously did not realize the value of this item. But I can let thee have it for twenty gold pieces. Dost thou wish to buy it?\"");
				var0010 = Func090A();
				if (var0010) {
					var0011 = UI_remove_party_items(0x0014, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0011) {
						say("\"Thou mayest take thy sextant! And may thou always have smooth sailing!\"");
					} else {
						say("\"Thou dost not have enough money!\"");
					}
				} else {
					say("\"I am certain I have something that will interest thee. Browse to thine heart's content.\"");
				}
				remove("sextant");
				fallthrough;

			case "bye":
				break;
		}
		say("\"A good day to thee, ",
			var0000,
			".\" *");
	}
	if (event == PROXIMITY) {
		var0002 = BEVERLEA->get_npc_object()->get_schedule_type();
		if (var0002 == TEND_SHOP) {
			var0012 = UI_die_roll(0x0001, 0x0004);
			if (var0012 == 0x0001) {
				var0013 = "@Antiques?@";
			}
			if (var0012 == 0x0002) {
				var0013 = "@Curios? Knick knacks?@";
			}
			if (var0012 == 0x0003) {
				var0013 = "@Trinkets? Antiques?@";
			}
			if (var0012 == 0x0004) {
				var0013 = "@Collectibles? Antiques?@";
			}
			BEVERLEA->item_say(var0013);
		} else {
			Func092E(BEVERLEA);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04AE object#(0x4AE) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		KOMOR->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func08F7(FENN);
		add(["name", "job", "bye"]);
		if (!gflags[0x0227]) {
			say("You see a beggar leaning on a crutch. His eyes shine like diamonds with sheer bitterness.");
			gflags[0x0227] = true;
		} else {
			say("\"Happy days, ",
				var0000,
				"?\" Komor asks.");
		}
		converse (0) {
			case "name":
				say("\"My name is Komor.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a dancer, ",
					var0000,
					".\" He cannot keep a straight face and almost falls off his crutches.*");
				add("beggar");
				var0001 = Func08F7(FENN);
				if (var0001) {
					FENN->say("\"Ha! Ha! Ha! Ha! Ha! Ha! 'Tis a ripe one, Komor!\"*");
					FENN->hide();
					KOMOR->show_npc_face(0x0000);
				}
				fallthrough;

			case "beggar":
				say("\"I was not always a beggar. Like Fenn and Merrick, I used to be a farmer, too. But times got worse, and times are always bad in Paws.\"");
				add(["Fenn", "Merrick", "Paws", "give"]);
				remove("beggar");
				fallthrough;

			case "Fenn":
				say("\"Fenn and me are chums and will be to the day we die. We share in each other's vast expanses of wealth.\"*");
				remove("Fenn");
				add(["chums", "wealth"]);
				var0001 = Func08F7(FENN);
				if (var0001) {
					FENN->say("\"Ha! Ha! Ha! Ha! With thy wit thou shouldst be on stage!\"*");
					FENN->hide();
					KOMOR->show_npc_face(0x0000);
				}
				fallthrough;

			case "chums":
				say("\"Fenn and me have been friends since we were little tiny babes.\"");
				var0001 = Func08F7(FENN);
				if (var0001) {
					say("\"I would bet thee that thou didst not think we would end up like this. Eh, Fenn?\"*");
					FENN->say("\"Not in me wildest dreams, Komor.*\"");
					FENN->hide();
					KOMOR->show_npc_face(0x0000);
				}
				remove("chums");
				fallthrough;

			case "wealth":
				say("\"Yea verily, Fenn and I share all that we own. Which, in its totality, is the clothes on our backs and the snot in our\tthroats!\"");
				remove("wealth");
				fallthrough;

			case "Merrick":
				say("\"A royal rotten egg, he is. Merrick turned his back on us and now spends each night in a warm, cozy bed. Which is more than either one of us have had for some time.\"");
				add(["turned his back", "bed"]);
				remove("Merrick");
				fallthrough;

			case "Paws":
				say("\"A veritable wonderland, is it not?\"");
				remove("Paws");
				fallthrough;

			case "turned his back":
				say("\"The only thing worse than this miserable existence is having Merrick sniff around and try to recruit us! The bloody parasite!\"");
				remove("turned his back");
				fallthrough;

			case "bed":
				say("\"Merrick sleeps in the shelter run by The Fellowship. They feed him, too. He had to join before they would help him.\"");
				add(["shelter", "Fellowship"]);
				remove("bed");
				fallthrough;

			case "shelter":
				say("\"The shelter? 'Tis the large building filled with fawning hypocrites. Thou shouldst have little trouble finding it!\"");
				remove("shelter");
				fallthrough;

			case "Fellowship":
				say("\"We could have joined, but they are a foul lot. Anybody acting so bloody nice must be up to no good. There are some compromises we will not make, even to survive.\"");
				remove("Fellowship");
				fallthrough;

			case "give":
				say("\"Wilt thou give me a bit of money?\"");
				if (Func090A()) {
					say("How much?");
					UI_push_answers();
					var0002 = Func090B(["0", "1", "2", "3", "4", "5"]);
					var0003 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var0003 >= var0002) {
						var0004 = UI_remove_party_items(var0002, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						if (var0004) {
							say("\"Thank thee, ",
								var0000,
								".\"");
						} else {
							say("\"I am unable to take thy money, for some strange reason.\"");
						}
					} else {
						say("\"Hmpf! Thou dost not have that much gold! Thou art almost as poor as I!\"");
					}
					UI_pop_answers();
				} else {
					say("\"Fine. Go on and live thy life in peace and happiness.\"");
				}
				remove("give");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Hold thine head high, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		var0005 = UI_part_of_day();
		var0006 = KOMOR->get_npc_object()->get_schedule_type();
		var0007 = UI_die_roll(0x0001, 0x0004);
		if (var0006 == LOITER) {
			if (var0007 == 0x0001) {
				var0008 = "@Spare coin for the wretched?@";
			}
			if (var0007 == 0x0002) {
				var0008 = "@A modest handout, good person?@";
			}
			if (var0007 == 0x0003) {
				var0008 = "@Mercy may change thy luck!@";
			}
			if (var0007 == 0x0004) {
				var0008 = "@Any money for me, friend?@";
			}
			KOMOR->item_say(var0008);
		} else {
			Func092E(KOMOR);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04AF object#(0x4AF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		FENN->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (gflags[0x0212]) {
			add("thief");
		}
		if (!gflags[0x0228]) {
			say("You see a beggar. You cannot tell from the look on his face whether he is about to laugh or cry.");
			gflags[0x0228] = true;
		} else {
			say("\"Beg thy pardon, ",
				var0000,
				",\" Fenn says.");
		}
		converse (0) {
			case "name":
				say("\"My name is Fenn, ",
					var0000,
					".\"");
				remove("name");
				fallthrough;

			case "thief":
				if (gflags[0x0218]) {
					say("After you tell him about finding the venom vial, he says, \"Thou didst our town a service when thou didst uncover that no good brat Garritt as the thief! Perhaps now some people will start to realize the hypocrisy of the Fellowship!\"");
				} else if (gflags[0x0213]) {
					say("\"I know that boy Tobias is innocent of any wrong doing, no matter what Feridwyn and his Fellowship says.\"");
				} else {
					say("\"Be wary for there is a thief in this town! Some silver serpent venom was stolen from the merchant Morfin, who runs the slaughterhouse.\"");
					gflags[0x0212] = true;
				}
				remove("thief");
				fallthrough;

			case "job":
				say("He looks away from you shamefully. \"I have none, ",
					var0000,
					".\"");
				add("none");
				fallthrough;

			case "none":
				say("\"I used to be a farmer in more prosperous times. I used to work with Komor and Merrick.\"");
				add(["Komor", "Merrick", "give"]);
				remove("none");
				fallthrough;

			case "Komor":
				say("\"He is my best friend and the bravest man I know.\"");
				var0001 = Func08F7(KOMOR);
				if (var0001) {
					say("*");
					KOMOR->say("\"Oh, please! Thou art making mine eyes leak!\"*");
					KOMOR->hide();
					FENN->show_npc_face(0x0000);
				}
				remove("Komor");
				fallthrough;

			case "Merrick":
				say("\"Merrick joined The Fellowship so he could live in their shelter, the poor sod.\"");
				add(["shelter", "Fellowship"]);
				remove("Merrick");
				fallthrough;

			case "Fellowship":
				say("\"If The Fellowship truly wants to help people, why would they let us starve just because we do not want to join? They cannot answer that one!\"");
				add("starve");
				remove("Fellowship");
				fallthrough;

			case "shelter":
				say("\"Hmf! If thou art so unfortunate as to want to live there, thou wouldst do better on the corner with Komor and I.\"");
				remove("shelter");
				add("corner");
				fallthrough;

			case "corner":
				say("\"Even when pockets are light, there is still some mercy left in this world. Begging for money is not a proud profession, but there are worse ones.\"");
				add("worse");
				remove("corner");
				fallthrough;

			case "worse":
				say("\"At least we do not have to do what Merrick does. He recruits for The Fellowship.\"");
				remove("worse");
				fallthrough;

			case "starve":
				say("\"Do not worry. We shall not starve. Camille sends her son Tobias with food and clothing for us every so often.\"");
				add(["Camille", "Tobias"]);
				remove("starve");
				fallthrough;

			case "Camille":
				say("\"Camille is a good woman. She lives at the farm bordering the dairy.\"");
				remove("Camille");
				fallthrough;

			case "Tobias":
				say("\"He is a fine lad, always willing to give us a hand. Unlike that rude urchin, Garritt.\"");
				if (gflags[0x0213]) {
					add("venom");
				}
				add("Garritt");
				remove("Tobias");
				fallthrough;

			case "venom":
				say("\"Tobias would not become involved with that sort of affair. I know for certain he is no thief.\"");
				remove("venom");
				add("involved");
				fallthrough;

			case "involved":
				say("\"If thou art seeking out this venom thief, thou wouldst do well to ask Andrew about it.\"");
				add("Andrew");
				remove("involved");
				fallthrough;

			case "Andrew":
				say("\"Andrew owns the dairy and lives across from Camille's farm and the slaughterhouse. He might have seen something.\"");
				remove("Andrew");
				fallthrough;

			case "Garritt":
				say("\"He is the son of Feridwyn and Brita, who run the shelter. Garritt crosses the road to avoid us.\"");
				var0001 = Func08F7(KOMOR);
				if (var0001) {
					say("*");
					KOMOR->say("\"We would not want the likes of him walking down our side of the road anyway!\"*");
					KOMOR->hide();
					FENN->show_npc_face(0x0000);
				}
				remove("Garritt");
				fallthrough;

			case "give":
				say("\"Wilt thou give me a bit of money?\"");
				if (Func090A()) {
					say("How much?");
					UI_push_answers();
					var0002 = Func090B(["O", "1", "2", "3", "4", "5"]);
					var0003 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if ((var0003 >= var0002) && (var0002 != "0")) {
						var0004 = UI_remove_party_items(var0002, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						say("\"Thank thee, ",
							var0000,
							".\"");
					} else {
						say("\"It appears thou dost not have any money either!\"");
					}
					if (var0003 == 0x0000) {
						say("\"I am truly sorry if I have bothered thee, ",
							var0000,
							".\"");
					}
					UI_pop_answers();
				} else {
					say("Fenn hangs his head low.");
				}
				remove("give");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good fortune to ye, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		var0005 = UI_part_of_day();
		var0006 = FENN->get_npc_object()->get_schedule_type();
		var0007 = UI_die_roll(0x0001, 0x0004);
		if (var0006 == LOITER) {
			if (var0007 == 0x0001) {
				var0008 = "@A coin for some food?@";
			}
			if (var0007 == 0x0002) {
				var0008 = "@Please aid a poor beggar!@";
			}
			if (var0007 == 0x0003) {
				var0008 = "@Show some generosity!@";
			}
			if (var0007 == 0x0004) {
				var0008 = "@Help one less fortunate!@";
			}
			FENN->item_say(var0008);
		} else {
			Func092E(FENN);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04B0 object#(0x4B0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == DOUBLECLICK) {
		ANDREW->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = ANDREW->get_npc_object()->get_schedule_type();
		var0003 = false;
		add(["name", "job", "bye"]);
		if (gflags[0x0212]) {
			add("thief");
		}
		if (gflags[0x0218]) {
			remove("thief");
			add("theft solved");
		}
		if (!gflags[0x0229]) {
			say("You see a cheerful, handsome young man who gives you a friendly wave as you approach.");
			gflags[0x0229] = true;
		} else {
			say("\"Greetings, ",
				var0000,
				",\" says Andrew.");
		}
		converse (0) {
			case "name":
				say("\"My name is Andrew. How art thou, ",
					var0000,
					"?\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the owner and proprietor of the dairy here in Paws.\"");
				add(["dairy", "Paws"]);
				fallthrough;

			case "dairy":
				say("\"Yes, I sell milk and cheese. Thou mayest find the dairy between Camille's farm and the slaughterhouse.\"");
				remove("dairy");
				add(["Camille", "slaughterhouse", "milk", "cheese"]);
				fallthrough;

			case "milk":
				if (var0002 == TEND_SHOP) {
					say("\"A gallon will cost thee 3 gold. Art thou interested in buying some?\"");
					if (Func090A()) {
						while (true) {
							var0004 = UI_remove_party_items(0x0003, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							if (var0004) {
								var0005 = UI_add_party_items(0x0001, 0x0268, QUALITY_ANY, 0x0007, true);
								if (var0005) {
									say("\"Here it is,\" he says, handing you the jug. \"Wouldst thou like another?\"*");
									var0006 = Func090A();
									if (var0006) {
										continue;
									}
									// I see no way other than this
									goto labelFunc04B0_0332;
								}
								say("\"Thou hast not the room for the jug.\"");
								var0007 = UI_add_party_items(0x0003, 0x0284, QUALITY_ANY, FRAME_ANY, true);
								break;
							}
							say("\"Thou hast not the gold for this, ",
								var0000,
								". Perhaps some other time.\"");
							break;
						}
					} else {
						say("\"Perhaps next time, ",
							var0000,
							".\"");
					}
				} else {
					say("\"I would be more than happy to sell thee a jug of milk, but for now the dairy is closed.\"");
				}
				remove("milk");
				fallthrough;

			case "cheese":
				if (var0002 == TEND_SHOP) {
					say("\"I sell wedges for 2 gold each. Still interested?\"");
					if (Func090A()) {
						say("\"How many dost thou want?\"");
						var0008 = UI_input_numeric_value(0x0001, 0x0014, 0x0001, 0x0001);
						var0009 = var0008 * 0x0002;
						var000A = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var000A >= var0009) {
							var000B = UI_add_party_items(var0008, 0x0179, QUALITY_ANY, 0x001B, true);
							if (var000B) {
								say("\"Here it is.\"");
								var000C = UI_remove_party_items(var0009, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							} else {
								say("\"Thou hast not the room for this cheese.\"");
							}
						} else {
							say("\"Thou hast not the gold for this, ",
								var0000,
								". Perhaps something else.\"");
						}
					} else {
						say("\"I understand, ",
							var0000,
							". Perhaps when thou dost become more hungry.\"");
					}
				} else {
					say("\"I would be more than happy to sell thee some cheese, but for now the dairy is closed.\"");
				}
				remove("cheese");
				fallthrough;

			case "Camille":
				say("\"Camille is a good woman. She is still an advocate of the old virtues. She runs the farm by herself. Well, with the help of her son, Tobias.\"");
				remove("Camille");
				add("Tobias");
				fallthrough;

			case "Tobias":
				say("\"A rather defensive young lad, I cannot say that I know that much about him.\"");
				remove("Tobias");
				fallthrough;

			case "Paws":
				say("\"Of course everyone is up in arms about this business concerning the missing venom.\"");
				remove("Paws");
				fallthrough;

			case "venom":
				say("\"It could be hidden anywhere. With all the trade that occurs in this town, it would be easy to hide. I do not know much else about the substance. Perhaps Morfin himself would know what kinds of effects it might produce.\"");
				remove("venom");
				fallthrough;

			case "thief":
				say("\"Be wary, for there is a thief in this town! Some silver serpent venom was stolen from Morfin.\"");
				gflags[0x0212] = true;
				remove("thief");
				add("venom");
				if (!var0003) {
					add("Morfin");
				}
				fallthrough;

			case "theft solved":
				say("\"Thou hast put the people in our town at ease by finding the culprit!\"");
				remove("theft solved");
				fallthrough;

			case "slaughterhouse":
				say("\"The slaughterhouse is run by Morfin, the merchant. He is always busy, coming and going at all hours, sometimes carrying things.\"");
				remove("slaughterhouse");
				if (!var0003) {
					add("Morfin");
				}
				fallthrough;

			case "Morfin":
				say("\"He bought the slaughterhouse a few years ago, soon after he joined The Fellowship. I knew the previous owner.\"");
				remove("Morfin");
				add("previous owner");
				var0003 = true;
				fallthrough;

			case "previous owner":
				say("\"I was just a lad when I first saw the old slaughterhouse. The old man who owned it even showed me the storeroom in there once. The door to it is locked. I think Morfin has the key somewhere in his house.\"");
				remove("previous owner");
				fallthrough;

			case "bye":
				break;
		}
		nobreak {
labelFunc04B0_0332:
		}
		say("\"I hope I was of some assistance to thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(ANDREW);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04B1 object#(0x4B1) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		CAMILLE->show_npc_face(0x0000);
		var0000 = Func0909();
		if (gflags[0x0213] && (!gflags[0x0234])) {
			say("\"Avatar! My son Tobias has been wrongly accused! He is no thief! And I cannot believe a vial of venom was found in his possession. I truly believe it was planted there! Please -- I beg thee! Please clear my son's name. He has done no wrong!");
			say("\"I know my son Tobias has suffered for not having a father. I have tried my best on mine own to raise him well, but this farm requires so much work that I fear I do not have enough time to devote to him. But I know in mine heart that my son is not a thief.\"*");
			say("\"Might I suggest that thou speak with Morfin again. He may have recognized signs of usage of this foul substance in other members of the village.\"");
			CAMILLE->get_npc_object()->set_schedule_type(LOITER);
			gflags[0x0234] = true;
			abort;
		}
		add(["name", "job", "bye"]);
		if (gflags[0x0212]) {
			add("thief");
		}
		if (gflags[0x0213]) {
			add("Feridwyn");
		}
		if (gflags[0x0218]) {
			add("Tobias cleared");
			remove(["Feridwyn", "thief"]);
		}
		if (!gflags[0x022A]) {
			say("You see a farm woman. She rubs her hands, which are covered with dirt and lines drawn by toil.");
			say("\"My dreams have become reality. Thou art the Avatar, art thou not? I recognized thee immediately!\"");
			gflags[0x022A] = true;
		} else {
			say("\"How art thou, ",
				var0000,
				"?\" Camille asks.");
		}
		converse (0) {
			case "name":
				say("\"My name is Camille, Avatar. It is an honor to meet thee.\"");
				gflags[0x022A] = true;
				remove("name");
				fallthrough;

			case "job":
				say("\"I run a small farm here in Paws with my son, Tobias. I am a widow.\"");
				add(["Paws", "Tobias"]);
				if (!gflags[0x021A]) {
					add("farm");
				}
				fallthrough;

			case "farm":
				say("\"I grow a few crops. Especially carrots and wheat.\"");
				add(["carrots", "wheat"]);
				remove("farm");
				fallthrough;

			case "carrots":
				say("\"I believe my carrots are especially tasty. Wouldst thou like to purchase some? They would only cost thee one gold for three.\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"How many dost thou desire?\"");
					var0002 = UI_input_numeric_value(0x0003, 0x001E, 0x0003, 0x0003);
					var0003 = var0002 / 0x0003;
					var0004 = UI_remove_party_items(var0003, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0004) {
						var0005 = UI_add_party_items(var0002, 0x0179, QUALITY_ANY, 0x0012, true);
						if (var0005) {
							say("\"I am sure thou wilt love them.\"");
						} else {
							say("\"Thou must first lighten thy load. Then I can give thee some delicious carrots.\"");
							var0006 = UI_add_party_items(var0003, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						}
					} else {
						say("\"I am sorry, Avatar.\" She shakes her head sadly. \"Thou dost not have the gold to be able to taste them.\"~~ She stares at you for a moment, obviously thoughtful. Lowering her voice, she says,~~\"Go ahead, Avatar, take one.\"");
						var0007 = UI_add_party_items(0x0001, 0x0179, QUALITY_ANY, 0x0012, true);
						if (var0007) {
							say("Smiling gently, she hands you a carrot.");
						} else {
							say("\"Thou art carrying too much...\" She seems truly disappointed.");
						}
					}
				} else {
					say("\"If that is thy wish, Avatar, but they are quite good!\"");
				}
				remove("carrot");
				fallthrough;

			case "wheat":
				say("\"That reminds me. This package needs to be taken to the mill today. If thou canst deliver it for me, Thurston will pay thee for it. Wilt thou?\"");
				var0008 = Func090A();
				if (var0008) {
					var0009 = UI_add_party_items(0x0001, 0x02A5, QUALITY_ANY, FRAME_ANY, true);
					if (var0009) {
						say("\"Be sure and take this to Thurston, the mill owner. He shall pay thee for thy trouble.\"");
						gflags[0x021A] = true;
					} else {
						say("\"Thou art carrying too much! Go put something down and I will give it to thee then.\"");
					}
				} else {
					say("\"I understand that thou art busy on thy quest, Avatar.\"");
				}
				remove("wheat");
				fallthrough;

			case "Paws":
				say("\"Life is hard here in Paws. It is a town of poor people with all the ills that poverty brings. At least The Fellowship brings us some relief.\"");
				add(["ills", "Fellowship"]);
				remove("Paws");
				fallthrough;

			case "Tobias":
				if (gflags[0x0213]) {
					say("\"I know my son. I know that he is growing up unhappy. But I cannot believe that he would steal things.\"");
				}
				say("\"He is basically a good boy. He works hard and misses his father.\"");
				remove("Tobias");
				fallthrough;

			case "Fellowship":
				say("\"I am not sure whether I trust The Fellowship. It has undoubtedly done some good things in this world so it cannot be all bad. Or, at least, the people in it cannot be all bad.\"");
				remove("Fellowship");
				fallthrough;

			case "ills":
				say("\"Recently, our town has been plagued by a thief.\"");
				add("thief");
				remove("ills");
				fallthrough;

			case "thief":
				if (!gflags[0x0213]) {
					say("\"Some silver serpent venom was stolen from the merchant Morfin who operates the slaughterhouse.\"");
					gflags[0x0212] = true;
				} else {
					say("\"I do not care what Feridwyn says! My son is no thief!\"");
				}
				remove("thief");
				fallthrough;

			case "Feridwyn":
				say("\"That man Feridwyn knows that I do not trust The Fellowship, and for\tthat he considers me his personal enemy. I do not know why he would seek to attack me through my son but he must not be allowed to succeed.\"");
				remove("Feridwyn");
				fallthrough;

			case "Tobias cleared":
				say("You tell Camille how you discovered that Garritt was really the thief and that her son Tobias has been cleared. \"I want to thank thee for finding the thief in our town and clearing my son's name. It does mine heart good to see that the Avatar has returned to us once again and that thou dost care enough about the people of Britannia to help solve our local troubles here in Paws. Again Avatar, I thank thee.\"");
				remove("Tobias cleared");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Pleasant journey, Avatar.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(CAMILLE);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04B2 object#(0x4B2) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		TOBIAS->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = TOBIAS->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x0212]) {
			if (!gflags[0x0218]) {
				add("thief");
			}
		}
		if (gflags[0x021C]) {
			if (!gflags[0x0218]) {
				add("venom");
			}
		}
		if (!gflags[0x022B]) {
			say("You see a sulking lad, who doesn't seem to want to look you in the eye.");
			say("\"Just what I need. Another Avatar,\" he mumbles under his breath.");
			gflags[0x022B] = true;
		} else if (gflags[0x0218]) {
			say("\"Yes, Avatar?\" Tobias asks.");
		} else {
			say("\"What dost thou want?\" Tobias asks.");
		}
		converse (0) {
			case "name":
				if (gflags[0x0218]) {
					say("\"I am still Tobias!\"");
				} else {
					say("\"I am Tobias. I suppose I am to believe thou art someone important.\"");
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"I am too young to have a job. I just help my mother on the farm.\"");
				add(["mother", "farm"]);
				fallthrough;

			case "mother":
				say("\"Her name is Camille. She speaks of thee. Or rather she speaks of the Avatar, is what I meant to say. Some people in town think she is mad because she still believes in the Eight Virtues.\"");
				if (gflags[0x022A]) {
					say("\"Thou hast already met her.\"");
				}
				if (gflags[0x0218]) {
					say("\"But thanks to thee I have more respect for her beliefs.\"");
				}
				remove("mother");
				add(["Avatar", "Eight Virtues"]);
				fallthrough;

			case "Avatar":
				say("\"Art thou truly the Avatar?\"");
				var0002 = Func090A();
				if (var0002) {
					if (gflags[0x0218]) {
						say("\"Yes, I do believe thou art the true Avatar.\" Tobias smiles briefly.");
					} else {
						say("\"Thou art no Avatar!\" Tobias frowns.");
					}
				} else if (gflags[0x0218]) {
					say("\"I think that thou mayest have a little bit of the way of the Avatar about thee. There is a little bit of the Avatar in everyone, or so my mother says.\"");
				} else {
					say("\"I knew that thou wert nothing but an imposter.\"");
				}
				remove("Avatar");
				fallthrough;

			case "Eight Virtues":
				say("\"My mother once took me to the Shrine of Sacrifice when I was younger. That was soon after my father died so I do not remember it very well.~~I do not think it is there anymore, for she never talks about going back.~~I think that perhaps she does not want to mention it because there are so many in town who belong to The Fellowship. And because it makes her sad.\"");
				remove("Eight Virtues");
				add("Fellowship");
				fallthrough;

			case "farm":
				say("\"My mother grows grain.\"");
				if (var0001 == FARM) {
					say("\"Dost thou not know a farm when thou dost see one?\"");
				}
				if (var0001 == EAT_AT_INN) {
					say("\"Surely thou canst find the farm. It is just north of the shelter.\"");
				}
				if (!gflags[0x0218]) {
					say("Tobias looks at you as if he thinks you are a bit dim.");
				}
				remove("farm");
				add(["grain", "shelter"]);
				fallthrough;

			case "grain":
				say("\"She sells grain to Thurston the miller from time to time so that we may go to the pub or buy milk at the dairy every once in a while, but we usually just grow crops to keep ourselves fed.\"");
				add(["Thurston", "dairy"]);
				remove("grain");
				fallthrough;

			case "shelter":
				say("\"It's that place just south of here. It's run by The Fellowship.\"");
				remove("shelter");
				add("Fellowship");
				fallthrough;

			case "Thurston":
				say("\"He is one of the few people in town that I like. He is nice to us.\"");
				remove("Thurston");
				fallthrough;

			case "dairy":
				say("\"The dairy is south of the shelter. Andrew -- the man who runs the dairy -- his father was friends with my father.\"");
				remove("dairy");
				fallthrough;

			case "Fellowship":
				say("For the first time he looks you in the eye. \"I hate The Fellowship! The only other person in town mine own age is that cretin Garritt and it is all he ever talks about! He is always trying to convince my mother to join.\" He clenches his fist angrily. \"Please do not mention them again.\"");
				add(["Garritt", "mother join?"]);
				remove("Fellowship");
				fallthrough;

			case "mother join?":
				say("\"Those bloody Fellowship people know that everyone is never more than a meal away from being penniless. They say that they want us to join immediately because the shelter is intended to help only Fellowship members. If we ever need to live there they may have to turn us away in favor of other Fellowship members.\"");
				remove("mother join?");
				fallthrough;

			case "thief":
				say("\"There is a thief running free in Paws! He stole silver serpent venom from Morfin, owner of the slaughterhouse. No one knows who he is.\"");
				gflags[0x0212] = true;
				remove("thief");
				fallthrough;

			case "venom":
				say("\"I do not know anything about the stolen venom. I am falsely accused!\"");
				remove("venom");
				add("falsely accused");
				fallthrough;

			case "falsely accused":
				say("\"That is right! Garritt did it. I just know it. He was in my room the other day when I came in from the fields. He said he was looking for a ball, but I do not believe him. Thou canst believe me or not, I do not care. But if thou art truly the Avatar, thou wilt know I am telling the truth.\"");
				remove("falsely accused");
				fallthrough;

			case "Garritt":
				if (gflags[0x0218]) {
					say("You tell Tobias how you discovered that Garritt was the thief. \"Thank thee, ",
						var0000,
						", for not believing I was the guilty one. I am not sure if thou art truly the real Avatar but thou dost certainly have the way of the Avatar about thee.\"");
				} else if (!gflags[0x0213]) {
					say("\"He is the only other boy in town anywhere near mine age. His parents do not want him playing with me because they think that 'associating with those kind of people' will 'hamper his education' or some such rubbish. I cannot stand the little bastard. And I hate the way he plays those stinking whistle panpipes!\"");
				} else {
					say("\"That spoiled brat Garritt must have planted the venom in my room! He is usually lounging about, even if his parents disapprove of him playing with me. I know he is up to something no good! Thou shouldst look in HIS room!\"");
				}
				remove("Garritt");
				fallthrough;

			case "bye":
				break;
		}
		if (gflags[0x0218]) {
			say("\"Goodbye, Avatar. Good luck to thee.\"*");
		} else {
			say("\"Be on thy way then, o great and wise Avatar.\"*");
		}
	}
	if (event == PROXIMITY) {
		Func092E(TOBIAS);
	}
}

extern var Func0909 0x909 ();
extern void Func08CD 0x8CD ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04B3 object#(0x4B3) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		POLLY->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = POLLY->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x0212]) {
			add("thief");
		}
		if (gflags[0x0218]) {
			remove("thief");
		}
		if (gflags[0x0215]) {
			add("Merrick");
		}
		if (gflags[0x0214]) {
			add("Morfin");
		}
		if (gflags[0x0216]) {
			add("Thurston");
		}
		if (!gflags[0x022C]) {
			say("You see the town bartender. She looks very busy, but she obviously takes pride in her work.");
			gflags[0x022C] = true;
		} else {
			say("Polly smiles. \"What can I do for thee, ",
				var0000,
				"?\"");
		}
		converse (0) {
			case "name":
				say("\"I am Polly. It is a pleasure to meet thee.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"The owner and proprietor of the Salty Dog, the finest eating and drinking establishment in all of Paws, at thy service.\"");
				if (var0002 == WAITER) {
					add(["Paws", "buy", "room"]);
				} else {
					say("\"However, the Salty Dog is now closed. Please return during business hours.\"");
					add("Paws");
				}
				fallthrough;

			case "buy":
				Func08CD();
				remove("buy");
				fallthrough;

			case "room":
				say("\"For but 5 gold thou canst let one of our lovely rooms. Dost thou wish to stay here for the night?\"");
				if (Func090A()) {
					var0003 = UI_get_party_list();
					var0004 = 0x0000;
					for (var0007 in var0003 with var0005 to var0006) {
						var0004 += 0x0001;
					}
					var0008 = var0004 * 0x0005;
					var0009 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var0009 >= var0008) {
						var000A = UI_add_party_items(0x0001, 0x0281, 0x00FF, FRAME_ANY, true);
						if (var000A) {
							say("\"Here is thy key for this inn. 'Twill only work once.\"");
							var000B = UI_remove_party_items(var0008, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						} else {
							say("\"Sorry, ",
								var0000,
								", thou must lose some of thy bundles before I can give thee thy key.\"");
						}
					} else {
						say("\"I am truly sorry, ",
							var0000,
							", but the rooms cost more gold than thou hast.\"");
					}
				} else {
					say("\"Perhaps another evening then.\"");
				}
				remove("room");
				fallthrough;

			case "Paws":
				say("\"Actually, there are no other inns or pubs in Paws. It is a small place, but our food and drink here is quite good, honestly.\"");
				remove("Paws");
				fallthrough;

			case "thief":
				say("\"There is a thief in this town! Silver serpent venom was stolen from Morfin, the merchant who operates the slaughterhouse.\"");
				gflags[0x0212] = true;
				remove("thief");
				fallthrough;

			case "Merrick":
				say("\"He used to be a farmer. He is not a bad sort. He has just had a bad run of luck. Now he is a devout Fellowship member.\"");
				remove("Merrick");
				fallthrough;

			case "Morfin":
				say("\"Morfin is a very shrewd and successful merchant, and also a Fellowship member, but I cannot help but feel that he would sell his own mother if he could get the right price for her. 'Tis little wonder why the thief chose to steal from him.\"");
				add("thief");
				remove("Morfin");
				fallthrough;

			case "Thurston":
				say("You relate to Polly what you heard Thurston say about her. She is taken completely by surprise. \"Thurston really said that about me! I have always liked him, but in truth I have always thought I was not good enough for him!\"");
				gflags[0x021B] = true;
				remove("Thurston");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day to thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(POLLY);
	}
}

extern var Func0908 0x908 ();
extern void Func0911 0x911 (var var0000);
extern var Func090A 0x90A ();

void Func04B4 object#(0x4B4) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		DRAXINUSOM->show_npc_face(0x0000);
		var0000 = Func0908();
		add(["name", "job", "bye"]);
		if (gflags[0x0239]) {
			if (!gflags[0x0238]) {
				add("Inamo");
			}
		}
		if (gflags[0x0004]) {
			add("Moongates");
		}
		if (!gflags[0x0245]) {
			say("You see an aged gargoyle, bent and withered, with a regal bearing. He smiles gently.");
			gflags[0x0245] = true;
		} else {
			say("\"To be good to see you again, old friend. To be needing Draxinusom again so soon?\"");
		}
		converse (0) {
			case "name":
				say("\"To have been many years. To be your old acquaintance, ",
					var0000,
					", Draxinusom.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"To ask about Job? To be unable to say that I truly have one at this time. To notice how the young ones no longer look to me for guidance any more. To look more to Teregus, or, more often, to those in The Fellowship.\"");
				add(["Teregus", "Fellowship"]);
				fallthrough;

			case "Terfin":
				say("\"To be quite comfortable for our needs. To be, however, unfortunate that it was thought necessary to isolate us from the humans. To have engendered resentment and tension in our younger generations. To remember not the old days, my friend -- the days when we had to work together to survive.\" He smiles, reliving old memories, then shakes his head.~~\"To have had to give up many much when we moved.\"");
				add("give up");
				remove("Terfin");
				fallthrough;

			case "give up":
				say("\"To have been many favorite possessions. To be too much trouble to move so much.\" He sighs.");
				if (gflags[0x01E0]) {
					say("~\"To especially regret selling my Ethereal Ring.\"");
					add(["selling", "Ethereal Ring"]);
				}
				remove("give up");
				fallthrough;

			case "Ethereal Ring":
				say("\"Ah. To be, indeed, a lovely treasure. To have been quite useful. A shame to have been, really, to have had to sell it. To have been one of my favorites.\"");
				remove("Ethereal Ring");
				fallthrough;

			case "selling":
				say("\"To have sold most of my treasures when we were... uh... asked, shall to say, to move to the island. To have all happened rather quickly, you see. To have sold most to the Sultan of Spektran.\"");
				add("Sultan");
				remove("selling");
				fallthrough;

			case "Sultan":
				say("\"To have seemed nice enough, for a human. To be a bit mad, he is, even for a human. To tell you he lives on an island just to the west of us. To know, at least, that my prized possessions would be safe in his hands.\"");
				add("safe");
				gflags[0x023B] = true;
				Func0911(0x0032);
				remove("Sultan");
				fallthrough;

			case "safe":
				say("He nods his head. \"To be rumored to have one of the best-guarded vaults in all of Britannia. To be supposedly enchanted. To know not details.\"");
				remove("safe");
				fallthrough;

			case "Inamo" (remove):
				say("\"To be a fine young gargoyle. To have been raised by Teregus, keeper of the altars. To have left town because of the tension between the altar worshippers and The Fellowship. To have been angry and distrustful of The Fellowship. To have news of him?\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"To be excellent! To have seen him? To know how he is faring? To be well?\"");
					gflags[0x0238] = true;
					UI_push_answers();
					add(["murdered", "not well", "well"]);
				} else {
					say("\"Ah. To be too bad. To tell you Teregus wanted to know how he was doing.\"");
				}
				fallthrough;

			case "well":
				say("\"To be very good. To know Teregus will be pleased to learn that, as well!\"");
				UI_pop_answers();
				fallthrough;

			case "murdered":
				say("\"To be terrible news! To have been such a fine gargoyle. To know Teregus will be heartbroken. To be wishing not for him to grieve, but to take to him the news immediately. To be better to hear it from you.\"");
				UI_pop_answers();
				fallthrough;

			case "Moongates":
				say("\"Mine own Orb of the Moons exploded recently! To no longer be able to travel via Moongates. To be strange!\"");
				remove("Moongates");
				fallthrough;

			case "not well":
				say("\"To be a shame. To be taking the news to Teregus of his youngling. To be wondering why we had not heard from Inamo recently.\"");
				UI_pop_answers();
				fallthrough;

			case "Teregus":
				say("\"To be truly a fine young gargoyle. To be one of the most sensible, too. To have seen fit to adhere to the old ways, the ways of the altars. To see that some of the youngest still look up to him, but the majority seem to have been wooed away by the glamor of The Fellowship.\"");
				if (!gflags[0x0238]) {
					say("\"To tell you that his weanling, Inamo, is in Trinsic at this time.\"");
					gflags[0x0239] = true;
					add("Inamo");
				}
				remove("Teregus");
				fallthrough;

			case "Fellowship":
				say("\"To know not what to think of them and their tenets. To seem not dangerous, but not to be following the old ways, the ways of Passion, Diligence, and Control. To feign worship to the shrines here in Terfin, of course, especially to Control, but not yet to trust them. To wait and see. To have forceful leaders who espouse doctrines of submission.\" He shrugs.~~\"To be genuinely inspired, perhaps, and perhaps not.\"");
				add(["Terfin", "leaders"]);
				remove("Fellowship");
				fallthrough;

			case "leaders":
				say("\"To inform you that The Fellowship is directed by two winged brethren. To be called Runeb and Quan.\"");
				add(["Runeb", "Quan"]);
				remove("leaders");
				fallthrough;

			case "Runeb":
				say("\"To mean, in your language, `Red Mist'. To have been given that name because that is all he leaves behind of an adversary in battle. Before his conversion by The Fellowship, to have been known as a particularly cruel and dangerous gargoyle.\"");
				var0002 = RUNEB->get_npc_object()->is_dead();
				if (var0002) {
					say("\"To be gone -- dead -- now.\"");
				}
				remove("Runeb");
				fallthrough;

			case "Quan":
				say("\"Ah, to be an interesting one. To be a strong, powerful personality, to be from one of the families most able to claim noble lineage in our society. To have been always most self-serving, striving only to gain status and wealth for himself. To have certainly changed his tune since joining The Fellowship. To have my doubts, however, that his goals have changed as well.\"");
				remove("Quan");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To bid farewell, old friend. To not be hesitating to return if there is aught else I can do for you. To be lonely here now for an old gargoyle dedicated to the ancient ways...\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern void Func089C 0x89C ();
extern var Func090A 0x90A ();
extern void Func089B 0x89B (var var0000, var var0001);
extern void Func089A 0x89A (var var0000, var var0001);
extern void Func092F 0x92F (var var0000);

void Func04B5 object#(0x4B5) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		INFORLEM->show_npc_face(0x0000);
		var0000 = false;
		var0001 = UI_part_of_day();
		add(["name", "job", "bye"]);
		if (!gflags[0x0246]) {
			say("The gargoyle has a pleasant expression on his face.");
			gflags[0x0246] = true;
		} else {
			say("\"To be pleased at your return, human,\" says Inforlem.");
		}
		converse (0) {
			case "name":
				say("\"To be known as Inforlem.\"");
				remove("name");
				add("Inforlem");
				fallthrough;

			case "Inforlem":
				say("\"To mean `make strong one.'\"");
				remove("Inforlem");
				fallthrough;

			case "job":
				say("\"To train others in Terfin to be strong and powerful. To sell some weapons, also.\"");
				add(["train", "others", "Terfin", "buy"]);
				if (gflags[0x0244] && (!var0000)) {
					add("conflicts");
				}
				fallthrough;

			case "buy":
				if ((var0001 == MORNING) || ((var0001 == NOON) || (var0001 == AFTERNOON))) {
					Func089C();
				} else {
					say("\"To sell during shop hours. To ask you to come back to me at that time, please.\"");
				}
				fallthrough;

			case "train":
				if ((var0001 == MORNING) || ((var0001 == NOON) || (var0001 == AFTERNOON))) {
					say("\"To be a better warrior or mage?\"");
					add(["warrior", "mage"]);
				} else {
					say("\"To train during training hours. To ask you to come back to me at that time, please.\"");
				}
				fallthrough;

			case "warrior":
				say("\"To charge 50 gold for each training session. To be all right?\"");
				if (Func090A()) {
					Func089B([STRENGTH, DEXTERITY, COMBAT], 50);
				} else {
					say("\"To apologize, but I must charge that amount!\"");
				}
				fallthrough;

			case "mage":
				say("\"To charge 50 gold for each training session. To be acceptable?\"");
				if (Func090A()) {
					Func089A([MAX_MANA, INTELLIGENCE], 50);
				} else {
					say("\"To apologize, but I must charge that amount!\"");
				}
				fallthrough;

			case "conflicts":
				say("\"To know of the conflicts between the altars and the Fellowship, but to have no information. To suggest you see Quan, The Fellowship leader here and ask him.\"");
				var0000 = true;
				gflags[0x023C] = true;
				remove("conflicts");
				fallthrough;

			case "Terfin":
				say("\"To see there are troubles here, but to be unaware of the causes and solutions.\"");
				remove("Terfin");
				fallthrough;

			case "others":
				say("\"To tell you Forbrak knows much about Terfin and its residents, and,\" he says, \"about its conflicts.\"");
				remove("others");
				add("Forbrak");
				if (!var0000) {
					add("conflicts");
				}
				fallthrough;

			case "Forbrak":
				say("\"To be the tavernkeeper.\"");
				remove("Forbrak");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To expect to see you again, human.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(INFORLEM);
	}
}

extern void Func089D 0x89D (var var0000, var var0001, var var0002);
extern void Func092F 0x92F (var var0000);

void Func04B6 object#(0x4B6) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		INMANILEM->show_npc_face(0x0000);
		var0000 = INMANILEM;
		add(["name", "job", "bye"]);
		if (!gflags[0x0247]) {
			say("You are greeted by a friendly gargoyle.");
			gflags[0x0247] = true;
		} else {
			say("\"To see you are doing well, human,\" says Inmanilem.");
		}
		converse (0) {
			case "name":
				say("\"To be called Inmanilem, human. To wish information about Terfin?\"");
				remove("name");
				add(["information", "Inmanilem"]);
				fallthrough;

			case "Inmanilem":
				say("\"To be Gargoyle for `make healed one.'\"");
				remove("Inmanilem");
				fallthrough;

			case "job":
				say("\"To be the healer.\"");
				add("heal");
				if (gflags[0x0244]) {
					add("conflicts");
				}
				fallthrough;

			case "heal":
				var0001 = UI_part_of_day();
				if ((var0001 == DAWN) || ((var0001 == MORNING) || ((var0001 == NOON) || (var0001 == AFTERNOON)))) {
					Func089D(0x0019, 0x000A, 0x01AE);
				} else {
					say("\"To feel sorry, but to be busy with other things now. To ask you to come back when I have the time to heal you.\"");
				}
				remove("Heal");
				fallthrough;

			case "information":
				say("\"To tell you to seek out Draxinusom, human, or Forbrak. To have much information about Terfin.\"");
				remove("information");
				add(["Draxinusom", "Forbrak", "Terfin"]);
				fallthrough;

			case "Forbrak":
				say("\"To be the tavernkeeper. To be very strong of body, and of mind.\"");
				remove("Forbrak");
				fallthrough;

			case "Terfin":
				say("\"To be the city of gargoyles. To be the one of two towns where many gargoyles live. To like it here,\" he adds, smiling.");
				remove("Terfin");
				add("one?");
				fallthrough;

			case "one?":
				say("\"To tell you the other is called Vesper. To be in the desert in northeastern Britannia. To have also humans living there, unlike here.\"");
				remove("one?");
				fallthrough;

			case "Draxinusom":
				say("\"To be our leader. To live near the Hall of Knowledge.\"");
				remove("Draxinusom");
				add("Hall");
				fallthrough;

			case "Hall":
				say("\"To be where the three altars of singularity are kept.\"");
				remove("Hall");
				add("altars");
				fallthrough;

			case "altars":
				say("\"To be Passion, Control, and Diligence. To be the values that most gargoyles hold as the key of our existence.\"");
				remove("altars");
				add(["most gargoyles", "key"]);
				fallthrough;

			case "key":
				say("He nods his head emphatically. \"To be quite similar to the human concept of virtues.\"");
				remove("key");
				fallthrough;

			case "most gargoyles":
				say("\"There is a rival now -- The Fellowship. To know not if it is good or bad, but to know I do not follow it!\"");
				remove("most gargoyles");
				fallthrough;

			case "conflicts":
				say("\"To know only of one dissatisfied gargoyle. To have always been problem, but now acting hostile and aggressive. To be named Silamo, the gardener.~~\"To recommend you talk to Silamo.\"");
				remove("conflicts");
				gflags[0x023D] = true;
				fallthrough;

			case "bye":
				break;
		}
		say("\"To wish you good health, human.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(INMANILEM);
	}
}

extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern void Func092F 0x92F (var var0000);

void Func04B7 object#(0x4B7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		TEREGUS->show_npc_face(0x0000);
		var0000 = Func0908();
		add(["name", "job", "bye"]);
		if (!gflags[0x0248]) {
			say("You see a winged gargoyle in his physical prime.~~\"Hail, human! To be welcome to the house of the altars. To be helpful to you in any way?\"");
			gflags[0x0248] = true;
		} else {
			say("\"To have returned! To be glad to see you again, human,\" says Teregus. \"To be welcome to the house of the altars. To be helpful to you?\"");
		}
		if (gflags[0x023F]) {
			add("evidence");
		}
		if (gflags[0x0254]) {
			if (gflags[0x0239]) {
				add("Inamo");
			}
		}
		converse (0) {
			case "name":
				say("\"To be called Teregus.\"");
				gflags[0x0254] = true;
				if (gflags[0x0239]) {
					add("Inamo");
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"To be caring for the altars of Control, Passion, and Diligence. To be a position of great responsibility. To be especially important in these times of trouble.\"");
				add(["trouble", "altars"]);
				fallthrough;

			case "trouble":
				say("\"To have been many disagreements in town lately. To be much tension between the followers of the principles of the altars and the followers of The Fellowship. To have heard rumors of threats to the altars.\"");
				add(["Fellowship", "rumors"]);
				remove("trouble");
				fallthrough;

			case "Fellowship":
				var0001 = RUNEB->is_dead();
				if (var0001) {
					say("\"To be glad that Quan is now running our branch. To believe that he is misguided, but to be a much more reasonable gargoyle to deal with now that Runeb is gone.\"");
				} else {
					say("\"To be wary of Fellowship ideals. To be ignoring the altars in their search for unity, and to be losing respect for the old ways. To be not bad. To tell you our branch is run by Quan and Runeb.\"");
				}
				add(["Quan", "Runeb"]);
				remove("Fellowship");
				fallthrough;

			case "rumors":
				var0001 = RUNEB->get_npc_object()->is_dead();
				if (var0001) {
					say("\"To be sorry that we have lost Runeb. Perhaps to be for the best. To be certainly overjoyed to have avoided damage to the altars.\"");
				} else {
					say("\"To have heard that someone in town is planning to destroy the physical representations of the altars. To be not the same, of course, as actually destroying the basic principles of Control, Passion, and Diligence, but to be bad for us nonetheless. To be finding out for us who is planning this, if there is time, perhaps. To return to me with evidence when you determine course of action. To be very grateful for your assistance.\"");
					gflags[0x0253] = true;
				}
				remove("rumors");
				fallthrough;

			case "evidence":
				say("\"To have brought me something, some evidence about the rumors?\"");
				var0002 = Func090A();
				if (var0002) {
					say("\"To be wonderful! To see it, please.\"~~You hand him the note from Runeb that you found in Sarpling's shop.~~\"Ah. Runeb. To have suspected as much. To be always reaching for more by the most violent means.\"~~He sighs.~~\"To ask that you confront him with this evidence. To suggest that anything less will not reveal truth. To be prepared for anything, please, human, for to know not how he will react.\"~~He shakes his head.~~\"To be not hopeful for a peaceful solution. To thank you for your assistance.\"");
					var0003 = false;
				} else {
					say("\"To have found nothing yet? Ah, well. To return, please, when anything unusual is found. To suggest that you confront the suspect as soon as you have a clue. To wish to stop him before any damage is done to the altars.\"");
				}
				remove("evidence");
				fallthrough;

			case "Quan":
				say("\"To be sad to have lost Quan to The Fellowship, human. To have been a good gargoyle when young, but to have fallen into bad company later. To have concentrated mostly on self-aggrandizement and hedonism in the last few years. To be a shame.\"");
				remove("Quan");
				fallthrough;

			case "Runeb":
				say("\"To have been a sad case. To have wished to have been able to save him. To always have been uncontrollable, but to have gotten worse in the last few years. To have seemed to want to start as many fights as possible. To have found a reason for using his strength against all those weaker when to have joined The Fellowship.\"");
				remove("Runeb");
				fallthrough;

			case "Inamo":
				say("He smiles sadly, but with obvious pride.~");
				if (gflags[0x023A]) {
					say("\"To have been a fine young gargoyle. The pride of us all. To wish to know who was responsible for his dishonorable end.\"");
				} else {
					say("\"To miss him greatly. To have raised him from an egg. To have been rather vocal in his disagreements with The Fellowship. To have felt it safer for him to leave.\"~~He sighs, then looks up hopefully.~~\"To have news of him?\"");
					var0002 = Func090A();
					if (var0002) {
						say("\"To be well?\"");
						var0004 = Func090A();
						if (var0004) {
							say("\"To be good. To be hoping to hear from him soon.\"");
						} else {
							say("\"To be not well? To be terrible! To think there is anything to do to help?\"");
							add("too late");
						}
					} else {
						say("\"Ah. Too bad. To be waiting long for news from him.\"");
					}
				}
				remove("Inamo");
				fallthrough;

			case "too late":
				say("\"To be too late? To mean what by too late? To tell me what has happened!\"~~He seems very distraught.");
				add("murdered");
				remove("too late");
				fallthrough;

			case "murdered":
				say("\"To be murdered?\"~~He takes a step back, stunned by the news.~~\"To be murdered? To be unbelievable. To have no real enemies!\"~~He sighs heavily.~~\"To tell me, please, exactly what happened.\"~~You relate to him the particulars of Inamo's death. He sighs again.~~\"To be such a waste of gargoyle life. To be grateful if you would send news if you discover who was responsible for wanting him dead.\"~~ He is quiet for a few moments, getting accustomed to the situation.~~\"To apologize. To need some time to grieve. Please to come back later.\"~~He turns away.");
				remove("murdered");
				gflags[0x023A] = true;
				abort;

			case "altars" (remove):
				say("\"To be caretaker and group leader for the altars of the three principles. To wish to make a donation?\"");
				var0002 = Func090A();
				if (var0002) {
					say("\"Excellent. To which altar do you wish to donate?\"");
					UI_push_answers();
					add(["Control", "Passion", "Diligence"]);
				} else {
					say("\"Ah. To donate next time, perhaps.\"");
				}
				fallthrough;

			case "Control", "Passion", "Diligence":
				say("\"To be an excellent choice. To meditate at the shrine for you for a donation of 5 gold. To be willing to donate 5 gold?\"");
				var0002 = Func090A();
				if (var0002) {
					var0005 = UI_remove_party_items(0x0005, 0x0284, QUALITY_ANY, FRAME_ANY, true);
					if (var0005) {
						say("\"To meditate for you this evening, human. To wish you well in your journeys.\"");
					} else {
						say("\"To not have 5 gold? To return\tlater when you have the gold. To meditate for your success on your journeys.\"~~He smiles kindly.");
					}
				} else {
					say("\"Ah. To have misunderstood. To apologize. To let me know if you change your mind.\"~~He looks disappointed.");
				}
				remove(["Control", "Passion", "Diligence"]);
				UI_pop_answers();
				fallthrough;

			case "bye":
				break;
		}
		say("\"To tell you goodbye for now, human. To return and be welcome.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(TEREGUS);
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern void Func0911 0x911 (var var0000);

void Func04B8 object#(0x4B8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		RUNEB->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = RUNEB->get_npc_object();
		if (var0000 == NIGHT) {
			var0002 = Func08FC(RUNEB, QUAN);
			if (var0002) {
				say("The gargoyle turns to you, frowning. He moves his massive hand to his mouth and use one finger to cross his lips. The Fellowship meeting is in progress.*");
			} else {
				say("The gargoyle, obviously in a hurry, ignores you.*");
			}
			abort;
		}
		add(["name", "job", "Fellowship", "bye"]);
		if (!gflags[0x0249]) {
			say("The gargoyle gives you a menacing glare. Judging by his size, he would make a formidable foe.");
			gflags[0x0249] = true;
		} else {
			say("\"To ask what you need?\" says Runeb.");
		}
		if (gflags[0x0255]) {
			if (gflags[0x023F]) {
				add("altar destruction");
			}
			if (gflags[0x0240]) {
				add("frame Quan");
			}
		}
		converse (0) {
			case "name":
				say("\"To be Runeb.\"");
				gflags[0x0255] = true;
				add("Runeb");
				remove("name");
				if (gflags[0x023F]) {
					add("altar destruction");
				}
				if (gflags[0x0240]) {
					add("frame Quan");
				}
				fallthrough;

			case "job":
				say("\"To be Fellowship clerk.\"");
				fallthrough;

			case "Runeb":
				say("\"To mean `busy one,'\" he says sarcastically.");
				remove("Runeb");
				fallthrough;

			case "Fellowship":
				var0003 = UI_wearing_fellowship();
				if (var0003) {
					say("\"To have a branch here. To meet at usual time each night.\"");
				} else {
					say("\"To have more important things to do now. To ask me later, human.\"");
				}
				remove("Fellowship");
				fallthrough;

			case "altar destruction", "frame Quan":
				Func0911(0x0064);
				say("\"To be sorry you know that. To need now to kill Sarpling.\" He grins at you.~~\"To need now to kill you!\"*");
				var0001->set_schedule_type(IN_COMBAT);
				var0001->set_alignment(EVIL);
				abort;

			case "bye":
				break;
		}
		say("He waits for you to leave before he returns to what he was doing.*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08CE 0x8CE ();
extern void Func092F 0x92F (var var0000);

void Func04B9 object#(0x4B9) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		QUAN->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = UI_part_of_day();
		var0002 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
		if (var0001 == NIGHT) {
			say("The gargoyle seems to be too busy conducting the Fellowship meeting to speak with you now.");
			Func08CE();
		}
		add(["name", "job", "Fellowship", "bye"]);
		if (gflags[0x01EF]) {
			add("Elizabeth and Abraham");
		}
		if (!gflags[0x024A]) {
			say("You see a winged gargoyle. Noticing you, he turns and says, \"To be welcome, human. To need assistance?\"");
			gflags[0x024A] = true;
		} else {
			say("\"To ask how I may assist, human.\"");
		}
		converse (0) {
			case "name":
				say("\"To be the one named Quan.\"");
				remove("name");
				add("Quan");
				fallthrough;

			case "Quan":
				say("\"To have no meaning in Gargish. To be a special name, specific to me,\" he smiles.");
				remove("Quan");
				fallthrough;

			case "job":
				say("\"To head The Fellowship in Terfin.\"");
				add("Terfin");
				if (gflags[0x01F5]) {
					add("voice");
				}
				fallthrough;

			case "voice":
				say("\"To be the inner voice of guidance that lives in all creatures. To become more distinct and frequent with stronger Fellowship ties.\"");
				remove("voice");
				fallthrough;

			case "Terfin":
				say("\"To be the only gargoyle city in Britannia. To have fewer gargoyles in the land than during your last visit to Britannia, human.\" He shakes his head.");
				add(["fewer", "gargoyles"]);
				remove("Terfin");
				fallthrough;

			case "fewer":
				say("\"To have succumbed to the effects of disease and famine that have recently struck Britannia. To tell you that gargoyles breed less frequently, and we have not had the time to make up for losses in our population.~~\"To have new hope, however,\" he grins, \"with The Fellowship.\"");
				remove("fewer");
				fallthrough;

			case "gargoyles":
				say("\"To suggest talking to Runeb, the Fellowship clerk, or Quaeven. To have jobs needing knowledge of others in Terfin.\" He grins apologetically.~~ \"To be too busy to know all in Terfin.\"");
				remove("gargoyles");
				fallthrough;

			case "Fellowship":
				var0003 = UI_wearing_fellowship();
				if (var0003) {
					if (gflags[0x0006]) {
						say("\"To hold meetings at 9 p.m., in unity with other branches, human. To be welcome at our meetings.\"");
					} else {
						say("\"To be a boon to gargoyles and humans alike. To have a philosophy to help all creatures of all races reach their highest level of potential.\"");
						add("philosophy");
					}
				} else {
					say("\"To be a boon to gargoyles and humans alike. To have a philosophy to help all creatures of all races reach their highest level of potential.\"");
					add("philosophy");
				}
				if (gflags[0x023C] && (!gflags[0x0242])) {
					add("altar conflicts");
				}
				remove("Fellowship");
				fallthrough;

			case "Elizabeth and Abraham":
				if (!gflags[0x0264]) {
					say("\"To have just missed the human Fellowship officials who were here collecting funds. To have left for the Meditation Retreat near Serpent's Hold. To be sorry.\"");
					gflags[0x0243] = true;
				} else {
					say("\"To have not seen human Fellowship officials in many days.\"");
				}
				remove("Elizabeth and Abraham");
				fallthrough;

			case "philosophy":
				say("An almost gleeful expression fills his visage.~~ \"To be very similar to the altar of singularity. To have three principles called the Triad of Inner Strength. To apply three principles in unison to be more creative and happy.~~ \"To see the similarity? To have control, passion, and diligence mesh into one -- singularity. To have Triad -- Strive for Unity, Trust your Brother, and Worthiness Precedes Reward -- applied in unison!\"");
				remove("philosophy");
				fallthrough;

			case "altar conflicts":
				say("\"To understand not,\" he says, puzzled.");
				if (gflags[0x0253]) {
					add("altar destruction");
				}
				remove("altar conflicts");
				fallthrough;

			case "altar destruction":
				say("\"To know nothing of this! To believe it not! To be not possible.~~ \"To know that all members are content with their lives, and incapable of such acts, even if the altars be outdated.~~ \"To tell you to speak with members themselves to see and believe.\"");
				add(["outdated", "members"]);
				remove("altar destruction");
				if (gflags[0x023F]) {
					add("Sarpling's note");
				}
				if (gflags[0x0240]) {
					add("Runeb assassinate");
				}
				fallthrough;

			case "outdated":
				say("\"To need the Triad for proper application to the individual gargoyle -- or person!\"");
				remove("outdated");
				fallthrough;

			case "members":
				say("\"To talk to Runeb, Sarpling, and Quaeven.\"");
				add(["Runeb", "Sarpling", "Quaeven"]);
				remove("members");
				fallthrough;

			case "Runeb":
				var0004 = RUNEB->get_npc_object()->is_dead();
				if (var0004) {
					say("\"To have been the clerk of The Fellowship here.\"");
				} else {
					say("\"To be the clerk of The Fellowship here.\"");
				}
				remove("Runeb");
				fallthrough;

			case "Sarpling":
				say("\"To sell magics and such at his shop.\"");
				remove("Sarpling");
				gflags[0x0241] = true;
				fallthrough;

			case "Quaeven":
				say("\"To be in charge of the learning center.\"");
				remove("Quaeven");
				fallthrough;

			case "Sarpling's note":
				say("\"To be impossible for Runeb to be responsible.\" He smiles kindly. \"To be a practical joke.\"");
				remove("Sarpling's note");
				gflags[0x0242] = true;
				fallthrough;

			case "Runeb assassinate":
				say("\"To be too heinous a plot for Runeb.\" He frowns. \"To be some kind of bad joke.\"");
				remove("Runeb assassinate");
				gflags[0x0242] = true;
				fallthrough;

			case "bye":
				break;
		}
		say("\"To hope you find unity.\"*");
		if (var0002) {
			say("The Cube did not vibrate once while speaking with Quan. You realize he is totally innocent of the dangerous powers above him.*");
		}
	}
	if (event == PROXIMITY) {
		Func092F(QUAN);
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern void Func092F 0x92F (var var0000);

void Func04BA object#(0x4BA) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		QUAEVEN->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = false;
		add(["name", "job", "Fellowship", "bye"]);
		if (var0000 == NIGHT) {
			var0002 = Func08FC(QUAEVEN, QUAN);
			if (var0002) {
				say("\"To have not the time to speak now. To talk after meeting.\"*");
			} else {
				say("\"To have not the time to speak now. To hurry to Fellowship meeting.\"*");
			}
			abort;
		}
		if (!gflags[0x024B]) {
			say("The gargoyle, a contented grin on his face, greets you with a handshake.");
			gflags[0x024B] = true;
		} else {
			say("\"To express happiness at your return,\" says Quaeven.");
		}
		converse (0) {
			case "name":
				say("\"To be known as Quaeven, human.\"");
				remove("name");
				add("Quaeven");
				fallthrough;

			case "Quaeven":
				say("\"To mean `problem finder.' To be an observant one.");
				remove("Quaeven");
				fallthrough;

			case "job":
				say("\"To be master of the Recreation Facility and Learning Center. To be in charge of much information valuable to the gargoyle race.\"");
				add(["Recreation Facility", "Learning Center"]);
				fallthrough;

			case "Recreation Facility":
				say("\"To be a good place for gargoyles to go to exercise their muscles. To have many resources available, including stuffed bags to punch and practice fighting skills.\"");
				remove("Recreation Facility");
				fallthrough;

			case "Learning Center":
				say("\"To be located in the same building as the Recreation Center. To provide an excellent atmosphere for strengthening gargoyle minds. To have a large supply of books and educational material.\"");
				remove("Learning Center");
				fallthrough;

			case "Fellowship":
				var0003 = UI_wearing_fellowship();
				if (var0003) {
					say("\"To be a member, too.\" He holds up his medallion. To have needed The Fellowship to become happy.\"");
					add("needed The Fellowship");
				} else {
					say("\"To want to know about the organization or the tenets?\"");
					add("organization");
					if (!var0001) {
						add("tenets");
					}
				}
				remove("Fellowship");
				fallthrough;

			case "organization":
				say("\"To be a group of spiritual seekers striving to reach the highest levels of gargoyle potential. To share with all gargoyles and humans.\"");
				add("share");
				remove("organization");
				fallthrough;

			case "share":
				say("\"To share tenets and material well-being.\"");
				add("material well-being");
				if (!var0001) {
					add("tenets");
				}
				remove("share");
				fallthrough;

			case "material well-being":
				say("\"To support financially and personally a poorhouse in Paws. To organize feasts and festivals in Britannia to help morale. To be a much needed group by all gargoyles and men. To have needed The Fellowship myself!\"");
				add("needed The Fellowship");
				remove("material well-being");
				fallthrough;

			case "tenets":
				say("\"To apply an optimistic order of thought through the Triad of Inner Strength.\"");
				add("Triad");
				var0001 = true;
				remove("tenets");
				fallthrough;

			case "Triad":
				say("\"To be the three concepts of Strive for Unity, Trust your Brother, and Worthiness Precedes Reward.\"");
				remove("Triad");
				fallthrough;

			case "needed The Fellowship":
				say("\"To have had poor life before The Fellowship. To have been pained, ignored, and mistreated by many.~~\"To be happy now in my new life and, to hope to hear the voice soon.\" His eyes widen in excitement. \"To be bringing happiness to another's life soon.\"");
				add(["voice", "another"]);
				remove("needed The Fellowship");
				fallthrough;

			case "voice":
				say("\"To be a good voice that will help me make choices, and to help win on Buccaneer's Den.\"");
				remove("voice");
				fallthrough;

			case "another":
				say("He continues on, excitedly.~~\"To be working on my first convert. To know the joy and well-being I will bring. To feel content and happy.\"");
				gflags[0x023E] = true;
				add(["working", "convert"]);
				remove("another");
				fallthrough;

			case "working":
				say("\"To need a little more persuasion,\" he looks down, \"but to be almost ready to join!\"");
				remove("working");
				fallthrough;

			case "convert":
				say("\"To be Betra, the provisioner. To feel confident he will join soon.\"");
				remove("convert");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To hope for your well-being and happiness.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(QUAEVEN);
	}
}

void Func04BB object#(0x4BB) () {
	if (event == DOUBLECLICK) {
		SILAMO->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (!gflags[0x024C]) {
			say("You see a frowning gargoyle.");
			gflags[0x024C] = true;
		} else {
			say("\"To ask what you need, human,\" says Silamo.");
		}
		converse (0) {
			case "name":
				say("\"To be named `Silamo.'\"");
				if (gflags[0x023D]) {
					add("wingless status");
				}
				remove("name");
				add("Silamo");
				fallthrough;

			case "Silamo":
				say("\"To know my name if I were winged.\" He scowls at you.");
				remove("Silamo");
				fallthrough;

			case "job":
				say("\"To be the gardener,\" he shrugs, \"nothing more.\"~~ He does not seem to be interested in speaking with you.");
				fallthrough;

			case "wingless status":
				say("He stares at you for a moment.~~\"To be right, human.~~ \"To feel I am treated less for an absence of wings. To see Quaeven treated better since joining The Fellowship. To be devoted to the altar of singularity. But, perhaps to change if The Fellowship cares not about wings.\"");
				add(["treated", "Quaeven"]);
				remove("wingless status");
				fallthrough;

			case "Quaeven":
				say("\"To be also without wings, but to be respected as if he were winged.\"");
				remove("Quaeven");
				fallthrough;

			case "treated":
				say("\"To see many others include him in many events from which I am excluded. To know others include him in many more decision-making councils, too.\"");
				remove("treated");
				add("others");
				fallthrough;

			case "others":
				say("\"Gargoyles in The Fellowship.\"");
				remove("others");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To get back to work.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern var Func090A 0x90A ();
extern void Func08E2 0x8E2 ();
extern void Func08E1 0x8E1 ();
extern void Func092F 0x92F (var var0000);

void Func04BC object#(0x4BC) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		SARPLING->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = SARPLING->get_npc_object()->get_schedule_type();
		if (var0000 == NIGHT) {
			var0002 = Func08FC(SARPLING, QUAN);
			if (var0002) {
				say("The gargoyle is too involved with the Fellowship meeting to talk to you at this moment.*");
			} else {
				say("\"To be unable to talk now. To see me after the Fellowship meeting.\" He continues on his way.*");
			}
			abort;
		}
		add(["name", "job", "Fellowship", "bye"]);
		if (!gflags[0x024D]) {
			say("You see a very distraught gargoyle.");
			gflags[0x024D] = true;
		} else {
			say("\"To give you greetings, human.\"");
		}
		if (gflags[0x0250]) {
			var0003 = true;
			if (gflags[0x0241] && (!gflags[0x0240])) {
				add("altar conflicts");
			}
			if (gflags[0x023F]) {
				add("found note");
				remove("altar conflicts");
			}
		}
		converse (0) {
			case "name":
				say("\"To be able to call me Sarpling.\"");
				gflags[0x0250] = true;
				remove("name");
				if (!var0003) {
					if (gflags[0x0241] && (!gflags[0x0240])) {
						add("altar conflicts");
					}
					if (gflags[0x023F]) {
						add("found note");
						remove("altar conflicts");
					}
				}
				fallthrough;

			case "job":
				say("\"To provide various magics and items in Terfin.\"");
				add(["buy", "Terfin"]);
				fallthrough;

			case "Terfin":
				say("\"To be the city in which you are located. To be the city of gargoyles.\"");
				add("gargoyles");
				remove("Terfin");
				fallthrough;

			case "gargoyles":
				say("\"To know Quan is the Fellowship leader. To believe he gives good guidance.\" He appears thoughtful.~~ \"To have spoken to Draxinusom?\"");
				var0004 = Func090A();
				if (var0004) {
					say("\"To see Forbrak or Quaeven, then. To know they see all the citizens regularly.\"");
				} else {
					say("\"To see first, Draxinusom. To be leader of the city. To know many of the residents.\"");
				}
				remove("gargoyles");
				fallthrough;

			case "Fellowship":
				say("\"To be an important part of my life. To support The Fellowship fully.\"");
				remove("Fellowship");
				fallthrough;

			case "altar conflicts":
				say("\"To know nothing about the altars. To wonder what you mean?\"");
				remove("altar conflicts");
				fallthrough;

			case "found note":
				say("A surprised expression, mixed with fear, covers his face.~~ \"To be all Runeb's decisions! To be all Runeb's doing! To want nothing to do with the destruction of the altars, or with the assassination plot!\"");
				remove("found note");
				add("Assassination plot!");
				fallthrough;

			case "Assassination plot!":
				say("\"To not already know about the plot?\" he wails.~~ \"To have caused problems this time, Sarpling,\" he says to himself. \"To have brought much trouble!~~ \"To tell you Runeb wanted to frame Quan for the altars. To kill Quan if plan failed, and to be in control of The Fellowship in Terfin. To be Runeb's goal.~~ \"To be in much danger you and me!\"*");
				gflags[0x0240] = true;
				abort;

			case "buy" (remove):
				if (var0001 == TEND_SHOP) {
					say("\"To want reagents or jewelry and potions?\"");
					add(["reagents", "jewelry and potions"]);
				} else {
					say("\"To sell you things when my shop is open.\"");
				}
				fallthrough;

			case "reagents":
				Func08E2();
				remove("reagents");
				fallthrough;

			case "jewelry and potions":
				Func08E1();
				remove("jewelry and potions");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To give you farewell, human.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(SARPLING);
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func0889 0x889 ();
extern var Func090A 0x90A ();
extern void Func092F 0x92F (var var0000);

void Func04BD object#(0x4BD) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		FORBRAK->show_npc_face(0x0000);
		var0000 = false;
		var0001 = false;
		var0002 = Func08F7(DUPRE);
		add(["name", "job", "bye"]);
		if (var0002) {
			say("\"To greet you, human,\" the gargoyle says to Dupre. \"To ask how well the study is progressing?\"");
			DUPRE->say("\"Why 'tis progressing nicely, friend Forbrak.\"");
			var0003 = Func08F7(SHAMINO);
			if (var0003 && (!gflags[0x024E])) {
				FORBRAK->hide();
				SHAMINO->say("\"-What- study?\"");
				DUPRE->say("\"Why, er, surely thou hast heard of the famous guides compiled for Brommer!\"");
				SHAMINO->say("\"Aye, I have. But I'll be tarred if there is one detailing various drinking establishments!\"");
				DUPRE->say("\"Well, yes, er, 'tis, ah, something new. Now, how about a drink!\"");
				SHAMINO->say("\"New? 'Tis about as new as my backside...,\" mutters Shamino.");
				SHAMINO->hide();
			}
			DUPRE->hide();
			FORBRAK->show_npc_face(0x0000);
		}
		if (!gflags[0x024E]) {
			say("The gargoyle tending bar lifts a tankard to you.");
			gflags[0x024E] = true;
		} else {
			say("\"To ask what brings you to this fine establishment?\" asks Forbrak.");
		}
		converse (0) {
			case "name":
				say("\"To be Forbrak.\"");
				remove("name");
				add("Forbrak");
				fallthrough;

			case "Forbrak":
				say("\"To mean `strong arm' in the language of the gargoyles.\"");
				remove("Forbrak");
				add("gargoyles");
				fallthrough;

			case "job":
				say("He gestures around the room with an open hand.~~ \"To serve food and drink at the Hall of Refreshment.\"");
				add("buy");
				fallthrough;

			case "buy":
				var0004 = FORBRAK->get_npc_object()->get_schedule_type();
				if (var0004 == TEND_SHOP) {
					Func0889();
				} else {
					say("\"To ask you to please come back when my shop is open.\"");
				}
				fallthrough;

			case "gargoyles":
				say("\"To know many of the residents in town, and some of the troubles.\"");
				add(["residents", "troubles"]);
				remove("gargoyles");
				fallthrough;

			case "troubles":
				say("\"To know of only two. To see the conflict between the shrines and The Fellowship, and to know of the struggles of the wingless ones.\"");
				add(["shrine vs. Fellowship", "wingless vs. winged"]);
				remove("troubles");
				fallthrough;

			case "shrine vs. Fellowship":
				say("\"To believe there are disagreements between the old philosophy and the new. To expect no violence, but to ask you to seek the trainer and healer. To know they are observant and may have seen something. To also suggest you speak with members of The Fellowship.\"");
				gflags[0x023C] = true;
				remove("shrine vs. Fellowship");
				if (!var0001) {
					add("trainer");
				}
				if (!var0000) {
					add("healer");
				}
				add("members");
				gflags[0x0244] = true;
				fallthrough;

			case "members":
				say("\"To recommend you talk to their leader and their clerk.\"");
				add(["leader", "clerk"]);
				remove("members");
				fallthrough;

			case "wingless vs. winged":
				say("\"To watch wingless friends be discontented with their lot. To wonder why, but to never ask. To talk to the healer and the trainer. To expect they will have seen evidence if there is evidence to be seen.\"");
				remove("wingless vs. winged");
				if (!var0000) {
					add("healer");
				}
				if (!var0001) {
					add("trainer");
				}
				gflags[0x0244] = true;
				fallthrough;

			case "residents":
				say("\"To know many gargoyles. To want to know about some of them?\"");
				var0005 = Func090A();
				if (var0005) {
					say("\"To be sure you already know our leader. To wonder if you have met Teregus, or the learning center head.~~\"To be more practical, you may need the provisioner,\" he nods his head.");
					add(["learning center", "Teregus", "provisioner"]);
				} else {
					say("\"To tell you about them later if you wish.\"");
				}
				remove("residents");
				fallthrough;

			case "trainer":
				say("\"To be named Inforlem. To be very strong.\"");
				var0001 = true;
				remove("trainer");
				fallthrough;

			case "healer":
				say("\"To be named Inmanilem.\"");
				var0000 = true;
				remove("healer");
				fallthrough;

			case "leader":
				say("\"To be very friendly. To be called Quan.\"");
				remove("leader");
				fallthrough;

			case "clerk":
				say("\"To be extremely violent.\" He shakes his head. \"To be named Runeb, which means `red mist.' To be all that he leaves of a foe after combat.\"");
				remove("clerk");
				var0006 = RUNEB->get_npc_object()->is_dead();
				if (var0006) {
					say("\"To be dead now, though.\"");
				}
				fallthrough;

			case "learning center":
				say("\"To be a wonderful place to gain knowledge and exercise. To be managed by a gargoyle name Quaeven. To be very educated, this Quaeven. Also, to be wingless, like Silamo.\"");
				remove("learning center");
				add("Silamo");
				fallthrough;

			case "provisioner":
				say("\"To be called Betra. To be one of two shopkeepers. To say the other is Sarpling.\"");
				remove("provisioner");
				add("Sarpling");
				fallthrough;

			case "Teregus":
				say("\"To be a sage. To be very well-educated, like Quaeven. To live here a long time.\"");
				remove("Teregus");
				fallthrough;

			case "Silamo":
				say("\"To be the gardener who lives to the east of the mountains.\"");
				remove("Silamo");
				fallthrough;

			case "Sarpling":
				say("\"To know him little, and to have never been in his shop, and, therefore, to be unable to tell you what he sells. To know his name means `snake tongue.'\"");
				remove("Sarpling");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To wish you well, human.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(FORBRAK);
	}
}

extern var Func090A 0x90A ();
extern void Func0853 0x853 ();
extern void Func092F 0x92F (var var0000);

void Func04BE object#(0x4BE) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		BETRA->show_npc_face(0x0000);
		var0000 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x024F]) {
			say("The gargoyle welcomes you by making a sweeping motion with his open hand.");
			gflags[0x024F] = true;
		} else {
			say("\"To welcome you again, human,\" says Betra.");
		}
		if (gflags[0x0251]) {
			if (gflags[0x023E]) {
				add("Quaeven");
			}
		}
		converse (0) {
			case "name":
				say("\"To be named Betra. To be new to Terfin?\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"To tell you to talk to Teregus, the sage or Forbrak, the tavernkeeper, for information about town. To help with building locations and residents.\"");
				} else {
					say("\"To welcome you back to Terfin.\"");
				}
				remove("name");
				add(["Terfin", "Betra"]);
				gflags[0x0251] = true;
				if (gflags[0x023E] && (!var0000)) {
					add("Quaeven");
				}
				fallthrough;

			case "Betra":
				say("\"To be the word for `small valor.'\"");
				remove("Betra");
				fallthrough;

			case "job":
				say("\"To be the seller of provisions.\"");
				add("buy");
				fallthrough;

			case "Terfin":
				say("\"To be the town set aside for us gargoyles who wish to reside in our own culture.\"");
				remove("Terfin");
				add(["set aside", "culture"]);
				fallthrough;

			case "culture":
				say("\"To have many things unique to our race -- other than our appearance -- that distinguish us from humans. To be different, but also equal.\"");
				remove("culture");
				fallthrough;

			case "set aside":
				say("\"To have been put here by the humans. To be permitted to leave, and also to reside elsewhere, but to know that many humans do not like us.\"");
				remove("set aside");
				add("dislike");
				fallthrough;

			case "dislike":
				say("\"To be very ironic. To say that the only town with an equal number of humans and gargoyles is the one where most racial conflicts occur.\" ~~He shrugs. \"To have been unwise, perhaps, to put so many differences together. To be sad times.\"");
				remove("dislike");
				fallthrough;

			case "buy":
				var0002 = BETRA->get_npc_object()->get_schedule_type();
				if (var0002 == TEND_SHOP) {
					Func0853();
				} else {
					say("\"To sell to you during the hours of 9 in the morning and 6 in the evening. To be sorry, but to sell nothing before or after those hours.\"");
				}
				fallthrough;

			case "Quaeven":
				say("He smiles at the mention of the name.~~ \"To be a likable young gargoyle.\"");
				var0000 = true;
				add("join Fellowship?");
				remove("Quaeven");
				fallthrough;

			case "join Fellowship?":
				say("\"To join The Fellowship?\" He shakes his head. \"To be an organization not for me. To be quite happy as I am, devoted to the altars. To believe Quaeven to have been misled by the others in The Fellowship. To not trust them, especially Sarpling.\"");
				add(["misled", "Sarpling", "altars"]);
				remove("join Fellowship?");
				fallthrough;

			case "misled":
				say("\"To believe that there is deceit from The Fellowship, and to expect that is not what it appears. To believe promises of happiness made when Quaeven first joined came true from Quaeven, himself, not The Fellowship.\"");
				remove("misled");
				fallthrough;

			case "Sarpling":
				say("\"To trust him as far as I could throw him, and to certainly throw him as far as I could.\"");
				remove("Sarpling");
				fallthrough;

			case "altars":
				say("\"To have heard the rumors about destroying the altars. To be upset, but to have no evidence.~~ \"To know that only two gargoyles have easy access to such weapons. To be one of those gargoyles, and to know Sarpling is the other.\"");
				remove("altars");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To wish you safe travels, human.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(BETRA);
	}
}

extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04BF object#(0x4BF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		MARTINGO->show_npc_face(0x0000);
		var0000 = UI_is_pc_female();
		var0001 = Func0908();
		add(["name", "job", "bye"]);
		if (gflags[0x023B]) {
			add(["Ethereal Ring"]);
		}
		if (!gflags[0x0256]) {
			say("You see a nobleman, all alone, with a demented gleam in his eye.~~\"Who in blazes art thou?\" the man asks. His attitude is that of someone who was just interrupted from something terribly important.");
			var0002 = Func090B([var0001, "I am the Avatar"]);
			if (var0002 == var0001) {
				say("Martingo shakes your hand but acts thoroughly disinterested. \"I'm thrilled.\"");
				say("He turns to his right and speaks to no one.");
				say("\"What? Oh, really! I do not think ",
					var0001,
					" looks particularly brainless. We shall have to see, shall we not?\"");
				say("He turns back to you and grins.");
			} else {
				say("\"Of course thou art! And I am the evil spirit of Mondain, come back to wreak havoc over all Britannia. Funny, thou dost not look like an Avatar -- thou dost look like a fool.");
				if (var0000) {
					say("\"What can I do for thee, Miss Fool?\"");
				} else {
					say("\"What can I do for thee, Mr. Fool?\"");
				}
				say("He turns to his right and speaks to no one.");
				say("\"What? Oh, really! Thou dost think this Avatar looks like the real thing? I doubt it, Lucinda. I doubt it very much.\"");
				say("He turns back to you and grins.");
			}
			gflags[0x0256] = true;
		} else {
			say("\"What'chu want?\" Martingo asks, belligerently.");
		}
		converse (0) {
			case "name":
				say("The nobleman looks at you with impatience. \"I am Martingo, the Sultan of Spektran. Is that all right with thee?\" He rolls his eyes. He turns to his right side and whispers again to an imaginary person, \"I believe we have an ignoramus on our hands.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the Sultan of Spektran! What, is thy brain the size of a pea? Do not answer, 'twas a rhetorical question.\"");
				if (var0000) {
					say("He turns to his left side and whispers to no one, \"Dost thou not think her brain is the size of a pea? I do!\" He giggles conspiratorially with his invisible friend.");
				} else {
					say("He turns to his left side and whispers again to an imaginary person, \"Dost thou not think his brain is the\tsize of a pea? I do!\" He giggles conspiratorially with his invisible friend.");
				}
				say("Martingo then pulls out a banana and begins to peel it.");
				add(["Sultan", "Spektran", "banana"]);
				fallthrough;

			case "Sultan":
				say("\"Come on, do not insult mine intelligence. Surely thou dost know what a Sultan is! Canst not thou see mine harem?\"");
				var0003 = Func090A();
				if (var0003) {
					say("\"Lovely, are they not?");
				} else {
					say("Martingo looks bewildered. \"Then thou must have thine eyes examined! I am surrounded by ten...\" He looks around quickly. \"No, -eleven- beautiful women!");
				}
				say("\"Each day I enjoy a different one. Thou canst not imagine how much fun being a Sultan really is!\" He leans over and kisses an invisible cheek. \"Today, I am enjoying Lucinda.\" He grins broadly.");
				add("Lucinda");
				if (var0000) {
					say("Martingo looks you up and down lecherously. \"Hmmm. Wouldst thou like to join mine harem?\"");
					var0004 = Func090A();
					if (var0004) {
						say("Your answer takes Martingo by surprise. \"Thou wouldst?\" He looks around nervously. \"Oh, uhm, I had better consult mine astrologer about this matter. I shall get back to thee, all right?\"");
					} else {
						say("\"Pity.\"");
					}
				}
				remove("Sultan");
				fallthrough;

			case "Spektran":
				say("\"'Tis the island thou dost stand upon!\" He turns to the invisible person on his left and whispers, \"Thou art correct -- this person really is a fool!\" ~~Martingo turns back to you. \"As I said, I am the Sultan here. I am the master of all of these subjects.\" He gestures\taround the room.");
				var0005 = Func08F7(IOLO);
				if (var0005) {
					IOLO->say("Iolo whispers to you. \"This fellow is quite daft. Be careful.\"");
					IOLO->hide();
					MARTINGO->show_npc_face(0x0000);
				}
				remove("Spektran");
				fallthrough;

			case "Lucinda":
				say("\"She is beautiful, is she not?\" Martingo leans over and sticks his tongue in an ear that isn't there.");
				remove("Lucinda");
				fallthrough;

			case "banana":
				if (!gflags[0x0258]) {
					say("\"Oh, forgive my manners! Wouldst thou like a banana?\"");
					var0006 = Func090A();
					if (var0006) {
						say("\"Well, it shall cost thee 3 gold coins. Still want one?\"");
						var0007 = Func090A();
						if (var0007) {
							var0008 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
							if (var0008 >= 0x0003) {
								var0009 = UI_add_party_items(0x0001, 0x0179, QUALITY_ANY, 0x0011, true);
								if (var0009) {
									say("\"Here thou art.\" Martingo hands you a banana and takes your gold. He turns to 'Lucinda' and whispers, \"That rotter took my last banana!\"");
									gflags[0x0258] = true;
								} else {
									say("\"Thou dost have wheat for brains! Thou hast not room for a single banana!\"");
								}
							} else {
								say("\"Broke, art thou? Too bad.\" Martingo sniffs. \"Well, I am very rich, I must say.\"");
							}
						} else {
							say("\"That's a relief. I only had one left.\"");
						}
					} else {
						say("\"That's a relief. I only had one left.\"");
					}
				} else {
					say("\"I already sold thee my last banana!\"");
				}
				remove("banana");
				fallthrough;

			case "Ethereal Ring":
				say("Martingo looks suspicious. \"Art thou wanting to steal mine Ethereal Ring?\" He turns to his imaginary friend and whispers, \"Thou wert right. Our guest looks like a thief.\" He turns back to you and smiles. \"Yes, I do have an Ethereal Ring. I purchased it from the King of the Gargoyles. What was his name?\" He leans toward the invisible companion on his right. \"What? Oh yes, Draxinusom. I knew it all the time.\" He turns back to you. \"It is in my vault.\"");
				remove("Ethereal Ring");
				add("vault");
				fallthrough;

			case "vault":
				say("Martingo's eyes light up. \"My vault is the most protected vault in all Britannia. No one, and I repeat, -no one- can steal anything from my vault. I have many fine treasures there.\" He turns to 'Lucinda' and bites an nonexistent ear lobe.");
				remove("vault");
				add(["treasures", "protected"]);
				fallthrough;

			case "treasures":
				say("\"I collect magical items. The vault is full of them. Including this ring thou dost mention.\"");
				remove("treasures");
				fallthrough;

			case "protected":
				say("\"The vault's security is my secret. Feel free to try and enter it. In fact, I dare thee! If thou canst succeed in getting inside, thou art welcome to take anything!\" Martingo laughs. \"All thou dost need is the key!\" He laughs with his imaginary harem, as if they were all laughing with him. \"I'm sure thou wilt find it!\" He breaks up, laughing so hard that tears begin to fall down his cheeks.");
				remove("protected");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Fine. Go away. It shall do thee good!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(MARTINGO);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func08BE 0x8BE (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func04C0 object#(0x4C0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		MENION->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = MENION->get_npc_object()->get_schedule_type();
		var0002 = UI_part_of_day();
		add(["name", "job", "bye"]);
		if (!gflags[0x0269]) {
			say("The large, muscle-bound man smiles pleasantly at you.");
			gflags[0x0269] = true;
		} else {
			say("\"Greetings, ",
				var0000,
				",\" says Menion.");
		}
		converse (0) {
			case "name":
				say("\"I am Menion, ",
					var0000,
					".\" He shakes your hand.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a trainer. I help warriors become bigger and stronger and better fighters. I also forge swords to match the strength in my students' arms.\"");
				add(["train", "forge", "students"]);
				fallthrough;

			case "students":
				say("\"I have taught many a warrior how to use his -- or her -- force against an opponent.\"");
				remove("students");
				add("force");
				fallthrough;

			case "force":
				say("\"Yes, ",
					var0000,
					". The key to effective fighting is striking hard and accurately at one's foe.\"");
				remove("force");
				add(["hard", "accurately"]);
				fallthrough;

			case "hard":
				say("\"Physical strength permits the attacker a better chance of penetrating the other fighter's armour. Obviously, in a lethal combat, that is an important objective.\"");
				remove("hard");
				fallthrough;

			case "accurately":
				say("\"Needless to say, some targets on an individual are better than others. 'Tis always best to hit something that will either seriously incapacitate one's foe, or create enough pain to distract him.\"");
				remove("accurately");
				fallthrough;

			case "train":
				if (var0001 == TEND_SHOP) {
					say("\"I will train thee for 45 gold. Wilt thou pay?\"");
					if (Func090A()) {
						Func08BE([STRENGTH, COMBAT], 45);
					} else {
						say("\"Fine.\"");
					}
				} else {
					say("\"Perhaps this would be a more appropriate topic when I am at work.\"");
				}
				fallthrough;

			case "forge":
				say("\"Dost thou wish to make a sword?\"");
				if ((var0002 == MORNING) || ((var0002 == NOON) || (var0002 == AFTERNOON))) {
					var0003 = Func090A();
					if (!var0003) {
						say("\"Perhaps sometime when thou hast more time.\"");
					} else {
						say("He smiles. \"I would be very happy to show thee the steps necessary to create a very fine blade.\" He quickly jots down a few things on a scroll and turns to give it to you.*");
						var0004 = UI_add_party_items(0x0001, 0x031D, 0x000D, 0x0000, true);
						if (var0004) {
							say("\"May thy blade be sturdy and sharp!\"*");
						} else {
							say("\"Perhaps when thou hast fewer things to occupy thy pack, I can give this to thee.\"");
						}
					}
				} else {
					say("\"I can help thee with that when I am at work.\"");
				}
				remove("forge");
				fallthrough;

			case "bye":
				break;
		}
		say("\"May the strength in thine arms always match the strength of thy will.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(MENION);
	}
}

extern var Func0909 0x909 ();
extern void Func092E 0x92E (var var0000);

void Func04C1 object#(0x4C1) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		PENDARAN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x026A]) {
			say("You are greeted with a stern look on this man's face.");
			gflags[0x026A] = true;
		} else {
			say("\"^",
				var0000,
				".\" He nods at you.");
		}
		if (gflags[0x025E] && (!gflags[0x0276])) {
			add("statue");
		}
		converse (0) {
			case "name":
				say("\"Thou mayest call me Sir Pendaran.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a knight here in Serpent's Hold. 'Tis my job to help protect the citizens of Britannia.\"");
				add(["protect", "Serpent's Hold"]);
				fallthrough;

			case "protect":
				say("\"Aye, ",
					var0000,
					". Britannia can be a dangerous place outside town boundaries. Especially now that the ruling faction have gone soft!\"");
				remove("protect");
				add(["ruling faction", "soft"]);
				fallthrough;

			case "ruling faction":
				say("\"Well, I mean Lord British and his advisors.\"");
				remove("ruling faction");
				fallthrough;

			case "soft", "worthless":
				say("\"Though I'd follow the land's ideals to the ends of the land, I find it difficult to accept how poor the conditions are in Britannia. Brigands populate the land, disease overruns the towns, and corruption fills the councils. Were it not for The Fellowship, I would be hard pressed to avoid falling on mine own blade, despite how dishonorable an act that may seem.\"");
				var0001 = true;
				remove(["soft", "worthless"]);
				add("Fellowship");
				fallthrough;

			case "Fellowship":
				say("\"A noble group of people who strive to instill a greater sense of spiritual knowledge throughout all of Britannia. 'Twill be but a matter of time, ",
					var0000,
					", before all people will see the wisdom.\"");
				remove("Fellowship");
				fallthrough;

			case "Serpent's Hold":
				say("\"I live here in the hold with my lady.\"");
				add("lady");
				remove("Serpent's Hold");
				fallthrough;

			case "lady":
				say("\"Her name is Jehanne, ",
					var0000,
					",\" he says suspiciously. \"She is the provisioner.\"");
				remove("lady");
				fallthrough;

			case "statue":
				say("\"Terrible shame, ",
					var0000,
					".\" He eyes you coldly.");
				if (gflags[0x025D]) {
					add("Thou didst do it!");
				}
				remove("statue");
				fallthrough;

			case "Thou didst do it!":
				say("\"What! Thou art accusing me! Preposterous. I had nothing to do with it!\"");
				remove("Thou didst do it!");
				add("Lady Jehanne");
				fallthrough;

			case "Lady Jehanne":
				gflags[0x0276] = true;
				say("He shakes his head.~~\"Thou wouldst take the word of a woman over that of a knight of the Hold? Thou art lower than a worm!\" He glares at you for a moment, and then his expression changes.~~\"All right,\" he says, \"I am the one\twho defaced the statue, but only because the government has become so worthless and soft!\" He quickly turns away from\tyou, ashamed.~~\"If thou dost think it best,\" he sighs, \"tomorrow I shall beg forgiveness from my fellow knights.\"");
				UI_push_answers();
				add(["'tis best", "no need"]);
				fallthrough;

			case "'tis best":
				say("Nodding his agreement, he sighs again, and turns away.*");
				abort;

			case "no need":
				say("\"No, no, ",
					var0000,
					". Thou hast shown me the way. I must repent.\" He turns away from you to reflect on his decision.*");
				abort;

			case "bye":
				break;
		}
		say("\"Good day to thee, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(PENDARAN);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func08A1 0x8A1 ();

void Func04C2 object#(0x4C2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == DOUBLECLICK) {
		JEHANNE->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x026B]) {
			say("The woman greets you with a curtsey.");
			gflags[0x026B] = true;
		} else {
			say("\"Good day, ",
				var0001,
				",\" says Lady Jehanne.");
		}
		if (gflags[0x027C]) {
			if (gflags[0x025C] && (!gflags[0x025D])) {
				add("commons");
				var0002 = true;
			}
		}
		converse (0) {
			case "name":
				say("\"I am the Lady Jehanne, ",
					var0001,
					".\"");
				gflags[0x027C] = true;
				remove("name");
				if (gflags[0x025C] && (!gflags[0x025D])) {
					if (!var0002) {
						add("commons");
					}
				}
				fallthrough;

			case "job":
				say("\"I am the provisioner of Serpent's Hold.\"");
				if (!gflags[0x0274]) {
					say("\"And,\" she adds, \"I also have a ship for sale shouldst thou be interested in that.\"");
					add("ship");
				}
				add(["Serpent's Hold", "provisions"]);
				fallthrough;

			case "ship":
				say("\"Well, it was once the magnificent `Constellation.' However, 'twas destroyed by the ship's captain, himself, to prevent it from falling into the hands of attacking pirates. What little remained was rebuilt into an even finer ship, `The Dragon's Breath?' Art thou interested in purchasing it for 600 gold?\"");
				var0003 = Func090A();
				if (var0003) {
					var0004 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var0004 >= 0x0258) {
						var0005 = UI_add_party_items(0x0001, 0x031D, 0x0013, FRAME_ANY, false);
						if (var0005) {
							say("\"Here is thy deed.\"");
							var0006 = UI_remove_party_items(0x0258, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							gflags[0x0274] = true;
						} else {
							say("\"Sadly, ",
								var0001,
								", thou hast not the room for this deed.\"");
						}
					} else {
						say("\"I understand, ",
							var0001,
							", thou hast not the funds at this time.\"");
					}
				} else {
					say("\"Perhaps sometime in the future, ",
						var0001,
						".\"");
				}
				remove("ship");
				fallthrough;

			case "Serpent's Hold":
				say("\"Most of us here are knights, noble warriors sworn to protect Britannia and Lord British. Mine own lord,\" she beams with pride, \"is such a knight -- Sir Pendaran.\"");
				remove("Serpent's Hold");
				add(["Sir Pendaran", "knights"]);
				fallthrough;

			case "Sir Pendaran":
				say("\"We met three years ago. He's quite brave and strong. I just love to watch him fight.\" She smiles.~~\"I am not really sure he will mix well with the rest of The Fellowship, though.\"");
				remove("Sir Pendaran");
				add(["fight", "Fellowship"]);
				fallthrough;

			case "fight":
				say("\"He and Menion used to spar together, after their exercises. 'Twas a beautiful... sight, ",
					var0001,
					",\" she says, blushing.");
				remove("fight");
				add("used to");
				fallthrough;

			case "used to":
				say("\"At the time, Pendaran was the only man who could keep up with Menion. Now that Menion has begun instructing others, he no longer has the time to practice with my Lord.\"");
				remove("used to");
				fallthrough;

			case "Fellowship":
				var0007 = UI_wearing_fellowship();
				if (var0007) {
					say("\"Well, er, I mean, he would not have mixed well -before- he joined, that is,\" she stammers.");
				} else {
					say("\"It's nothing really. He was just a little bit more... individualistic before he joined. I do not think there's anything wrong with The Fellowship, necessarily; but I did not expect it to be something that would capture Pendaran's interest.\"");
				}
				remove("Fellowship");
				fallthrough;

			case "knights":
				say("With but a few exceptions, myself included, all of the warriors here in the Hold are knights. Thou mayest wish to speak with Lord John-Paul. He is in charge of Serpent's Hold and might be better able to show thee around.");
				remove("knights");
				fallthrough;

			case "provisions":
				var0008 = JEHANNE->get_npc_object()->get_schedule_type();
				if (var0008 == TEND_SHOP) {
					say("\"Thou wishest to buy something?\"");
					var0009 = Func090A();
					if (var0009) {
						Func08A1();
					} else {
						say("\"Well, perhaps next time, ",
							var0001,
							".\"");
					}
				} else {
					say("\"A better time to buy would be when my shop is open.\"");
				}
				remove("provisions");
				fallthrough;

			case "commons":
				say("For an instant, you see indecisiveness in her expression, then she suddenly gives in, her words coming out in a torrent of information.~~\"I am afraid to speak, but knowing thou wouldst see through any facade, I can no longer silence the truth. My Lord, Sir Pendaran, has not been the same gentle soul since he joined the Fellowship.~~\"'Twas not too long ago that my Pendaran was a noble knight, one a lady could be proud of. But now,\" she shakes her head, \"in protest of a wrong he perceives in Britannia's government, he has defaced the statue of our beloved Lord British.\" She begins to sob.~~\"And, he has battled and wounded a fellow knight who chanced upon him during his hour of misdeed. He came to me,\" she tries to choke back her tears, \"with another's blood on his sword!\"~~After a few moments of your comforting, she regains her composure.~~\"Please do not be too harsh with him,\" she begs.");
				gflags[0x025D] = true;
				remove("commons");
				add("another");
				fallthrough;

			case "another":
				say("\"I know not who, ",
					var0001,
					", and Pendaran would not say!\"");
				remove("another");
				fallthrough;

			case "bye":
				say("\"May fortune follow thee, ",
					var0001,
					".\"*");
				abort;
		}
	}
	if (event == PROXIMITY) {
		var000A = UI_part_of_day();
		var0008 = JEHANNE->get_npc_object()->get_schedule_type();
		var000B = UI_die_roll(0x0001, 0x0004);
		if (var0008 == TEND_SHOP) {
			if (var000B == 0x0001) {
				var000C = "@Provisions!@";
			}
			if (var000B == 0x0002) {
				var000C = "@Buy in advance!@";
			}
			if (var000B == 0x0003) {
				var000C = "@Best provisions in town!@";
			}
			if (var000B == 0x0004) {
				var000C = "@Be equipped!@";
			}
		}
		if (var0008 == EAT_AT_INN) {
			if (var000B == 0x0001) {
				var000C = "@Wondrous fine food!@";
			}
			if (var000B == 0x0002) {
				var000C = "@Fine drink!@";
			}
			if (var000B == 0x0003) {
				var000C = "@Mmmmm...@";
			}
			if (var000B == 0x0004) {
				var000C = "@I am full.@";
			}
		}
		JEHANNE->item_say(var000C);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func04C3 object#(0x4C3) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		JOHN_PAUL->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = Func08F7(HORFFE);
		var0003 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x026C]) {
			say("The very serious man breaks into a half-smile as he greets you.");
			var0004 = JOHN_PAUL->get_distance(HORFFE);
			if (var0004 < 0x000A) {
				if (gflags[0x026E]) {
					say("Horffe is standing at attention just behind him.");
				} else {
					say("Standing at attention just behind him is a wingled gargoyle.");
				}
			}
			gflags[0x026C] = true;
		} else {
			say("\"Good day to thee,\" says Lord John-Paul.");
		}
		if (gflags[0x025F] && (!gflags[0x0265])) {
			if (!gflags[0x0261]) {
				add("Sir Horffe responsible");
			}
		}
		if (gflags[0x025D] && (!gflags[0x0261])) {
			add("Sir Pendaran responsible");
			remove("Sir Horffe responsible");
		}
		converse (0) {
			case "name":
				say("\"I am Lord John-Paul of Serpent's Hold. Thou art ",
					var0000,
					", the Avatar, correct?\"");
				var0005 = Func090A();
				if (var0005) {
					if (gflags[0x025E] && (!gflags[0x0260])) {
						say("\"I remember thee.\"");
					} else {
						say("\"Excellent.\"");
						if (!gflags[0x0263]) {
							say("\"I have something that might interest thee.\"");
						}
						add("I am interested");
					}
				} else {
					say("He looks surprised. \"Forgive me, ",
						var0001,
						", I could have sworn... Ah, well, no matter.\"");
				}
				remove("name");
				add("Serpent's Hold");
				fallthrough;

			case "job":
				say("\"I am charged with overseeing the Hold.\"");
				add("overseeing");
				fallthrough;

			case "overseeing":
				say("\"It is not a difficult job. Sir Richter and Sir Horffe insure that things run smoothly as often as possible.\"");
				remove("overseeing");
				add(["Sir Richter", "Sir Horffe"]);
				fallthrough;

			case "Sir Richter":
				say("\"He is in charge of the Hold when I am otherwise occupied. He has seemed somewhat changed of late, but I trust him nonetheless.\"");
				remove("Sir Richter");
				add("changed");
				fallthrough;

			case "changed":
				say("\"It began when he joined The Fellowship. He became more... what is the word... orderly.\"~~He smiles. \"I suppose there is a regimented structure within The Fellowship that has done him good, no?\"");
				remove("changed");
				add(["orderly", "Fellowship"]);
				fallthrough;

			case "Fellowship":
				say("\"I'm afraid I know so little about them. They seem to help many people. However, I have noticed Sir Horffe has become rather apprehensive since Richter joined.\"");
				var0003 = true;
				remove("Fellowship");
				fallthrough;

			case "orderly":
				say("\"It is difficult to explain. He seems more disciplined,\" he gives a short laugh, \"which, of course, is rather fitting for the Hold.\"");
				remove("orderly");
				fallthrough;

			case "Sir Horffe":
				say("\"He is the captain of the guards. I would have no other for his position. He is the most honorable warrior I have ever met.\"");
				if (var0002) {
					HORFFE->say("\"To thank you, Sir!\"");
					HORFFE->hide();
					JOHN_PAUL->show_npc_face(0x0000);
				}
				if (var0003) {
					say("\"He seems to have taken a dislike for The Fellowship, however. I have noticed he is reluctant to mention this around Sir Richter.\" He shrugs.");
				}
				remove("Sir Horffe");
				fallthrough;

			case "Serpent's Hold":
				say("\"It has changed little since thy last visit, ",
					var0000,
					". Of course, all of the people are new.\"");
				add("people");
				remove("Serpent's Hold");
				fallthrough;

			case "people":
				say("\"I am afraid I must attend to other business shortly, and cannot show thee around. But I recommend that thou visitest the Hallowed Dock. Many of the Hold's knights frequent there in the evening.\"");
				remove("people");
				fallthrough;

			case "I am interested":
				if (!gflags[0x0260]) {
					say("He smiles gratefully at you and begins pacing.~~ \"Very recently, a terrible crime was committed. It seems the statue of Lord British, the one in the Hold commons, was defaced by an unknown vandal.~~ \"Perhaps,\" he looks at you hopefully, \"thou couldst help track down the villain?\"");
					gflags[0x0263] = true;
					var0006 = Func090A();
					if (var0006) {
						say("\"Very good. The best way to begin is by speaking with Sir Denton, the tavernkeeper at the Hallowed Dock. His ability to solve puzzles and problems is remarkable. When thou hast solved this little mystery, please inform me of thy findings.\"");
					} else {
						say("\"Of course. I understand. Thou dost have much more important matters to resolve. I will call for an official from Yew to handle this issue.\"");
						gflags[0x0260] = true;
					}
					gflags[0x025E] = true;
				} else {
					say("\"Oh, yes, I forgot. I am terribly sorry to have disturbed thee twice with this matter. Please excuse my forgetfulness, ",
						var0000,
						". The matter is being handled.\"");
					add("handled?");
				}
				remove("I am interested");
				fallthrough;

			case "handled?":
				say("\"I have sent for a judge from the High Court in Yew. I realize thou dost not have the time for such petty matters.\"");
				add("I have the time");
				remove("handled?");
				fallthrough;

			case "I have the time":
				say("\"Yes, yes, thou art very kind, but I am sure there are much more important matters thou must attend to. I thank thee none the less.\"");
				remove("I have the time");
				add("-I- -want- -to- -do- -it-!");
				fallthrough;

			case "-I- -want- -to- -do- -it-!":
				say("\"Oh, I see. Well, in that case. The best way to begin is by speaking with Sir Denton, the tavernkeeper at the Hallowed Dock. His ability to solve puzzles and problems is remarkable. Please come to me with thy findings after thou hast solved this little mystery.\"");
				remove("-I- -want- -to- -do- -it-!");
				fallthrough;

			case "Sir Pendaran responsible":
				say("He appears puzzled.~~\"I see. And how didst thou reach this conclusion?\"");
				add("Lady Jehanne");
				remove("Sir Pendaran responsible");
				fallthrough;

			case "Lady Jehanne":
				Func0911(0x0064);
				say("He smiles and extends his hand.~~\"Excellent job, ",
					var0000,
					". I cannot adequately express my gratitude. I will see that Sir Pendaran is properly reprimanded. I thank thee, ",
					var0000,
					".\"");
				if (gflags[0x0262]) {
					say("\"Now I must apologize to Sir Horffe!\"");
					if (var0002) {
						say("*");
						HORFFE->say("\"To have no need! To be happy the true vandal is discovered.\"*");
						HORFFE->hide();
						JOHN_PAUL->show_npc_face(0x0000);
					}
				}
				gflags[0x0261] = true;
				remove("Lady Jehanne");
				fallthrough;

			case "Sir Horffe responsible":
				say("He appears surprised.~~\"I see. And how didst thou reach this conclusion?\"");
				add("gargoyle blood on fragments");
				remove("Sir Horffe responsible");
				fallthrough;

			case "gargoyle blood on fragments":
				say("\"Very well.\" He is obviously troubled.");
				if (var0002) {
					say("He turns to reprimand the gargoyle at his side.*");
					abort;
				}
				say("\"I will take care of this immediately!\"");
				gflags[0x0262] = true;
				remove("gargoyle blood on fragment");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Carry on, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern void Func08D4 0x8D4 ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func08D3 0x8D3 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04C4 object#(0x4C4) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		RICHTER->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func0908();
		var0002 = "the Avatar";
		var0003 = RICHTER->get_npc_object()->get_schedule_type();
		add(["name", "job", "Fellowship", "bye"]);
		if (gflags[0x0266]) {
			var0004 = var0001;
		}
		if (gflags[0x0267]) {
			var0004 = var0000;
		}
		if (!gflags[0x026D]) {
			say("You see a dashing young man, who turns to greet you.~~\"I am Richter, a knight of the Hold. Who wouldst thou be?\"");
			var0005 = Func090B([var0001, var0002]);
			if (var0005 == var0001) {
				say("\"I am happy to meet thee, ",
					var0001,
					".\"");
				var0004 = var0001;
				gflags[0x0266] = true;
			} else {
				say("\"I see,\" he eyes you suspiciously. \"Thou art back for more, then? Thou'lt not trick me again, I warn thee.\"");
				var0004 = var0000;
				gflags[0x0267] = true;
				add("more");
			}
			gflags[0x026D] = true;
		} else {
			say("\"Hello, ",
				var0004,
				",\" says Richter.");
		}
		if (gflags[0x025E] && (!gflags[0x0261])) {
			add("statue");
		}
		if (gflags[0x025F] && (!gflags[0x0265])) {
			if (gflags[0x027B]) {
				if (!gflags[0x0279]) {
					add("gargoyle blood");
				}
			}
		}
		converse (0) {
			case "name":
				say("\"As I have told thee, I am called Richter.\"");
				gflags[0x027B] = true;
				remove("name");
				if (gflags[0x025F] && (!gflags[0x0265])) {
					if (!gflags[0x0279]) {
						add("gargoyle blood");
					}
				}
				fallthrough;

			case "more":
				say("He clears his throat and examines you more closely.~~\"Ah, thou shouldst not mind my mumblings, ",
					var0004,
					".\"");
				add("I mind");
				remove("more");
				fallthrough;

			case "job":
				say("\"I am the armourer of the Hold.\"");
				add(["armour", "weapons", "Hold"]);
				fallthrough;

			case "Hold":
				say("\"Yes, thou art in Serpent's Hold, home to many noble and valiant knights.\"");
				remove("Hold");
				add("knights");
				fallthrough;

			case "knights":
				say("\"Lord John-Paul is charged with overseeing the Hold, though Sir Horffe is actually the captain of the guard. The rest of us, of course, are here to serve Lord British and the needs of Britannia.\"");
				remove("knights");
				add(["John-Paul", "Horffe", "needs"]);
				fallthrough;

			case "gargoyle blood":
				say("\"I should have known 'twould be Horffe.\" His eyes narrow. \"He has continually demonstrated an overall lack of morals and sense of unity. I will speak with John-Paul about this.\"");
				var0006 = true;
				remove("gargoyle blood");
				fallthrough;

			case "John-Paul":
				say("\"I trust his ability as I trust no other. I cannot tell thee how proud I was when he chose me to be his second in command!\"");
				remove("John-Paul");
				fallthrough;

			case "Horffe":
				say("He appears thoughtful. \"I know the others trust him, and I, myself, do not doubt his fighting skills. But I cannot escape this feeling that he needs more moral discipline. I feel obligated to watch him at times.\"");
				remove("Horffe");
				add(["others", "watch"]);
				fallthrough;

			case "watch":
				say("\"I am not certain what it is that I am watching for. However, I expect him to fall into ways either aggressive or thieving. He simply does not seem to truly believe in the unity of the Hold.\"");
				remove("watch");
				fallthrough;

			case "others":
				say("\"Well, it is obvious that John-Paul respects his abilities. Lady Tory has told me that she can sense his honesty, but I am not without skepticism.\"");
				remove("others");
				add(["Tory", "sense"]);
				fallthrough;

			case "sense":
				say("\"Lady Tory has the uncanny ability to empathize with others. She can determine another's intentions and emotions by doing nothing more than passing a simple greeting.\"");
				remove("sense");
				fallthrough;

			case "Tory":
				say("\"She is the Hold advisor, often giving guidance to the knights.\" His expression becomes wistful. \"She is also quite, quite beautiful.\"");
				remove("Tory");
				fallthrough;

			case "needs":
				say("\"Well, obviously there is many a vile beast looking to terrorize the countryside on the mainland. 'Tis our duty to protect the common man. In addition, we are here to provide examples of proper behavior to the general populace.\"");
				remove("needs");
				fallthrough;

			case "I mind":
				say("Looking down, he shifts his weight from foot to foot for a moment. Glancing back up, eyes narrowed, he says, ~~\"Not long ago a man entered mine armoury who claimed to be the Avatar, just as thou dost claim. When I turned to reach for a weapon he had requested, he purloined several items and ran away.~~\"I assume,\" he says carefully, \"thou art not that rogue.\"");
				remove("I mind");
				fallthrough;

			case "armour":
				if ((var0003 == TEND_SHOP) || (var0003 == BLACKSMITH)) {
					Func08D4();
				} else {
					say("\"I am sorry. A better time to discuss this would be when my shop is open.\"");
				}
				remove("armour");
				fallthrough;

			case "Fellowship":
				var0007 = UI_wearing_fellowship();
				if (var0007) {
					say("\"Why, yes, I see thou art a member too.\"");
				} else {
					Func0919();
				}
				remove("Fellowship");
				add("philosophy");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "weapons":
				if ((var0003 == TEND_SHOP) || (var0003 == BLACKSMITH)) {
					Func08D3();
				} else {
					say("\"I am sorry. A better time to discuss this would be when my shop is open.\"");
				}
				remove("weapons");
				fallthrough;

			case "statue":
				say("A look of disgust appears on his face.~~\"Obviously, someone who doth not seek unity did this! He is not worthy of reward!\"~~After a moment, he calms down.");
				if (!gflags[0x0259]) {
					say("\"Art thou investigating this crime against mankind?\"");
					var0008 = Func090A();
					if (var0008) {
						say("\"Then let me give thee these.\" He holds up some stone chips. \"They were found at the base of the statue. Thou wilt notice that they are stained red in some places. I believe it to be blood.\"");
						var0009 = UI_add_party_items(0x0001, 0x032F, QUALITY_ANY, 0x0004, false);
						if (var0009) {
							gflags[0x0259] = true;
						} else {
							say("\"Mayhap when thou hast more room I can give them to thee.\"");
						}
					} else {
						say("\"I see.\"");
					}
				}
				remove("statue");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Pleasant journeys. Remember, trust thy brother.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(RICHTER);
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func092F 0x92F (var var0000);

void Func04C5 object#(0x4C5) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		HORFFE->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (!gflags[0x026E]) {
			var0000 = HORFFE->get_distance(JOHN_PAUL);
			if (var0000 < 0x000B) {
				if (gflags[0x026C]) {
					var0001 = " standing at attention just behind Lord John-Paul.";
				} else {
					var0001 = " standing at attention just behind another knight.";
				}
			} else {
				var0001 = ".";
			}
			say("You see a gargoyle with a very stern expression on his face",
				var0001,
				"");
			var0002 = Func08F7(JOHN_PAUL);
			gflags[0x026E] = true;
		} else {
			say("\"To ask how to be of assistance.\" His eyes narrow.");
		}
		if (gflags[0x025E] && (!gflags[0x0265])) {
			add("statue");
		}
		if (gflags[0x0276] && (!gflags[0x0261])) {
			add("Pendaran did it");
		}
		converse (0) {
			case "name":
				say("\"To be named Horffe.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"To be the Captain of the guard. To serve and protect the people of Serpent's Hold.\"");
				add(["Captain", "Serpent's Hold"]);
				fallthrough;

			case "Captain":
				say("\"To have been commanded to protect the people who live in Serpent's Hold and to maintain the general order of the knights.\"");
				remove("Captain");
				add(["people", "knights"]);
				fallthrough;

			case "Serpent's Hold", "people":
				say("\"To direct you to Sir Denton, the tavernkeeper at the Hallowed Dock. To know more about the Hold and the people than I.\"");
				remove(["people", "Serpent's Hold"]);
				fallthrough;

			case "Pendaran did it":
				say("\"To thank you for this information. To be pleased to know the identity of my assailant.\"");
				remove("Pendaran did it");
				fallthrough;

			case "knights":
				say("\"To inform you that many fine warriors take up residence between the Hold's walls. To have little fear of an attack from bandits or vicious animals.\"");
				remove("knights");
				fallthrough;

			case "statue":
				say("\"To know nothing about that!\"");
				if (gflags[0x025F]) {
					add("blood on fragments");
				}
				remove("statue");
				fallthrough;

			case "blood on fragments":
				say("His rough demeanor softens.~~\"To be my blood.\" He sighs. \"But to be not the one who defaced the statue! To have been wounded while trying to stop the vandal.\"");
				add("vandal");
				remove("blood on fragments");
				gflags[0x0265] = true;
				fallthrough;

			case "vandal":
				say("He looks down at his feet.~~\"To know not who he was. To have been very dark. To ask you not to tell Sir Richter.\"");
				remove("vandal");
				add(["dark", "Sir Richter"]);
				fallthrough;

			case "dark":
				say("\"To have been very poor visibility, but to be positive I was scuffling with an armed knight.\"");
				remove("dark");
				fallthrough;

			case "Sir Richter":
				say("\"To know he will not believe one who openly defies The Fellowship.\"");
				remove("Sir Richter");
				add("Fellowship");
				fallthrough;

			case "Fellowship":
				say("\"To know little about it. To like little about it.\"");
				remove("Fellowship");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To say goodbye.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(HORFFE);
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090B 0x90B (var var0000);
extern void Func08A4 0x8A4 ();
extern void Func08A3 0x8A3 ();
extern void Func092E 0x92E (var var0000);

void Func04C6 object#(0x4C6) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		JORDAN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func0908();
		var0002 = "Avatar";
		var0003 = Func08F7(IOLO);
		var0004 = Func08F7(SHAMINO);
		add(["name", "job", "bye"]);
		if (gflags[0x025A]) {
			var0005 = var0001;
		}
		if (gflags[0x025B]) {
			var0005 = var0002;
		}
		if (!gflags[0x026F]) {
			say("You see a man who, despite being blind, quickly acknowledges you.~~\"I am Jordan. Sir Jordan. And thou art?\"");
			var0006 = Func090B([var0001, var0002]);
			if (var0006 == var0001) {
				say("\"My pleasure, ",
					var0001,
					".\" He shakes your hand.");
				gflags[0x025A] = true;
			} else {
				say("He laughs. \"Yes, but of course thou art.\"");
				gflags[0x025B] = true;
				if (var0003) {
					IOLO->say("\"'Tis true, Sir Jordan. He is the Avatar.\"*");
					IOLO->hide();
					JORDAN->say("Jordan smiles. \"I see. And who wouldst thou be? Shamino?\"*");
					if (var0004) {
						IOLO->say("\"No.\" He points to Shamino. \"He is. I am Iolo!\"*");
						IOLO->hide();
						JORDAN->show_npc_face(0x0000);
					} else {
						IOLO->say("\"No. I am Iolo, not Shamino!\"*");
						IOLO->hide();
						JORDAN->show_npc_face(0x0000);
					}
					say("\"Of course!\" He says, patronizingly. \"How could I not recognize the great Iolo.\"");
				}
			}
			gflags[0x026F] = true;
		} else {
			say("\"Greetings, ",
				var0005,
				".\"");
		}
		if (gflags[0x025E] && (!gflags[0x0261])) {
			add("statue");
		}
		add(["name", "job", "bye"]);
		if (gflags[0x025A]) {
			var0005 = var0001;
		}
		if (gflags[0x025B]) {
			var0005 = var0002;
		}
		converse (0) {
			case "name":
				say("\"As I told thee, my name is Sir Jordan.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I sell bows and crossbows here at Iolo's South.\"");
				add(["Iolo's South", "sell"]);
				fallthrough;

			case "Iolo's South":
				say("\"The original branch is in Britain. But I do fine business here in the Hold.\"");
				remove("Iolo's South");
				add(["original branch", "Hold"]);
				fallthrough;

			case "Hold":
				say("\"Serpent's Hold, ",
					var0000,
					". I have sold many quality bows to the knights here.\"");
				remove("Hold");
				add("knights");
				fallthrough;

			case "original branch":
				say("\"The great archer himself, Iolo, started that branch more than two hundred years ago.\"");
				if (var0003) {
					say("*");
					IOLO->say("\"I, er, thank thee for thy compliment.\"*");
					JORDAN->say("\"'Twould mean more wert thou Iolo!\"*");
					IOLO->say("\"Listen, here, rogue, I truly -am-...\"*");
					JORDAN->say("\"Yes, yes, I know. Thou really -art- Iolo... And I am Lord British!\"*");
					IOLO->hide();
				}
				remove("original branch");
				fallthrough;

			case "knights":
				say("\"There are many who live within the walls of the Hold. Sir Denton, the bartender at the Hallowed Dock, knows them all.\"");
				remove("knights");
				fallthrough;

			case "sell":
				var0007 = JORDAN->get_npc_object()->get_schedule_type();
				if (var0007 == TEND_SHOP) {
					say("\"Weapons or missiles?\"");
					UI_push_answers();
					add(["weapons", "missiles"]);
				} else {
					say("\"I am sorry, ",
						var0000,
						", but I can only sell things during my shop hours -- from 6 in the morning 'til 6 at night.\"");
				}
				remove("sell");
				fallthrough;

			case "weapons":
				Func08A4();
				fallthrough;

			case "missiles":
				Func08A3();
				fallthrough;

			case "statue":
				say("He looks defensive. \"I had nothing to do with that.~~ \"But, I will tell thee that, on the night of the incident, I heard the sounds of scuffling in the commons. And, later on in the evening, I heard a woman cry out, as if in surprise!\"");
				add("woman");
				remove("statue");
				fallthrough;

			case "woman":
				say("\"I am not positive, ",
					var0005,
					", but I believe the voice was that of Lady Jehanne.\" He nods his head knowingly. \"Someone has lost their sense of unity.\"");
				remove("woman");
				gflags[0x025C] = true;
				fallthrough;

			case "bye":
				break;
		}
		say("\"I hope to see thee again, ",
			var0005,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(JORDAN);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func0876 0x876 ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04C7 object#(0x4C7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		DENTON->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = Func08F7(DUPRE);
		add(["name", "job", "bye"]);
		if (gflags[0x025E] && (!gflags[0x0261])) {
			if (gflags[0x0275]) {
				add("help");
			}
			if (gflags[0x0275]) {
				if (gflags[0x0259]) {
					add("got fragments");
					remove("help");
				}
			}
		}
		if (var0002) {
			say("\"Greetings to thee, Sir Dupre. Art thou back again for thy study of wines for Brommer?\"");
			DUPRE->say("\"Why, ah, yes, my good friend, Denton. I am, uh, still conducting that study.\" He turns to you and shrugs, grinning sheepishly.");
			DUPRE->hide();
			DENTON->show_npc_face(0x0000);
		}
		if (!gflags[0x0270]) {
			say("The man before you seems to stare at you blankly.");
			gflags[0x0270] = true;
		} else {
			say("\"Hello, ",
				var0001,
				",\" says Denton.");
		}
		converse (0) {
			case "name":
				say("\"I am Sir Denton, ",
					var0001,
					".\"");
				gflags[0x0275] = true;
				remove("name");
				if (gflags[0x025E]) {
					if (!(gflags[0x0259] && (!gflags[0x0261]))) {
						add("help");
					}
				}
				fallthrough;

			case "job":
				say("\"I am the tavernkeeper, ",
					var0001,
					". I sell refreshment to the citizens of Britannia, most notably, the knights in Serpent's Hold.\"");
				add(["sell", "Serpent's Hold", "knights"]);
				fallthrough;

			case "knights":
				say("\"Almost every resident here is a noble warrior. The exceptions would be Lady Jehanne, the provisioner; Lady Tory; Lady Leigh, the healer; and Menion, the trainer. I can also tell thee about all the other residents.\"");
				add(["Lady Jehanne", "Lady Tory", "Lady Leigh", "Menion", "residents"]);
				remove("knights");
				fallthrough;

			case "sell":
				Func0876();
				fallthrough;

			case "Serpent's Hold":
				say("\"Serpent's Hold is located at precisely 53 degrees east and 165 degrees south.\"");
				remove("Serpent's Hold");
				fallthrough;

			case "residents":
				say("\"Yes, ",
					var0001,
					", I can tell thee about the following people: ");
				UI_push_answers();
				add(["no one", "Lord John-Paul", "Sir Richter", "Sir Horffe", "Sir Jordan", "Sir Pendaran"]);
				fallthrough;

			case "no one":
				UI_pop_answers();
				remove("residents");
				fallthrough;

			case "Lord John-Paul":
				say("\"He is the Lord of Serpent's Hold. He is a capable leader and a fair man.\"");
				remove("Lord John-Paul");
				fallthrough;

			case "Lady Leigh":
				say("\"Her healing skills are said to be unparalleled.\"");
				remove("Lady Leigh");
				fallthrough;

			case "Sir Richter":
				say("\"He is second in command to Lord John-Paul. He is teaching me how to gamble well. In fact, he began increasing the lessons after joining The Fellowship.\"");
				add("Fellowship");
				remove("Sir Richter");
				fallthrough;

			case "Sir Horffe":
				say("\"Sir Horffe is an excellent warrior. He is a gargoyle that was found by two knights when he was very young. They chose to raise him as their own child. He is very honorable.\"");
				remove("Sir Horffe");
				if (gflags[0x026E]) {
					add("Gargish accent");
				}
				fallthrough;

			case "Gargish accent":
				say("\"Sir Horffe has chosen to use the Gargish syntax of our language so he may better maintain his cultural ties.\"");
				remove("Gargish accent");
				fallthrough;

			case "Sir Jordan":
				say("\"Despite his blindness, Sir Jordan perceives objects around him very well. He is an excellent tinkerer, and can repair many items.\"");
				remove("Sir Jordan");
				fallthrough;

			case "Lady Tory":
				say("\"I believe she is a druid. She was showing me how to be more compassionate than I was before. She is very good at knowing what others are feeling and why they are experiencing such emotions.\"");
				remove("Lady Tory");
				fallthrough;

			case "Menion":
				say("\"He is the fighting instructor. In his spare time, he likes to make swords. Menion has been kind enough to give me one of his creations.\"");
				remove("Menion");
				fallthrough;

			case "Sir Pendaran":
				say("\"Sir Pendaran is a knight of the Hold. He is very friendly, but I have been told he can be overbearing at times.\"");
				remove("Sir Pendaran");
				fallthrough;

			case "Lady Jehanne":
				say("\"She is the lady of Sir Pendaran. She has been helping me better my sense of humor.\"");
				add("humor");
				remove("Lady Jehanne");
				fallthrough;

			case "humor":
				say("\"My jokes are very bad. If thou wouldst like, I will tell thee one.\"");
				var0003 = Func090A();
				if (var0003) {
					say("\"Why did the chicken cross the road?\"");
					var0004 = Func08F7(IOLO);
					var0005 = Func08F7(SPARK);
					if (var0005) {
						SPARK->say("\"To get to the other side! Oh, that joke is new,\" he says sarcastically.\"*");
						SPARK->hide();
					}
					if (var0004) {
						IOLO->say("Iolo whispers in your ear.~~\"",
							var0000,
							", we have heard that one before. 'Tis best we leave him before he indulges in another joke.\"");
						IOLO->hide();
					}
					DENTON->show_npc_face(0x0000);
					UI_push_answers();
					add(["to get to the other side", "I don't know"]);
				} else {
					say("He almost appears disappointed, but it seems more likely that it's your imagination.");
				}
				remove("humor");
				fallthrough;

			case "I don't know":
				UI_pop_answers();
				remove("humor");
				say("He gives a partial smile.~~\"To get to the other side. Didst thou think that was funny?\"");
				var0006 = Func090A();
				if (var0006) {
					say("He appears confused. \"That is odd, no one else thinks that joke is humorous.~~\"Perhaps I am more funny than I thought...\"");
				} else {
					say("\"No one else finds it humorous either. I will continue practicing to be funny.\"");
				}
				remove("I don't know");
				remove("to get to the other side");
				fallthrough;

			case "to get to the other side":
				UI_pop_answers();
				remove("humor");
				say("\"Oh. Thou hast heard it before.\"");
				remove("to get to the other side");
				remove("I don't know");
				fallthrough;

			case "Fellowship":
				say("\"The Fellowship is a twenty-year-old organization that holds many festivals, parades, and celebrations. In addition, they maintain a shelter in the town of Paws. They have an underlying philosophy called the Triad of Inner Strength. This triad is broken into the three principles known as `strive for unity,' `trust thy brother,' and `worthiness precedes reward.'I will now explain the meaning of each principple.\"");
				var0005 = Func08F7(SPARK);
				if (var0005) {
					SPARK->say("\"This Denton fellow is really long-winded.\"*");
					SPARK->hide();
					DENTON->show_npc_face(0x0000);
				}
				say("\"Strive for unity seems to mean that The Fellowship wants others to work together for the weal of society. Trust thy brother implies that each person should not question the actions of others. Worthiness precedes reward indicates that The Fellowship's attitude towards reward is that one must do well to be rewarded.\"");
				var0007 = UI_wearing_fellowship();
				if (var0007) {
					say("He looks at your medallion.~~\"Is mine information correct?\"");
					var0008 = Func090A();
					if (var0008) {
						say("\"I thank thee. I always endeavor to be correct.\"");
					} else {
						say("\"I shall attempt to become better informed.\"");
					}
				}
				remove("Fellowship");
				fallthrough;

			case "help":
				say("\"Yes, ",
					var0001,
					", I can help thee investigate the crime. I believe the best way to begin would be by speaking with Sir Richter, since he is the one who searched the statue after the incident.\"");
				remove("help");
				fallthrough;

			case "got fragments":
				say("\"Perhaps thou shouldst have these stone chips examined by the healer, Lady Leigh.\"");
				if (gflags[0x025F]) {
					add("gargoyle blood");
				}
				remove("got fragments");
				fallthrough;

			case "gargoyle blood":
				say("\"That behavior does not seem typical of Sir Horffe. Thou mayest wish to report to Lord John-Paul, but I expect there is more to this. It would be a good idea to visit Lady Tory. She is very good at sensing the feelings of others, and may have learned something by observing the residents after the event.\"");
				remove("gargoyle blood");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day, ",
			var0001,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(DENTON);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0911 0x911 (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04C8 object#(0x4C8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		TORY->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x0271]) {
			say("The woman smiles at you compassionately.");
			gflags[0x0271] = true;
		} else {
			say("Tory smiles and reaches out to you. \"Hello, ",
				var0000,
				". I sense thou art troubled.\"");
		}
		if (gflags[0x025E] && (!gflags[0x0261])) {
			add("statue");
		}
		if (gflags[0x0277] && (!gflags[0x0278])) {
			add("Riky");
		}
		converse (0) {
			case "name":
				say("\"I am Lady Tory, ",
					var0001,
					".\"");
				if (!gflags[0x0277]) {
					say("\"Mother of Riky,\" she says, sobbing.");
					add("Riky");
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"My job is to provide counsel for Lord John-Paul and anyone else in need of guidance here at the Hold.\"");
				add(["Lord John-Paul", "Hold"]);
				fallthrough;

			case "Riky":
				if (gflags[0x0277]) {
					say("\"Hast thou found my child?\"");
					var0003 = Func090A();
					if (var0003) {
						var0004 = Func0931(PARTY, 0x0001, 0x02DA, QUALITY_ANY, 0x0002);
						if (var0004) {
							Func0911(0x0064);
							say("\"I cannot begin to express my gratitude, ",
								var0001,
								". Thank thee ever so much!\"~She begins sobbing for joy. \"Pl-please set him back gently in the cradle.\"");
							gflags[0x0278] = true;
						} else {
							var0005 = Func0931(PARTY, 0x0001, 0x02DA, QUALITY_ANY, FRAME_ANY);
							if (var0005) {
								say("\"Why, that's not my little Riky, ",
									var0001,
									". Thou hast someone else's child. Oh, where could my boy have been taken?\" she says, crying.");
							} else {
								say("\"But, I see no child with thee. Thine humor is quite dark. Please return when thou art carrying my baby boy!\"*");
								abort;
							}
						}
					} else {
						say("\"Please, I beseech thee, continue thine hunt!\"");
					}
				} else {
					gflags[0x0277] = true;
					say("\"My poor baby boy. He -- he was taken one night by cruel harpies who wanted a child for their own. I -- I know not where they have taken him, but I have heard some of the knights mention that a group of the vile women-birds cluster around the shrine of Honor. But, they have not yet been able to defeat them.\" She sniffs. \"But thou ",
						var0001,
						", thou wilt help me get my child back. Oh, please, wilt thou?\"");
					var0006 = Func090A();
					if (var0006) {
						say("\"I cannot thank thee enough for helping me!\" She appears to have cheered up greatly.");
					} else {
						say("\"Thou art a no more than a coward. Get thee gone, coward!\"");
						gflags[0x0278] = true;
					}
				}
				remove("Riky");
				fallthrough;

			case "statue":
				say("\"Hmm,\" she appears thoughtful, \"when the incident was brought up to everyone here at the hold, I remember Sir Jordan becoming a bit nervous. Perhaps thou shouldst speak with him.\"");
				remove("statue");
				fallthrough;

			case "Hold":
				say("\"I sense that thou wishest to know about the residents here at Serpent's Hold. Is this correct?\"");
				var0007 = Func090A();
				if (!var0007) {
					say("\"Very well. Come to me if thou changest thy mind.\"");
				} else {
					say("\"As counselor for the Hold, I can tell thee about many people. Hast thou met the healer or the provisioner? And, as a warrior thyself, thou mayest wish to visit the trainer and the armourer.\"");
					if (!var0002) {
						add("Lord John-Paul");
					}
					add(["healer", "armourer", "trainer", "provisioner"]);
				}
				remove("Hold");
				fallthrough;

			case "Lord John-Paul":
				say("\"He is an extraordinary leader. Everyone looks up to him. Thou hast only to ask his captain.\"");
				remove("Lord John-Paul");
				add("captain");
				var0002 = true;
				fallthrough;

			case "healer":
				say("\"Lady Leigh is very skilled as a healer. I have yet to see her lose a patient.\"");
				remove("healer");
				fallthrough;

			case "armourer":
				say("\"Hmmm. Well, Sir Richter has changed much recently -- ever since he joined The Fellowship. He seems a little less compassionate.\"");
				add("Fellowship");
				remove("armourer");
				fallthrough;

			case "tavernkeeper":
				say("\"Sir Denton is the most astute man I have ever met. He is the only one I cannot sense. And I have never seen him remove his armour....\" She shrugs.");
				remove("tavernkeeper");
				fallthrough;

			case "trainer":
				say("\"I know Menion least of all. He is very quiet, spending most of his spare time weaponsmithing. The tavernkeeper may know more about him.\"");
				add("tavernkeeper");
				remove("trainer");
				fallthrough;

			case "provisioner":
				say("\"Her name is Lady Jehanne. She is the Lady of Sir Pendaran,\" she says with a gleam in her eye.");
				add("Sir Pendaran");
				remove("provisioner");
				fallthrough;

			case "captain":
				say("\"The Captain of the guard, Sir Horffe, is a gargoyle. He was found by two humans who raised him to be a valiant knight. He is a very dedicated warrior, and rarely leaves Lord John-Paul's side.\"");
				if (gflags[0x026E]) {
					add("Gargish accent");
				}
				remove("captain");
				fallthrough;

			case "Gargish accent":
				say("\"Despite his human upbringing, Horffe has struggled to maintain his Gargish identity. By speaking in the same manner as his brethren, he feels he can better hold on to his background.\"");
				remove("Gargish accent");
				fallthrough;

			case "Sir Pendaran":
				say("\"He is a brave and hearty fighter, and,\" she smiles, \"he is also a bit on the attractive side.\"");
				remove("Sir Pendaran");
				fallthrough;

			case "Fellowship":
				say("\"The Fellowship does not have a branch here, but two of our knights are members: Sir Richter and Sir Pendaran. I know they are interested in having Sir Jordan join as well.\"");
				remove("Fellowship");
				add("Sir Jordan");
				fallthrough;

			case "Sir Jordan":
				say("\"He is a wonder. Despite his blindness, he fights with amazing deftness. In fact, he also enjoys toying with mechanical items, and his loss of eyesight does not seem to affect that, either.~~\"However, I sense in him a very recent change, remarkably like that in Sir Richter. He would be an interesting one to speak with. Thou mayest find him at Iolo's South.\"*");
				var0008 = Func08F7(IOLO);
				if (var0008) {
					IOLO->say("Iolo smiles proudly.~~\"My shop has, er, grown a bit since thou wert here last, ",
						var0000,
						".\"");
					IOLO->hide();
					TORY->show_npc_face(0x0000);
				}
				remove("Sir Jordan");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I sense thou hast pressing engagements elsewhere. I bid thee farewell.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(TORY);
	}
}

extern var Func0909 0x909 ();
extern void Func08AC 0x8AC (var var0000, var var0001, var var0002);
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func04C9 object#(0x4C9) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		LEIGH->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = LEIGH->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (gflags[0x0259]) {
			if (gflags[0x027A]) {
				add("examine chips");
			}
		}
		if (!gflags[0x0272]) {
			say("This attractive woman gives you an approving look.");
			gflags[0x0272] = true;
		} else {
			say("\"Greetings, ",
				var0000,
				".\" Leigh smiles at you.");
		}
		converse (0) {
			case "name":
				say("She blushes. \"I am Lady Leigh.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the Healer of Serpent's Hold.\"");
				add(["Serpent's Hold", "heal"]);
				gflags[0x027A] = true;
				if (gflags[0x0259]) {
					add("examine chips");
				}
				fallthrough;

			case "heal":
				if (var0001 == TEND_SHOP) {
					Func08AC(0x0019, 0x0008, 0x0181);
				} else {
					say("\"I am sorry, but I have too many other patients to help thee now. Perhaps when I next open my shop.\"");
				}
				remove("heal");
				fallthrough;

			case "Serpent's Hold":
				say("\"Lord Jean-Paul is in charge of keeping the order here, but Sir Denton would be an even better source of information about Serpent's Hold.\"");
				add(["John-Paul", "Denton"]);
				remove("Serpent's Hold");
				fallthrough;

			case "John-Paul":
				say("\"He is an easy man to find, for Sir Horffe hardly ever leaves his side. Watch for the tall, muscular gargoyle.\"");
				if (!gflags[0x025E]) {
					say("\"In fact,\" she says, looking off in the distance, \"I believe he may have a desire to speak with thee. Perhaps thou shouldst truly seek him out.\"");
				}
				say("\"If thou hast business about the town, and are not able to locate John-Paul, thou mightest wish to speak with Sir Richter.\"");
				remove("John-Paul");
				add(["Horffe", "Richter"]);
				fallthrough;

			case "Horffe":
				say("\"He was found at a very young age, apparently abandoned by his father. Two people took and raised him as their own. As thou couldst see simply by meeting him, he is a very noble person and a stout warrior.\"");
				remove("Horffe");
				fallthrough;

			case "Richter":
				say("\"He is the armourer. His shop is in the back of the Hold.\"");
				remove("Richter");
				fallthrough;

			case "Denton":
				say("\"He is the tavern keeper at the Hallowed Dock, just inside the Hold's doors. He is wonderful at remembering and discussing important facts.\"");
				remove("Denton");
				fallthrough;

			case "examine chips":
				var0002 = Func0931(PARTY, 0x0001, 0x032F, QUALITY_ANY, 0x0004);
				if (var0002) {
					if (gflags[0x0268]) {
						say("She looks at you, puzzled. \"Did I not do that already?\"");
					} else {
						say("She takes the stone chips from you and examines them. Using several vials of strange and unusual mixtures, she analyzes the blood. Finally, after a few silent minutes, she looks up, grinning.~~\"I have determined the nature of the blood. It is definitely not human. In fact,\" she looks back down at the sample and raises one eyebrow, \"it is gargoyle blood.\"");
						add("gargoyle blood");
						gflags[0x025F] = true;
					}
				} else {
					say("\"I am afraid that I must be able to see them to examine them.\"");
				}
				remove("examine chips");
				fallthrough;

			case "gargoyle blood":
				say("She appears thoughtful.~~\"What is odd, ",
					var0000,
					", is that there is only one gargoyle in Serpent's Hold. But I cannot imagine Sir Horffe would have had anything to do with this wanton destruction.\"");
				remove("gargoyle blood");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(LEIGH);
	}
}

extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04CA object#(0x4CA) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		IAN->show_npc_face(0x0000);
		var0000 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x0243]) {
			add("Elizabeth and Abraham");
		}
		if (!gflags[0x0273]) {
			say("You see a young, tan, muscular, handsome man who exudes much verve and geniality.");
			gflags[0x0273] = true;
		} else {
			say("\"Yes?\" Ian asks.");
		}
		converse (0) {
			case "name":
				say("\"I am Ian.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the director of this Meditation Retreat for Fellowship members.\"");
				add(["director", "Meditation Retreat"]);
				fallthrough;

			case "director":
				say("\"I manage the various activities and lead the initiates in their exercises in meditation.\"");
				remove("director");
				add(["activities", "exercises"]);
				fallthrough;

			case "activities":
				say("\"The activities of the retreat consist of philosophical training and studies.\"");
				remove("activities");
				fallthrough;

			case "exercises":
				say("\"The members must all grow to hear and understand the voice which guides them down the path of Inner Strength. The exercises in meditation accelerate this process.\"");
				remove("exercises");
				add("voice");
				fallthrough;

			case "voice":
				say("\"It is that voice which one hears inside. We all have the capability of hearing it. Some are able to hear it quite easily and do not have to attend sessions here at the Meditation Retreat. Others, however, find it more difficult to hear the voice. Then they require study at the Retreat.\"");
				remove("voice");
				fallthrough;

			case "Meditation Retreat":
				say("\"It was set up by The Fellowship so that new members can attend and learn more about our group, get in touch with themselves, and help them to become better brothers in The Fellowship. Most of the work is done inside the barrier.\"");
				remove("Meditation Retreat");
				add(["in touch", "barrier"]);
				fallthrough;

			case "in touch":
				say("\"Most of the people who come to The Fellowship are wrestling with the failures in their lives. They are essentially\tafraid of themselves. Here at the Meditation Retreat people learn to believe in themselves. And they build up that belief by learning how to best apply the philosophy of The\tFellowship to their lives.\"");
				remove("in touch");
				fallthrough;

			case "barrier":
				say("\"It was set up to keep out those who are not members. Inside the barrier, Fellowship members find it much easier to hear their inner voice. Each member is given a key which they may use at any time.\"");
				remove("barrier");
				add("key");
				fallthrough;

			case "key":
				if (var0000 && (!gflags[0x0006])) {
					say("\"Ah, but thou art not a true Fellowship member! Thou art wearing a medallion falsely. I cannot let thee inside. Goodbye.\"*");
					abort;
				}
				if (gflags[0x0006]) {
					say("\"Oh, wouldst thou like to meditate with us, fellow brother?\"");
					if (Func090A()) {
						var0001 = UI_add_party_items(0x0001, 0x0281, 0x00F9, 0x0007, false);
						if (var0001) {
							say("\"Then here is thy key. Be happy! Oh, one more thing. There is a rule which must be followed.\"");
							IAN->get_npc_object()->set_schedule_type(LOITER);
							add("rule");
						}
					} else {
						say("\"Oh. Then I cannot give thee a key.\"");
					}
				} else {
					say("\"Art thou a Fellowship member?\"");
					if (Func090A()) {
						var0002 = "@I do not believe thee. Thou ";
					} else {
						var0002 = "@Then thou ";
					}
					say(var0002,
						"must go to Britain and speak with Batlin at our headquarters there. Only he can properly initiate thee into The Fellowship.\"");
				}
				remove("key");
				fallthrough;

			case "rule":
				say("\"Do not venture into the cave which thou wilt find inside the barrier. The cave is off-limits to attendees.\"");
				remove("rule");
				fallthrough;

			case "Elizabeth and Abraham":
				if (!gflags[0x02A8]) {
					say("\"Alas, thou hast just missed them. My good friends Elizabeth and Abraham were here delivering funds. I believe they have gone from here to Buccaneer's Den.\"");
					gflags[0x0264] = true;
				} else {
					say("\"I have not seen them in quite some time.\"");
				}
				remove("Elizabeth and Abraham");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(IAN);
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);

void Func04CB object#(0x4CB) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		CADOR->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func0908();
		var0002 = "the Avatar";
		var0003 = UI_part_of_day();
		var0004 = CADOR->get_npc_object();
		var0005 = MARA->get_npc_object();
		var0006 = var0004->get_schedule_type();
		var0007 = var0004->get_alignment();
		add(["name", "job", "bye", "Fellowship"]);
		if (var0007 == EVIL) {
			var0004->set_schedule_type(IN_COMBAT);
			var0005->set_schedule_type(IN_COMBAT);
		}
		if (gflags[0x0284]) {
			add("Elizabeth and Abraham");
		}
		if (!gflags[0x0288]) {
			say("You see a broad-shouldered man with a solemn look about him.");
			gflags[0x0288] = true;
		} else {
			say("\"Yes, ",
				var0000,
				"?\" says Cador.");
		}
		converse (0) {
			case "name":
				say("The man shakes your hand. \"I am Cador.\"");
				if (var0006 == EAT_AT_INN) {
					say("\"And thy name is?\"");
					var0008 = Func090B([var0001, var0002, var0000]);
					if (var0008 == var0002) {
						say("\"What? Dost thou mean to tell me that thou art the one who brought those gargoyles to our precious land?\" He turns quite angry.~~\"Daemon lover!\"*");
						var0004->set_schedule_type(IN_COMBAT);
						var0004->set_alignment(EVIL);
						var0005->set_schedule_type(IN_COMBAT);
						var0005->set_alignment(EVIL);
						abort;
					}
					say("\"I am happy to make thine acquaintance, ",
						var0000,
						".\"");
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"I oversee the local branch of the Britannian Mining Company in Vesper. We mine many different minerals.\"");
				add(["Vesper", "We", "minerals"]);
				fallthrough;

			case "minerals":
				say("\"Gold and lead.\"");
				remove("minerals");
				fallthrough;

			case "Vesper":
				say("\"That is the name of our town. Liana at town hall can give thee any more information that thou mightest need, but I have lived here with my family since the branch opened.\"");
				add(["Liana", "family"]);
				remove("Vesper");
				fallthrough;

			case "Fellowship":
				say("\"It is a wonderful organization. They perform many works of charity and special events -- parades and such.\"  He points to his medallion. \"As thou canst see, I am a member. I fully believe in the triad of inner strength.\"");
				if (gflags[0x0284]) {
					say("\"As a matter of fact, two Fellowship officials were just here. They said it was important to see how a town's economy worked before starting a branch in that town. Dost thou realize what that means?\" He smiles proudly. \"They are going to build a Fellowship branch here in Vesper.\"");
				}
				add("triad");
				remove("Fellowship");
				fallthrough;

			case "triad":
				say("\"Those are The Fellowship's three basic principles: Strive for Unity, Trust thy Brother, and Worthiness Precedes Reward.\"");
				remove("triad");
				fallthrough;

			case "Elizabeth and Abraham":
				say("\"They were the two Fellowship officials that were here! They only stayed for a minute or two. I have no idea where they are now.\"");
				remove("Elizabeth and Abraham");
				fallthrough;

			case "We":
				say("\"I work with Mara and a gargoyle named Lap-Lem.\"");
				add(["Mara", "Lap-Lem"]);
				remove("We");
				fallthrough;

			case "Mara":
				say("\"She is a fantastic worker. Better than most men I have mined with.\"");
				remove("Mara");
				fallthrough;

			case "Lap-Lem":
				say("\"Well, for a gargoyle, he is not too lazy. He works much harder than that other one who left, Anmanivas. But I would fain let him go if we did not need the extra hand.\"");
				remove("Lap-Lem");
				fallthrough;

			case "Liana":
				say("\"She keeps the records at town hall.\"");
				remove("Liana");
				fallthrough;

			case "family":
				say("\"Yes, my wife, Yvella, and my daughter, Catherine.\"");
				remove("family");
				fallthrough;

			case "bye":
				break;
		}
		say("\"It has been a pleasure, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04CC object#(0x4CC) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		MARA->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func0908();
		var0002 = "the Avatar";
		var0003 = MARA->get_npc_object();
		var0004 = CADOR->get_npc_object();
		add(["name", "job", "bye"]);
		var0005 = UI_part_of_day();
		var0006 = var0003->get_schedule_type();
		var0007 = var0003->get_alignment();
		if (var0007 == EVIL) {
			var0003->set_schedule_type(IN_COMBAT);
			var0004->set_schedule_type(IN_COMBAT);
		}
		if (!gflags[0x0289]) {
			say("You see a well-muscled woman who lifts her head in acknowledgement of your presence.");
			gflags[0x0289] = true;
		} else {
			say("\"Yes, ",
				var0000,
				"?\"");
		}
		converse (0) {
			case "name":
				say("The woman grabs your hand and shakes vigorously. \"Hello. M'name's Mara.\"");
				if (var0006 == EAT_AT_INN) {
					say("\"What is thine?\"");
					var0008 = Func090B([var0001, var0002, var0000]);
					if (var0008 == var0002) {
						say("\"The Avatar!\" she shouts angrily. \"Why thou art the one responsible for bringing those wretched gargoyles into our fine land!\"*");
						var0003->set_schedule_type(IN_COMBAT);
						var0003->set_alignment(EVIL);
						var0004->set_schedule_type(IN_COMBAT);
						var0004->set_alignment(EVIL);
						abort;
					}
					say("\"'Tis good to meet thee!\"");
				}
				remove("name");
				fallthrough;

			case "job":
				say("She flexes proudly, \"I am a miner in Vesper.\"");
				add("Vesper");
				fallthrough;

			case "Vesper":
				say("\"This used to be a pleasant town,\" she looks around, apparently checking if anyone is near, \"'til the gargoyles became so unruly. Now most of us have to spend far too much time wondering when the gargoyles will decide they want to kill us.\"");
				add(["gargoyles", "us"]);
				remove("Vesper");
				fallthrough;

			case "gargoyles":
				say("She shrugs. \"There is naught to say, except that they are a menace. This town would be a much better place without them.\"");
				remove("gargoyles");
				fallthrough;

			case "us":
				say("\"Well, I know Cador feels as I do, as does his wife. I have heard the mayor express his concern about them. I don't really know his clerk, Liana.\"");
				add(["Cador", "wife", "mayor", "Liana"]);
				remove("us");
				fallthrough;

			case "wife":
				say("\"Yvella is a lovely woman. She spends her days caring for their daughter, Catherine.\"");
				remove("wife");
				fallthrough;

			case "Liana":
				say("\"I have only seen her a few times. I do not know her well enough to say this, but I think she is angry about something, for she is always in a bad mood.\"");
				remove("Liana");
				fallthrough;

			case "Cador":
				say("\"He is in charge of managing the mines. Does a fair job, too. He usually joins me at the Gilded Lizard.\"");
				add("Gilded Lizard");
				remove("Cador");
				fallthrough;

			case "mayor":
				say("\"His name is Auston. I like him, but I suspect that Liana is the one who truly keeps Vesper in order.\"");
				remove("mayor");
				fallthrough;

			case "Gilded Lizard":
				say("\"That is the tavern here in Vesper. Yongi's the barkeeper. He serves a passing fair tankard of ale.\"");
				remove("Gilded Lizard");
				fallthrough;

			case "bye":
				break;
		}
		say("Mara shakes your hand and slaps you on the back, saying, \"Fare thee well, friend!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(MARA);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func094F 0x94F (var var0000, var var0001);

void Func04CD object#(0x4CD) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		ZAKSAM->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = ZAKSAM->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (!gflags[0x028A]) {
			say("A strong, powerful man looks at you and nods acknowledgment.");
		} else {
			say("\"What can I do for thee?\" asks Zaksam.");
		}
		converse (0) {
			case "name":
				say("\"I am Zaksam,\" he states proudly.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I teach others to be strong fighters. I am a trainer here in Vesper.\"");
				add(["Vesper", "train"]);
				fallthrough;

			case "Vesper":
				say("\"I have taught here for many years. I like the town, but I am not too fond of some of the residents.\"");
				add(["town", "residents"]);
				remove("Vesper");
				fallthrough;

			case "town":
				say("\"The land to the northeast is a bit dry, but the oasis and nearby shores give us plenty of water for drinking and bathing.\"");
				remove("town");
				fallthrough;

			case "residents":
				say("\"Most of us are respectable, but there are a few that I wonder about. Blorn and the mayor, for example.");
				add(["mayor", "Blorn"]);
				remove("residents");
				fallthrough;

			case "mayor":
				say("\"'Tis not that I do not trust him. I just wonder about his ability to run the town. His name is Auston. Talk to him and see for thyself what thou thinkest. Better yet, talk to his clerk, Liana.\"");
				remove("mayor");
				fallthrough;

			case "Blorn":
				say("\"That one I do not like a bit. I do not trust him. He reminds me of those gargoyles.\"");
				add("gargoyles");
				remove("Blorn");
				fallthrough;

			case "gargoyles":
				say("\"What is there to say, but do not let them get too close or they will rob thee. Any day now they may try to use violence to take over the town. The mayor himself has asked that I fight if necessary. Though I have no fear of death, that is a battle I do not look forward to.\"");
				remove("gargoyles");
				add(["rob", "violence"]);
				fallthrough;

			case "rob":
				say("\"I have already heard that some of my fellow residents have had things stolen by those wretched creatures.\"");
				remove("rob");
				fallthrough;

			case "violence":
				say("\"As thou must surely know, all gargoyles are prone to senseless fits of violence. 'Twould be quite natural to expect them to use it for their own selfish gain.\"");
				remove("violence");
				fallthrough;

			case "train":
				if (var0002 == TEND_SHOP) {
					say("\"I can train thee for 40 gold. Is this all right?\"");
					if (Func090A()) {
						Func094F([STRENGTH, COMBAT], 40);
					} else {
						say("\"Perhaps next time, ",
							var0001,
							".\"");
					}
				} else {
					say("\"I can train thee when I am at my training hall, ",
						var0001,
						". Please feel free to see me when it is open.\"");
				}
				fallthrough;

			case "bye":
				break;
		}
		say("\"May thy strength be thy guide.\"*");
	}
	if (event == PROXIMITY) {
		var0002 = ZAKSAM->get_npc_object()->get_schedule_type();
		var0003 = UI_part_of_day();
		var0004 = UI_die_roll(0x0001, 0x0004);
		if ((var0003 == NIGHT) || ((var0003 == MIDNIGHT) || (var0003 == EARLY))) {
			if (var0002 == SLEEP) {
				var0005 = "@Zzzzz . . .@";
			}
		}
		if ((var0003 >= DAWN) && (var0003 <= AFTERNOON)) {
			if (var0002 == TEND_SHOP) {
				if (var0004 == 0x0001) {
					var0005 = "@Increase thy skill here!@";
				}
				if (var0004 == 0x0002) {
					var0005 = "@Increase thy strength here!@";
				}
				if (var0004 == 0x0003) {
					var0005 = "@Fight better, be stronger!@";
				}
				if (var0004 == 0x0004) {
					var0005 = "@Defend thyself against gargoyles!@";
				}
			}
		}
		if (var0003 == EVENING) {
			if (var0002 == EAT_AT_INN) {
				var0005 = "@Mmmmm, excellent wine!@";
			}
		}
		ZAKSAM->item_say(var0005);
	}
}

extern var Func0909 0x909 ();
extern void Func087A 0x87A ();

void Func04CE object#(0x4CE) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		ELDROTH->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = ELDROTH->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (!gflags[0x028B]) {
			say("A very neat, well-groomed, kindly man stands before you.");
			gflags[0x028B] = true;
		} else {
			say("\"Greetings, ",
				var0000,
				". How may I help thee?\"");
		}
		converse (0) {
			case "name":
				say("He smiles at you. \"Ah, excellent. Thou art not afraid to ask question. Remember, there are no stupid questions, only dumb ones. My name is Eldroth, ",
					var0000,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I, my friend, am the provisioner. And, if I may be immodest, also a counselor for Vesper. Perhaps I can someday give thee advice, ",
					var0000,
					". For remember, that which does not kill us, makes us wounded.\"");
				add(["Vesper", "buy"]);
				fallthrough;

			case "Vesper":
				say("\"Yes, ",
					var0000,
					", this town is full of wonderful people to whom I have given advice.\"");
				add(["people", "advice"]);
				remove("Vesper");
				fallthrough;

			case "advice":
				say("\"Early to bed, early to rise, makes Jack a dull boy.\"");
				remove("advice");
				fallthrough;

			case "buy" (remove):
				if (var0001 == TEND_SHOP) {
					say("\"Thou wishest to make a purchase. Excellent. But remember, a gold piece saved is a gold piece not spent.\"");
					Func087A();
				} else {
					say("\"Perhaps thou couldst wait until my shop is open, ",
						var0000,
						".\"");
				}
				fallthrough;

			case "people":
				say("\"About whom doth thou wish to know? Auston? The gargoyles? Liana? Cador? Perhaps Yongi?\"");
				UI_push_answers();
				add(["Auston", "gargoyles", "Liana", "Yongi", "Cador", "no one"]);
				remove("people");
				fallthrough;

			case "Liana":
				say("\"Liana is a very fine young woman who clerks at the townhall.\"");
				remove("Liana");
				fallthrough;

			case "Yongi":
				say("\"He is the bartender at the Glided Gizzard.\" He stops, shakes his head, and then corrects himself. \"I mean the Lilded Lizard,\" he frowns. \"No, that's the Gilded Lizard. Yes that's it!\"");
				remove("Yongi");
				fallthrough;

			case "Cador":
				say("\"Cador oversees the mines. He and his wife, Yvella, have a lovely daughter named Catherine.\"");
				remove("Cador");
				fallthrough;

			case "Auston":
				say("\"The mayor? I would have thought thou wouldst have met him by now, ",
					var0000,
					". He is performing an excellent job. Thou mayest not realize this,\" he blushes, \"but 'tis I who suggested he run for the office.\"");
				remove("Auston");
				fallthrough;

			case "gargoyles":
				say("\"I fear they will stage an uprising. I know Auston holds the same thoughts, for very recently he approached me and asked for my guidance to prepare for just such an incident. I will warn thee just as I warned him. Always remember, ",
					var0000,
					", the best defense is a good defense!\"");
				remove("gargoyles");
				fallthrough;

			case "no one":
				UI_pop_answers();
				remove("people");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell, ",
			var0000,
			". Never forget, the grass is always greener when it rains.\"");
	}
	if (event == PROXIMITY) {
		var0002 = UI_part_of_day();
		var0001 = ELDROTH->get_npc_object()->get_schedule_type();
		var0003 = UI_die_roll(0x0001, 0x0004);
		if ((var0002 >= DAWN) || (var0002 <= EVENING)) {
			if ((var0001 == TEND_SHOP) || (var0001 == EAT)) {
				if (var0003 == 0x0001) {
					var0004 = "@A stitch in time uses more thread.@";
				}
				if (var0003 == 0x0002) {
					var0004 = "@Never hit a man when thou cannot.@";
				}
				if (var0003 == 0x0003) {
					var0004 = "@The early bird wakes up first.@";
				}
				if (var0003 == 0x0004) {
					var0004 = "@A bird in the hand squirms.@";
				}
			}
			ELDROTH->item_say(var0004);
		}
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090B 0x90B (var var0000);
extern void Func094D 0x94D ();
extern void Func094E 0x94E ();

void Func04CF object#(0x4CF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	if (event == DOUBLECLICK) {
		YONGI->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = "the Avatar";
		var0003 = Func08F7(DUPRE);
		var0004 = false;
		var0005 = false;
		var0006 = false;
		add(["name", "job", "bye"]);
		if (var0003) {
			say("\"Ah, me good friend, Dupre. What kinna do fer ye this fine day?\"");
			DUPRE->say("\"Ah, master Yongi, always ready to offer a tankard of thy finest.\"");
			DUPRE->hide();
			YONGI->show_npc_face(0x0000);
		}
		if (!gflags[0x028C]) {
			say("Tending the bar is a jovial-looking man. \"Welcome ta the Gilded Lizard.\"");
			var0006 = true;
			gflags[0x028C] = true;
		} else {
			say("\"Welcome back ta the Gilded Lizard. What may I do fer ye?\" asks Yongi.");
		}
		converse (0) {
			case "name":
				say("\"Me name is Yongi, ",
					var0001,
					".\"");
				remove("name");
				if (var0006) {
					say("\"And ye are?\"");
					var0007 = Func090B([var0000, var0002, var0001]);
					if (var0007 == var0002) {
						say("\"Aye, ",
							var0001,
							". Right ye are. If ye dinna care ta tell me, I don't mind a bit.\" He winks.");
					}
					if (var0007 == var0000) {
						say("\"Welcome ta me tavern, ",
							var0000,
							".\"");
					}
					if (var0007 == var0001) {
						say("\"Right ye are, ",
							var0001,
							". There's no need ta tell anyone yer name.\"");
					}
				}
				fallthrough;

			case "job":
				say("\"Why, I tend me bar. And lend me ear ta the customers,\" he adds, touching his right ear for emphasis.");
				add(["customers", "buy"]);
				fallthrough;

			case "Vesper":
				say("\"Why, I wouldna wanna live anyplace else. 'Course, this town would be a better place if we could rid ourselves of those jackals, the gargoyles.\"");
				if (!var0005) {
					add("gargoyles");
				}
				remove("Vesper");
				fallthrough;

			case "gargoyles":
				say("\"Gargoyles! What about them? They be the vilest, evilest, cruelest, most despicable things ever ta crawl upon this great land. I kinna tell ye too well ta stay away from them. I kin only imagine whata fine town this'd be if there weren't na more gargoyles. 'Course, I know those dogs are probably sayin' the same about us. Everybody knows they're gonna come an' kill allus in our sleep one evenin'.\"");
				if (!var0004) {
					say("\"Why, only the other day one attacked Blorn. G'won, ask him about it.\"");
					var0004 = true;
					add("Blorn");
				}
				var0005 = true;
				remove("gargoyles");
				gflags[0x0283] = true;
				fallthrough;

			case "customers":
				say("\"Well, all I really know in Vesper are me regulars: Cador, Mara, and Blorn. Ye might be wantin' ta talk to Auston, the mayor, or his clerk, Liana. Ah, now there's a fine, young lass.\" He winks at you.");
				add(["Cador", "Mara", "Blorn", "Vesper"]);
				remove("customers");
				fallthrough;

			case "Cador":
				var0008 = CADOR->get_npc_object()->is_dead();
				if (var0008) {
					say("\"He used ta come here every night, 'til he was killed in a brawl.\" The bartender's eyes narrow as he talks.");
				} else {
					say("\"He be in here every night after work. Good man, hard worker.\"");
				}
				remove("Cador");
				fallthrough;

			case "Mara":
				var0009 = MARA->get_npc_object()->is_dead();
				if (var0009) {
					say("\"She worked with Cador at the mines. She was more man than most men, that one was. An' she died like it, too -- in a brawl here at the tavern!\" He says, eyeing you suspiciously.");
				} else {
					say("\"She works with Cador at the mines. Hard as stone, that one. She be more man than most of the men in town.\"");
				}
				remove("Mara");
				fallthrough;

			case "Blorn":
				say("\"There be one who knows what's what. He knows what be wrong with this town! Gargoyles! That is what be wrong. He hates 'em, 'e does.\"");
				if (!var0004) {
					say("\"He was even accosted by one of those jackals not too long ago. Ask 'im about it, why don't ye.\"");
					var0004 = true;
				}
				if (!gflags[0x0283]) {
					if (!var0005) {
						add("gargoyles");
					}
				}
				remove("Blorn");
				gflags[0x0283] = true;
				fallthrough;

			case "buy":
				say("\"Be ye wantin' food or drink?\"");
				add(["food", "drink"]);
				remove("buy");
				fallthrough;

			case "food":
				Func094D();
				remove("food");
				fallthrough;

			case "drink":
				Func094E();
				remove("drink");
				fallthrough;

			case "bye":
				break;
		}
		say("\"May the road rise up ta meet ye!\"*");
	}
	if (event == PROXIMITY) {
		var000A = UI_part_of_day();
		var000B = YONGI->get_npc_object()->get_schedule_type();
		var000C = UI_die_roll(0x0001, 0x0004);
		if ((var000A >= EARLY) && (var000A <= MORNING)) {
			if (var000B == SLEEP) {
				var000D = "@Zzzzz . . .@";
			}
		}
		if ((var000A == NOON) || ((var000A == AFTERNOON) || ((var000A == EVENING) || ((var000A == NIGHT) || (var000A == MIDNIGHT))))) {
			if (var000B == LOITER) {
				if (var000C == 0x0001) {
					var000D = "@Refreshments here!@";
				}
				if (var000C == 0x0002) {
					var000D = "@Get a fine cup o' wine here!@";
				}
				if (var000C == 0x0003) {
					var000D = "@We have the best spirits here!@";
				}
				if (var000C == 0x0004) {
					var000D = "@No gargoyles allowed!@";
				}
			}
		}
		YONGI->item_say(var000D);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();

void Func04D0 object#(0x4D0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		BLORN->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x028D]) {
			say("The man before you narrows his eyes to slits as he sees you.");
			gflags[0x028D] = true;
		} else {
			say("Blorn sighs heavily. \"Why dost thou bother me now?\"");
			if (gflags[0x0283] && (!gflags[0x0280])) {
				add("gargoyles");
			}
		}
		if (gflags[0x0281]) {
			gflags[0x0282] = false;
			gflags[0x0299] = false;
		}
		if (gflags[0x0282]) {
			add("return amulet");
		} else if (gflags[0x0299]) {
			add("Lap-Lem");
		}
		converse (0) {
			case "name":
				say("\"Blorn, if thou must know.\"");
				remove("name");
				if (gflags[0x0283] && (!gflags[0x0280])) {
					add("gargoyles");
				}
				fallthrough;

			case "job":
				say("\"I don't believe I wish to tell thee.\"");
				fallthrough;

			case "gargoyles":
				say("A growl escapes his throat.~~\"What about the bloody gargoyles? Don't tell me thou art a gargoyle lover.\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"Thou art disgusting, swine!\" He spits on your boot.*");
					abort;
				}
				say("\"That is good, my friend.\"~~A sudden inspiration seems to flash across his face.~~\"Perhaps thou canst help me. As thou undoubtedly knowest, I was set upon by a cruel gargoyle not too long ago. He nearly took my life!~~\"'Twould be a great honor, ",
					var0000,
					", if thou wouldst agree to avenge me! Art thou willing?\"");
				var0002 = Func090A();
				if (var0002) {
					say("\"I thank thee, ",
						var0000,
						", thank thee. But I must warn thee, he is a very violent gargoyle. His name is Lap-Lem, which means `man slayer.' And, do not mention my name, for he hates me more than any other human and would surely attack thee without provocation if my name were to be mentioned.\"");
					gflags[0x0299] = true;
				} else {
					say("\"Fine, ",
						var0000,
						". Thou art nothing more than a coward.\" He shakes his head.");
				}
				gflags[0x0280] = true;
				remove("gargoyles");
				fallthrough;

			case "return amulet":
				say("He glares at you for a moment, then shrugs, muttering, \"It's not like he earned it honestly or anything...\"");
				var0003 = UI_add_party_items(0x0001, 0x03BB, QUALITY_ANY, 0x0003, true);
				if (var0003) {
					say("\"Here! I hope it strangles him!\" He thrusts the amulet into your palm. \"And I hope he bloody strangles thee, too!\"");
					gflags[0x0281] = true;
				} else {
					say("\"Thou dost not even have room for it! Get thee away, thou son of a jackal!\"*");
					abort;
				}
				remove("return amulet");
				fallthrough;

			case "Lap-Lem":
				say("\"Thou hast killed the jackal?\"");
				var0004 = Func090A();
				if (var0004) {
					say("\"Wonderful! Thou art truly a trusted friend. I thank thee for thine assistance!\" He grins at you.");
				} else {
					say("\"Well, I am sure thou wilt have time soon enough, for he will surely head this way to attack me again.\"");
				}
				remove("Lap-Lem");
				fallthrough;

			case "bye":
				break;
		}
		say("He gives a slight nod and a quiet grunt, and returns to his business.*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();

void Func04D1 object#(0x4D1) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		AUSTON->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		var0003 = false;
		add(["name", "job", "bye"]);
		if (gflags[0x0088]) {
			add("Elizabeth and Abraham");
		}
		if (!gflags[0x028E]) {
			say("You see a middle-aged man with a furrowed brow, as if he is constantly worried.");
			gflags[0x028E] = true;
		} else {
			say("\"How may I help thee, ",
				var0001,
				"?\"");
		}
		converse (0) {
			case "name":
				say("\"Please call me Auston.\"");
				remove("name");
				fallthrough;

			case "job":
				say("He sighs before responding. \"I am the Mayor of Vesper.\"");
				add("Vesper");
				fallthrough;

			case "Vesper":
				say("\"It was a pleasant place in days past. But now, ",
					var0001,
					", the turmoil between our people and those gargoyles has caused many problems.\"");
				add(["problems", "people"]);
				remove("Vesper");
				fallthrough;

			case "problems":
				say("\"I am worried that the gargoyles may get restless and attack us. Blorn has not helped things.\" He points to his chest. \"I am the one charged with maintaining order here. If there is not any, it will be my responsibility. I have asked Eldroth what to do in case of an uprising and I am trying to plan accordingly.\"");
				add("gargoyles");
				if (!var0003) {
					add("Eldroth");
				}
				if (!var0002) {
					add("Blorn");
				}
				remove("problems");
				fallthrough;

			case "gargoyles":
				say("\"I don't trust them any more than thou dost, ",
					var0000,
					", but, officially, they are citizens, too. I am afraid they may try to forcefully gain control of the town someday.\"");
				remove("gargoyles");
				fallthrough;

			case "Liana":
				say("\"She is my clerk. She is very efficient. I couldn't govern Vesper without her.\"");
				remove("Liana");
				fallthrough;

			case "people":
				var0004 = CADOR->get_npc_object()->is_dead();
				if (var0004) {
					add("shame");
					var0005 = " -- 'tis a shame about him -- ";
				} else {
					var0005 = " ";
				}
				say("\"I try to stay in touch with as many of the citizens as I can, but I do not know all of them that well. I know Cador",
					var0005,
					"has been in charge of the local branch of the Britannian Mining Company ever since it opened. He is married to Yvella. I believe they are members of that Fellowship organization.~~\"Of course, there's Eldroth, and a trainer, and also, Yongi. And,\" he scowls as he adds the last one, \"Blorn. Also, thou shouldst speak with Liana. She knows a few of the people that I do not. I am afraid that I do not know everyone as well as I should.\"");
				add(["trainer", "Yongi", "Liana"]);
				if (!var0003) {
					add("Eldroth");
				}
				if (!var0002) {
					add("Blorn");
				}
				remove("people");
				fallthrough;

			case "shame":
				say("\"I would have thought thou wouldst know.\" He strokes his beard.~~\"Cador was slain in a fight at the Gilded Lizard. 'Twas the first act of this kind ever in Vesper. Quite odd.\"");
				remove("shame");
				fallthrough;

			case "Eldroth":
				say("\"Eldroth acts as our counselor. He has been giving advice to the people of our town for... well, longer than I can remember. He owns the provisions shop.\"");
				var0003 = true;
				remove("Eldroth");
				fallthrough;

			case "trainer":
				say("\"Zaksam is our trainer. He can teach thee how to better defend thyself. Should the gargoyles cause trouble, I am comforted that he would defend our side.\"");
				remove("trainer");
				fallthrough;

			case "Yongi":
				say("\"He serves drinks at the tavern. Many have claimed him to be the best bartender on this side of the desert. People come from all around Britannia to speak with him,\" he says proudly.");
				remove("Yongi");
				fallthrough;

			case "Blorn":
				say("\"I am not sure what to think about him. I do not know what he does for a living, but I know the gargoyles hate him more than they do the rest of us. I am frightened of what will happen, since it is obvious that he holds mutual feelings towards them.\"");
				var0002 = true;
				remove("Blorn");
				fallthrough;

			case "Elizabeth and Abraham":
				if (!gflags[0x01EF]) {
					say("\"They are Fellowship members. They were just here to see about starting a branch in Vesper. I imagine we will allow it. I believe the couple have gone to Moonglow. They said they were on their way there to conduct a training session for the branch leader there. But I do know that they were going to stop at the Britannian Mining Company branch on the way out of town. I do not know why.\"");
					gflags[0x0284] = true;
				} else {
					say("\"I have not seen that Fellowship couple for many, many days. I have no idea where they could be now.\"");
				}
				remove("Elizabeth and Abraham");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0001,
			".\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();

void Func04D2 object#(0x4D2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		LIANA->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x028F]) {
			say("You see a short woman with a distracted look on her face.");
			gflags[0x028F] = true;
		} else {
			say("\"What is thy concern?\"");
		}
		converse (0) {
			case "name":
				say("Breaking from her work, the woman turns to look at you long enough to respond, \"My name is Liana.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the Mayor's clerk. I am responsible for keeping track of official records and documents in Vesper.\"");
				add(["Vesper", "mayor"]);
				fallthrough;

			case "Vesper":
				say("\"I like the town, but 'tis so far from Britain that it attracts some truly... unusual people.\"");
				add(["people", "unusual"]);
				remove("Vesper");
				fallthrough;

			case "mayor":
				say("\"I respect Auston in an unofficial capacity. But,\" she adds, raising her eyebrows, \"as a mayor, he is far too spineless. He is afraid of taking sides on any issue. I do not think he should have volunteered for the election.\"");
				remove("mayor");
				fallthrough;

			case "unusual":
				say("\"Well, there are a couple of strange ones: Mara and Yongi. And there is Blorn -- he is a mean one, and... well... of course, there is Eldroth. And,\" she says with a shudder, \"the gargoyles.\"");
				add(["Mara", "Yongi", "Blorn", "Eldroth", "gargoyles"]);
				remove("unusual");
				fallthrough;

			case "Mara":
				var0003 = MARA->get_npc_object()->is_dead();
				if (var0003) {
					say("\"I feel bad about the things I said now that she is gone. Too bad she was killed in that bar fight.\"");
				} else {
					say("\"Mara? She needs to learn how to act like a woman. Her manly attitude doth not fool anyone.\"");
				}
				remove("Mara");
				fallthrough;

			case "Yongi":
				say("\"Yongi is nothing more than a drunk. The only reason he opened a tavern was to have an excuse to purchase large amounts of alcohol at wholesale prices. And do not\task him about the gargoyles unless thou dost want him to talk thine ear off. He hates them almost as much as Blorn does!\"");
				remove("Yongi");
				fallthrough;

			case "Eldroth":
				say("\"He is nice, I suppose, but he is also a doddering old fool. I do not think he hath had a brain for more than a decade.\"");
				remove("Eldroth");
				fallthrough;

			case "Blorn":
				say("\"There is a troublemaker and thief if I have ever seen one. He needs to think about leaving town -- quickly, if he knows what is best for him. There is one thing I like about him, though -- he hates the gargoyles more than anyone!\"");
				add("gargoyles");
				remove("Blorn");
				fallthrough;

			case "gargoyles":
				say("\"Now there is a disgusting creature for thee. I think they were better named back when we called them daemons!\"");
				if (!var0002) {
					var0004 = UI_add_party_items(0x0001, 0x031D, 0x0002, FRAME_ANY, true);
					if (var0004) {
						say("\"In fact...\" She hands you a piece of paper.");
						var0002 = true;
					}
				}
				remove("gargoyles");
				fallthrough;

			case "people":
				say("\"Well, there are Cador, Yvella, and Zaksam -- those are the\tnormal ones.\"");
				add(["Cador", "Yvella", "Zaksam"]);
				remove("people");
				fallthrough;

			case "Zaksam":
				say("\"He is the trainer. Quite a good fighter from what I hear.\"");
				remove("Zaksam");
				fallthrough;

			case "Cador":
				var0005 = CADOR->get_npc_object()->is_dead();
				if (var0005) {
					say("\"'Tis too bad he is dead. I have heard many compliment his abilities as a leader at the mines.\"");
					add("dead");
				} else {
					say("\"Cador is the head of the Britannian Mining Company branch here in Vesper.\"");
					remove("Cador");
				}
				fallthrough;

			case "dead":
				say("\"He was killed in a brutal slaughter in Yongi's tavern. No one really knows what happened, but I suppose that is how many people meet their death when drinking.\" She shrugs.");
				remove("dead");
				fallthrough;

			case "Yvella":
				say("\"She is Cador's wife.\"");
				remove("Yvella");
				fallthrough;

			case "bye":
				break;
		}
		say("She nods at you as she returns to her business.*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);
extern void Func092F 0x92F (var var0000);

void Func04D3 object#(0x4D3) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		LAP_LEM->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (!gflags[0x0290]) {
			say("You are greeted with a smile from this gargoyle.");
			gflags[0x0290] = true;
		} else {
			say("\"To be pleased to again see you, human.\" Lap-Lem smiles.");
		}
		var0000 = Func0931(PARTY, 0x0001, 0x03BB, QUALITY_ANY, 0x0003);
		if (gflags[0x0281] || var0000) {
			if (!gflags[0x02DF]) {
				add("give amulet");
			}
		}
		converse (0) {
			case "name":
				say("\"To be known to you as Lap-Lem.\"");
				add("Lap-Lem");
				remove("name");
				if (gflags[0x0280] && (!gflags[0x02DF])) {
					add("Blorn");
				}
				fallthrough;

			case "Lap-Lem":
				say("\"To mean `rock one.'\"");
				remove("Lap-Lem");
				fallthrough;

			case "job":
				say("\"To be a miner. To be now the only miner of my race in this town.\"");
				add(["only miner", "race", "town"]);
				fallthrough;

			case "race":
				say("\"To know of many gargoyles who work in the other mines, but to see the Vesper mine has only humans now.\"");
				remove("race");
				fallthrough;

			case "town":
				say("\"To be called Vesper. To be the only place, other than parts of Britain, where gargoyles live with humans. To tell you that here are more conflicts.\" He sighs.~~\"To wonder if Terfin would be a better choice to maintain a home.\"");
				remove("town");
				add(["conflicts", "Terfin"]);
				fallthrough;

			case "conflicts":
				say("\"To see the humans grow in hostility to us. Sadly, to also see many gargoyles begin to show mutual feelings. To hope the situation never becomes violent.\"");
				remove("conflicts");
				fallthrough;

			case "Terfin":
				say("\"To be the gargoyle home city. To have been constructed two hundred years ago when the codex was placed in the void and the gargoyles were without places to live. Though not prohibited, no humans reside there.\"");
				remove("Terfin");
				fallthrough;

			case "only miner":
				say("\"To tell you that there was another -- Anmanivas. To have left because of racial hatred. To sit now in tavern all day with brother, Foranamo. To feel bad for Anmanivas and brother, but to need job.\" He shrugs.~~ \"To put up with hatred.\"");
				remove("only miner");
				fallthrough;

			case "Blorn":
				say("\"To know of incident?");
				var0001 = Func090A();
				if (!var0001) {
					say("\"To be very sorry for attack, but was in defense of possession.\" He lowers his head as if ashamed.");
				} else {
					say("\"To be ashamed. To want nothing more than return of my possession from human.\"");
				}
				add("possession");
				remove("Blorn");
				fallthrough;

			case "possession":
				say("\"To have had an amulet with sentimental value. To have been stolen by the human.\" He looks down at his feet. \"To want it back.\"");
				remove("possession");
				gflags[0x0282] = true;
				fallthrough;

			case "give amulet":
				say("\"To have returned with amulet?\"");
				var0002 = UI_remove_party_items(0x0001, 0x03BB, QUALITY_ANY, 0x0003, false);
				if (var0002) {
					Func0911(0x0032);
					say("He grins widely as you return the jewelry to him.~~ \"To thank you, human! To be an example for your race!\"");
					gflags[0x02DF] = true;
				} else {
					say("\"Oh. To not have amulet with you.\" He perks up and smiles. \"To return later with amulet!\"");
				}
				remove("give amulet");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To hope to see you again soon.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(LAP_LEM);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04D4 object#(0x4D4) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		YVELLA->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		var0003 = CADOR->get_npc_object()->is_dead();
		var0004 = "the Avatar";
		add(["name", "job", "Fellowship", "bye"]);
		if (gflags[0x027E] && (!gflags[0x0285])) {
			add("Catherine at noon");
		}
		if (gflags[0x0286]) {
			var0005 = var0000;
		}
		if (gflags[0x0287]) {
			var0005 = var0001;
		}
		if (!gflags[0x0291]) {
			say("The matronly woman you see has a look of concern on her face.~~\"Good day, ",
				var0001,
				". I am Yvella.\" She curtseys. \"Might I know thy name?\"");
			var0006 = Func090B([var0000, var0004]);
			if (var0006 == var0000) {
				say("\"Pleased to meet thee, ",
					var0000,
					".\"");
				gflags[0x0286] = true;
				var0005 = var0000;
			}
			if (var0006 == var0004) {
				say("\"Now, now, ",
					var0001,
					", thou shouldst not lie like that.\"");
				gflags[0x0287] = true;
				var0005 = var0001;
			}
			gflags[0x0291] = true;
		} else {
			say("\"Good day, ",
				var0005,
				".\"");
		}
		converse (0) {
			case "name":
				say("\"I am Yvella, ",
					var0001,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I take care of my daughter, Catherine, while Cador is at work.\"");
				if (!var0002) {
					add("Cador");
				}
				add("Catherine");
				fallthrough;

			case "Fellowship":
				say("\"Thou hast not heard of The Fellowship? It is a wonderful organization. They hold parades and festivals and have even built shelters for homeless folk throughout Britannia. Mine husband learned of them some time ago, and we have been happy members ever since.\"");
				if (!var0002) {
					add("husband");
				}
				remove("Fellowship");
				fallthrough;

			case "Cador", "husband":
				if (var0003) {
					say("\"Cador was mine husband. He was the overseer at the Britannian Mining Company here in Vesper. I cannot believe he is gone,\" she sobs.~~ \"I told him again and again that tavern was a bad place to spend the evening. And now, he is dead, leaving me and Catherine without a husband and a father!\"");
				} else {
					say("\"Cador is mine husband. He is the overseer at the Britannian Mining Company here in Vesper.\"");
					var0007 = UI_part_of_day();
					if ((var0007 == EVENING) || (var0007 == NIGHT)) {
						say("\"He is often at the tavern at this time. I do wish he would not go there every night with that... that...\twoman!\"");
						add("woman");
					}
				}
				remove(["Cador", "husband"]);
				add("Vesper");
				var0002 = true;
				fallthrough;

			case "woman":
				say("\"Her name is Mara. She is a fellow miner. She is very nice, but also very beautiful. I do not like mine husband spending all that time with her.\"");
				remove("woman");
				fallthrough;

			case "Vesper":
				say("\"Well, it would be a lovely town if it were not for those... those... gargoyles.  They are disgusting beings. I think Auston should have them run out of town.\"");
				add(["Auston", "gargoyles"]);
				remove("Vesper");
				fallthrough;

			case "Auston":
				say("\"He is our mayor. Eldroth recommended that we elect him, so, of course, we did. However, between the two of us, I think we ought to have someone new if Auston does not do something quickly. As a matter of fact, thou shouldst run for mayor, ",
					var0001,
					". What dost thou think? Wouldst thou like to run for mayor?\"");
				var0008 = Func090A();
				if (var0008) {
					say("\"I agree, thou ought to consider it.\"");
				} else {
					say("\"That is too bad. I believe thou wouldst be perfect for the office.\"");
				}
				add("Eldroth");
				remove("Auston");
				fallthrough;

			case "Eldroth":
				say("\"He is our town advisor. Very wise man that Eldroth. He also sells provisions.\"");
				remove("Eldroth");
				fallthrough;

			case "gargoyles":
				say("\"Perfectly wretched beasts. Thank goodness most of them stay on their side of the oasis. I do not know how Cador stands working with them. Well, for him, that is. There is only one who still works there.\"");
				var0009 = UI_add_party_items(0x0001, 0x031D, 0x0002, FRAME_ANY, true);
				if (var0009) {
					say("\"Here,\" she says fumbling through her robes. Finally, she finds a piece of parchment and hands it to you.");
				}
				remove("gargoyles");
				fallthrough;

			case "Catherine":
				say("\"I worry about her. Every day at noon, she seems to disappear for a few hours. She has these foolish notions that gargoyles are friendly and honorable. I am afraid she may be visiting the other side of the oasis. Oh, I do hope not.\"");
				gflags[0x027E] = true;
				remove("Catherine");
				fallthrough;

			case "Catherine at noon":
				say("\"Thou knowest where my daughter doth go at noon?\"");
				var000A = Func090A();
				if (var000A) {
					say("\"Wilt thou tell me?\"");
					var000B = Func090A();
					if (var000B) {
						if (gflags[0x027D]) {
							say("After you tell her, she responds, \"I knew it! That girl must be taught some sense. Associating with those vile creatures. Imagine!\" She shakes her head.");
							if (var0003) {
								say("\"If only her father were here today, he would show that loathsome creature his place!\"");
							} else {
								say("\"Just wait until I tell her father about this! He and Mara will certainly take care of the situation.!\"");
								FOR_LEM->remove_npc();
							}
							say("\"I thank thee, ",
								var0005,
								". I will put a stop to this right away!\"*");
							gflags[0x0285] = true;
							abort;
						}
						say("After you tell her, she responds, \"I doubt that is true, ",
							var0001,
							", but I will look into the matter. I thank thee for thy concern.\"");
					} else {
						say("\"Get thee away and cease taunting me! Thou art cruel, ",
							var0005,
							"!\"*");
						abort;
					}
					remove("Catherine at noon");
				} else {
					say("\"Oh, well. I thank thee for thy concern.\"");
				}
				fallthrough;

			case "bye":
				break;
		}
		say("\"Pleasant journey, ",
			var0001,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(YVELLA);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func04D5 object#(0x4D5) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		CATHERINE->show_npc_face(0x0000);
		var0000 = Func0909();
		add(["name", "job", "bye"]);
		var0001 = Func08F7(FOR_LEM);
		if (var0001) {
			add("gargoyle");
		}
		if (gflags[0x0285]) {
			remove("gargoyle");
			add("For-Lem");
		}
		if (!gflags[0x0292]) {
			say("You see before you a young girl with a carefree expression. As she notices you, her eyes grow wide as she exclaims, \"Thou art the person in one of For... one of -my- story books! Thou art the Avatar!\"");
			gflags[0x0292] = true;
		} else {
			say("\"How dost thou do, ",
				var0000,
				" Avatar?\" She curtseys.");
		}
		converse (0) {
			case "name":
				say("\"My name is Catherine, ",
					var0000,
					" Avatar.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I have no job, ",
					var0000,
					" Avatar. I live with my father and mother here in Vesper.\"");
				add(["father", "mother", "Vesper"]);
				fallthrough;

			case "father":
				say("\"He is the overseer at the mines, ",
					var0000,
					" Avatar.\"");
				var0002 = CADOR->get_npc_object()->is_dead();
				if (var0002) {
					say("\"Of course, he's gone now...\" She looks down at her feet.");
				}
				remove("father");
				fallthrough;

			case "mother":
				say("\"Yes, ",
					var0000,
					" Avatar. She is there right now.\" She points, apparently indicating her house.");
				remove("mother");
				fallthrough;

			case "Vesper":
				say("\"That is the name of our city, ",
					var0000,
					" Avatar. If thou art lost, thou mayest wish to speak with the town clerk.\"");
				remove("Vesper");
				fallthrough;

			case "gargoyle":
				say("\"I'm sorry, ",
					var0000,
					" Avatar, my mother told me never to speak with strangers.\" She quickly turns away.*");
				abort;

			case "For-Lem":
				say("A tear glistens as it rolls gently down her cheek. \"He is no more. My -- my father killed him for talking to me, and -- and 'tis all thy fault!\" She turns away, sobbing.*");
				abort;

			case "bye":
				break;

		}
		say("\"Goodbye, ",
			var0000,
			" Avatar.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);
extern void Func092F 0x92F (var var0000);

void Func04D6 object#(0x4D6) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		FOR_LEM->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		var0000 = Func08F7(CATHERINE);
		if (var0000) {
			add("girl");
		}
		if (!gflags[0x0293]) {
			say("You see a very large, strong wingless gargoyle.");
			gflags[0x0293] = true;
		} else {
			say("\"To wish you good day, human,\" says For-Lem.");
		}
		converse (0) {
			case "name":
				say("\"To answer to For-Lem.\"");
				remove("name");
				add("For-Lem");
				fallthrough;

			case "For-Lem":
				say("\"To mean `strong one.'\"");
				remove("For-Lem");
				fallthrough;

			case "job":
				say("\"To do odd jobs for others. Also, to record gargoyle legends in written form.\"");
				add(["others", "legends"]);
				fallthrough;

			case "others":
				say("\"To be friends with Lap-Lem, and know he is a good miner. Also to know Ansikart, who reminds us of Singularity in these troubled times.\"");
				add("troubled times");
				remove("others");
				fallthrough;

			case "troubled times":
				say("\"To be angry with the humans. To be treated poorly and with contempt. To know not why,\" he shrugs.");
				remove("troubled times");
				fallthrough;

			case "legends":
				say("\"To have many interesting stories about our race. To be writing them down for future generations.\"");
				remove("legends");
				add(["stories", "generations"]);
				fallthrough;

			case "stories":
				say("\"To have had many exciting myths from before the Avatar's encounters with our race. To share the concept of a hero with the humans, but to have had different heroes from our own history.\"");
				remove("stories");
				fallthrough;

			case "generations":
				say("\"To be afraid for the future of gargoyle youths. To tell you they know little about their heritage. To feel it important to educate them and the offspring who follow them in our ways and history.\"");
				remove("generations");
				fallthrough;

			case "girl":
				say("A look of concern quickly appears on his face.~~ \"To talk about the human girl, Catherine? To mean no harm to her.\" He holds out his hands.~~ \"To read gargoyle mythology to her during the day only. To have been asked by her!\" His eyes widen.~~ \"To ask you not to tell her parents, for they will punish her.\" He looks hopeful. \"To tell not, agreed?\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"To be making the right decision.\" He appears relieved. \"To thank you, human.\" He smiles.");
				} else {
					say("\"To be making a mistake.\" He appears disappointed. \"To have the girl punished now because of me.\" He shakes his head.~~\"To feel responsible. To be very sad.\"");
				}
				Func0911(0x0032);
				gflags[0x027D] = true;
				remove("girl");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To tell you goodbye, human.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(FOR_LEM);
	}
}

extern void Func0841 0x841 ();
extern var Func090A 0x90A ();
extern void Func092F 0x92F (var var0000);

void Func04D7 object#(0x4D7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		ANSIKART->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (!gflags[0x0294]) {
			say("The winged gargoyle has a very calm air about him. As he first sees you, a smile of recognition appears on his face. \"To present greetings, Avatar.\"");
			gflags[0x0294] = true;
		} else {
			say("\"To ask how to help you?\"");
		}
		converse (0) {
			case "name":
				say("\"To be called Ansikart.\"");
				add("Ansikart");
				remove("name");
				fallthrough;

			case "Ansikart":
				say("\"To mean `anti-dry-master.'\"");
				remove("Ansikart");
				fallthrough;

			case "job":
				say("\"To serve food and drink to others.\"");
				add(["buy", "others"]);
				fallthrough;

			case "buy":
				var0000 = ANSIKART->get_npc_object()->get_schedule_type();
				if (var0000 == TEND_SHOP) {
					Func0841();
				} else {
					say("\"To apologize, but to ask you to return when I am open.\"");
				}
				fallthrough;

			case "others":
				say("\"To know all the gargoyles in Vesper. To want to know about specific ones?\"");
				var0001 = Func090A();
				if (var0001) {
					say("\"To want information, perhaps, about the provisioner or the sage?");
					add(["sage", "provisioner"]);
				} else {
					say("\"To warn you that many hold resentment for their poor treatment. To be careful, please.\"");
				}
				add("Vesper");
				remove("others");
				fallthrough;

			case "Vesper":
				say("\"To be a town full of hate -- to have the humans hate us and to know many hate them, especially Anmanivas and Foranamo. To be not a good thing.\" He appears saddened.");
				add(["Anmanivas", "Foranamo"]);
				remove("Vesper");
				fallthrough;

			case "sage":
				say("\"To be named Wis-Sur.\"");
				if (gflags[0x0003]) {
					say("\"To be a great mind, knowledgeable in many things.\"");
				} else {
					say("\"To have once been a great mind. To be now paranoid and reclusive. To feel pity for Wis-Sur.\"");
				}
				remove("sage");
				fallthrough;

			case "provisioner":
				say("\"To be Aurvidlem. To have become sullen lately, but to know not why.\"");
				remove("provisioner");
				fallthrough;

			case "For-Lem":
				say("\"To be a laborer for the town.\"");
				remove("For-Lem");
				fallthrough;

			case "Lap-Lem":
				say("\"To mine for the Mining company here. To be the only gargoyle still mining here.\" He nods his head.~~ \"To be very tolerant, like For-Lem.\"");
				add(["tolerant", "For-Lem"]);
				remove("Lap-Lem");
				fallthrough;

			case "tolerant":
				say("\"To work now with only humans, who hate and degrade him. To continue working, however, despite this. To be quite tolerant of human intolerance.\" He nods, as if to emphasize his point.");
				remove("tolerant");
				fallthrough;

			case "Anmanivas":
				var0002 = ANMANIVAS->get_npc_object()->is_dead();
				if (var0002) {
					var0003 = "have been";
					say("\"To have been killed by you in this very tavern. To remember not?~~\"To have been his fault, but still, to tell you I feel remorse for him and his brother.\"");
				} else {
					var0003 = "be";
				}
				say("\"To have worked the mines with Lap-Lem, but to have left just recently.\" He shakes his head.~~\"To hate the humans who work there, and who live on the other side of the oasis. To be too violent. To ",
					var0003,
					" no longer permitted on the other side.\"");
				add("Lap-Lem");
				remove("Anmanivas");
				fallthrough;

			case "Foranamo":
				var0004 = FORANAMO->get_npc_object()->is_dead();
				if (var0004) {
					var0005 = "have been";
				} else {
					var0005 = "be";
				}
				say("\"To be brother to Anmanivas and to have been raised by the same parent. To hate humans as much as Anmanivas, and,\" he sighs, \"to ",
					var0005,
					" allowed no longer to visit the human side.\"");
				remove("Foranamo");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To hope you will bring peace again to our people, Avatar.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(ANSIKART);
	}
}

extern void Func094C 0x94C ();
extern void Func094A 0x94A ();
extern void Func0949 0x949 ();
extern var Func090B 0x90B (var var0000);
extern void Func094C 0x94C ();

void Func04D8 object#(0x4D8) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		WIS_SUR->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (gflags[0x0003]) {
			if (!gflags[0x0295]) {
				say("You see a winged gargoyle with an authoritative disposition.");
				gflags[0x0295] = true;
			} else {
				say("\"To offer welcome for you, human,\" says Wis-Sur.");
			}
		} else if (!gflags[0x0295]) {
			say("The winged gargoyle in front of you has a wild look about him.");
			gflags[0x0295] = true;
		} else {
			say("\"To go away, human! To have nothing you want!\" screams Wis-Sur.");
		}
		if (gflags[0x0003]) {
			converse (0) {
				case "name":
					say("\"To be named Wis-Sur, which means `wise sun.'\"");
					remove("name");
					fallthrough;

				case "job":
					say("\"To sell magic to others.\"");
					add(["others", "magic"]);
					fallthrough;

				case "magic":
					say("\"To be interested in spells, reagents, or potions?\"");
					add(["spells", "reagents", "potions"]);
					remove("magic");
					fallthrough;

				case "spells":
					Func094C();
					fallthrough;

				case "reagents":
					Func094A();
					fallthrough;

				case "potions":
					Func0949();
					fallthrough;

				case "others":
					say("\"To be familiar with only the other gargoyles in Vesper. To tell you to ask Ansikart, who knows all other gargoyles here. To tell you about one of the following?\"");
					remove("others");
					add(["Aurvidlem", "Lap-Lem", "For-Lem", "Anmanivas"]);
					fallthrough;

				case "Aurvidlem":
					say("\"To be a provisioner in Vesper.\"");
					remove("Aurvidlem");
					fallthrough;

				case "For-Lem":
					say("\"To perform assorted duties for town. To be a good, strong worker.\"");
					remove("For-Lem");
					fallthrough;

				case "Lap-Lem":
					say("\"To be a miner for the Britannian Mining Company.\"");
					remove("Lap-Lem");
					fallthrough;

				case "Anmanivas":
					say("\"To be a miner for the Britannian Mining Company.\"");
					remove("Anmanivas");
					fallthrough;

				case "bye":
					break;
			}
			say("\"To say farewell, human.\"*");
		} else {
			converse (0) {
				case "name":
					say("\"To wonder why you want to know.\"*");
					abort;

				case "job":
					say("\"To sell the few items I possess.\"");
					add("sell");
					fallthrough;

				case "sell":
					say("\"To want to buy something?\" He looks at you carefully, as if he is unsure whether to sell to you.~~\"To be possible,\" he says, nodding. \"To ask what you need?\"");
					var0000 = ["nothing", "spells", "reagents", "potions"];
					var0001 = Func090B(var0000);
					if (var0001 == "nothing") {
						say("\"To suspect you are wasting my time!\"");
					}
					if (var0001 == "spells") {
						Func094C();
					}
					if (var0001 == "reagents") {
						Func094A();
					}
					if (var0001 == "potions") {
						Func0949();
					}
					fallthrough;

				case "bye":
					say("\"To be good that you leave.\"*");
					abort;
			}
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);
extern var Func08F7 0x8F7 (var var0000);

void Func04D9 object#(0x4D9) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	if (event == DOUBLECLICK) {
		ANMANIVAS->show_npc_face(0x0000);
		var0000 = ANMANIVAS->get_npc_object();
		var0001 = FORANAMO->get_npc_object();
		var0002 = Func0908();
		var0003 = Func0909();
		var0004 = "the Avatar";
		var0005 = var0000->get_alignment();
		if (var0005 == GOOD) {
			say("The gargoyle's hatred is so bitter that he resists the spell.*");
			var0000->set_alignment(EVIL);
			var0001->set_alignment(EVIL);
			abort;
		}
		var0006 = var0000->get_schedule_type();
		if (var0006 == MAJOR_SIT) {
			add(["name", "job", "bye"]);
			say("The gargoyle stares at you, displeased at the interruption.");
			converse (0) {
				case "name":
					say("\"To have no desire to tell you. To demand to know who you are!\"");
					remove("name");
					var0007 = Func090B([var0002, var0004, var0003]);
					if (var0007 == var0004) {
						say("As the gargoyle looks up at you, anger crosses his face. He stands quickly, overturning his drink.");
						var0008 = 0x0000;
						var0009 = UI_get_party_list();
						for (var000C in var0009 with var000A to var000B) {
							var0008 += 0x0001;
						}
						if (var0008 == 0x0001) {
							var000D = "human";
							var000E = " he says, pointing at you.";
						} else {
							var000D = "humans";
							var000E = " he says, pointing at you and your companions.";
						}
						say("\"^",
							var000D,
							"!\"",
							var000E,
							" \"To be the cause for our unhappiness.\"");
						var000F = Func08F7(FORANAMO);
						if (var000F) {
							FORANAMO->say("The gargoyle by his side also rises.~~\"To be the reason for our poverty. To die, ",
								var000D,
								", to die!\"*");
							FORANAMO->hide();
							ANMANIVAS->say("The two gargoyles force the table from their path with ease as they charge to attack you.*");
						} else {
							say("He forces the table from his path with ease as he charges to attack you.*");
						}
						var0000->set_schedule_type(IN_COMBAT);
						var0001->set_schedule_type(IN_COMBAT);
						var0000->set_alignment(EVIL);
						var0001->set_alignment(EVIL);
						abort;
					}
					say("\"To tell you to go away!\"*");
					abort;

				case "job":
					say("\"To have none!\" He glares fiercly at you.\"");
					remove("job");
					fallthrough;

				case "bye":
					say("He grunts his dismissal.*");
					abort;
			}
		} else {
			say("Though he glares as he passes, the gargoyle seems much too intent on reaching his destination to bother with you.*");
			abort;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);
extern var Func08F7 0x8F7 (var var0000);

void Func04DA object#(0x4DA) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == DOUBLECLICK) {
		FORANAMO->show_npc_face(0x0000);
		var0000 = FORANAMO->get_npc_object();
		var0001 = ANMANIVAS->get_npc_object();
		var0002 = Func0908();
		var0003 = Func0909();
		var0004 = "the Avatar";
		var0005 = var0001->get_alignment();
		if (var0005 == GOOD) {
			say("The gargoyle's anger is so great that he resists the spell.*");
			var0000->set_alignment(EVIL);
			var0001->set_alignment(EVIL);
			abort;
		}
		var0006 = var0000->get_schedule_type();
		if (var0006 == MAJOR_SIT) {
			add(["name", "job", "bye"]);
			say("The gargoyle is obviously displeased with the intrusion of your presence.");
			converse (0) {
				case "name":
					say("\"To have no desire to tell you. To demand to know who you are!\"");
					remove("name");
					var0007 = Func090B([var0002, var0004, var0003]);
					if (var0007 == var0004) {
						var0008 = 0x0000;
						var0009 = UI_get_party_list();
						for (var000C in var0009 with var000A to var000B) {
							var0008 += 0x0001;
						}
						if (var0008 == 0x0001) {
							var000D = "human";
						} else {
							var000D = "humans";
						}
						say("The gargoyle growls as he turns to look at you. He stands, ");
						var000E = Func08F7(ANMANIVAS);
						if (var000E) {
							say("setting a hand on the shoulder of the gargoyle next to him.*");
							ANMANIVAS->say("The other gargoyle also stands. Anger flashes across his face as he points a finger at you.~~ \"To be the cause for our unhappiness, ",
								var000D,
								"!\"*");
							ANMANIVAS->hide();
							FORANAMO->show_npc_face(0x0000);
						}
						say("\"To be the reason for our poverty. To die, ",
							var000D,
							", to die!\"*");
						var0000->set_schedule_type(IN_COMBAT);
						var0001->set_schedule_type(IN_COMBAT);
						var0001->set_alignment(EVIL);
						var0000->set_alignment(EVIL);
						abort;
					}
					say("\"To tell you to go away!\"*");
					abort;

				case "job":
					say("\"To have none!\" He glares fiercly at you.\"");
					remove("job");
					fallthrough;

				case "bye":
					say("He grunts his dismissal.*");
					abort;
			}
		} else {
			say("The gargoyle stops only long enough to give you a menacing stare.*");
			abort;
		}
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern void Func084C 0x84C ();
extern void Func092F 0x92F (var var0000);

void Func04DB object#(0x4DB) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		AURVIDLEM->show_npc_face(0x0000);
		add(["name", "job", "bye"]);
		if (!gflags[0x0298]) {
			say("The gargoyle standing before you has a sour expression on his face.");
			gflags[0x0298] = true;
		} else {
			say("\"To offer you greetings, human,\" says Aurvidlem.");
		}
		converse (0) {
			case "name":
				say("\"To be called Aurvidlem. To recognize you to be the Avatar.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"To provide provisions for others in Vesper.\"");
				add(["buy provisions", "others", "Vesper"]);
				fallthrough;

			case "Vesper":
				say("\"To be a town filled with prejudice and hatred. To know the humans expect us to begin a violent confrontation.~~\"To believe the humans deserve it,\" he shrugs, \"but to hope my brethren display more control than that.\"");
				remove("Vesper");
				fallthrough;

			case "buy provisions":
				var0000 = AURVIDLEM->get_npc_object()->get_schedule_type();
				if (!(var0000 == TEND_SHOP)) {
					say("\"To be not selling at this time. To come back tomorrow to buy provisions.\"");
				} else {
					var0001 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					Func084C();
					var0002 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if ((var0001 - var0002) > 0x001D) {
						gflags[0x027F] = true;
					}
				}
				remove("buy provisions");
				fallthrough;

			case "others":
				if (gflags[0x027F]) {
					say("\"To have only a few gargoyles living in town. To know mainly Wis-Sur, and,\" he gives a slight grunt, \"Ansikart. Also to know of some wingless ones.\"");
					add("Ansikart");
				} else {
					say("\"To have only a few gargoyles living in town. To know mainly Wis-Sur and Ansikart, and to know of some wingless ones.\"");
				}
				remove("others");
				fallthrough;

			case "Ansikart":
				say("His eyes shift quickly from left to right before finally settling on you.~~\"To know since change in Wis-Sur, Ansikart gained too much respect. To be sure that I have studied more and would be a wiser and better leader here. To be dissatisfied with Ansikart as choice.\"");
				add("change");
				remove("Ansikart");
				fallthrough;

			case "change":
				say("\"To be unsure when change happened, but has affected Wis-Sur greatly. To now see him avoid others and shut himself away. To be concerned for Wis-Sur.\"");
				remove("change");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To bid you goodbye.\"*");
	}
	if (event == PROXIMITY) {
		Func092F(AURVIDLEM);
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04DC object#(0x4DC) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		SULLIVAN->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func0908();
		var0002 = Func08F7(0xFF10);
		var0003 = Func08F7(GROD);
		var0004 = false;
		add(["name", "job", "Fellowship", "bye"]);
		if (gflags[0x02E2]) {
			say("\"'Twas very kind of thee to release me from my cell. I shall now return to my former life. Good day!\"*");
			abort;
		}
		var0005 = SULLIVAN->get_npc_object();
		var0005->set_schedule_type(WAIT);
		if (!gflags[0x02C2]) {
			say("The man in the prison greets you with a rather large smile.");
		} else {
			say("\"Why, hello, ",
				var0000,
				". In what way could I help thee this fine day?\"");
		}
		converse (0) {
			case "name":
				say("\"I am Sullivan, ",
					var0000,
					",\" he says pleasantly. \"Who wouldst thou be?\"*");
				var0006 = "the Avatar";
				var0007 = Func090B([var0001, var0006, var0000]);
				if (var0007 == var0001) {
					say("\"Pleased to meet thee, ",
						var0001,
						".\" He moves his hand to shake yours but is prevented by the bars.~~\"Ah, well, sorry, ",
						var0000,
						". Consider thyself well shaken.\"");
				}
				if (var0007 == var0000) {
					say("\"Of course, ",
						var0000,
						". I understand.\" He smiles.");
				}
				if (var0007 == var0006) {
					say("\"Oh, I see. Oops...\" He shrugs.");
					add("Oops");
				}
				fallthrough;

			case "job":
				say("\"Well, in all honesty, ",
					var0000,
					", I have no job. Although, for a time, I was a thieving scoundrel.\"");
				add("scoundrel");
				fallthrough;

			case "Fellowship":
				say("\"'Tis truly a fantastic group of people, ",
					var0000,
					". We spread guidance and prosperity to the people who reside in our fair land. Of course, at the moment, my fellow members are a bit... displeased with me.\"");
				if (var0002) {
					say("*");
					0xFF10->say("\"That's a bit of an understatement!\"*");
					0xFF10->hide();
					SULLIVAN->show_npc_face(0x0000);
				}
				remove("Fellowship");
				add(["guidance", "prosperity", "displeased"]);
				fallthrough;

			case "guidance":
				say("\"The Fellowship teaches people to follow their leaders like sheep. Canst thou think of better guidance?\"");
				remove("guidance");
				fallthrough;

			case "prosperity":
				say("\"When a member behaves properly and follows directions and so forth, he -- or she -- can hear the `inner voice' that teaches one how to win at the games. 'Tis the very reason I joined!\" he grins broadly.~~\"However, I have yet to hear the voice.\"");
				remove("prosperity");
				fallthrough;

			case "displeased":
				say("\"Well, apparently I hadn't striven hard enough to be deserving of the loan I... acquired from the money box upstairs.\"");
				remove("displeased");
				add(["deserving", "loan"]);
				fallthrough;

			case "deserving":
				say("As best he can, he leans toward you. For perhaps the first time in his entire life, he turns somber. \"Actually, deserve is a relative term. I have finally realized -- being on the racks for many hours during the day leaves time for quite a number of realizations -- the true nature of The Fellowship. Batlin and Abraham and Danag, they all are in error.~~When the Guardian makes his appearance here in Britannia, I have no doubt he will simply eliminate everyone, including The Fellowship leaders.\" His smile returns.~~\"That is why I decided to get everything out of The Fellowship and Britannia now, before we are all killed.\"");
				remove("deserving");
				if (!var0004) {
					add("racks");
				}
				fallthrough;

			case "loan":
				say("\"Well... I was going to return the money eventually. I just needed it to win more in the games.\"");
				remove("loan");
				fallthrough;

			case "Oops":
				if (var0002) {
					0xFF10->say("\"What the fool means is that he used to don a costume and pretend to be thee in an attempt to woo goods from the proprietors.\"*");
					0xFF10->hide();
					SULLIVAN->say("\"Quite true, Avatar. The ruse worked far too well. 'Twas a true shame, to be honest. I should not have gotten away with it, and, indeed, am being properly castigated for it now.\"");
				} else {
					say("\"Oh, just that I have been impersonating thee for some time now to take items from shopkeepers without paying for them. Well, -had- been actually. Now I am being properly castigated for it.\"");
					if (var0003) {
						say("*");
						GROD->say("\"I thank thee.\"*");
						GROD->hide();
						SULLIVAN->say("\"Thou art welcome.\" He nods.*");
					}
				}
				remove("Oops");
				fallthrough;

			case "scoundrel":
				say("\"Well, until I was caught, I would go from shop to shop all across Britannia, posing as `the Avatar.' The owners were all too happy to supply me with numerous gifts. Thou truly hast a good life, ",
					var0000,
					".\"");
				if (var0002) {
					say("*");
					0xFF10->say("\"Ask him about his taxes, ",
						var0000,
						".\"*");
					0xFF10->hide();
					SULLIVAN->show_npc_face(0x0000);
					add("taxes");
				}
				add("gifts");
				remove("scoundrel");
				fallthrough;

			case "gifts":
				say("\"Oh, just anything I asked for -- weapons, armour, provisions, spells. Of course, I had no real use for the spells, but it was nice to acquire them for free, regardless.\"");
				remove("gifts");
				fallthrough;

			case "taxes":
				say("He smiles.~~\"The Britannian Tax Council created a tax to raise money for the government. I did not feel like paying them,\" he shrugs, \"so I didn't. And, of course,\" he says, grinning, \"now they often put me on that fine rack.\"~~He stretches his neck and peers at the wooden slab.~~\"Very fine workmanship.\" He nods. \"Indeed, that is by far the best rack I have ever seen!\"");
				remove("taxes");
				if (!var0004) {
					add("racks");
				}
				fallthrough;

			case "racks":
				say("\"Is not that the finest rack thou hast ever seen? Exquisite workmanship, beautiful detail.\"");
				var0004 = true;
				remove("racks");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Pleasant days, ",
			var0000,
			". See thee soon on the surface world!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(SULLIVAN);
	}
}

extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);

void Func04DD object#(0x4DD) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == PROXIMITY) {
		abort;
	}
	WENCH->show_npc_face(0x0000);
	var0000 = UI_part_of_day();
	var0001 = WENCH->get_npc_object()->get_schedule_type();
	var0002 = Func0908();
	var0003 = "Avatar";
	var0004 = UI_is_pc_female();
	if (gflags[0x029F]) {
		var0005 = var0002;
	}
	if (gflags[0x02A0]) {
		var0005 = var0003;
	}
	if (!(var0001 == TEND_SHOP)) {
		say("The woman looks up in surprise and says, \"I am not working at the moment and I ask thee to respect my privacy. If thou dost wish to speak with me, come to The Baths in the late evening hours.\"*");
		abort;
	}
	add(["name", "job", "bye"]);
	var0006 = UI_get_timer(0x0002);
	var0007 = UI_get_timer(0x0003);
	var0008 = UI_get_timer(0x0004);
	if ((gflags[0x029C] && (var0006 < 0x0002)) || ((gflags[0x029E] && (var0007 < 0x0002)) || (gflags[0x029D] && (var0008 < 0x0002)))) {
		say("This attractive woman looks at you with surprise and says, \"A moment! Thou didst just enjoy thyself, didst thou not? Please come back when thou art rested.\"*");
		abort;
	}
	if (!gflags[0x02AA]) {
		say("You see a gorgeous young woman with seductive eyes.");
		if (!var0004) {
			say("\"Hello, handsome!");
		} else {
			say("\"Hello. Art thou sure thou dost not really want to speak with Roberto?\"");
			if (Func090A()) {
				say("\"Fine, sweetheart. Whatever makes thy blood boil... ");
			} else {
				say("\"Then thou hadst best speak with Roberto! He is probably more thy type.\"*");
				abort;
			}
		}
		say("Who art thou?\"");
		var0009 = Func090B([var0002, var0003]);
		if (var0009 == var0002) {
			if (!var0004) {
				say("\"Well, I am very pleased to meet thee, ",
					var0002,
					".\"");
			} else {
				say("\"Hello, ",
					var0002,
					".\"");
			}
			var0005 = var0002;
			gflags[0x029F] = true;
		}
		if (var0009 == var0003) {
			say("\"Oh ho! A real live Avatar?");
			if (!var0004) {
				say("\"Say, we should get to know one another better!\"");
			} else {
				say("\"And female, as well! And I thought I had seen it all...\"");
			}
			var0005 = var0003;
			gflags[0x02A0] = true;
		}
		gflags[0x02AA] = true;
	} else {
		say("\"Hello again, ",
			var0005,
			",\" Wench says.");
	}
	converse (0) {
		case "name":
			say("\"Thou canst just call me... Wench.\"");
			if (!var0004) {
				say("She blows you a kiss.");
			}
			remove("name");
			fallthrough;

		case "job":
			say("She laughs aloud. \"Thou must be kidding!\" She composes herself and says, \"It is my duty to see that thou art comfortable whilst at The Baths.\"");
			add(["The Baths", "comfortable"]);
			fallthrough;

		case "The Baths":
			say("\"I have been working here since it opened. I love it. I am not exploited in the least. I make piles of gold and live a great life.\" ");
			if (!var0004) {
				say("She winks at you. \"I meet many nice men, too!\"");
			}
			remove("The Baths");
			fallthrough;

		case "comfortable":
			say("\"Well, we could have a swim in the spring pools, or thou couldst have a massage. Or we could just talk.~~\"Or... thou couldst come with me into the Community Room and I'll 'show' thee my 'job'!\"");
			remove("comfortable");
			add(["swim", "massage", "talk", "Community Room"]);
			fallthrough;

		case "Community Room":
			say("\"Thou dost want to join me in the Community Room?\"");
			if (Func090A()) {
				say("Wench leads you into a private room.~~\"It really isn't a Community Room at all. We shall be all alone,\" she giggles. ~~\"By the way, it is a good thing thou didst choose me. Roberto and Martine enjoy stealing gold from their customers. I may have questionable morals, but I am not a thief! Now, let us get down to business, shall we?\"");
				say("A while later, after the woman has shown you more tricks than a mage on stage, you emerge from the Community Room a much happier Avatar.");
				gflags[0x029D] = true;
				UI_set_timer(0x0004);
			} else {
				say("\"'Tis not a problem, ",
					var0005,
					".\"");
			}
			remove("Community Room");
			fallthrough;

		case "swim":
			say("Wench helps you with your clothing and leads you into the warm spring water. It feels terrific, and you would prefer to go to sleep, but you know you have a quest to fulfill. After a while, Wench helps you out of the water and you dress.");
			remove("swim");
			fallthrough;

		case "massage":
			say("Wench helps you with your clothing and leads you to a comfortable table. You lie on your stomach and the woman expertly kneads and rubs your aching muscles, slowly sending you into a state of total relaxation. After a while, Wench helps you up and you dress.");
			remove("massage");
			fallthrough;

		case "talk":
			say("Wench shrugs. \"Fine with me! What shall we talk about? I know! Want to know a secret?\"");
			if (Func090A()) {
				say("\"Didst thou know that there are secret passages in the mountains connecting the buildings on Buccaneer's Den? 'Tis true! I am fairly sure the entrance is through the House of Games,\tand I do know that there is a way into The Baths from the passages!\"");
			} else {
				say("Wench pouts. \"Well never mind, then!\"");
			}
			say("You and Wench speak of a number of other subjects when you realize that you are spending too much time in the spa. There is a quest to fulfill!");
			remove("talk");
			fallthrough;

		case "bye":
			break;
	}
	say("\"Oh, please come again soon, ",
		var0005,
		"!\"");
	if (!var0004) {
		say("Wench blows you a kiss.*");
	} else {
		say("Wench waves goodbye.*");
	}
}

extern var Func090A 0x90A ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func088F 0x88F ();
extern void Func092E 0x92E (var var0000);

void Func04DE object#(0x4DE) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		GLENNO->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (!gflags[0x02AB]) {
			say("You see a handsome, muscular man with an air of mischief about him.");
			gflags[0x02AB] = true;
		} else {
			say("\"Yes, may I help thee?\" Glenno asks.");
		}
		converse (0) {
			case "name":
				say("\"Glenno at thy service!\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the manager of The Baths.");
				if ((var0000 == EVENING) || ((var0000 == NIGHT) || (var0000 == MIDNIGHT))) {
					say("\"The entrance fee is 300 gold. Everything is included in this fixed price. No tips are necessary. Dost thou want to enter?\"");
					if (Func090A()) {
						var0002 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var0002 >= 0x012C) {
							var0003 = UI_add_party_items(0x0001, 0x0281, 0x00FB, 0x0004, false);
							if (var0003) {
								say("\"Excellent! Here is thy key!");
								var0004 = UI_remove_party_items(0x012C, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							} else {
								say("\"Thine hands are too full to carry the key!\"*");
								abort;
							}
						} else {
							say("\"What art thou trying to pull? Thou hast not 300 gold!\"*");
							abort;
						}
					} else {
						say("\"Well, some other time, then! Thou wilt not be sorry if thou dost! It is well worth the price.\"*");
						abort;
					}
					say("\"Enter! Please relax! Enjoy thyself! Allow one of our hosts or hostesses to make thy stay more comfortable. ");
					if (var0001) {
						say("He notices your medallion. \"Fellowship members are especially welcome!\"");
						add("Fellowship");
					}
					say("\"Please! Make thyself at home. If thou dost want a drink, let me know.\"");
					var0005 = Func08F7(SPARK);
					if (var0005) {
						say("\"Uhm, wait a minute. How old art thou, boy?\"*");
						SPARK->say("\"Uhm, eighteen.\"*");
						GLENNO->say("\"Thou dost not look eighteen.\"*");
						SPARK->say("\"All right, I am sixteen.\"*");
						GLENNO->say("\"Thou dost not look sixteen either. Well, never mind. Thou canst enter. But make sure the management doth not see thee.\" Glenno scratches his head. \"Yes, but... no! I am the management! All right, come on. Just don't cause any trouble.\"*");
						SPARK->say("\"All right! Wenches!\"*");
						SPARK->hide();
						var0006 = Func08F7(IOLO);
						if (var0006) {
							IOLO->say("Iolo whispers to you, \"Methinks young Spark hath learned a lot whilst adventuring with thee!\"*");
							IOLO->hide();
						}
						GLENNO->show_npc_face(0x0000);
					}
					add(["The Baths", "drink"]);
				} else {
					say("\"Please come visit in the late evening hours when our hosts and hostesses are here!\"");
				}
				fallthrough;

			case "The Baths":
				say("\"The Baths exist for the pleasure of visitors to Buccaneer's Den. Thou canst bathe in our spring pools. Thou canst lounge in our Community Room and socialize with our attractive hosts or hostesses. Thou canst drink fine wine and ale. Thou canst view our collection of fine artwork. Thou canst... escape into a dream-world!\"");
				remove("The Baths");
				add(["spring pools", "hosts or hostesses", "Community Room", "fine artwork"]);
				fallthrough;

			case "drink":
				Func088F();
				fallthrough;

			case "hosts or hostesses":
				say("\"They have come from all over Britannia to serve thine every wish! I, Glenno, have assured them that The Baths is the most prestigious establishment of its kind anywhere in the known world. It is probably the only establishment of its kind in the known world!\"");
				remove("hosts or hostesses");
				fallthrough;

			case "spring pools":
				say("\"The water is guaranteed to be pure, warm and cleansing.\"");
				remove("spring pools");
				fallthrough;

			case "Community Room":
				say("\"Thou canst lie in comfort among the many soft cushions and pillows. Get to know thy neighbor. Get to know thy neighbor 'very well'!\"");
				remove("Community Room");
				fallthrough;

			case "fine artwork":
				say("\"Ah, yes, those are erotic masterpieces from the brush of Britannian artist Glen Johnson. Notice how the curves on that one are extremely naturalistic, dost thou not agree?\"");
				remove("fine artwork");
				fallthrough;

			case "Fellowship":
				say("\"Yes, I am a member. If it were not for The Fellowship, I would not be manager of The Baths! I served the group well, trusted my many brothers, strived for unity, and... well, my worthiness preceded my reward! And all of this... was my reward!\" Glenno smiles as if he were a tomcat who had just swallowed a mouse.");
				remove("Fellowship");
				add("reward");
				fallthrough;

			case "reward":
				say("\"Yes, The Fellowship gave me this place. They own it, thou knowest.\" Suddenly Glenno holds his hand to his mouth, as if he has said something he shouldn't have. \"I mean, The Fellowship only owns the -land- on which it was built. I -built- The Baths with money with which I was rewarded by The Fellowship. So, enough of that -- enjoy thyself. I must tend to business!\" With that, Glenno turns away from you.*");
				remove("reward");
				abort;

			case "bye":
				break;
		}
		say("\"Leaving so soon?\"*");
	}
	if (event == PROXIMITY) {
		var0000 = UI_part_of_day();
		var0007 = GLENNO->get_npc_object()->get_schedule_type();
		var0008 = UI_die_roll(0x0001, 0x0004);
		if (var0007 == LOITER) {
			if ((var0000 == AFTERNOON) || ((var0000 == NIGHT) || (var0000 == MIDNIGHT))) {
				if (var0008 == 0x0001) {
					var0009 = "@Wine and women!@";
				}
				if (var0008 == 0x0002) {
					var0009 = "@Need a girl, sailor?@";
				}
				if (var0008 == 0x0003) {
					var0009 = "@How about a stud, lady?@";
				}
				if (var0008 == 0x0004) {
					var0009 = "@Relax here in The Baths!@";
				}
				GLENNO->item_say(var0009);
			}
		} else {
			Func092E(GLENNO);
		}
	}
}

extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);

void Func04DF object#(0x4DF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	if (event == PROXIMITY) {
		abort;
	}
	MARTINE->show_npc_face(0x0000);
	var0000 = UI_part_of_day();
	var0001 = MARTINE->get_npc_object()->get_schedule_type();
	var0002 = Func0908();
	var0003 = "Avatar";
	var0004 = UI_is_pc_female();
	if (gflags[0x029A]) {
		var0005 = var0002;
	}
	if (gflags[0x029B]) {
		var0005 = var0003;
	}
	if (!(var0001 == TEND_SHOP)) {
		say("The woman looks up in surprise and says, \"I am not working at the moment and I ask thee to respect my privacy. If thou dost wish to speak with me, come to The Baths in the late evening hours.\"*");
		abort;
	}
	add(["name", "job", "bye"]);
	var0006 = UI_get_timer(0x0004);
	var0007 = UI_get_timer(0x0003);
	var0008 = UI_get_timer(0x0002);
	if ((gflags[0x029D] && (var0006 < 0x0002)) || ((gflags[0x029E] && (var0007 < 0x0002)) || (gflags[0x029C] && (var0008 < 0x0002)))) {
		say("This attractive woman looks at you with surprise and says, \"Honey, thou just enjoyed thyself, didst thou not? Please come back when thou art rested.\"*");
		abort;
	}
	if (!gflags[0x02AC]) {
		say("You see a beautiful young woman with a tropical air.");
		if (!var0004) {
			say("\"Hello, handsome!");
		} else {
			say("\"Hello, dear. Art thou sure thou dost not want to speak with Roberto?\"");
			if (Func090A()) {
				say("\"All right, honey. Whatever heats thy blood...\"");
			} else {
				say("\"Then thou had best speak with him! He is probably more to thy liking.\"*");
				abort;
			}
		}
		say("\"What is thy name?\"");
		var0009 = Func090B([var0002, var0003]);
		if (var0009 == var0002) {
			if (!var0004) {
				say("\"How art thou, ",
					var0002,
					"? I am so happy to meet thee!\"");
			} else {
				say("\"Hello, ",
					var0002,
					".\"");
			}
			var0005 = var0002;
			gflags[0x029A] = true;
		}
		if (var0009 == var0003) {
			say("\"Oh please! Not another Avatar!\"");
			if (!var0004) {
				say("Martine takes a deep breath, then smiles.");
				say("\"Well, honey, it does not matter who thou art. We shalt have a good time anyway.\"");
			}
			gflags[0x029B] = true;
			var0005 = var0003;
		}
		gflags[0x02AC] = true;
	} else {
		say("\"Hello again, ",
			var0005,
			",\" Martine says.");
	}
	converse (0) {
		case "name":
			say("\"The name I use here is Martine. Thou dost understand...\" She winks at you.");
			remove("name");
			fallthrough;

		case "job":
			if (!var0004) {
				say("\"Honey, my job is to make thee happy.");
			} else {
				say("\"My dear, my job is to serve thee.");
			}
			say("\"'Tis important that thou art comfortable whilst visiting The Baths.\"");
			add(["The Baths", "comfortable"]);
			fallthrough;

		case "The Baths":
			say("\"'Tis a fabulous place to work. I absolutely love it. I would not work anywhere else. I have more gold than I could possibly spend.\"");
			if (!var0004) {
				say("Martine blows a kiss at you. \"I meet many kinds of interesting people, too!\"");
			}
			remove("The Baths");
			fallthrough;

		case "comfortable":
			say("\"Thou dost have many choices. We could take a swim in our spring pools. Or I could perform a massage on thee. Or we could simply talk.~~\"But if thou dost want to really get to know me better, we should visit the Community Room...\"");
			remove("comfortable");
			add(["swim", "massage", "talk", "Community Room"]);
			fallthrough;

		case "Community Room":
			say("\"Thou dost want to join me in the Community Room?\"");
			if (Func090A()) {
				say("Martine leads you into a private room.~~\"It really is not a Community Room at all. We shall be all alone!\"~~ A while later, after the woman has shown you more tricks than a crooked street mage, you emerge from the Community Room a much happier Avatar.");
				gflags[0x029C] = true;
				UI_set_timer(0x0002);
				var000A = UI_remove_party_items(0x0032, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			} else {
				say("\"That's all right, honey.\"");
			}
			remove("Community Room");
			fallthrough;

		case "swim":
			say("Martine helps you with your clothing and leads you into the warm spring water. It feels fabulous, and you would love to go to sleep; but you know you have a quest to finish. After a while, Martine helps you out of the water and you dress.");
			remove("swim");
			fallthrough;

		case "massage":
			say("Martine helps you with your clothing and leads you to a comfortable table. You lie on your stomach and the woman expertly kneads and rubs your aching muscles, slowly sending you into a state of oblivion. After a while, Martine helps you up and you dress.");
			remove("massage");
			fallthrough;

		case "talk":
			say("Martine smiles. \"That is just fine with me, honey. I would wager thou hast many stories to tell about adventuring, yes? Say! Hast thou been in the secret passages in the mountains? Didst thou know they are all connected? I know that there is a secret door that leads right into the back of this building!\" She whispers, \"I believe the entrance is through the House of Games.\"~~You and Martine speak of a number of other subjects until you realize you have spent too much time in the spa. There is a quest to finish!");
			remove("talk");
			fallthrough;

		case "bye":
			break;
	}
	say("\"I hope to see thee again soon, honey!\"");
	if (!var0004) {
		say("Martine blows you a kiss.*");
	} else {
		say("Martine waves goodbye.*");
	}
}

extern var Func0908 0x908 ();
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);

void Func04E0 object#(0x4E0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == PROXIMITY) {
		abort;
	}
	ROBERTO->show_npc_face(0x0000);
	var0000 = UI_part_of_day();
	var0001 = ROBERTO->get_npc_object()->get_schedule_type();
	var0002 = Func0908();
	var0003 = "Avatar";
	var0004 = UI_is_pc_female();
	if (gflags[0x02A1]) {
		var0005 = var0002;
	}
	if (gflags[0x02A2]) {
		var0005 = var0003;
	}
	if (!(var0001 == TEND_SHOP)) {
		say("The man looks up in surprise and says, \"I am not working at the moment and I ask thee to respect my privacy. If thou dost wish to speak with me, come to The Baths in the late evening hours.\"*");
		abort;
	}
	add(["name", "job", "bye"]);
	var0006 = UI_get_timer(0x0004);
	var0007 = UI_get_timer(0x0002);
	var0008 = UI_get_timer(0x0003);
	if ((gflags[0x029C] && (var0007 < 0x0002)) || ((gflags[0x029D] && (var0006 < 0x0002)) || (gflags[0x029E] && (var0008 < 0x0002)))) {
		say("The man looks at you with surprise and says, \"Hold, ",
			var0004,
			"! Thou didst just enjoy thyself, didst thou not? Please come back when thou art rested!\"*");
		abort;
	}
	if (!gflags[0x02AD]) {
		say("You see a strikingly handsome man with eyes that pierce your soul.");
		if (var0004) {
			say("\"Hello, gorgeous!");
		} else {
			say("\"Hello. Uhm, art thou sure thou dost not really want to speak with Wench or Martine?\"");
			if (Func090A()) {
				say("\"Fine, sailor, whatever makes thy blood boil...");
			} else {
				say("\"Then thou hadst best speak with one of them. They are probably more to thy liking!\"*");
				abort;
			}
		}
		say("\"What is thy name?\"");
		var0009 = Func090B([var0002, var0003]);
		if (var0009 == var0002) {
			if (var0004) {
				say("\"Well, I am very pleased to meet thee, ",
					var0002,
					".\"");
			} else {
				say("\"Hello, ",
					var0002,
					".\"");
			}
			var0005 = var0002;
			gflags[0x02A1] = true;
		}
		if (var0009 == var0003) {
			say("Roberto does a double-take. \"The Avatar, eh? And I thought I had heard it all...\"");
			gflags[0x02A2] = true;
			var0005 = var0003;
		}
		gflags[0x02AD] = true;
	} else {
		say("\"Hello again, ",
			var0005,
			",\" Roberto says.");
	}
	converse (0) {
		case "name":
			say("\"I am known in these parts as Roberto.\"");
			if (var0004) {
				say("Roberto takes your hand and says, \"And thou art the most beautiful woman I have ever laid eyes upon!\"");
			}
			remove("name");
			fallthrough;

		case "job":
			say("Roberto smiles broadly. \"Thou dost not really want to know that, dost thou?\" He shakes his head, suppressing a laugh. \"Very well -- it is my task to see that thou art truly comfortable whilst at The Baths.\"");
			add(["The Baths", "comfortable"]);
			fallthrough;

		case "The Baths":
			if (var0004) {
				var000A = "beautiful women ";
			} else {
				var000A = "handsome men ";
			}
			say("\"Nice place, is it not? I certainly enjoy working here! It brings me much wealth, and I have many opportunities to meet ",
				var000A,
				"such as thyself!\"");
			remove("The Baths");
			fallthrough;

		case "comfortable":
			say("\"What would suit thee? We could swim in the spring pools, or I could give thee a massage. If thou dost prefer to converse, we could simply talk. Or if thou wouldst like, we could wander into the Community Room and... communicate!\"");
			remove("comfortable");
			add(["swim", "massage", "talk", "Community Room"]);
			fallthrough;

		case "Community Room":
			say("\"Thou dost want to join me in the Community Room?\"");
			if (Func090A()) {
				say("Roberto leads you into a private room.~~\"It really isn't a Community Room at all. We shall be all alone!\" ~~A while later, after you have received the man's full attention, you emerge from the Community Room a much happier Avatar.");
				gflags[0x029E] = true;
				UI_set_timer(0x0003);
				var000B = UI_remove_party_items(0x0032, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			} else {
				say("\"Do not worry about it, ",
					var0005,
					". We can do something else.\"");
			}
			remove("Community Room");
			fallthrough;

		case "swim":
			say("Roberto helps you with your clothing and leads you into the warm spring water. It feels terrific, and you feel like going to sleep, but you know you have a quest to complete. After a while, Roberto helps you out of the water and you dress.");
			remove("swim");
			fallthrough;

		case "massage":
			say("Roberto helps you with your clothing and leads you to a comfortable table. You lie face down and the man expertly kneads and rubs your aching muscles, slowly sending you over the edge into a state of total relaxation. After a while, Roberto helps you up and you dress.");
			remove("massage");
			fallthrough;

		case "talk":
			say("Roberto smiles. \"That is all right. What shall we talk about? Adventuring? Secret passages and dungeons?\"~~ Roberto leans closer and whispers, \"Didst thou know that there are secret passages connecting the buildings on Buccaneer's Den? 'Tis true! I am fairly sure the entrance is through the House of Games, and I am quite sure there is a way into The Baths.\"~~You and Roberto speak of a number of other subjects until you realize that you are spending far too much time in the spa. There is a quest to fulfill!");
			remove("talk");
			fallthrough;

		case "bye":
			break;
	}
	say("\"I hope to see thee again, ",
		var0005,
		".\"*");
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func04E1 object#(0x4E1) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		SINTAG->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = SINTAG->get_npc_object()->get_schedule_type();
		var0002 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
		add(["name", "job", "bye"]);
		if (gflags[0x0104] || gflags[0x0135]) {
			add("Hook");
		}
		if (!gflags[0x02AE]) {
			say("You see the meanest, toughest-looking guard you have ever seen in Britannia.");
			gflags[0x02AE] = true;
		} else {
			say("\"What?\" Sintag grunts.");
		}
		converse (0) {
			case "name":
				say("\"Sintag,\" the man grunts.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the guard at the House of Games. I rid the place of trouble-makers.\"");
				add(["House of Games", "trouble-makers"]);
				fallthrough;

			case "House of Games":
				say("\"I have worked for the House of Games since The Mister agreed to pay me and asked me to stay. I know all who go in or out. I see everything.\"");
				remove("House of Games");
				add("The Mister");
				fallthrough;

			case "The Mister":
				say("\"That would be Mister Gordy, the overseer of the House of Games. Thou might find him in his office during business hours.\"");
				remove("The Mister");
				fallthrough;

			case "trouble-makers":
				say("\"We see all sorts of trouble-makers in this place. I especially do not like people who claim that they are the Avatar. I find it blasphemous. The last fellow who claimed to be an Avatar was caught cheating. He'll not be doin' that again!\"");
				remove("trouble-makers");
				add(["all sorts", "not again"]);
				fallthrough;

			case "all sorts":
				say("\"There is a man named Robin who used to come in here and cheat at the games. He had his two varlets named Battles and Leavell intimidate anyone who tried to stop him. One day my brothers came to visit and we ran Robin, Battles and Leavell all the way off the island! We have not seen them since!\"");
				remove("all sorts");
				fallthrough;

			case "not again":
				if (var0002) {
					say("The Cube vibrates a little. \"He is in the caverns, in the torture chamber. What's left of him.\"");
					add(["torture chamber", "left of him"]);
				} else {
					say("\"Thou dost not need to know any more.\"");
					say("Sintag glares at you.");
				}
				remove("not again");
				fallthrough;

			case "torture chamber":
				if (var0002) {
					say("The Cube vibrates. \"It is where The Fellowship interrogates their prisoners.\"");
				} else {
					say("\"What torture chamber? Did I say torture chamber?\"");
				}
				remove("torture chamber");
				fallthrough;

			case "left of him":
				say("\"He has been in our care for a while now.\" Sintag smiles enigmatically.");
				remove("left of him");
				fallthrough;

			case "Hook":
				if (var0001 == TEND_SHOP) {
					if (var0002) {
						say("The Cube vibrates as Sintag speaks. \"Hook lives in the cavern behind the House of Games. There is a locked door from the gaming room which leads there. I have the key. There is also a secret door in Gordy's office which Hook uses to get home.\"");
						add("key");
					} else {
						say("\"I do not know any man by that description.\"");
					}
				} else {
					say("\"Do I look like I am working now? Leave me alone. Come to the House of Games during normal business hours.\"");
				}
				remove("Hook");
				fallthrough;

			case "key":
				say("\"Dost thou want the key?\"");
				if (Func090A()) {
					var0003 = UI_add_party_items(0x0001, 0x0281, 0x00EA, 0x000A, false);
					if (var0003) {
						say("\"Here it is.\"");
						Func0911(0x012C);
					} else {
						say("\"Thou art carrying too much!\"");
					}
				} else {
					say("\"Suit thyself.\"");
				}
				remove("key");
				fallthrough;

			case "bye":
				break;
		}
		say("Sintag grunts.*");
	}
	if (event == PROXIMITY) {
		var0001 = SINTAG->get_npc_object()->get_schedule_type();
		var0004 = UI_die_roll(0x0001, 0x0004);
		if (var0001 == TEND_SHOP) {
			if (var0004 == 0x0001) {
				var0005 = "@I am watching thine hands!@";
			}
			if (var0004 == 0x0002) {
				var0005 = "@No cheating!@";
			}
			if (var0004 == 0x0003) {
				var0005 = "@Keep thine hands where I can see 'em.@";
			}
			if (var0004 == 0x0004) {
				var0005 = "@No funny stuff with the games.@";
			}
			SINTAG->item_say(var0005);
		} else {
			abort;
		}
	}
}

extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04E2 object#(0x4E2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		BLACKTOOTH->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = UI_wearing_fellowship();
		var0002 = "Avatar";
		var0003 = BLACKTOOTH->get_npc_object();
		if (gflags[0x02A3]) {
			var0004 = var0000;
		}
		if (gflags[0x02A4]) {
			var0004 = var0002;
		}
		add(["name", "job", "bye"]);
		if (gflags[0x02A5]) {
			if (gflags[0x02A7]) {
				add("Mole says...");
			}
		}
		if (!gflags[0x02AF]) {
			say("This tall, middle-aged pirate looks at you with suspicion.~~\"Before I will look twice at thee, I must know who thou art.\" His voice is menacing.");
			var0005 = Func090B([var0000, var0002]);
			if (var0005 == var0000) {
				say("The pirate chews on something in his mouth before replying. \"Hi,\" he finally says.");
				gflags[0x02A3] = true;
				var0004 = var0000;
			}
			if (var0005 == var0002) {
				say("The pirate looks as if you have just insulted his mother.~~\"I... do... not... like... Avatars!!\"~~The pirate spits on the ground. \"But thou dost not look as much like fishbait as the last Avatar I spoke with. All right. I will speak with thee.\"");
				gflags[0x02A4] = true;
				var0004 = var0002;
			}
			gflags[0x02AF] = true;
		} else if (gflags[0x02A6] || (!gflags[0x02A5])) {
			say("\"What dost thou want?\" Blacktooth asks in a threatening voice. \"Oh, 'tis thee, ",
				var0004,
				".\"");
		} else {
			say("\"I thought thou didst not want to be my friend!\" Blacktooth grumbles.");
		}
		converse (0) {
			case "name":
				say("\"I am Blacktooth. See?\" The pirate smiles, revealing his teeth.");
				remove("name");
				fallthrough;

			case "job":
				say("\"Making fishbait out of Avatars!\" He laughs aloud. \"I have had all I can stand of puny weaklings running around claiming they are an Avatar! I am seeking a particular Avatar that was here last week. A particular Avatar that is a Fellowship member!\"");
				add(["Avatar", "Fellowship"]);
				fallthrough;

			case "Avatar":
				say("\"He was through here a week ago. Tried to filch some gold off of me! Imagine! The nerve of that bastard! He was gone before I had realized what he had done.\"");
				remove("Avatar");
				add("filch");
				fallthrough;

			case "filch":
				say("\"We were playing cards in the pub. Damn me if he did not deal from the bottom. I can usually spot tricks like that, but he was good!\"");
				if (var0001) {
					say("The pirate notices your Fellowship medallion. \"I see that thou art one of them, too!\"");
				}
				remove("filch");
				fallthrough;

			case "Fellowship":
				if (var0001) {
					var0006 = "@No offense to thee, but ";
				} else {
					var0006 = "@Between thou and me, ";
				}
				say(var0006,
					"I do not trust 'em. I think they are all hiding something. I think they are all tricksters. Take mine old friend Mole, for example. Well, mine old ex-friend Mole. He has changed a great deal since joining them.\"");
				remove("Fellowship");
				add(["Mole", "changed"]);
				fallthrough;

			case "Mole":
				say("\"He is another aging pirate that has retired and lives on the island. We were mates for years, but then he joined that damned Fellowship. Now he thinks his droppings do not smell foul, if thou knowest what I mean.\"");
				remove("Mole");
				fallthrough;
				fallthrough;

			case "changed":
				say("\"He has abandoned all of his pirate ways! He is a bloody saint now, and whenever he sees me he tries to convince me to join The Fellowship. I avoid him at all costs now. I cannot stand to see him this way. It burns my blood!\"~~Then, in a moment of weakness, the tough pirate says in a small voice, \"I miss him, too. We were best mates.\" You could swear there are tears in his eyes.*");
				var0007 = Func08F7(SPARK);
				if (var0007) {
					SPARK->say("Spark whispers, \"Oh, come on, be a man!\"*");
					SPARK->hide();
					var0008 = Func08F7(DUPRE);
					if (var0008) {
						DUPRE->say("Dupre turns away to suppress a smirk.*");
						DUPRE->hide();
					}
					BLACKTOOTH->show_npc_face(0x0000);
				}
				say("You can see that the pirate is upset, so you decide to leave him alone.~~\"Yeah, go away. That's right! I never can keep any friends!");
				if (gflags[0x02A4]) {
					say("\"That would be just like an Avatar to leave me like this!");
				}
				if (var0001) {
					say("\"Typical Fellowship member! That's right! Leave me alone! Go away!");
				}
				say("\"I shall just remain here alone and destitute! Where is my dagger? I shall slit my throat!!\"");
				remove("changed");
				gflags[0x02A5] = true;
				if (gflags[0x02A7]) {
					add("Mole says...");
				}
				fallthrough;

			case "Mole says...":
				say("\"He said that? Really?\" Blacktooth looks as if he may cry again.~~\"I must go take a look for him. I thank thee, ",
					var0004,
					", for considering my feelings in this matter.\" Blacktooth gives you a big hug, then turns away to look for Mole.*");
				remove("Mole says...");
				gflags[0x02A6] = true;
				Func0911(0x0014);
				var0003->set_schedule_type(WANDER);
				abort;

			case "bye":
				break;
		}
		if (gflags[0x02A6] || (!gflags[0x02A5])) {
			say("\"Another time, then.\"*");
		} else {
			say("\"Yeah, goodbye! Leave! They all leave me alone eventually!\"*");
		}
	}
	if (event == PROXIMITY) {
		var0009 = BLACKTOOTH->get_npc_object()->get_schedule_type();
		if (var0009 == LOITER) {
			var000A = UI_die_roll(0x0001, 0x0004);
			if (var000A == 0x0001) {
				var000B = "@Har!@";
			}
			if (var000A == 0x0002) {
				var000B = "@Avast!@";
			}
			if (var000A == 0x0003) {
				var000B = "@Blast!@";
			}
			if (var000A == 0x0004) {
				var000B = "@Damn parrot droppings...@";
			}
			BLACKTOOTH->item_say(var000B);
		} else {
			Func092E(BLACKTOOTH);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04E3 object#(0x4E3) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		MOLE->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_wearing_fellowship();
		var0002 = MOLE->get_npc_object();
		add(["name", "job", "bye"]);
		if (gflags[0x02A7]) {
			if (gflags[0x02A5]) {
				add("He misses thee");
			}
		}
		if (!gflags[0x02B0]) {
			say("You see an aging pirate who might have looked extremely dangerous at one time.");
			gflags[0x02B0] = true;
		} else {
			say("\"What is it?\" Mole asks.");
		}
		converse (0) {
			case "name":
				say("\"My name be Mole, it be! Do not ask me how I came by it. 'Tis a long story.\"");
				remove("name");
				add("story");
				fallthrough;

			case "job":
				say("\"For years and years I roamed the seas, pillaging and raping and terrorizing. Now that I am past the age of fifty, I want to live the rest of my life in relative peace and quiet here on Buccaneer's Den.\"");
				add(["peace and quiet", "Buccaneer's Den"]);
				fallthrough;

			case "story":
				say("\"Thou dost really want to hear it? 'Tis very long.\"");
				if (Func090A()) {
					say("\"All right. I was born in a cave. So my mother named me Mole.\"*");
					var0003 = Func08F7(IOLO);
					if (var0003) {
						IOLO->say("\"I thought thou said it was a long story.\"*");
						IOLO->hide();
						MOLE->show_npc_face(0x0000);
					}
				} else {
					say("\"Very well. How 'bout if I just say that I was born in a cave, so my mother named me Mole.\"");
				}
				say("Mole shrugs. \"I thought I would make a long story short.\"");
				remove("story");
				fallthrough;

			case "peace and quiet":
				say("\"It is a good life. I grew weary of pirating. I grew weary of the salt water and the raw meat and the sewage on deck and the parrot droppings and the fact that every other word one heard was 'Har!'\"");
				remove("peace and quiet");
				fallthrough;

			case "Buccaneer's Den":
				say("\"I spend my time at the House of Games or the Fallen Virgin. I love the sound of the die as it bounces against the felt. I love the taste of warm ale as it splashes down my throat! And... I have The Fellowship.\"");
				remove("Buccaneer's Den");
				add("Fellowship");
				fallthrough;

			case "Fellowship":
				say("\"The group has given me a new lease on life. I thought I had mates when I was an active pirate, but they were nothing compared to my brothers in The Fellowship.");
				if (var0001) {
					say("\"Say, I see that thou art a member! Thou must be of sound character!");
				}
				say("\"Mine old mates, like my friend Blacktooth, have fallen by the wayside.\"");
				remove("Fellowship");
				add(["Blacktooth", "mates"]);
				fallthrough;

			case "Blacktooth":
				say("\"Blacktooth lives here on the island. We used to be the same link on a chain, knowest what I mean? But since I joined The Fellowship, he does not give me the shadow of a sundial! He acts as though I had the plague or something. I do not understand it. Makes me want to cut something up into mincemeat!\"");
				remove("Blacktooth");
				fallthrough;

			case "mates":
				say("\"Blacktooth was like my brother. Not like my brothers in The Fellowship, but a 'real' brother, knowest what I mean? We did 'everything' together. We would share booty! We would share wenches! We did it all!\"");
				remove("mates");
				add("brother");
				fallthrough;

			case "brother":
				say("\"Well, he is not a brother now! He hates me! If he wants nothing to do with me, so be it!\" But Mole quickly adds, \"He does not realize what I did for him. I made his life livable! Who was it that nursed him when he had scurvy? Me! Who was it that patched him up when he was sliced to bits by that butcher Silverbeard? Me!\"");
				remove("brother");
				add(["life", "Silverbeard"]);
				fallthrough;

			case "Silverbeard":
				say("\"Oh, he was some old pirate with a temper. He's probably dead now, if he knows what's good for him!\"");
				remove("Silverbeard");
				fallthrough;

			case "life":
				say("\"Yes, it was a different life in those days...\" Mole reflects on some past memory as his eyes glaze over temporarily. Finally he says, \"I may have dwelt too strongly on my Fellowship business. Perhaps I pushed him too hard. I am sorry. If he would give me another chance I would probably leave The Fellowship. They are not as wonderful as I made them sound. They are more crooked than the pirates I used to sail with!\" Mole frowns. \"Thou hast put me in a foul mood.\"");
				remove("life");
				gflags[0x02A7] = true;
				if (gflags[0x02A5]) {
					add("He misses thee");
					remove("life");
				} else {
					say("*");
					abort;
				}
				fallthrough;

			case "He misses thee":
				say("You tell Mole what Blacktooth said. A change comes over the salty pirate, as if you had just given him a bouquet of flowers.~~\"Thou must be kidding me! Blackie misses me? I thought he hated mine innards! I shall have to go for a little walk and maybe I will run across that old dog! I thank thee, stranger, for imparting this information to me.\"~~With that, Mole turns away from you, doing a little jaunt.*");
				remove("He misses thee");
				var0002->set_schedule_type(WANDER);
				abort;

			case "bye":
				break;
		}
		say("\"Goodbye, stranger.\"*");
	}
	if (event == PROXIMITY) {
		var0004 = MOLE->get_npc_object()->get_schedule_type();
		if (var0004 == LOITER) {
			var0005 = UI_die_roll(0x0001, 0x0004);
			if (var0005 == 0x0001) {
				var0006 = "@Har!@";
			}
			if (var0005 == 0x0002) {
				var0006 = "@Avast!@";
			}
			if (var0005 == 0x0003) {
				var0006 = "@Blast!@";
			}
			if (var0005 == 0x0004) {
				var0006 = "@Damn parrot droppings...@";
			}
			MOLE->item_say(var0006);
		} else {
			Func092E(MOLE);
		}
	}
}

extern var Func090A 0x90A ();
extern void Func08B6 0x8B6 (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func04E4 object#(0x4E4) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		LUCKY->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = LUCKY->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (!gflags[0x02B1]) {
			say("You see a man whose sinewy body is like steel. The glint in his eye tells you that he is no fool.");
			gflags[0x02B1] = true;
		} else {
			say("\"What dost thou want with Lucky?\" the pirate asks.");
		}
		converse (0) {
			case "name":
				say("\"I am Lucky... in all things.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I make my living off the world! It gives... and I take!\" The pirate laughs boisterously. \"I am a worldly gentleman, friends -- that is my 'job'! Oh, and I train initiates for a bit of pocket change.\"");
				add(["world", "train"]);
				fallthrough;

			case "world":
				say("\"The ways of the world, is what I mean. I am a man of the road; I am a seasoned traveller. I travel through the world as a hundred different men.\"");
				add(["traveller", "different"]);
				remove("world");
				fallthrough;

			case "traveller":
				say("\"In truth there are few places where I have not been and little that I have not done.\"");
				remove("traveller");
				fallthrough;

			case "different":
				say("\"Thou canst be a different person just by assumption. 'Tis an attitude. I am an expert in the art of charismatic communication for the purposes of deception. It gives one many skills. For example, I can walk into any shop and make a purchase. But I will walk away with much more than I bought, for I know how to fool the shopkeeper. Little things like that.\"");
				remove("different");
				fallthrough;

			case "train":
				if (var0001 == TEND_SHOP) {
					say("\"I charge 35 gold for a training session. Doth this meet with thine approval?\"");
					if (Func090A()) {
						Func08B6(INTELLIGENCE, 35);
					} else {
						say("Lucky shrugs. \"Thou wilt not find another trainer on the island!\"");
						remove("train");
					}
				} else {
					say("\"I shall be happy to show thee my ways of the world during normal business hours at my residence -- afternoons and evenings.\"");
					remove("train");
				}
				fallthrough;

			case "bye":
				break;
		}
		say("\"Be careful, my friend.\"*");
	}
	if (event == PROXIMITY) {
		var0001 = LUCKY->get_npc_object()->get_schedule_type();
		if (var0001 == LOITER) {
			var0002 = UI_die_roll(0x0001, 0x0004);
			if (var0002 == 0x0001) {
				var0003 = "@Har!@";
			}
			if (var0002 == 0x0002) {
				var0003 = "@Avast!@";
			}
			if (var0002 == 0x0003) {
				var0003 = "@Blast!@";
			}
			if (var0002 == 0x0004) {
				var0003 = "@Damn parrot droppings...@";
			}
			LUCKY->item_say(var0003);
		} else {
			Func092E(LUCKY);
		}
	}
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func08F7 0x8F7 (var var0000);
extern void Func0859 0x859 ();
extern void Func0858 0x858 ();
extern void Func085A 0x85A ();
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04E5 object#(0x4E5) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == DOUBLECLICK) {
		BUDO->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = BUDO->get_npc_object()->get_schedule_type();
		var0002 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
		add(["name", "job", "bye"]);
		if (gflags[0x0135] || gflags[0x0104]) {
			add("Crown Jewel");
		}
		if (!gflags[0x02B2]) {
			say("You see a fat, cheerful-looking merchant.");
			if (var0001 == TEND_SHOP) {
				say("\"Hello, hello my friend! Thou dost look like thou needest to spend money!\"*");
				var0003 = Func08F7(SHAMINO);
				if (var0003) {
					SHAMINO->say("\"This place looks quite well-off.\"*");
					SHAMINO->hide();
					var0004 = Func08F7(IOLO);
					if (var0004) {
						IOLO->say("\"The entire island is very opulent. It is not the same island we once knew.\"*");
						IOLO->hide();
					}
				}
				BUDO->show_npc_face(0x0000);
			} else {
				say("\"Hello! How art thou, my friend?\"");
			}
			gflags[0x02B2] = true;
		} else {
			say("\"How may I help thee?\" Budo asks.");
		}
		converse (0) {
			case "name":
				say("\"Budo the Fourth at thy service! 'Tis a fine day today, is it not?\"");
				remove("name");
				fallthrough;

			case "job":
				if (var0001 == TEND_SHOP) {
					var0005 = "thou hast come to the right place!@";
					var0006 = "";
					var0007 = "";
					add(["weapons", "armour", "provisions", "ship deed"]);
				} else {
					var0005 = "thou shouldst come to my shoppe when ";
					var0006 = "it is open! I would be so pleased to ";
					var0007 = "help thee then.@";
				}
				say("\"I am a provisioner, like my father before me, and like his father before him, and like his father before him. Budo's is an island tradition! Just as The Fellowship will be someday!~~\"If thou art interested in weapons, armour, provisions, or a ship deed, ",
					var0005,
					"",
					var0006,
					"",
					var0007,
					"");
				add("Fellowship");
				fallthrough;

			case "armour":
				say("\"Budo's carries nothing but the finest quality armour in all Britannia. I have all the best types of equipment available.\"");
				Func0859();
				fallthrough;

			case "weapons":
				say("\"Budo's offers thee excellent weaponry with superb craftsmanship. Thou wilt not find a better buy for thy money anywhere else!\"");
				Func0858();
				fallthrough;

			case "provisions":
				say("\"Budo's also carries a variety of useful things for thy convenience.\"");
				Func085A();
				fallthrough;

			case "ship deed":
				if (gflags[0x02B6]) {
					say("\"But I have already sold thee the deed to 'The Lusty Wench'! She was the only ship I had at this particular time! I am sorry!\"");
				} else {
					say("\"I can sell thee the deed to my ship 'The Lusty Wench.' She is beautiful, my friend. She is guaranteed to last and is the sleekest vessel on the seas! She goes for 800 gold. Want her?\"");
					if (Func090A()) {
						var0008 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
						if (var0008 >= 0x0320) {
							var0009 = UI_add_party_items(0x0001, 0x031D, 0x0012, 0x0002, false);
							if (var0009) {
								say("\"A wise move. A magnificent ship for thee!\" He takes your gold.");
								var000A = UI_remove_party_items(0x0320, 0x0284, QUALITY_ANY, FRAME_ANY, true);
								gflags[0x02B6] = true;
							} else {
								say("\"Thou art carrying too much, my friend! Unload thyself of some of thy belongings and I will sell thee the deed to this beautiful ship.\"");
							}
						} else {
							say("\"But thou dost not have enough gold! Perhaps thou shouldst visit the House of Games and increase the bulges in thy pockets!\"");
						}
					} else {
						say("\"But thou wilt never see a ship like this one anywhere in the world! Too bad!\"");
					}
				}
				remove("ship deed");
				fallthrough;

			case "Fellowship":
				say("\"The Fellowship has helped me to become a very rich man! Although the business is an inherited enterprise, I owe everything to The Fellowship!\"");
				remove("Fellowship");
				add(["rich man", "inherited", "everything"]);
				fallthrough;

			case "rich man":
				say("\"My great-grandfather started this business many, many years ago. He was moderately successful, thanks to the Thieves' Guild. But that era has passed.\"");
				add("Thieves' Guild");
				remove("rich man");
				fallthrough;

			case "inherited":
				say("\"My great-grandfather passed the shoppe on to his son, and so forth, down to me. We are born merchants! That is why I know why thou hast come to Budo's! Thou wantest to become a part of the great Budo Legacy! Thou dost need to buy something!\"");
				remove("inherited");
				fallthrough;

			case "everything":
				say("\"There was a period shortly after my father died, just as I had inherited the shoppe, when business was poor. There was a danger that I would not be able to keep the shoppe open. But The Fellowship convinced me that I should join them. I proved my worthiness and The Fellowship helped me financially.\"");
				remove("everything");
				add("worthiness");
				fallthrough;

			case "worthiness":
				say("\"I do not mind telling thee. The Fellowship shares in one half of my profit.\"");
				remove("worthiness");
				fallthrough;

			case "Thieves' Guild":
				say("\"It is no more. They dwindled away during my grandfather's time. By the time The Fellowship arrived, when I was a boy, there was no trace of them except in family mementos. Even the pirates are different.\"");
				remove("Thieves' Guild");
				fallthrough;

			case "Crown Jewel":
				if (var0002) {
					say("The cube vibrates a moment.~~\"That ship sails here frequently. I know it makes regular runs to the mainland, stops here, then moves on to the Isle of the Avatar the next morning. Then it repeats the trip, going the other direction.\"");
				} else {
					say("\"It stops here regularly. Don't know much more about it. The crew is very secretive.\" Budo looks away, obviously not wanting to talk about the ship.");
				}
				remove("Crown Jewel");
				fallthrough;

			case "bye":
				break;
		}
		say("\"I hope I can help thee again some time, my friend!\"*");
	}
	if (event == PROXIMITY) {
		var0000 = UI_part_of_day();
		var0001 = BUDO->get_npc_object()->get_schedule_type();
		var000B = UI_die_roll(0x0001, 0x0004);
		if (var0001 == TEND_SHOP) {
			if (var000B == 0x0001) {
				var000C = "@Weapons? Armour?@";
			}
			if (var000B == 0x0002) {
				var000C = "@Provisions here!@";
			}
			if (var000B == 0x0003) {
				var000C = "@Budo's is open for business!@";
			}
			if (var000B == 0x0004) {
				var000C = "@Step right in! We're open!@";
			}
			BUDO->item_say(var000C);
		} else {
			Func092E(BUDO);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func04E6 object#(0x4E6) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		GORDY->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = UI_wearing_fellowship();
		var0002 = Func0909();
		var0003 = Func0908();
		var0004 = "Avatar";
		var0005 = "a pseudonym";
		add(["name", "job", "bye"]);
		if (gflags[0x0104] || gflags[0x0135]) {
			add("Hook");
		}
		if (!gflags[0x02B3]) {
			say("You see a pirate who is elegantly dressed and obviously rich. He reeks of pomade.");
			gflags[0x02B3] = true;
		} else {
			say("\"Yes?\" Gordy asks.");
		}
		converse (0) {
			case "name":
				say("\"I am Gordy.\" He grins widely offering you his hand. You notice that it is none too clean.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am 'The Mister' of the House of Games. Inside mine House thou mayest challenge thy skill at games of chance.\" He eyes you carefully, measuring your worth and gullibility.");
				if ((var0000 == AFTERNOON) || ((var0000 == EVENING) || ((var0000 == NIGHT) || (var0000 == MIDNIGHT)))) {
					say("\"Enter and enjoy! But first thou must register. Please sign the book so that we may verify thy proclaimed worth.\" Which name do you sign?");
					var0006 = [var0003, var0004, var0005];
					var0007 = Func090B(var0006);
					if (var0007 == var0003) {
						say("You sign your name. \"Very good, ",
							var0003,
							". Welcome to the House of Games!\" Gordy spreads his arms in an expansive gesture, obviously pleased to welcome your money to his gambling parlour.");
					}
					if (var0007 == var0004) {
						say("Gordy frowns when he sees what you wrote. \"Avatar, eh? We just had one of them a week ago. He was caught cheating at the tables!\" He takes a step back and glowers. \"Art thou going to give us trouble?\"");
						if (Func090A()) {
							say("\"Then thou canst not enter!\"*");
							abort;
						}
						say("\"We shall see about that!\"");
					}
					if (var0007 == var0005) {
						say("You sign in a false name. \"Fine, ",
							var0002,
							". I be glad to welcome thee!\" Gordy spreads his arms in an expansive gesture, obviously pleased to welcome your money to his gambling parlour.");
					}
				} else {
					say("\"I hope to see thee there during business hours.\"");
				}
				if (gflags[0x0006]) {
					say("\"Ah, thou art a Fellowship member. Thou wilt surely find thy reward at these tables!\" Gordy winks and nudges you, then guffaws loudly.");
				}
				add(["The Mister", "House of Games", "skill"]);
				fallthrough;

			case "House of Games":
				say("\"The House of Games was established six years ago with the funds of... an interested party. It attracts people from all over Britannia who wish to live dangerously with their money. The business is very profitable.\" He pats his pouch, and coins clink. \"Very profitable.\" He grins.");
				remove("House of Games");
				add(["party", "profitable"]);
				fallthrough;

			case "The Mister":
				say("\"It refers to my being the overseer, but everyone here has always called me 'The Mister'. I am not sure why. But it appeals to me.\" He puffs up like a bantam rooster, trying to look important. He almost succeeds.");
				say("\"And that is 'Mister' Gordy, to thee!\"");
				remove("The Mister");
				add("Mister Gordy");
				fallthrough;

			case "Mister Gordy":
				say("\"Yes, what can I do for thee?\"");
				say("He grins, very pleased with himself.");
				remove("Mister Gordy");
				fallthrough;

			case "skill":
				say("\"Each game requires a definite skill in determining the most profitable way to place a bet. Many visitors to the House of Games find that they have a skill. Others, sadly, do not.\"");
				if (gflags[0x0006]) {
					if (var0001) {
						say("He gestures toward your Fellowship medallion. \"Thou shouldst not have any problem.\" He winks and wiggles his eyebrows.");
					}
				}
				remove("skill");
				fallthrough;

			case "profitable":
				say("\"Well, Buccaneer's Den is not in the jurisdiction of the Britannian Tax Council. We are not subject to Britannia's taxes.\" Gordy smiles wickedly. \"And that... is very profitable!\"");
				remove("profitable");
				fallthrough;

			case "Hook":
				var0008 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
				if (var0008) {
					say("The Cube vibrates a moment. \"Yes, I know Hook very well. He lives beneath the House of Games. Talk to Sintag. He can direct thee.\"");
				} else {
					say("\"I do not know anyone of that description.\" Gordy looks around nervously and loosens his collar as though it has suddenly gotten too tight.");
				}
				remove("Hook");
				fallthrough;

			case "party":
				var0008 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
				if (var0008) {
					say("The Cube vibrates a moment. \"That would be The Fellowship, of course.\"");
				} else {
					say("\"Well, now,... that would be revealin' the secret of my business and profit, now wouldn't it?\" His demeanor becomes threatening as he leans closer to you and snarls, \"Find thine own backers, whelp!\"*");
					abort;
				}
				remove("party");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell, friend. I look forward to thy return.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(GORDY);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func08B9 0x8B9 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func04E7 object#(0x4E7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == DOUBLECLICK) {
		MANDY->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = MANDY->get_npc_object()->get_schedule_type();
		var0002 = Func0909();
		add(["name", "job", "bye"]);
		if (var0001 == WAITER) {
			add(["food", "drink", "room", "buy"]);
		}
		if (!gflags[0x02B4]) {
			say("You see a woman in her fifties who might have been a pirate wench in her earlier years. Though she is coarse, she has a certain motherly quality.");
			gflags[0x02B4] = true;
		} else {
			say("\"Hello, again,\" Mandy says.");
		}
		converse (0) {
			case "name":
				say("\"I am Mandy.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I run the Fallen Virgin Inn and Tavern. We are open for breakfast, dinner, and late night hours.");
				if (var0001 == WAITER) {
					say("\"If thou dost want food or drink, or perhaps a room, please say so.\"");
					var0003 = Func08F7(DUPRE);
					if (var0003) {
						say("Mandy looks at Dupre and says, \"Don't I know thee?\"*");
						DUPRE->say("\"Yes, milady. I was here a few months ago.\"*");
						MANDY->say("\"I remember! Thou art working for Brommer's Britannian travel guides! Thou art a pub critic!\"*");
						DUPRE->say("\"That is right, milady.\"*");
						MANDY->say("\"Welcome back! Please try anything on the menu. It is all still very good.\"*");
						DUPRE->say("\"I thank thee, milady.\"*");
						DUPRE->hide();
						MANDY->show_npc_face(0x0000);
						var0004 = Func08F7(IOLO);
						if (var0004) {
							IOLO->say("\"Thou art a swine, Dupre.\"*");
							IOLO->hide();
						}
						MANDY->show_npc_face(0x0000);
					}
					add(["food", "drink", "room", "buy"]);
				} else {
					say("\"Please come to the Tavern then and I will be happy to serve thee.\"");
				}
				add("Fallen Virgin");
				fallthrough;

			case "food":
				say("\"We serve a good plate of slop, if I do say so myself! That Silverleaf is something. Thou shouldst try that.\"");
				remove("food");
				add("Silverleaf");
				fallthrough;

			case "drink":
				say("\"I can offer thee wine and ale.\"");
				remove("drink");
				fallthrough;

			case "room":
				say("\"Our rooms are 10 gold per person. The only one available now is the southwest room. The other two already have occupants. Dost thou want one?\"");
				if (Func090A()) {
					var0005 = UI_get_party_list();
					var0006 = 0x0000;
					for (var0009 in var0005 with var0007 to var0008) {
						var0006 += 0x0001;
					}
					var000A = var0006 * 0x000A;
					var000B = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var000B >= var000A) {
						var000C = UI_add_party_items(0x0001, 0x0281, 0x00FF, FRAME_ANY, true);
						if (!var000C) {
							say("\"Look there now. Thou hast too many bundles to take the room key!\"");
						} else {
							say("\"Here is the room key. It is good only until thou dost leave the inn.\"");
							var000D = UI_remove_party_items(var000A, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						}
					} else {
						say("\"It doth seem that thou art a trifle short, ",
							var0002,
							".\"");
					}
				} else {
					say("\"All right. Some other time.\"");
				}
				remove("room");
				fallthrough;

			case "buy":
				Func08B9();
				fallthrough;

			case "Silverleaf":
				say("\"Best bloody swill thou wilt eat on the face of the earth!\"");
				remove("Silverleaf");
				fallthrough;

			case "Fallen Virgin":
				say("\"Yes, I have run this tavern and inn since my wenching days.\" Mandy laughs. \"I was quite a beauty back then, but thou canst not tell it now. I know everyone in town and they all know me. If thou dost need to know something about anyone, let me know.\"");
				remove("Fallen Virgin");
				if (gflags[0x02A9]) {
					add("Danag");
				}
				if (gflags[0x02AF]) {
					add("Blacktooth");
				}
				if (gflags[0x02B0]) {
					add("Mole");
				}
				if (gflags[0x02B2]) {
					add("Budo");
				}
				if (gflags[0x02AB]) {
					add("Glenno");
				}
				if (gflags[0x02AA]) {
					add("Wench");
				}
				if (gflags[0x02AC]) {
					add("Martine");
				}
				if (gflags[0x02AD]) {
					add("Roberto");
				}
				if (gflags[0x02B1]) {
					add("Lucky");
				}
				if (gflags[0x02B3]) {
					add("Gordy");
				}
				if (gflags[0x02AE]) {
					add("Sintag");
				}
				if (gflags[0x02B5]) {
					add("Smithy");
				}
				if (gflags[0x0135] || gflags[0x0104]) {
					add("Hook");
				}
				fallthrough;

			case "Danag":
				say("\"He helps out at that Fellowship place. He is always interim branch leader for some reason. The real leader, a fellow named Abraham, is never here. Danag is all right. Kind of gullible.\"");
				remove("Danag");
				fallthrough;

			case "Blacktooth":
				say("\"He is a former pirate and rogue, and he can be fairly mean. If he does not warm up to thee immediately, he may not at all. But once he does, thou wilt learn he is quite a sensitive man.\"");
				remove("Blacktooth");
				fallthrough;

			case "Mole":
				say("\"I was a wench with Mole's gang of pirates back in... well, it seems a century ago. Mole was rough and tough and a trouble-maker. Until he joined The Fellowship. That changed him into...,\" Mandy shrugs. \"I know not, a middle-aged former pirate or some such.\"");
				remove("Mole");
				fallthrough;

			case "Budo":
				say("\"His family has been on Buccaneer's Den for generations. Comes on a trifle too strong with the barking of wares, if thou dost ask me.\"");
				remove("Budo");
				fallthrough;

			case "Glenno":
				say("\"He makes me laugh. He is a dear. Thou wouldst not find a more pleasant, and eager-to-please, man on the island. He is a surprisingly good person.\" Mandy pauses then adds, \"For a pimp.\"");
				remove("Glenno");
				fallthrough;

			case "Wench":
				say("\"She is a very private person. Works at The Baths. I hear she won some kind of competition -- that is why she is fortunate to be there. I understand Glenno pays them well over there.\"");
				remove("Wench");
				fallthrough;

			case "Martine":
				say("\"She is a very private person. Works at The Baths. I have not spoken three words to her in my life.\"");
				remove("Martine");
				fallthrough;

			case "Roberto":
				say("\"He is a very private person, but, oh, is he an attractive man, I must say! He works at The Baths. I will admit I am one of his clients. He doth truly clean my dishes, if thou dost know what I mean.\"");
				remove("Roberto");
				fallthrough;

			case "Lucky":
				say("\"He is a former rogue, I can tell thee that! And to think he makes a living now by teaching others to be the same!\" Mandy shrugs. \"To each their own.\"");
				remove("Lucky");
				fallthrough;

			case "Gordy":
				say("\"I do not know him that well, although he seems to be a sincere man. He runs the House of Games like a ship. He is a former pirate as well. Must have been a captain.\"");
				remove("Gordy");
				fallthrough;

			case "Smithy":
				say("\"He was another pirate. I know he works at the House of Games. I suppose he is the man in charge of the actual games. I do not know him well.\"");
				remove("Smithy");
				fallthrough;

			case "Sintag":
				say("\"Brrrr! He is a scary man. Thou canst tell that he has killed. He is the guard at the House of Games. Thou dost not want to be caught cheating by him!\"");
				remove("Sintag");
				fallthrough;

			case "Hook":
				var000E = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
				if (var000E) {
					say("You feel your Cube vibrate, but somehow you know that Mandy would have told you the truth without it.");
				}
				say("Mandy whispers to you. \"I know who thou dost mean. He lives somewhere on the island, but I am not sure where. He rarely comes in to the tavern, but I have seen him on occasion.\"");
				say("\"He scares me to death.\"");
				remove("Hook");
				add("scares");
				fallthrough;

			case "scares":
				say("\"Well, he is a killer. Some think he is the one responsible for the murder that happened last year.\"");
				remove("scares");
				add(["killer", "murder"]);
				fallthrough;

			case "killer":
				say("\"This man they call Hook has the way of the killer about him. Thou canst see it in his eyes. I would be extremely careful if I were to run afoul of him.\"");
				remove("killer");
				fallthrough;

			case "murder":
				say("\"There was a thief named Duncan who had stolen funds from the House of Games and The Baths. I believe he may have broken into the Fellowship Hall as well. Anyway, he was arrested. But one morning, when the guard brought the man his breakfast, he was gone! Everyone thought he had escaped until his body was found in the house where old Blacktooth lives. This was before Blacktooth lived there.\"");
				remove("murder");
				add("body");
				fallthrough;

			case "body":
				say("\"It was mutilated -- his arms and legs had been cut off, and he had literally lost his head! To this day, no one knows who did it. But when Hook is around, people talk behind his back. He is certainly capable of doing it!\"");
				remove("body");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Nice talking with thee. I shall see thee later, I hope.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(MANDY);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04E8 object#(0x4E8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		SMITHY->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = UI_part_of_day();
		var0002 = SMITHY->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (!gflags[0x02B5]) {
			say("You see a well-dressed pirate with oil in his hair.");
			gflags[0x02B5] = true;
		} else {
			say("\"May I help thee?\" Smithy asks.");
		}
		converse (0) {
			case "name":
				say("\"I am Smithy.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I run the games at the House of Games.");
				if (var0002 == STANDTHERE) {
					say("\"I can explain the rules and how to play for thee. I also make sure that one does not cheat.\"");
					add(["games", "cheat"]);
				} else {
					say("\"Please do come and try thy skill when the facility is open for business.\"");
				}
				fallthrough;

			case "cheat":
				say("\"If thou art caught cheating, thou wilt be arrested. And we do prosecute!\"");
				remove("cheat");
				fallthrough;

			case "games":
				say("\"There are three games that thou canst play. The first is Virtue Roulette. The second is The Rat Race. The third is Triples. Wouldst thou like to hear any rules?\"");
				if (Func090A()) {
					say("\"For which game dost thou want to hear the rules?\"");
					var0003 = Func090B(["None", "Virtue Roulette", "The Rat Race", "Triples"]);
					if (var0003 == "None") {
						say("\"That is all right.\"");
						break;
					}
					if (var0003 == "Virtue Roulette") {
						say("\"Simply place the amount of gold coins thou dost wish to bet on one or more colors. Use the wheel and thy money will be increased if thou hast bet correctly.\"");
					}
					if (var0003 == "The Rat Race") {
						say("\"Place thy bet on the green spot at the end of the lane which corresponds to the trough in which thy rat is running.\"");
					}
					if (var0003 == "Triples") {
						say("\"Thou canst bet on a triple, that is, three ones, three twos, or three threes. This has the highest payback. A '1, 2, 3' pays slightly less. A sum total of '4', '5', '7', or '8' pays the least. Do not place thy money in between numbers, especially the '4' and '5'. A '6' made up of anything other than three twos loses. After placing thy bet, spin the wheel.\"");
					}
				} else {
					say("\"Fine then. Thou art on thine own.\"");
				}
				fallthrough;

			case "bye":
				break;
		}
		say("\"See thee again, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		var0001 = UI_part_of_day();
		var0002 = SMITHY->get_npc_object()->get_schedule_type();
		var0004 = UI_die_roll(0x0001, 0x0004);
		if (var0002 == STANDTHERE) {
			if (var0004 == 0x0001) {
				var0005 = "@Place thy bets.@";
			}
			if (var0004 == 0x0002) {
				var0005 = "@No more bets.@";
			}
			if (var0004 == 0x0003) {
				var0005 = "@Winner takes all.@";
			}
			if (var0004 == 0x0004) {
				var0005 = "@The House wins.@";
			}
			SMITHY->item_say(var0005);
		} else {
			Func092E(SMITHY);
		}
	}
}

extern var Func090A 0x90A ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func08C7 0x8C7 ();
extern void Func092E 0x92E (var var0000);

void Func04E9 object#(0x4E9) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == DOUBLECLICK) {
		PAUL->show_npc_face(0x0000);
		var0000 = PAUL->get_npc_object()->get_schedule_type();
		add(["name", "job", "bye"]);
		if (!gflags[0x02B8]) {
			say("You see a young entertainer who beckons to you.");
			gflags[0x02B8] = true;
		} else {
			say("\"Yes?\" Paul asks.");
		}
		converse (0) {
			case "name":
				say("\"I am Paul. My colleagues' names are Meryl and Dustin.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"We perform a Passion Play about The Fellowship. It costs only 2 gold per person to see. If thou dost want us to perform it, please say so.\"");
				add(["Passion Play", "Fellowship", "perform"]);
				fallthrough;

			case "Passion Play":
				say("\"A Passion Play is a morality tale performed on stage.\"");
				remove("Passion Play");
				fallthrough;

			case "Fellowship":
				say("\"It would be much simpler to view the play.\"");
				remove("Fellowship");
				fallthrough;

			case "perform":
				if (!(var0000 == PATROL)) {
					say("\"I am sorry to say we are on our break. Please return to the stage area during normal hours.\"");
				} else {
					say("\"Wouldst thou like to see our Passion Play?\"");
					if (Func090A()) {
						var0001 = Func08F7(MERYL);
						var0002 = Func08F7(DUSTIN);
						if (var0001 && var0002) {
							var0003 = UI_get_party_list();
							var0004 = 0x0000;
							var0005 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
							for (var0008 in var0003 with var0006 to var0007) {
								var0004 += 0x0001;
							}
							if (var0005 >= (var0004 * 0x0002)) {
								var0009 = UI_remove_party_items(var0004, 0x0284, QUALITY_ANY, FRAME_ANY, true);
								say("Paul takes your gold. \"We thank thee. If thou wouldst make thyself comfortable, we shall begin.\"");
								Func08C7();
							} else {
								say("\"Oh dear. I am afraid thou dost not have enough gold to pay for the performance. Some other time, I hope.\"*");
								abort;
							}
						} else {
							say("\"I am sorry. It seems my fellow thespians are not available. The Passion Play has temporarily\tclosed.\"*");
							abort;
						}
					} else {
						say("\"Some other time, then, I hope.\"*");
						abort;
					}
				}
				fallthrough;

			case "bye":
				break;
		}
		say("The actor bows to you.*");
	}
	if (event == PROXIMITY) {
		var000A = UI_part_of_day();
		var0000 = PAUL->get_npc_object()->get_schedule_type();
		var000B = UI_die_roll(0x0001, 0x0004);
		if (var0000 == PATROL) {
			if (var000B == 0x0001) {
				var000C = "@See the Passion Play!@";
			}
			if (var000B == 0x0002) {
				var000C = "@The Fellowship presents...@";
			}
			if (var000B == 0x0003) {
				var000C = "@Come view the Passion Play!@";
			}
			if (var000B == 0x0004) {
				var000C = "@We shall entertain thee!@";
			}
			PAUL->item_say(var000C);
		} else {
			Func092E(PAUL);
		}
	}
}

extern void Func092E 0x92E (var var0000);

void Func04EA object#(0x4EA) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		MERYL->say("You see a middle-aged actress with a very serious expression. She is unable to speak with you because she is concentrating on her part in the Passion Play. Perhaps you should speak to Paul.*");
	}
	if (event == PROXIMITY) {
		var0000 = UI_part_of_day();
		var0001 = MERYL->get_npc_object()->get_schedule_type();
		var0002 = UI_die_roll(0x0001, 0x0004);
		if (var0001 == PATROL) {
			if (var0002 == 0x0001) {
				var0003 = "@See the Passion Play!@";
			}
			if (var0002 == 0x0002) {
				var0003 = "@The Fellowship presents...@";
			}
			if (var0002 == 0x0003) {
				var0003 = "@Come view the Passion Play!@";
			}
			if (var0002 == 0x0004) {
				var0003 = "@We shall entertain thee!@";
			}
			MERYL->item_say(var0003);
		} else {
			Func092E(MERYL);
		}
	}
}

extern void Func092E 0x92E (var var0000);

void Func04EB object#(0x4EB) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		DUSTIN->say("You see a short, stocky actor in his mid- to late forties. He cannot speak to you now because he is concentrating on his lines for the Passion Play. Perhaps you should speak to Paul.");
	}
	if (event == PROXIMITY) {
		var0000 = UI_part_of_day();
		var0001 = DUSTIN->get_npc_object()->get_schedule_type();
		var0002 = UI_die_roll(0x0001, 0x0004);
		if (var0001 == PATROL) {
			if (var0002 == 0x0001) {
				var0003 = "@See the Passion Play!@";
			}
			if (var0002 == 0x0002) {
				var0003 = "@The Fellowship presents...@";
			}
			if (var0002 == 0x0003) {
				var0003 = "@Come view the Passion Play!@";
			}
			if (var0002 == 0x0004) {
				var0003 = "@We shall entertain thee!@";
			}
			DUSTIN->item_say(var0003);
		} else {
			Func092E(DUSTIN);
		}
	}
}

extern var Func08FC 0x8FC (var var0000, var var0001);
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func04EC object#(0x4EC) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		ELLEN->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		if (var0000 == NIGHT) {
			var0001 = Func08FC(ELLEN, KLOG);
			if (var0001) {
				say("Ellen puts her finger to her lips. There is a Fellowship meeting going on.*");
			} else {
				say("\"Hello. I am sorry to be rude, but I am late to the Fellowship meeting. May we speak another time?\"*");
			}
			abort;
		}
		if (!gflags[0x0050]) {
			say("This is a woman who seems pleasant and welcoming. \"I am proud to meet the Avatar,\" she says, beaming.");
			gflags[0x0050] = true;
		} else {
			say("\"Yes, Avatar?\" Ellen asks.");
		}
		converse (["name", "job", "murder", "bye"]) {
			case "name":
				say("\"My name is Ellen.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I do the bookkeeping at the Fellowship Branch. I work with mine husband, Klog.\"");
				add(["Fellowship", "Klog"]);
				fallthrough;

			case "murder":
				say("\"'Tis awful, is it not? Of course, I was home with Klog all night.\"");
				remove("murder");
				fallthrough;

			case "Fellowship":
				say("\"Perhaps thou couldst call it a 'confident philosophy'. We meet here at the branch office every night.\"");
				add(["philosophy", "branch office"]);
				remove("Fellowship");
				fallthrough;

			case "branch office":
				say("\"The Fellowship has branches all over Britannia. It is a most popular philosophical society.\"");
				remove("branch office");
				fallthrough;

			case "Klog":
				say("\"Mine husband Klog is a wonderful branch leader. He is an inspiration to all of the Trinsic members.\"");
				remove("Klog");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye. I hope to see thee again, soon.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(ELLEN);
	}
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern void Func08A8 0x8A8 ();
extern void Func092E 0x92E (var var0000);

void Func04ED object#(0x4ED) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		KESSLER->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = KESSLER->get_npc_object()->get_schedule_type();
		var0002 = Func0909();
		add(["name", "job", "bye"]);
		var0003 = Func0931(PARTY, 0x0001, 0x0289, QUALITY_ANY, FRAME_ANY);
		if (var0003) {
			add("venom");
		}
		if (!gflags[0x00B1]) {
			say("You see a very authoritative-looking older man who looks at you with thoughtful concern.");
			gflags[0x00B1] = true;
		} else {
			say("\"I am very glad thou hast come to see me again,\" says Kessler.");
		}
		converse (0) {
			case "name":
				say("\"My name is Kessler.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I run the apothecary shop here in Britain.\"");
				add("apothecary");
				fallthrough;

			case "apothecary":
				say("\"While the normal function of an apothecary is to administer potions and magical reagents, I am nowadays working almost exclusively for Lord British trying to study a specific problem.\"");
				remove("apothecary");
				add(["potions", "study", "problem"]);
				fallthrough;

			case "potions":
				say("\"They are certainly not a recent invention here in Britannia! Potions are liquids that possess certain magical qualities which are used for all sorts of purposes, such as the treatment of injury and disease. I have a quantity of them for sale if thou art interested.\"");
				remove("potions");
				add(["magical qualities", "buy potions"]);
				fallthrough;

			case "magical qualities":
				say("\"Since the mages have become so ineffective, we have been forced to develop other ways to accomplish all the things we used to be able to depend on mages to do. Unfortunately, many of these new methods are as yet untested.\"");
				remove("magical qualities");
				add("untested");
				fallthrough;

			case "untested":
				say("\"We still know very little about the effects of most of the substances we use. Many cause more problems than they solve, or react differently if taken in unison with other elements. Some might cause thee to become dependent on them for thine health and some may simply be poisonous.\"");
				remove("untested");
				fallthrough;

			case "study":
				say("\"I am studying the effects of a particular substance known as silver snake venom. But I am encountering a number of difficulties.\"");
				remove("study");
				add(["silver snake", "difficulties"]);
				fallthrough;

			case "silver snake":
				say("\"As one may surmise from the name it is the venom taken from the dangerous silver snake. The fascination that many people possess for these creatures has created a great deal of curiosity about the venom itself.\"");
				remove("silver snake");
				add("curiosity");
				fallthrough;

			case "curiosity":
				say("\"There are those who claim that gargoyles take the venom which results in their becoming enhanced in combat and such. Now this may be just a myth, but the curiosity people feel is real enough.\"");
				remove("curiosity");
				fallthrough;

			case "difficulties":
				say("\"My greatest difficulty is in finding any significant quantity of silver snake venom. But it is by no means mine only difficulty.\"");
				remove("difficulties");
				add(["finding", "other difficulties"]);
				fallthrough;

			case "finding":
				say("\"If by any chance thou wouldst come across any silver snake venom bring it back to me here. I shall pay thee fifty gold coins for every vial of it thou canst supply.\"");
				var0004 = true;
				remove("finding");
				fallthrough;

			case "other difficulties":
				say("\"People need to be alerted to how dangerous silver snake venom is. To this end I wish to announce my findings before Lord British and a consortium of lords and mayors, but to do that I must first finish my study.\"");
				remove("other difficulties");
				fallthrough;

			case "problem":
				say("\"Recently there has been a dramatic rise in the use of a very strange substance. People have begun to purposefully ingest the venom of the silver snake.\"");
				remove("problem");
				add("ingest");
				fallthrough;

			case "ingest":
				say("\"The silver snake produces a venom that is extremely poisonous, but when taken in less than lethal amounts, it causes a variety of strange effects.\"");
				remove("ingest");
				add("effects");
				fallthrough;

			case "effects":
				say("\"For a time the venom will heighten one's physical and mental performance, such as allowing one to work harder, for example. But after the effects have worn off, it will impair the user permanently.\"");
				remove("effects");
				add("impair");
				fallthrough;

			case "impair":
				say("\"It first makes the user feel extremely tired and eventually causes a sloughing of the skin. The venom is a dangerous substance and thou shouldst not partake of it under any circumstances.\"");
				remove("impair");
				fallthrough;

			case "venom":
				var0005 = PARTY->count_objects(0x0289, QUALITY_ANY, FRAME_ANY);
				var0006 = 0x0032 * var0005;
				if (var0005 == 0x0000) {
					say("\"Thou dost not have any vials of venom!\"");
				} else {
					if (var0005 == 0x0001) {
						say("Kessler examines the vial carefully. ");
					} else {
						say("Kessler examines the vials carefully. ");
					}
					say("He looks up at you and nods. \"This is indeed silver snake venom. I shall pay thee 50 gold coins per vial. All right?\"");
					if (Func090A()) {
						var0007 = UI_remove_party_items(var0005, 0x0289, QUALITY_ANY, FRAME_ANY, true);
						if (var0007) {
							var0008 = UI_add_party_items(var0006, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							if (var0008) {
								say("Kessler opens his coinpurse and pays you ",
									var0006,
									" gold coins.");
							} else {
								say("\"Thou art too burdened to carry any more money.\"");
							}
						} else {
							say("\"I see thou dost have a quantity of silver snake venom in thy possession. Perhaps we should talk further.\"");
						}
					} else {
						say("\"Very well.\"");
					}
				}
				remove("venom");
				fallthrough;

			case "buy potions":
				if (!(var0001 == TEND_SHOP)) {
					say("\"The Apothecary is closed. It is open from noon until midnight. Thou mayest return then.\"");
				} else {
					say("\"I always keep a fresh stock of ingredients and an inventory of prepared potions in case anyone should be in need of them. Wouldst thou like to buy one?\"");
					var0009 = Func090A();
					if (var0009) {
						Func08A8();
					} else {
						say("\"Be sure to come back if thou dost ever need any potions.\"");
					}
				}
				remove("buy potions");
				fallthrough;

			case "bye":
				break;
		}
		say("\"It was good speaking with thee, ",
			var0002,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func092E(KESSLER);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func08CA 0x8CA (var var0000, var var0001);
extern void Func092E 0x92E (var var0000);

void Func04EE object#(0x4EE) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		PERRIN->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x0145]) {
			say("The man before you stretches and inhales deeply.");
		} else {
			say("\"Glorious day, ",
				var0000,
				".\" Perrin grins.");
		}
		converse (0) {
			case "name":
				say("\"Please, ",
					var0001,
					", call me Perrin. I reside here in Empath Abbey.\"");
				remove("name");
				add("Empath Abbey");
				fallthrough;

			case "job":
				say("\"I am a scholar, ",
					var0001,
					". Dost thou want training in the realm of books?\"");
				var0002 = Func090A();
				if (var0002) {
					say("\"My price is 45 gold for each training session, but I will also teach thee what little I know about magic. Is this acceptable?\"");
					var0003 = Func090A();
					if (var0003) {
						Func08CA([INTELLIGENCE, MAX_MANA], 45);
					} else {
						say("\"Very well, ",
							var0001,
							".\"");
					}
				} else {
					say("\"Forgive me, I am a bit overzealous in my search for students. I hope thou wilt return in the future.\"");
				}
				fallthrough;

			case "Empath Abbey":
				say("\"This is a pleasant location. I like the privacy, which gives me a chance to study when I need to. The Brotherhood is across the road, and I am near a healer. Also, I have begun a study on the effects of dealing with death for undertakers. I am using Tiery as a case study.\"");
				add(["Brotherhood", "healer", "Tiery"]);
				remove("Empath Abbey");
				fallthrough;

			case "Brotherhood":
				say("\"That is the abbey. The monks who reside there are famous for their ability to produce exquisite wine. Nearby is the Highcourt and a prison.\"");
				remove("Brotherhood");
				add(["wine", "highcourt", "prison"]);
				fallthrough;

			case "wine":
				say("\"Thou shouldst try some. The monks have been making it for more than three hundred years!\"");
				remove("wine");
				fallthrough;

			case "highcourt":
				say("\"The official there is named Sir Jeff. From what I hear, he runs his ship very tight. I do not envy the jailer that works with him. It must be extremely difficult to be near such a strict disciplinarian all day long.\"");
				remove("highcourt");
				fallthrough;

			case "prison":
				say("\"It is located just behind the court. And,\" he grins, \"I am proud to say that is at least one thing about which I know nothing.\"");
				remove("prison");
				fallthrough;

			case "Tiery":
				say("\"He is the undertaker who lives just north of the Brotherhood.\"");
				remove("Tiery");
				fallthrough;

			case "healer":
				say("\"I have yet to meet her, but I know she loves animals. I have seen her playing with the deer and squirrels that inhabit this region.\"");
				remove("healer");
				gflags[0x013B] = true;
				fallthrough;

			case "bye":
				break;
		}
		say("\"Goodbye, ",
			var0000,
			". Best of luck in thy journeys.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(PERRIN);
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func04EF object#(0x4EF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == PROXIMITY) {
		abort;
	}
	OWINGS->show_npc_face(0x0000);
	var0000 = Func0909();
	var0001 = Func08F7(0xFF0D);
	var0002 = Func08F7(IOLO);
	var0003 = Func08F7(SHAMINO);
	var0004 = Func08F7(DUPRE);
	if (!gflags[0x02BC]) {
		say("Before you is a skinny man with a silly smile on his face. He is holding a lantern in one hand and a dirty spoon in the other.");
		gflags[0x02BC] = true;
	} else {
		say("\"Hello, again,\" says Owings. He smiles and tips his mining hat to you.");
	}
	converse (["name", "job", "bye"]) {
		case "name":
			say("\"My name is Owings,\" he says giving you a rapid up and down handshake. \"Pleased to meet thee.\"");
			if (var0001) {
				if (!gflags[0x02BD]) {
					say("\"My partner's name is Malloy.\"");
				} else {
					say("\"Thou dost already know my partner, Malloy.\"");
				}
			}
			remove("name");
			fallthrough;

		case "job":
			if (var0001) {
				say("\"I do what he does.\" Owings jerks his thumb towards Malloy digging away next to him. The fat man is trying to chisel through the rock wall using only a spoon. Owings's thumb hits him in the back.");
				0xFF0D->say("Malloy looks over at you and gives you a friendly wave as he goes to stand up. As he does this, he bumps his head. There is a loud knocking noise. He says, \"Oooooooohh!\" very loudly. His cry echoes through the length of the mineshaft. You can feel dust from the cracks in the ceiling settling on your shoulder.*");
				OWINGS->say("Owings suddenly looks very nervous and throws both of his arms over his head. There is a terrible rumble and you feel the ground beneath you start to shake. After a moment the tremor subsides. Both of them look very relieved.*");
				0xFF0D->say("Malloy puts one hand up to his bruised head and feels around on the ground with the other. He eventually finds and picks up a metal mining helmet. He gingerly places it over his head which appears to still be causing him pain. You can see that the top of Malloy's head barely fits into it.*");
				OWINGS->say("\"Allow me to rephrase that. I do what he does, except I always wears me helmet.\" With that Owings gives a big nod, throwing his head up and down. This causes his helmet to fall down over his eyes.*");
				0xFF0D->say("Malloy looks over at you and at Owings, giving both of you an incredulous pouting grimace.*");
				0xFF0D->hide();
				OWINGS->show_npc_face(0x0000);
				add(["tremor", "helmet", "eyes"]);
			} else {
				say("\"Normally I am digging, but as of late I cannot seem to find my partner Malloy. So I suppose my job is to look for him. I wonder where he has gone to?\"");
			}
			fallthrough;

		case "tremor":
			say("Owings puts his hand on your shoulder and puts a finger up to his lips. \"Shhhhh! Be very quiet! This is an old tunnel. Mikos, the foreman, says that any sudden loud noise could trigger a cave-in!\"*");
			0xFF0D->say("Malloy goes back to digging. The exertion from his work causes his helmet to fall off. He sighs, picks it up, puts it back on and goes back to work. Almost immediately it falls off again. He puts it back on. It falls off. He puts it back on. Malloy grunts and sighs. It falls off. Dejected, he puts it back on. This happens again and again so many times that it is almost painful to watch. Finally, Malloy just lets the helmet lie there and throws a tantrum. He trembles and bites into his hand to keep from crying out in frustration.*");
			OWINGS->say("Owings steps up to Malloy and puts his finger to his lips. \"Shhhhhh!\" Looking down, Owings sees Malloy's helmet on the ground. \"Dost thou not remember Mikos telling thee to always wear thine helmet?\" he says. Owings picks it up and dusts it off. He pushes it down on top of Malloy's sore head, causing Malloy to wrinkle his face in pain. \"No need to thank me!\" Owings says. With that, he nods his head up and down, causing the front of his helmet to fall down over his eyes. He reaches out with his arms blindly.*");
			0xFF0D->say("Malloy looks over at Owings and at you, giving you both a pouting grimace.*");
			0xFF0D->hide();
			OWINGS->show_npc_face(0x0000);
			gflags[0x02D8] = true;
			remove("tremor");
			add("eyes");
			fallthrough;

		case "eyes":
			say("You reach up and tip Owings's helmet back so that it is no longer covering his eyes. He smiles at you thankfully. He takes off his helmet to scratch at the top of his head. He puts it back on and it immediately tilts back down over his eyes.*");
			0xFF0D->say("Malloy watches this, smirks and slowly shakes his head.*");
			0xFF0D->hide();
			OWINGS->show_npc_face(0x0000);
			remove("eyes");
			if (gflags[0x02D8]) {
				add("Owings's helmet");
			}
			fallthrough;

		case "helmet":
			say("\"Mikos, the foreman of this mine told us to always wear a helmet. It is very important. The two of us even sent a mining helmet to Lord British. A funny man dressed just like the Avatar told us of how Lord British had been hit in the head with falling objects - twice! So we sent a helmet to him.\"*");
			0xFF0D->say("It appears Malloy can no longer stand being left out of the conversation. \"It was -mine- idea to send Lord British the helmet,\" he says proudly. \"While we have not yet heard back from him about it I am sure he will find some way to thank us.\" Malloy's helmet falls off and he stands there a long time before regaining the composure to pick it up again.*");
			0xFF0D->hide();
			OWINGS->show_npc_face(0x0000);
			remove("helmet");
			fallthrough;

		case "Owings's helmet":
			say("\"Thou art a kind person to fix mine helmet for me,\" Owings says, giving you a big grin.");
			0xFF0D->say("You see Malloy look very suspiciously at Owings's helmet. \"Thou art wearing mine hat!\" He lets out a growling \"Hmmmf!\" and snatches Owings's helmet off of his head. Malloy removes his helmet, casually tossing it to the ground. He then puts Owings's helmet on. It fits him perfectly. Malloy flashes you both a big condescending smile. With a curt nod he turns to go back to work.*");
			OWINGS->say("Owings looks at Malloy and then back to you. He is very confused. \"That was not very nice, Malloy! Thou didst take mine hat!\" Owings's face is covered with a large frown. His lower lip starts to tremble.");
			0xFF0D->hide();
			OWINGS->show_npc_face(0x0000);
			remove(["Owings's helmet", "eyes"]);
			add("mine hat");
			fallthrough;

		case "mine hat":
			say("Owings reaches over and takes the mining helmet off Malloy's head so carefully that he does not notice. Owings puts the helmet back on with a little sneaky laugh of triumph. Pointing to the hat he taps Malloy on the back to let him know what he's done.*");
			0xFF0D->say("Malloy stops digging and goes to stand up. As he does this he hits his head on the ceiling. Once again it makes a loud knocking noise. Malloy says \"Oooooh!\" After shaking his head clear, he slowly steps toward Owings. He is quite angry - so angry that he does not notice that he has stepped into the other helmet and it is stuck onto his foot. Taking his spoon he whaps Owings in the nose with it.*");
			UI_play_sound_effect(0x0053);
			gflags[0x02D9] = true;
			OWINGS->say("Upon getting hit in the nose, Owings jerks his head back, causing his helmet to fall off. \"Ooh! Mine helmet!\" he cries.*");
			0xFF0D->say("Malloy is so angry that he can no longer contain himself. \"That is not thine helmet! It is mine helmet!\" he shouts. This sends a thunderous echo down the mineshaft. You can feel a shower of falling dust and rocks. There is a low rumble and an ominous vibration of the earth. Owings and Malloy are so scared that in their panic they run right into each other. Malloy's foot - the one with the helmet stuck on it - slides out from under him and he lands on his posterior. Both cover their heads in anticipation of a massive cave-in.*");
			0xFF0D->hide();
			OWINGS->show_npc_face(0x0000);
			remove("mine hat");
			add("cave-in");
			fallthrough;

		case "cave-in":
			say("After a few moments of fearful anticipation, the tremor subsides. The tunnel is still standing, none the worse for wear. \"I thought I was done for!\" says Owings. With that, a large piece of rock falls from the ceiling and lands squarely on Owings's head. It makes a loud knocking noise. Owings starts to pout and cry very childishly.");
			UI_play_sound_effect(0x0053);
			0xFF0D->say("Malloy points at Owings and laughs until tears run down his face. Glancing up at the ceiling, Malloy starts feeling around for his helmet. Finally, feeling underneath himself, he pulls out his helmet, on top of which he had fallen! Looking at the hat, Malloy discovers that his bulk has crumpled it. It is ruined. He puts it on anyway, looking most ridiculous, and his tears of laughter turn to tears of sorrow. Now, both of them break down into fits of childish bawling. Malloy looks at Owings and says \"This is another fine mess thou hast gotten us into!\"*");
			gflags[0x02DA] = true;
			0xFF0D->hide();
			OWINGS->show_npc_face(0x0000);
			remove("cave-in");
			fallthrough;

		case "bye":
			break;
	}
	if (var0001) {
		say("Owings and Malloy, both unable to stop their crying, wave goodbye.*");
	} else {
		say("\"Good day to thee, ",
			var0000,
			".\"*");
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func04F0 object#(0x4F0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		0xFF10->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func08F7(SULLIVAN);
		var0002 = Func08F7(GROD);
		var0003 = false;
		var0004 = false;
		add(["name", "job", "bye"]);
		if (gflags[0x02E1]) {
			say("\"I thank thee,",
				var0000,
				". Truly thou possesseth great honor! I hope one day to be able to repay thee for thy kindness!\"*");
			abort;
		}
		var0005 = 0xFF10->get_npc_object();
		var0005->set_schedule_type(WAIT);
		if (!gflags[0x02C3]) {
			say("You are greeted by a man with a sour expression.");
			gflags[0x02C3] = true;
		} else {
			say("\"Harrumph,\" says Anton.");
		}
		converse (0) {
			case "name":
				say("\"I,\" he says scratching his nose, \"am Anton, not that thou wouldst be concerned with me. Unless, of course, thou art about to put me in the stocks.\"");
				if (var0001) {
					say("*");
					SULLIVAN->say("\"Be polite, Anton. I am sure ",
						var0000,
						" is truly interested in thy name.\"");
					SULLIVAN->hide();
					0xFF10->show_npc_face(0x0000);
				}
				remove("name");
				add(["concerned", "stocks"]);
				fallthrough;

			case "job":
				say("\"What kind of bloody stupid question is that? I am in the prison! What kind of job could I possibly have?\"");
				if (var0002) {
					say("*");
					GROD->say("\"Yeah, stupid question.\"");
					GROD->hide();
				}
				if (var0001) {
					say("*");
					SULLIVAN->say("\"Relax, Anton. I am sure that thou wilt have a job again soon enough.\" He turns to you.~~\"He was apprenticed to the sage Alagner who bade him find out information about The Fellowship...\"");
					0xFF10->say("\"Silence, fool! They will slay me for sure, now!\" He looks at you with despair.*");
					SULLIVAN->say("\"Hast thou already forgotten, dear Anton? Thou didst divulge that information to them some time ago.\"*");
					0xFF10->say("\"I did?\"*");
					SULLIVAN->say("He nods.*");
					0xFF10->show_npc_face(0x0000);
					SULLIVAN->hide();
					if (var0002) {
						say("Anton turns to the troll.~~\"I did?\"*");
						GROD->say("The troll nods.*");
						GROD->hide();
						0xFF10->show_npc_face(0x0000);
					}
					say("\"Oh, well, then. Carry on!\"*");
					SULLIVAN->say("\"As I was saying, his instructor sent him to observe the Fellowship. Of course, he was discovered and brought here for torturing.\" He turns back to Anton.~~\"Never fear, however, Anton. 'Twill be no time before thou art free again, able to return to thy tutor, Alagner, and resume thy studies,\" he says, smiling.*");
					SULLIVAN->hide();
					var0004 = true;
					add("Alagner");
					if (!var0003) {
						add("Fellowship");
					}
				}
				0xFF10->show_npc_face(0x0000);
				fallthrough;

			case "stocks":
				if (var0004) {
					say("\"Yes, they are likely to keep me in them the next time until I rot. Or, at the very least, until I die from the troll's lashings.\"");
					add(["they", "lashings"]);
				} else {
					say("\"I am being held here for spying, ",
						var0000,
						". 'Tis a false accusation, but they will likely kill me anyway....\"");
					add(["spying", "false", "they"]);
				}
				remove("stocks");
				fallthrough;

			case "concerned":
				say("\"Well, so few people are, really.\"");
				remove("concerned");
				fallthrough;

			case "false":
				say("\"Well, I am certainly not guilty of such an act!\"");
				remove("false");
				fallthrough;

			case "spying":
				say("\"To think I would seek information for any reason other than to enhance myself with knowledge is more than preposterous! It is... it is... ludicrous is what it is!\"");
				remove("spying");
				fallthrough;

			case "they":
				say("\"Why, The Fellowship, ",
					var0000,
					".\"");
				remove("they");
				if (!var0003) {
					add("Fellowship");
				}
				fallthrough;

			case "lashings":
				say("\"The troll beats me many times during the day. I will not be able to survive for much longer.\"");
				if (var0001) {
					say("*");
					SULLIVAN->say("\"Come, come, Anton, surely it cannot be that terrible. After all, The Fellowship is providing us with a place to stay and more food than we could... more food... Well, they are also giving us food!\"*");
					SULLIVAN->hide();
					0xFF10->show_npc_face(0x0000);
				}
				remove("lashings");
				fallthrough;

			case "Alagner":
				say("\"He is a sage who resides in New Magincia. Perhaps the most learned man in all Britannia! And now,\" he sighs, \"I will no longer have the opportunity to glean knowledge from his voluminous body of wisdom.\"");
				remove("Alagner");
				fallthrough;

			case "Fellowship":
				say("\"Why, they are a wonderful group of people who are constantly seeking to bring health, happiness, and spirituality to the people of Britannia.\"");
				var0006 = UI_wearing_fellowship();
				if (!var0006) {
					say("With his index finger, he motions you closer to him and lowers his voice.~~\"In a pig's eye, that is! I am departing this den of evil as soon as I get the chance. And I advise thee to do the same!\"");
				}
				var0003 = true;
				remove("Fellowship");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Do not hurry too much, ",
			var0000,
			", for the world as we know it will soon be no more.\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();

void Func04F1 object#(0x4F1) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == PROXIMITY) {
		abort;
	}
	0xFF0F->show_npc_face(0x0000);
	if (gflags[0x02D3]) {
		say("\"Go away, bee killers!\"*");
		abort;
	}
	var0000 = false;
	var0001 = Func08F7(TSERAMED);
	var0002 = Func08F7(IOLO);
	if (gflags[0x02D4]) {
		var0000 = true;
	}
	add(["name", "job", "bye"]);
	if (!gflags[0x02BF]) {
		say("You see a naked man who looks a bit wild. He is not in the least concerned that he has on no clothes.");
		gflags[0x02BF] = true;
	} else {
		say("\"Huh?\" asks Papa.");
	}
	converse (0) {
		case "name":
			if (var0000) {
				say("\"I am Murray.\"");
			} else {
				say("\"Me Papa!\" The man grins, revealing several missing teeth. He nonchalantly scratches his behind.");
			}
			remove("name");
			add("Where are thy clothes?");
			fallthrough;

		case "job":
			if (var0000) {
				say("\"Hey, what job? I am having a great time here. Leave me alone!\"");
			} else {
				say("The man looks confused. \"Job? Me no job. Me live. Me live here with Mama. No need job. Cave provides all.\"");
			}
			add(["Mama", "cave"]);
			fallthrough;

		case "Where are thy clothes?":
			if (var0000) {
				say("\"They make me itch so I do not wear any.\"");
			} else {
				say("\"Clothes?!\" The man laughs heartily and slaps his belly. \"No clothes, no clothes,\" he assures you, still chuckling.");
			}
			remove("Where are thy clothes?");
			fallthrough;

		case "Mama":
			if (var0000) {
				say("\"Quite a lady, is she not?\" He nudges you and winks.");
			} else {
				say("\"Mmm. Mama! Me Papa. She Mama. We make zug-zug. Maybe someday make Boy or Girl!\"");
			}
			remove("Mama");
			fallthrough;

		case "cave":
			if (var0000) {
				say("\"We love the cave. The bees do not bother us. When they sleep we get our honey. We cook mice on the campfire. They are really not bad. Thou shouldst try them!\"");
			} else {
				say("\"Cave good to us. We stay away from bees. They no hurt us. We no hurt them. We take honey when they sleep. We eat the mice in cave. Cook them up on campfire. Very good!\"*");
			}
			var0002 = Func08F7(IOLO);
			if (var0002) {
				IOLO->say("\"I may puke.\"*");
				IOLO->hide();
				0xFF0F->show_npc_face(0x0000);
			}
			remove("cave");
			add(["bees", "honey", "mice"]);
			fallthrough;

		case "bees":
			if (var0000) {
				say("\"They won't bother thee if thou dost not bother them.\"");
			} else {
				say("\"They friendly if we no hurt them.\"");
				if (var0001) {
					say("The man sees Tseramed and frowns. He points at you accusingly. \"Hunt bees?\"");
					if (Func090A()) {
						say("\"Go away!\" The man spits at you and turns away.*");
						gflags[0x02D3] = true;
						abort;
					}
					say("He points at Tseramed. \"Him bee hunter! Go away!\" The man spits at you and turns away.*");
					TSERAMED->say("\"This is an act, I tell thee! These people are not savages! They are Britannians!\"*");
					TSERAMED->hide();
					if (var0002) {
						IOLO->say("\"He seems quite savage to me!\"*");
						IOLO->hide();
					}
					gflags[0x02D3] = true;
					abort;
				}
			}
			remove("bees");
			add("friendly");
			fallthrough;

		case "honey":
			say("The man rubs his belly and smiles, licking his lips.~~ \"Yummmmmmmmmmmmm!\"");
			remove("honey");
			fallthrough;

		case "mice":
			say("The man rubs his belly and makes smacking noises with his mouth.~~\"Mmmmmmmmmmmmmmm!\"");
			remove("mice");
			fallthrough;

		case "friendly":
			if (var0000) {
				say("\"Sure. They know Mama and me. We are their friends.\"");
			} else {
				say("The man nods. \"They know Mama and me. We are bees' friends. Bees let us have honey when bees sleep. Bees no like giving honey if bees awake.\"");
			}
			remove("friendly");
			add("Mama and thee");
			fallthrough;

		case "Mama and thee":
			if (var0000) {
				say("\"I told thee. We have been here a long time.\"");
			} else {
				say("\"Mama and me live in cave since babies.\"");
				if (var0002) {
					IOLO->say("\"Avatar! They must have been abandoned in here! Why, they must be brother and sister!\"");
					IOLO->hide();
					0xFF0F->show_npc_face(0x0000);
				}
				add("babies");
			}
			remove("Mama and thee");
			fallthrough;

		case "babies":
			say("The man nods. \"We babies then.\"");
			remove("babies");
			if (gflags[0x0152]) {
				add("Art thou from Yew?");
			}
			fallthrough;

		case "Art thou from Yew?":
			say("The man's eyes widen, realizes you are serious, then rolls his eyes to the floor.~~\"Damn! All right. Thou didst catch me. Thou art right. Mama and I are from Yew,\" the man speaks in a perfect voice booming with intelligence. He then laughs heartily. \"We had thee going, though, did we not!\"");
			gflags[0x02D4] = true;
			remove("Art thou from Yew?");
			add("Yew");
			fallthrough;

		case "Yew":
			say("\"That's right. My real name is Murray. Mama is really Myrtle. I was a fully licensed apothecary in the town until the Britannian Tax Council came after me. They wanted the shirt off my back, so I gave it to them!");
			say("\"Since then, Myrtle and I prefer to live down here with the bees. Life is so... carefree down here. We have chosen to live with nature. Now, if thou dost not mind, I shall isolate myself from thee and bid thee farewell.\"*");
			abort;

		case "bye":
			break;
	}
	say("Papa smiles and waves.*");
}

extern var Func0909 0x909 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();

void Func04F2 object#(0x4F2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		0xFF0E->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x0147]) {
			say("You see an attractive, studious-looking man.");
			gflags[0x0147] = true;
		} else {
			say("\"Yes, ",
				var0000,
				",\" Taylor asks. \"May I assist thee?\"");
		}
		if (gflags[0x0138]) {
			var0001 = true;
			add(["wisps", "Emps"]);
		}
		converse (0) {
			case "name":
				say("\"My name is Taylor, ",
					var0000,
					".\"");
				remove("name");
				if (gflags[0x00E2]) {
					add("Julius");
				}
				fallthrough;

			case "job":
				say("\"I study the local flora, fauna, and geography here at the monastery.\"");
				add(["flora", "fauna", "geography", "monastery"]);
				fallthrough;

			case "flora":
				say("\"There are many beautiful plants in this area. I am working on learning about all of them.\"");
				remove("flora");
				fallthrough;

			case "fauna":
				say("\"Many different species of animals reside in the forest. I have encountered some fascinating ones in my studies.\"");
				if (gflags[0x0100]) {
					if (!var0001) {
						add("wisps");
					}
				}
				remove("fauna");
				fallthrough;

			case "monastery":
				say("\"Our order is called the Brotherhood of the Rose.\"");
				add("order");
				remove("monastery");
				fallthrough;

			case "order":
				say("\"Yes, ",
					var0000,
					". One other monk, Aimi, lives here in the Abbey. She is a painter and a gardener.\"");
				add(["painter", "gardener"]);
				if (gflags[0x0148]) {
					add("Kreg");
				}
				remove("order");
				fallthrough;

			case "painter":
				say("He smiles. \"Between us, she is a far better gardener.\"");
				remove("painter");
				fallthrough;

			case "gardener":
				say("\"She raises the most lovely flowers that I have ever seen! Thou must see them to believe of their existence.\"");
				remove("gardener");
				fallthrough;

			case "geography":
				say("\"I use my knowledge of the local landscape to aid in my studies. The better I know the locale, the farther away I can travel from the Brotherhood Abbey and still be sure I will able to return -- unlike a fellow monk of mine.\"");
				remove("geography");
				add("fellow");
				fallthrough;

			case "fellow":
				say("\"He became lost some time ago while surveying the area for birds -- the Golden-Cheeked Warbler, I believe it was. Sadly, he travelled too far, and we have not heard from him since.~~\"I do not wish to suffer the same fate.\"");
				remove("fellow");
				fallthrough;

			case "Kreg":
				say("\"That name does not sound familiar, ",
					var0000,
					". Perhaps he is not from this area.\"");
				remove("Kreg");
				fallthrough;

			case "Julius":
				say("\"Julius? I cannot be certain, but 'tis possible he may be someone who now resides in the... cemetery. I have heard that name mentioned as someone who was brought to the Abbey to be buried, though I know not who brought him\tand I do not remember from whom I heard it. I do hope he was not a friend of thine,\" he says, apologetically.");
				remove("Julius");
				fallthrough;

			case "wisps":
				say("\"The wisps?\" he laughs. \"I doubt they exist. I realize many people seem to believe in them, but I have never seen any.~~ \"If thou must know, popular legend maintains that they inhabit the forest area, near the Emps. Supposedly, the Emps are able to speak with them.\" He shrugs. \"Thou mayest look for them if that is thy wish, but I would not waste precious time, myself.\"");
				add(["precious time", "Emps"]);
				gflags[0x0138] = true;
				remove("wisps");
				fallthrough;

			case "precious time":
				say("\"There are so many exciting things to investigate... tree flowers, for example, ",
					var0000,
					".\"");
				remove("precious time");
				fallthrough;

			case "Emps":
				say("\"Ah, the Emps. I have not been able to glean much information about them.~~\"They live on the eastern edge of the deep forest, not too terribly far from here.~~\"They resemble apes, but only slightly. They are exceedingly shy, and will rarely feel comfortable enough to approach a human.~~ \"The only way I was able to view an Emp closely occurred when I happened to have honey in my pack which I had just picked up from Bee Cave. The creature appeared, stared at me for a few minutes, and then asked -- asked, I say -- for mine honey. I believe they are empathic, hence their name.~~ \"Quite an interesting species, dost thou not agree?\"");
				add(["honey", "Bee Cave"]);
				var0002 = true;
				remove("Emps");
				fallthrough;

			case "honey":
				say("\"The honey from the caves is quite tasty, but rarely can one get it without a fight. The Bee Caves can be a rather dangerous place.\"");
				remove("honey");
				fallthrough;

			case "Bee Cave":
				say("\"Bee Cave is located to the southwest of the Abbey. But if thou art planning a trip there, beware the giant bees that live in the caves. Their venom is very poisonous.~~");
				var0003 = Func0931(PARTY, 0x0001, 0x0301, QUALITY_ANY, FRAME_ANY);
				if (!var0003) {
					say("\"If thou wishest, I can give thee a smoke bomb that will repel the bees for a short time. Dost thou want it?\"");
					var0004 = Func090A();
					if (var0004) {
						var0005 = UI_add_party_items(0x0001, 0x0301, QUALITY_ANY, FRAME_ANY, true);
						if (var0005) {
							say("\"Here it is.\"");
						} else {
							say("\"Perhaps thou shouldst lighten thy load before taking the bomb.\"");
						}
					} else {
						say("\"Very well. But be careful if thou dost happen by the caves!\"");
					}
				}
				remove("Bee Cave");
				fallthrough;

			case "bye":
				break;
		}
		say("\"May thy knowledge increase with thine encounters with nature, ",
			var0000,
			".\"*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();

void Func04F3 object#(0x4F3) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == PROXIMITY) {
		abort;
	}
	0xFF0D->show_npc_face(0x0000);
	var0000 = Func0909();
	var0001 = Func08F7(OWINGS);
	var0002 = Func08F7(IOLO);
	var0003 = Func08F7(SHAMINO);
	var0004 = Func08F7(DUPRE);
	if (!gflags[0x02BD]) {
		say("You see before you a short, roly-poly man with a pompous smirk on his face. He is holding a lantern in one hand and a dirty spoon in the other.");
		gflags[0x02BD] = true;
	} else {
		say("\"Hello, good friend,\" says Malloy. \"A pleasure to see thee again.\"");
	}
	add(["name", "job", "bye"]);
	if (gflags[0x02D9]) {
		add("helmet on foot");
	}
	converse (0) {
		case "name":
			if (!gflags[0x02DA]) {
				say("\"My name is Malloy. Pleased to make thine acquaintance.\" Malloy bows politely.");
				if (var0001) {
					if (!gflags[0x02BC]) {
						say("Malloy's face carries an exasperated smirk. \"My partner over there is Owings,\" he says, pointing to Owings, the skinny man digging away next to him. \"Where are thy manners?! Say hello to our visitor!\"");
					} else {
						say("\"Thou dost already know my partner over there,\" he says, pointing to Owings.");
					}
					OWINGS->say("\"Hello there!\" says Owings, giving you a big smile. The front of his mining helmet falls down over his eyes. Blinded, he gropes the air around him.*");
					OWINGS->hide();
					0xFF0D->say("Malloy shakes his head sadly.*");
				}
			} else {
				say("Malloy regains his composure. \"Hello there, I am Malloy. I do apologize for my partner's childish antics.\"");
			}
			remove("name");
			fallthrough;

		case "job":
			if (!var0001) {
				say("\"Normally my job is to dig, but as my partner Owings seems to be missing I suppose my job is to look for him. I hope nothing has happened to the little fellow.\"");
			} else {
				say("\"Owings and myself are working as mining engineers, a position we were fortunate enough to have acquired quite recently. We are working on a special project for the Britannian Mining Company.\"*");
				OWINGS->show_npc_face(0x0000);
				if (gflags[0x02DA]) {
					say("Owings gives a big nod, throwing his head back and snapping it straight down. \"That is absolutely right, Malloy.\"*");
				} else {
					say("\"That is absolutely right, Malloy,\" says Owings. He gives a big nod which causes his helmet to fall down over his eyes.*");
				}
				OWINGS->hide();
				0xFF0D->show_npc_face(0x0000);
			}
			add(["mining engineers", "special project"]);
			fallthrough;

		case "mining engineers":
			say("\"My partner and I are not exactly mining engineers, although we did travel to Minoc to become miners. We came here with a map...\"*");
			OWINGS->say("\"It was the map that the funny man dressed like the Avatar sold us!\"*");
			OWINGS->hide();
			0xFF0D->say("\"That is correct. But when we got here we discovered that the Britannian Mining Company owned the rights to this area of land already!\"*");
			OWINGS->say("\"That funny man dressed like the Avatar lied to us.\" Owings scratches his head thoughtfully. \"The Britannian Mining Company wanted to throw us in the prisons of Yew for claim jumping!\"*");
			OWINGS->hide();
			0xFF0D->say("\"I was able to convince them that we would be more valuable to the Britannian Mining Company if we could come to work for them.\" Malloy beams proudly.*");
			remove("mining engineers");
			add(["map", "funny man"]);
			fallthrough;

		case "map":
			say("\"We paid nearly a hundred gold pieces for that map. It was supposed to lead to a spot of valuable minerals found over a hundred years ago. It was a terrific investment. The map was an antique, but it looked like it could not have been more than a few years old! Thou dost not see preservation like that every day!\"");
			remove("map");
			fallthrough;

		case "funny man":
			say("\"Someone told us his name. Let me see if I can remember it... Sullivan, I think it was. Funny name for an Avatar, but there thou art!\"");
			remove("funny man");
			fallthrough;

		case "special project":
			say("\"Owings and myself are now involved in a very important special project, but it is a secret. Can we trust thee?\"");
			var0005 = Func090A();
			if (!var0005) {
				say("\"In that case I thank thee for thine honesty. I do not really mind if a person is untrustworthy. But someone who is untrustworthy and dishonest about it, that is something that I cannot abide.\"*");
				OWINGS->say("You see Owings nod his head most enthusiastically. A second later he has a very confused expression on his face.*");
				OWINGS->hide();
				0xFF0D->show_npc_face(0x0000);
			} else {
				say("\"The Britannian Mining Company has asked us to dig a tunnel to New Magincia! It will revolutionize the mining industry.\"");
				OWINGS->say("\"They do not want anybody to find out about it. They said that bringing more mining equipment over here would just make people suspicious, so they told us to start by using these spoons!\" Owings proudly holds up his spoon to show it to you. He smiles.");
				OWINGS->hide();
				0xFF0D->say("\"Yes, it was such a special project they told us we were the only ones they could think of who would even attempt to do such a thing!\" Malloy beams proudly. \"Well come on, Owings, we had best get back to work. We have a schedule to meet.\"");
				remove("special project");
				add(["tunnel", "schedule"]);
			}
			fallthrough;

		case "tunnel":
			say("Malloy looks at you and puts a finger to his lips. \"Shhhhhhhh!!! I asked thee not to speak of this to anyone!\"");
			remove("tunnel");
			fallthrough;

		case "schedule":
			say("\"Owings, have a look at that schedule and find out how we are doing.\"");
			OWINGS->say("Owings bends over and goes to pick up a very large scroll. As he touches the tip of it he sends it rolling away down the mineshaft. As it rolls away it is unravelling leaving a lengthy trail of paper behind it. Owings chases after it but succeeds in doing little else but tangling up his legs in the long roll of the paper. When at last he has the other end, it is an unreadable mess.");
			OWINGS->hide();
			0xFF0D->say("\"Give me that!\" says Malloy as he snatches a piece of the scroll away. He examines it for a moment. \"According to this we shall be finished in... one hundred and seventy three years! Owings, we have got to start working faster!\" The two of them go back to digging with their spoons. As they dig Malloy turns to Owings and says, \"This is another fine mess thou hast gotten me into!\"");
			remove("schedule");
			fallthrough;

		case "helmet on foot":
			say("Malloy kicks out with his foot, trying to dislodge the helmet which is stuck there. He looks at Owings and pouts, \"Why dost thou not do something to help me?!\"");
			OWINGS->say("Owings grabs the helmet on Malloy's foot and attempts to dislodge it. After several fierce tugs it comes off with a loud popping noise. Owings pulls the helmet right into his own face and this makes a loud knocking noise.");
			UI_play_sound_effect(0x0053);
			OWINGS->hide();
			0xFF0D->say("Malloy goes hurling backwards, crying out in panic. He smacks the back of his head on the rock wall behind him. He takes off his crumpled helmet and points to it. \"A good thing I was wearing this or I might have been hurt!\" With that a loose rock tumbles down from the ceiling landing squarely on his head. Malloy says \"Ooooooh!\" Owings breaks into a giggling fit. Malloy flashes you an incredulous pouting grimace.");
			UI_play_sound_effect(0x000F);
			remove("helmet on foot");
			fallthrough;

		case "bye":
			break;
	}
	if (var0001) {
		say("Both Malloy and Owings stop what they are doing and give you a friendly goodbye wave.*");
	} else {
		say("\"Good day to thee, ",
			var0000,
			".\"*");
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func0909 0x909 ();
extern void Func085B 0x85B ();

void Func04F4 object#(0x4F4) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		0xFF0C->show_npc_face(0x0000);
		var0000 = Func08F7(0xFF03);
		var0001 = Func08F7(0xFF04);
		var0002 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x02C8]) {
			say("The warrior carries himself with confidence.");
			gflags[0x02C8] = true;
		} else {
			say("\"Hail, ",
				var0002,
				",\" says Cairbre.");
		}
		converse (0) {
			case "name":
				say("\"Thou mayest call me Cairbre, ",
					var0002,
					".\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a sell-sword. But at the moment, I am trying to help my friend regain his senses.\"");
				remove("job");
				add(["friend", "senses"]);
				fallthrough;

			case "friend":
				say("\"I was not about to let Cosmo venture down here by himself. So, I offered to accompany him, as did Kallibrus.\"");
				if (var0001) {
					say("He points to the gargoyle.");
				} else {
					add("Kallibrus");
				}
				remove("friend");
				fallthrough;

			case "Kallibrus":
				say("\"He is a comrade in arms of mine, and also a friend of Cosmo's. I have yet to meet a more trustworthy companion, for he more than disproves all the rumors about gargoyles.\"");
				remove("Kallibrus");
				fallthrough;

			case "senses":
				say("\"'Tis a long story. Cosmo is looking for the unicorn that supposedly inhabits this cavern.\" He looks you in the eye and shrugs.~~\"He is a fool.\"");
				if (var0000) {
					say("*");
					0xFF03->say("\"I heard that, Cairbre!\"*");
					0xFF03->hide();
					0xFF0C->show_npc_face(0x0000);
				}
				gflags[0x02E0] = true;
				remove("senses");
				add(["unicorn", "fool"]);
				fallthrough;

			case "unicorn":
				say("\"The unicorn is traditionally a way to prove the purity of a young maiden. However, less commonly known is that it will also reveal a young man's, uh, lack of, um, wild oats.\"");
				remove("unicorn");
				fallthrough;

			case "fool":
				say("\"Ophelia does not love him! She simply sent him on this quest to be rid of him. I doubt she expects him to find the unicorn, let alone return to her.\"");
				remove("fool");
				add(["Ophelia", "rid"]);
				fallthrough;

			case "Ophelia":
				say("\"He met her in Jhelom. She was serving in the Bunk and Stool. Apparently it was `love at first sight,' as he calls it.\"");
				remove("Ophelia");
				fallthrough;

			case "rid":
				say("\"The nature of her request is quite ironic, for I would expect that the unicorn would have shunned her quite some time ago. He is not to her tastes, I would imagine, and, were he to truly know her, she would not be to his. But, alas, love is blind, as they say.\"");
				add("they");
				remove("rid");
				fallthrough;

			case "they":
				say("\"I do not know who `they' are, but that is what they say, is it not?\"");
				remove("they");
				fallthrough;

			case "bye":
				break;
		}
		say("\"'Til next time, ",
			var0002,
			".\"*");
	}
	if (event == PROXIMITY) {
		Func085B();
	}
}

extern var Func0909 0x909 ();
extern void Func0911 0x911 (var var0000);
extern var Func090A 0x90A ();
extern void Func092E 0x92E (var var0000);

void Func04F5 object#(0x4F5) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		0xFF0B->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = 0xFF0B->get_npc_object();
		add(["name", "job", "bye"]);
		var0002 = var0001->get_alignment();
		if (var0002 == EVIL) {
			var0001->set_schedule_type(IN_COMBAT);
		}
		if (gflags[0x0159] && gflags[0x0148]) {
			add("Thief!");
		}
		if (!gflags[0x0148]) {
			say("The friendly-looking monk signals you over to him.");
			gflags[0x0148] = true;
		} else {
			say("\"Hello, ",
				var0000,
				".\"");
			if (gflags[0x012F]) {
				add("give potion");
			}
		}
		converse (0) {
			case "name":
				say("He smiles. \"My name is Kreg, ",
					var0000,
					".\"");
				if (gflags[0x0159]) {
					add("Thief!");
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"I am a monk here at the Abbey. I am working on an alchemical mixture.\"");
				add(["mixture", "Abbey"]);
				fallthrough;

			case "Thief!":
				say("\"Ah! Found me out, didst thou? 'Tis too bad... for thee!\"*");
				Func0911(0x0064);
				var0003 = 0xFF0B->count_objects(0x0231, QUALITY_ANY, FRAME_ANY);
				if (var0003 < 0x0001) {
					var0004 = UI_create_new_object(0x0231);
					var0005 = 0xFF0B->give_last_created();
				}
				var0001->set_alignment(EVIL);
				var0001->set_schedule_type(IN_COMBAT);
				abort;

			case "Abbey":
				say("\"Sadly, I am so involved with my studies that I have no time to visit the surrounding area or learn any new faces.\"");
				remove("Abbey");
				fallthrough;

			case "mixture":
				say("\"Well, ",
					var0000,
					", we here at the Abbey will soon be taking a vow of silence. However, it will take some time for all of us to become accustomed to the sound of silence. Therefore, I am creating a potion that enables the imbiber to become temporarily silent. The concept is very similar to a potion of invisibility.\"");
				add(["vow", "invisibility"]);
				remove("mixture");
				fallthrough;

			case "vow":
				say("\"Well,\" he looks embarrassed, \"after reading a book on how we compare to our predecessors, we learned that most people expect us to take a vow of silence.~~ \"So,\" he shrugs, \"we have chosen to do so, once I can make that potion. I realize that it sounds foolish, but I truly believe it will help us produce more wine.\"");
				remove("vow");
				add(["predecessors", "wine"]);
				fallthrough;

			case "predecessors":
				say("\"Surely thou knowest of what I speak? Meditation, silence, aesthetics, ascetics, and so forth.\"");
				remove("predecessors");
				fallthrough;

			case "wine":
				say("\"The monks' wine is renowned throughout all of Britannia, or so I thought.\" A puzzled look fills his face.~~\"Ah, well, that is no matter. Regardless, I sincerely recommend to thee to try some of our exquisite drink.\"");
				remove("wine");
				fallthrough;

			case "invisibility":
				say("\"As a matter of fact, my research has reached an impasse, for I cannot determine the nature of some critical reagents. What I need is a potion of invisibility to analyze. Then I could progress from there.\" He looks at you, hopefully. \"Wouldst thou be willing to obtain a potion for my studies? It is likely that thou couldst find one easily at the mage, Nicodemus'.\"");
				var0006 = Func090A();
				if (var0006) {
					say("He sighs, obviously relieved. \"Thank thee, ",
						var0000,
						".\"");
					gflags[0x012F] = true;
				} else {
					say("\"Art thou sure? I will give thee information in return.\"");
					add("information");
				}
				remove("invisibility");
				fallthrough;

			case "information":
				say("\"I will tell thee about Lord British, The Fellowship, or Buccaneer's Den if thou bringest me the potion of invisibility.\"");
				gflags[0x012F] = true;
				remove("information");
				fallthrough;

			case "give potion":
				var0007 = UI_remove_party_items(0x0001, 0x0154, QUALITY_ANY, 0x0007, true);
				if (var0007) {
					say("He takes the potion from you and quickly drinks it. \"Thank thee, ",
						var0000,
						", for helping in mine escape!\" As he fades from view, his laughter fills your ears.*");
					0xFF0B->remove_npc();
					abort;
				}
				say("\"Thou dost not have a potion to give,\" he says sadly. \"My research will again have to wait.\"");
				remove("give potion");
				fallthrough;

			case "bye":
				break;
		}
		say("He nods farewell to you.*");
	}
	if (event == PROXIMITY) {
		Func092E(0xFF0B);
	}
}

extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern void Func0840 0x840 ();
extern void Func092E 0x92E (var var0000);

void Func04F6 object#(0x4F6) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		0xFF0A->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = UI_wearing_fellowship();
		add(["name", "job", "bye"]);
		if (gflags[0x0133] && (!gflags[0x0196])) {
			add(["Wisps", "notebook"]);
		}
		if (gflags[0x0196]) {
			add("answers");
		}
		if (!gflags[0x0189]) {
			say("You see a large man with an almost cunning, erudite aura about him.");
			gflags[0x0189] = true;
		} else {
			say("\"Hello, again,\" Alagner says.");
		}
		converse (0) {
			case "name":
				say("The sage smiles and nods his head. \"My name is Alagner. And who art thou?\"");
				UI_push_answers();
				var0002 = Func090B([var0000, "Avatar"]);
				if (var0002 == var0000) {
					say("\"I see. Nice to meet thee. Go away. I am busy.\"*");
					abort;
				}
				if (var0002 == "Avatar") {
					say("Alagner's eyes widen.~~\"By the skies above! I do recognize thee! This is quite an honor! What may I do for thee?\"");
					UI_pop_answers();
					remove("name");
				}
				fallthrough;

			case "job":
				say("\"My profession -- rather, my destiny -- is to learn and know all things. I came to New Magincia to build my workshop and do so.\"");
				add(["New Magincia", "workshop"]);
				fallthrough;

			case "New Magincia":
				say("The sage sighs. \"I left the Britannian mainland to come to the relative peace and quiet of New Magincia. I am content here because it is isolated and free from... the filth and corruption going on in Britannia. Not many see it.\"");
				remove("New Magincia");
				add("corruption");
				fallthrough;

			case "workshop":
				say("\"This is my workshop. I peruse my books and papers here. Occasionally, I invent things, such as this crystal ball.\"");
				remove("workshop");
				add("crystal ball");
				fallthrough;

			case "crystal ball":
				say("\"It is a device for recording. If I forget a procedure or a step in an experiment, I may look into the crystal ball and see yesterday's events. Please, feel free to use it. Thou wilt see what I was doing yesterday.\"");
				remove("crystal ball");
				fallthrough;

			case "Wisps":
				say("\"They are unusually aloof creatures of another dimension. Thou wilt think they are thy friends, but they could very well be spying on -thee- for someone else! They have no loyalties to good or evil -- all they care about is the acquisition of information -- how they acquire it is sometimes honorable, sometimes not.\"");
				remove("Wisps");
				fallthrough;

			case "corruption":
				say("\"The Britannian people are becoming careless and lazy. They do not seek true knowledge. They do not respect their land. They do not respect each other. The resources of our land are being wasted. Miners are experimenting with dangerous reagents. There is an evil in the land, and I am not so sure that it is in the people themselves.\"");
				remove("corruption");
				add(["true knowledge", "evil"]);
				fallthrough;

			case "true knowledge":
				say("\"True knowledge is the only way to complete fulfillment.\"");
				remove("true knowledge");
				fallthrough;

			case "evil":
				if (var0001) {
					say("\"Thou art a member of The Fellowship, I see. Thou must not know everything about them. If thou didst, thou wouldst not be a member!");
					add("under cover");
				} else {
					say("\"Thou hast heard of The Fellowship by now, I am sure.");
					add("suspect");
				}
				say("\"They are cunning and two-faced. I am working on obtaining proof of this.\"");
				remove("evil");
				add("proof");
				fallthrough;

			case "proof":
				say("\"I am documenting this information in my notebook.\"");
				remove("proof");
				add(["information", "notebook"]);
				fallthrough;

			case "information":
				say("\"It is all contained within the notebook.\"");
				remove("information");
				fallthrough;

			case "under cover":
				say("\"Thou didst join The Fellowship to study their ways? Thou dost suspect them as well? Perhaps thou hast more substance to thee than I thought. We are working towards the same goal.\"");
				remove("under cover");
				fallthrough;

			case "suspect":
				say("\"Thou dost suspect The Fellowship of foul deeds? Well then! Thou art perceptive indeed! Perhaps we are working toward the same goal!\"");
				remove("suspect");
				fallthrough;

			case "notebook":
				say("\"It is hidden in a safe place, along with mine other treasured sources of knowledge.\"");
				if (gflags[0x0133] && (!gflags[0x0196])) {
					say("Alagner listens as you tell him you would like to borrow the notebook.");
					say("\"Since thou art on an honorable quest, I suppose I might allow thee to borrow it if thou dost give me thy word that thou wilt return it, and if thou dost offer proof of thine eagerness to learn the true knowledge of the world.\"");
					add("learn");
				}
				remove("notebook");
				fallthrough;

			case "learn":
				say("\"Very well. Dost thou know the answers to the questions of Life and Death?\"");
				var0003 = Func090A();
				if (var0003) {
					if (gflags[0x0196]) {
						Func0840();
					} else {
						say("\"I do not believe thou dost.");
					}
				} else {
					say("\"No, of course thou dost not.");
				}
				if (!gflags[0x017C]) {
					say("\"Only those souls who have passed on from this life know these things. Seek out the spirit of The Tortured One. Ask him what the answers are to the questions of life and death. When thou dost return with the correct answer, I will believe that thou art sincere in thy quest for knowledge. Only then will I allow thee to borrow the notebook.\"");
					add("Tortured One");
					gflags[0x017C] = true;
				}
				remove("learn");
				fallthrough;

			case "Tortured One":
				say("\"Alas, he is a poor soul who is doomed to haunt his abode throughout eternity.\"");
				remove("Tortured One");
				add("abode");
				fallthrough;

			case "abode":
				say("\"Seek him out in Skara Brae. But be careful. It is a dangerous place. I should also advise thee that thou must use Seance Spells to speak with anyone on that island. They are all undead.\"");
				remove("abode");
				fallthrough;

			case "answers":
				say("\"Thou hast spoken to the Tortured One and learned the answers to the questions of Life and Death?\"");
				var0004 = Func090A();
				if (var0004) {
					say("\"Then what are the answers?\"");
					Func0840();
				} else {
					say("\"Do not return until thou hast done so.\"");
				}
				remove("answers");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell. May thy journeys be profitable.\"*");
	}
	if (event == PROXIMITY) {
		Func092E(0xFF0A);
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func04F7 object#(0x4F7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		0xFF09->show_npc_face(0x0000);
		if (!gflags[0x01B2]) {
			say("The non-corporeal man stares past you, seemingly past the confines of the building, and, perhaps, of the world. Then, he suddenly shudders, as if he is filled with pain.*");
			abort;
		}
		var0000 = false;
		var0001 = false;
		var0002 = false;
		var0003 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x01C2]) {
			say("The ghostly man displays a face filled with pain.");
			gflags[0x01C2] = true;
		} else {
			say("\"Greetings, ",
				var0003,
				".\" Caine breathes deeply, apparently forcing back his torment.");
			if (gflags[0x017C] && (!gflags[0x0196])) {
				add("questions");
				var0002 = true;
			}
			if (!gflags[0x01BF]) {
				if (gflags[0x01C0]) {
					add("need formula");
					var0001 = true;
				}
			}
		}
		if (gflags[0x01BF]) {
			if (!gflags[0x01D0]) {
				add("instructions");
			}
		}
		if (gflags[0x0198]) {
			if (!gflags[0x01A1]) {
				add("sacrifice");
			}
		}
		converse (0) {
			case "name":
				say("\"I,\" he gasps, \"am called Caine. But I have also been given an alias by my... fellow townspeople. To them, I am known as `the Tortured One.'\" He moves his hands in a sweeping gesture, but seems to indicate nothing. \"And thou canst see why.\"");
				if (gflags[0x017C] && (!gflags[0x0196])) {
					if (!var0002) {
						add("questions");
					}
				}
				remove("name");
				add("why?");
				if (!var0001) {
					if (!gflags[0x01BF]) {
						if (gflags[0x01C0]) {
							add("need formula");
						}
					}
				}
				fallthrough;

			case "why?":
				say("\"The flames, fool! The flames!\" Again he gasps.");
				remove("why?");
				fallthrough;

			case "job":
				say("He smirks at your comment.~~\"Thou wishest to know my job? I will tell thee my job!\" he shouts.~\"To burn here in eternal flames for my crime against the fair city of Skara Brae! That,\" he pauses for emphasis, \"is my job!\"~After a moment, he calms down.~\"I apologize, ",
					var0003,
					". I realize thy question was not intended to further torment me,\" he sighs, and turns his face away from you. \"At one time, I was the alchemist here.\"");
				add(["flames", "Skara Brae"]);
				if (!var0001) {
					if (!gflags[0x01BF]) {
						if (gflags[0x01C0]) {
							add("need formula");
						}
					}
				}
				fallthrough;

			case "flames":
				say("He looks down at the ground, a remorseful expression on his face.~~\"The flames are my punishment. Years ago, when the evil Liche first exerted his reign of death over Skara Brae, the healer, Mordra, conceived of a plan to remove the creature most foul.~~\"She designed a concoction that would destroy the magical bonds that form the Liche. The formula was presented to our mayor, who passed it on to me.~~\"But,\" he scowls, \"something went wrong when I was preparing the potion. The proportions were mixed improperly, or... I don't know!\" he shouts, fists clenched.~~\"All I remember is the shop exploding, and the fire! The fire! All those people dead... because of me... because of my mistake....\"");
				remove("flames");
				if (!var0000) {
					add("mayor");
				}
				fallthrough;

			case "Skara Brae":
				say("\"'Twas a thriving town -- before I destroyed it!\" His jaw tightens and his face clenches. \"Why? Why, why, why!\" He again gasps in agony, but quickly regains control.~~\"There were so many innocent people,\" he says, staring directly at you. \"I cannot believe I am responsible for all their deaths.\"");
				add("people");
				remove("Skara Brae");
				fallthrough;

			case "sacrifice":
				say("\"I am sorry, ",
					var0003,
					", but I must spend my eternity here in constant memory of those whom I have destroyed.\"");
				gflags[0x01A1] = true;
				remove("sacrifice");
				fallthrough;

			case "mayor", "Forsythe":
				say("\"Forsythe is the mayor. Perhaps thou canst find him in the Town Hall, shouldst thou wish to speak with him.\"");
				var0000 = true;
				remove(["Forsythe", "mayor"]);
				fallthrough;

			case "need formula":
				say("\"Thou trusts me to tell thee the formula! After what I have done to this town? Art thou mad? I hope at least, that thou hast checked with Mordra for the correct proportions, yes?\"");
				var0004 = Func090A();
				if (var0004) {
					say("He shakes his head in disbelief.~~\"Thou art truly insane. But,\" he shrugs, \"thou hast nothing to lose but thine own life....\"");
					add("instructions");
					gflags[0x01BF] = true;
				} else {
					say("\"That is better. Thou hadst me wondering.\" His tone is a mixture of both relief and disappointment.");
				}
				remove("need formula");
				fallthrough;

			case "instructions":
				say("\"First thou wilt need the three potions. Then, thou must place each one just below a connecting tube -- the order matters not. Take an empty vial -- I should have one here in my lab -- and set it below the nozzle. Then, turn on the burner. After but a few minutes, the mixture will form, and the filled vial will be ready for thee.\"");
				remove("instructions");
				fallthrough;

			case "people":
				say("\"Thou wishest to know whom I killed? I can only assume that all perished in the blaze: Markham and his Barmaid, Paulette; Trent and Forsythe; and, of course, Mordra the healer.\"");
				add("Trent");
				if (!var0000) {
					add("Forsythe");
				}
				remove("people");
				fallthrough;

			case "Trent":
				say("\"He is -- was -- the blacksmith. Mine one consolation lay with him, for I thought there would be at least one advantage to his death. Sadly,\" he inhales quickly, \"even that did not occur.\"");
				add(["blacksmith", "advantage"]);
				remove("Trent");
				fallthrough;

			case "blacksmith":
				say("\"He was once a master of all things metal. Now all he does, so I am told, is work endlessly on that blasted cage!\"");
				remove("blacksmith");
				add("cage");
				fallthrough;

			case "cage":
				say("\"I know nothing about it other than that it was necessary to put the liche in it before my... potion could work on him.\"");
				remove("cage");
				fallthrough;

			case "advantage":
				say("\"The liche took from Trent the one most valuable thing in the blacksmith's life -- his wife, Rowena. I had hoped his death would at least extinguish his pain.\" He smiles sardonically.~~\"Well, it did end his pain, in a manner of speaking.\"");
				remove("advantage");
				add(["Rowena", "end"]);
				fallthrough;

			case "end":
				say("\"The pain is gone, but only to be replaced by his obsessive anger. The poor fool does not even realize he is dead! He thrives on his anger.\"");
				remove("end");
				fallthrough;

			case "Rowena":
				say("\"She was all he lived for. When the liche tried to take her from him, he was consumed by the emptiness of her death. But, after his own demise,\" he stares directly at you, \"his bitter feelings soured even further.~~\"I suspect there is no reasoning with him now.\"");
				remove("Rowena");
				add("reasoning");
				fallthrough;

			case "reasoning":
				say("\"I doubt he would believe even his own death, let alone care.\"");
				remove("reasoning");
				fallthrough;

			case "questions":
				if (!gflags[0x01BC]) {
					say("The ghost looks at you with a hint of amusement. \"Thou art looking for the answers to the questions of life and death?\"");
					if (Func090A()) {
						say("The Tortured One looks hard at you. After a pause, he speaks. \"I will tell thee what I know if thou dost agree to help me. Free me. Free all of us. Free us from the evil Liche.\"");
						add("Liche");
						remove("questions");
					} else {
						say("\"Then I have no answers for thee.\"*");
						abort;
					}
				} else if (gflags[0x01AA]) {
					say("\"Thou hast freed us from the Liche. Thou art entitled to mine half of the bargain.~~\"So thou dost want to know the answers to the questions of life and death?\"");
					if (Func090A()) {
						say("The Tortured One looks hard at you. Then, smiling, he shakes his head. \"I have no secrets, my foolish friend. Thou art a fool. There are -no- answers. Only questions.\"~~He looks as if he might cry out in pain. And then Caine turns away from you. \"Go away now. Leave me to mine eternity.\"*");
						gflags[0x0196] = true;
						Func0911(0x02BC);
						abort;
					}
					say("\"Then why hast thou wasted thy time? Go away, fool!\"*");
					abort;
				} else {
					say("\"Thou hast not rid us of the evil Liche yet. Fulfill this quest as thou hast agreed and I shall give thee the answers thou dost seek.\"");
				}
				remove("questions");
				fallthrough;

			case "Liche":
				say("\"He is an evil spirit who inhabits poor dead Horance's body. He has a hold on every being in this town -- even me. He sucks the life forces -- the little that remain -- from our souls. Please, thou must free us from his power. Wilt thou try?\"");
				if (Func090A()) {
					say("The Tortured One's eyes brighten somewhat, as he sees the light at the end of a long, dark tunnel. \"Then thou hast given me hope. To begin, speak with Mistress Mordra. She can tell thee how to accomplish this feat.\"");
					remove("Liche");
					gflags[0x01BC] = true;
				} else {
					say("\"Then thou shalt never know the answers to the questions of life and death. An eye for an eye, my friend.\"*");
					abort;
				}
				remove("Liche");
				fallthrough;

			case "bye":
				break;

		}
		say("\"Goodbye, ",
			var0003,
			".\" He suppresses a pained scream as you depart.*");
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func092E 0x92E (var var0000);

void Func04F8 object#(0x4F8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;

	if (event == DOUBLECLICK) {
		0xFF08->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		var0002 = false;
		var0003 = false;
		add(["name", "job", "bye"]);
		if (!gflags[0x01F7]) {
			say("You see a scholarly-looking man with a friendly expression.");
			gflags[0x01F7] = true;
			gflags[0x01F9] = true;
		} else {
			say("\"Salutations, ",
				var0001,
				".\" Brion smiles.");
		}
		if (gflags[0x0008]) {
			add("Caddellite");
		}
		if (gflags[0x01EE]) {
			add("crystals");
		}
		if (gflags[0x01ED] && (!gflags[0x01F0])) {
			add("have crystal");
		}
		if (gflags[0x0209]) {
			if (gflags[0x01DA] && (!var0002)) {
				add("Zelda's feelings");
			}
		}
		converse (0) {
			case "name":
				say("\"Why, thou mayest call me Brion.\"");
				if (gflags[0x01DA] && (!var0002)) {
					add("Zelda's feelings");
				}
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the head of the observatory here in Moonglow,\" he says proudly. \"This is where the telescope is kept.\"");
				add(["telescope", "Moonglow"]);
				if (gflags[0x0100]) {
					add("event");
				}
				fallthrough;

			case "Moonglow":
				say("\"Why, I love living here in Moonglow. I very much like the people here.\"");
				add("people");
				remove("Moonglow");
				fallthrough;

			case "people":
				say("\"Hast thou spoken with my twin, Nelson? He heads the Lycaeum. Or Elad? And surely thou knowest about the mage, Penumbra.\"");
				add(["Nelson", "Elad", "Penumbra"]);
				remove("people");
				fallthrough;

			case "Zelda's feelings":
				var0002 = true;
				gflags[0x01DB] = true;
				say("\"Oh, I see,\" he shrugs. \"I never really thought about my brother's assistant in such a manner. That is too bad, for my time permits nothing but mine observations. Ah, well, what else can I help thee with?\"");
				remove("Zelda's feelings");
				fallthrough;

			case "Nelson":
				say("\"I do not see him as often as I would like, for we are so heavily involved with our work. He will be easy to recognize shouldst thou see him, for people tell us we look identical. I do not see it, of course, for, not only was he born with the brains, but also the handsome face.\"");
				remove("Nelson");
				fallthrough;

			case "Elad":
				say("\"Poor Elad. He sometimes joins me at night to view the heavens. He has been trying to leave Moonglow for many years. He likes the island, but is filled with wanderlust.\" He smiles.");
				remove("Elad");
				fallthrough;

			case "Penumbra":
				say("\"Thou hast not heard? Why, two hundred years ago she put herself to sleep.\"");
				remove("Penumbra");
				fallthrough;

			case "telescope":
				say("\"I have it upstairs, of course. Thou art welcome to use it as often as thou wishest. In fact, I also have an orrery, shouldst thou desire to see that as well.\"");
				add("orrery");
				remove("telescope");
				fallthrough;

			case "Caddellite":
				say("He looks at you strangely, shrugs, and says, \"Why, Caddellite is a mineral that is not native to Britannia. In fact, it only comes from meteorites.~~ \"And the last known meteor to strike the planet landed somewhere in the North East sea. Why dost thou want to know?\"");
				add("helmet");
				remove("Caddellite");
				fallthrough;

			case "helmet":
				say("\"Thou dost want a helmet made of Caddellite?\" He thinks carefully. \"Perhaps Zorn in Minoc would have the skills to build a helmet such as thou desirest. If thou findest the Caddellite, take it to him.~~\"I have heard rumors of an island that once existed in the North East sea. Perhaps my brother at the Lycaeum could help with that.\"");
				remove("helmet");
				gflags[0x01F6] = true;
				fallthrough;

			case "orrery":
				say("The orrery? Why, 'tis a model of all the planets in our solar system, including the two moons of Britannia. The orrery moves to match the actual, current orbits of our real system.");
				if (!var0003) {
					say("\"I am very excited, for shortly a very rare event will occur!\"");
					add("event");
				}
				remove("orrery");
				fallthrough;

			case "event":
				say("\"Thou art referring to what we in the business call the Astronomical Alignment. The planets and the moons will all line up perfectly, something that happens only once every 800 years!\"");
				var0003 = true;
				remove("event");
				fallthrough;

			case "bye":
				if (gflags[0x01E8] && (gflags[0x01E9] && (gflags[0x01EA] && gflags[0x01DD]))) {
					say("\"Good day, ",
						var0001,
						". Thou mayest use mine observatory as often as thou wishest.\"*");
					abort;
				}
				say("\"Before thou dost depart, let me show thee a few of my trinkets. Here is my...\"");
				UI_push_answers();
				add(["moon", "sextant", "kite", "crystals", "nothing"]);
				fallthrough;

			case "nothing":
				UI_pop_answers();
				fallthrough;

			case "moon":
				var0004 = false;
				var0005 = find_nearby(0x0179, 0x0014, MASK_NONE);
				for (var0008 in var0005 with var0006 to var0007) {
					if (var0008->get_item_frame() == 0x001C) {
						var0004 = true;
					}
				}
				if (var0004) {
					say("\"This represents one of the moons that orbit Britannia.\" He hands the model to you. Taking it, you quickly realize that it is made up entirely of green cheese.~~\"I carved it myself,\" he says as you return it to him.");
				} else {
					say("\"Now where did that go?\" he says, scratching his head. \"Well, it is around here somewhere. I can show thee at a later time.\" He seems more distraught than he is willing to convey.");
				}
				remove("moon");
				gflags[0x01E8] = true;
				fallthrough;

			case "sextant":
				var0009 = false;
				var000A = AVATAR->find_nearby(0x028A, 0x0028, MASK_NONE);
				for (var0008 in var000A with var000B to var000C) {
					if (var0008->get_item_frame() == 0x0001) {
						var0009 = true;
					}
				}
				if (var0009) {
					say("He hands you a solid gold sextant. \"This has been passed on to each and every individual who has ever held a position at the observatory here in Moonglow. 'Tis more than 200 years old.\" He beams as you return it to him.");
				} else {
					say("\"Damn! 'Tis gone! That has been here for more than 200 years.\" He does not seem pleased.");
				}
				remove("sextant");
				gflags[0x01E9] = true;
				fallthrough;

			case "kite":
				var000D = AVATAR->find_nearest(0x0149, ON_SCREEN);
				if (var000D) {
					say("He shows you a kite. \"I made this myself by reading one of the books in my brother's library.\"");
				} else {
					say("\"Where did that disappear to?\" He scratches his chin, obviously puzzled. \"I do hope it has not disappeared. I constructed it from a book in my brother's library.\"");
				}
				remove("kite");
				gflags[0x01EA] = true;
				fallthrough;

			case "crystals":
				if (!gflags[0x01EE]) {
					say("\"This,\" he says, presenting a collection of crystals that seem to be attached in some indeterminable fashion, \"is an orrery viewer. It permits one to see mine orrery here from anywhere in Britannia.\"~~He seems thoughtful.~~\"I know thou cannot stay around here to see the alignment.");
				}
				say("Wouldst thou like to have this to view mine orrery and better predict the planet's position?\"");
				gflags[0x01DD] = true;
				var000E = Func090A();
				if (var000E) {
					say("He smiles proudly. \"I thought thou wouldst. However, there is one problem. I still need one more crystal to completely finish the viewer. If thou wouldst visit the tavern, thou mightest find one of the merchants or travellers there who sometimes provide me with crystals. If thou canst find another crystal, I will be able to give thee the completed viewer.\"");
				} else {
					say("\"Very well, ",
						var0001,
						". I hope thou dost not regret this later.\"");
					gflags[0x01EE] = true;
				}
				remove("crystals");
				fallthrough;

			case "have crystal":
				var000F = Func0931(PARTY, 0x0001, 0x02EA, QUALITY_ANY, FRAME_ANY);
				if (var000F) {
					say("\"Thou hast the crystal? Excellent.\" He takes the crystal that you got from the adventurer and begins attaching it to his orrery viewer. Shortly he is finished.");
					gflags[0x01ED] = false;
					ADDOM->remove_npc();
					remove("have crystal");
					add("want crystal");
					var0010 = UI_remove_party_items(0x0001, 0x02EA, QUALITY_ANY, FRAME_ANY, false);
				} else {
					say("\"I am sorry, ",
						var0001,
						", but I must have the crystal to complete the viewer.\"");
				}
				fallthrough;

			case "want crystal":
				var0011 = UI_add_party_items(0x0001, 0x0302, QUALITY_ANY, 0x0001, 0x0000);
				if (var0011) {
					say("\"Use it well, ",
						var0001,
						".\" He gives the contraption to you.");
					gflags[0x01F0] = true;
				} else {
					say("He shakes his head. \"Thou dost not have enough room for it. Perhaps when thou dost return at a later time.\"");
				}
				remove("want crystal");
				fallthrough;
		}
	}
	if (event == PROXIMITY) {
		Func092E(0xFF08);
	}
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern void Func092E 0x92E (var var0000);

void Func04F9 object#(0x4F9) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;

	if (event == DOUBLECLICK) {
		0xFF07->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x01F9]) {
			say("You see a scholarly-looking man with a friendly expression.");
			gflags[0x01F9] = true;
			gflags[0x01F7] = true;
		} else {
			say("\"Salutations, ",
				var0000,
				".\"");
			if (gflags[0x01F6]) {
				add("North East sea");
			}
		}
		if (gflags[0x01E3]) {
			add("Zelda's response");
		}
		converse (0) {
			case "name":
				say("\"Thou mayest call me Nelson.\"");
				remove("name");
				if (gflags[0x01F6]) {
					add("North East sea");
				}
				fallthrough;

			case "job":
				say("\"I am the Lycaeum head here in Moonglow, but,\" he leans close to you, \"mine assistant, Zelda, does most of the work.\"");
				add(["Moonglow", "Zelda"]);
				fallthrough;

			case "Zelda":
				say("\"She is an excellent assistant. The Lycaeum has never performed better. However, she is a little too stern, I believe, and,\" he leans in again, \"I think she is quite beautiful.\"");
				add(["stern", "beautiful"]);
				remove("Zelda");
				fallthrough;

			case "North East sea":
				say("\"I have heard the rumors of an island, but I know nothing else about it, I am afraid. Thou mightest wish to speak with Jillian -- she should know a little about the area.\"");
				remove("North East sea");
				fallthrough;

			case "stern":
				say("\"She has put an extraordinary amount of time and effort into ensuring the activities in this edifice happen smoothly. And,\" he adds, \"she takes it personally when they do not!\"");
				remove("stern");
				fallthrough;

			case "beautiful":
				say("\"Dost thou not agree? I am flushed whenever her fair presence passes by. But!\" he holds up his index finger, \"I fear she does not share a mutual attraction. And she is far too serious for me to feel comfortable with a proposal.\"");
				gflags[0x01DC] = true;
				if (gflags[0x01DA]) {
					add("Zelda's feelings");
				}
				remove("beautiful");
				fallthrough;

			case "Moonglow":
				say("\"I love the island and the people. Mostly the people.\"");
				add("people");
				remove("Moonglow");
				fallthrough;

			case "people":
				say("\"Hast thou met my twin brother? He heads the Observatory here. And somewhere in the Lycaeum thou canst find Mariah. Sadly, she is not well up here.\" He touches his head.~~\"Jillian, the sage, also studies here in the Lycaeum. A good person to see about other residents of Moonglow would be the bartender at the Friendly Knave. Phearcy knows almost all of us here on the island.~~\"Oh, and thou must not forget the legend of Penumbra. 'Twas two hundred years ago she cast herself into a deep slumber. Now that I think about it, ",
					var0000,
					", thou art the one she predicted would awaken her.~~\"Better hasten, ",
					var0001,
					",\" he chuckles.");
				remove("people");
				add(["twin", "Mariah", "Jillian", "Phearcy", "Penumbra"]);
				fallthrough;

			case "twin":
				say("\"His name is Brion. People often mistake us for each other, but I think we are nothing alike -- he got all the looks -and- the brains!\"");
				remove("twin");
				fallthrough;

			case "Mariah":
				say("\"She was once an adept mage, but ever since the wizards began losing their, er, faculties, she followed suit.\"");
				remove("Mariah");
				fallthrough;

			case "Jillian":
				say("\"She rarely has time for visitors, but I know she takes on students every now and then.\"");
				remove("Jillian");
				fallthrough;

			case "Phearcy":
				say("\"That one keeps up on his politics, or rather, his gossip,\" he says, grinning. \"If thou dost want to learn about a resident of Moonglow, visit him.\"");
				remove("Phearcy");
				fallthrough;

			case "Penumbra":
				say("\"Interestingly enough, no one has ever discovered how to enter her house. I believe those mysterious signs on the door require one to have specific items to place next to the plaques.\"");
				remove("Penumbra");
				fallthrough;

			case "Zelda's response":
				say("He smiles broadly. \"Truly that was her response? I am pleased to no end! I thank thee, ",
					var0000,
					", for bringing this joyful message.\"");
				remove("Zelda's response");
				fallthrough;

			case "Zelda's feelings":
				say("\"Oh. Oh well,\" he shrugs in an attempt at indifference. \"She was not truly important anyway.\"");
				remove("Zelda's feelings");
				fallthrough;

			case "bye":
				if (gflags[0x01E4] && (gflags[0x01E5] && (gflags[0x01E6] && gflags[0x01E7]))) {
					say("\"Good day, ",
						var0001,
						". Thou of course dost have free reign of the Lycaeum.\"*");
					abort;
				}
				say("\"Of course thou mayest have free reign of the building. But first,\" he grins, \"let me show thee my...\"");
				UI_push_answers();
				add(["bookstand", "bookmark", "quill holder", "book", "nothing"]);
				fallthrough;

			case "bookstand":
				var0002 = AVATAR->find_nearest(0x02B9, ON_SCREEN);
				if (var0002) {
					say("\"This solid brass bookstand has matching, overhanging candleholder for late-night exploration in literature. I invented it myself.\"");
				} else {
					say("\"'Twas just here...\" he scratches his chin. \"Oh well, never mind.\"");
				}
				remove("bookstand");
				gflags[0x01E4] = true;
				fallthrough;

			case "bookmark":
				var0003 = false;
				var0004 = find_nearby(0x02A3, 0x0014, MASK_NONE);
				for (var0007 in var0004 with var0005 to var0006) {
					if (var0007->get_item_frame() == 0x0004) {
						var0003 = true;
					}
				}
				if (var0003) {
					say("\"This,\" he says, holding a solid-gold sheet shaped like a maple leaf, \"I purchased at an auction for only half of its value.\"");
				} else {
					say("He appears upset. \"I knew someday that would be stolen,\" he says angrily.~~\"I should have known better than to show it to every person who comes to visit.\"");
				}
				remove("bookmark");
				gflags[0x01E5] = true;
				fallthrough;

			case "quill holder":
				var0008 = false;
				var0009 = find_nearby(0x02A3, 0x0014, MASK_NONE);
				for (var0007 in var0009 with var000A to var000B) {
					if (var0007->get_item_frame() == 0x0003) {
						var0008 = true;
					}
				}
				var000C = false;
				var000D = find_nearby(0x02A3, 0x0014, MASK_NONE);
				for (var0007 in var000D with var000E to var000F) {
					if (var0007->get_item_frame() == 0x0005) {
						var000C = true;
					}
				}
				if (var0008) {
					if (var000C) {
						say("He shows you a serpent-shaped, oaken quill holder and its matching scroll opener. \"This I picked up\twhile travelling through -- thou canst guess it -- Serpent's Hold.\"");
					} else {
						say("He shows you a serpent-shaped, oaken quill holder.\t\"This I picked up while travelling through -- thou\tcanst guess it -- Serpent's Hold. But,\" he appears puzzled, \"I could have sworn the matching letter opener was here as well. How odd.\"");
					}
				} else {
					say("\"The quill holder is gone?\" he exclaims. \"And what about the...\" he seems to be searching for something.~~\"The matching scroll opener is also missing!\"");
				}
				remove("quill holder");
				gflags[0x01E6] = true;
				fallthrough;

			case "book":
				var0010 = false;
				var0011 = find_nearby(0x02A3, 0x0014, MASK_NONE);
				for (var0010 in var0009 with var0012 to var0013) {
					if (var0010->get_item_quality() == 0x0004) {
						var0010 = true;
					}
				}
				if (var0010) {
					say("He gingerly pulls out a leatherbound tome. From his robe, he removes a handkerchief and meticulously wipes away the dust.~~\"This was given to me by Lord British himself. See, 'tis the first edition.\"~~The book he carefully places in your palms is very old, and the gold leaf plating of the title has been almost entirely rubbed off. Turning the book right side up, you can read the title: \"Stranger in a Strange Land.\"");
				} else {
					say("\"'Tis not here... Oh well, Zelda must have put it back on the shelf.\" He sighs.");
				}
				remove("book");
				gflags[0x01E7] = true;
				fallthrough;

			case "nothing":
				UI_pop_answers();
				fallthrough;
		}
	}
	if (event == PROXIMITY) {
		Func092E(0xFF07);
	}
}

extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08CF 0x8CF ();
extern void Func0911 0x911 (var var0000);
extern var Func090A 0x90A ();
extern void Func0919 0x919 ();
extern void Func091A 0x91A ();
extern void Func092E 0x92E (var var0000);

void Func04FA object#(0x4FA) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		0xFF06->show_npc_face(0x0000);
		var0000 = Func0908();
		var0001 = false;
		var0002 = Func08F7(BALAYNA);
		var0003 = UI_part_of_day();
		var0004 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
		if (var0003 == NIGHT) {
			if (gflags[0x01FC]) {
				say("Rankin is unable to speak with you now, for he is conducting the Fellowship meeting.*");
				Func08CF();
				abort;
			}
			say("The man is too busy to speak with you now, for he is conducting the Fellowship meeting.*");
			Func08CF();
			abort;
		}
		add(["name", "job", "Fellowship", "bye"]);
		if (gflags[0x0284]) {
			add("Elizabeth and Abraham");
		}
		if (!gflags[0x01FC]) {
			say("The man greets you with a pleasant smile.");
			gflags[0x01FC] = true;
		} else {
			say("Rankin smiles. \"Please tell me how I may be of assistance, ",
				var0000,
				".\"");
			if (gflags[0x01D8] && (!gflags[0x020A])) {
				if (gflags[0x020B]) {
					add("Balayna's accusation");
				}
			}
		}
		if (gflags[0x020F]) {
			add("merchant");
		}
		if (gflags[0x020A] && (!gflags[0x0210])) {
			add("Balayna");
		}
		converse (0) {
			case "name":
				say("\"Thou mayest call me Rankin, ",
					var0000,
					".\"");
				gflags[0x020B] = true;
				remove("name");
				if (gflags[0x01D8] && (!gflags[0x020A])) {
					if (!var0001) {
						add("Balayna's accusation");
					}
				}
				fallthrough;

			case "job":
				say("\"I am the new branch leader of The Fellowship here in Moonglow.\"");
				if (gflags[0x01F5]) {
					add("voice");
				}
				if (gflags[0x01D8] && (!gflags[0x020A])) {
					if (!var0001) {
						add("Balayna's accusation");
					}
				}
				add(["new", "Moonglow"]);
				fallthrough;

			case "Balayna":
				Func0911(0x0032);
				if (gflags[0x020D]) {
					say("\"What dost thou want to know about her, ",
						var0000,
						"?\"");
					add("liqueur");
				} else if (gflags[0x020C]) {
					var0005 = UI_get_timer(0x0008);
					if (var0005 > 0x0006) {
						say("\"She has left for Britain on important business,\" he smiles. \"I do not expect her return any time soon.\"");
					} else {
						say("\"Oh? Thou hast not seen her lately, either? I wonder what she has been up to.\" He gives a slight smile.");
						if (var0004) {
							say("The Cube vibrates. \"Actually, I know exactly where she is.\"");
							add("where");
						}
					}
				} else if (var0002) {
					say("\"She is right there,\" he says, pointing to Balayna.");
				} else {
					say("\"I have not seen her in some time, ",
						var0000,
						". Perhaps thou mayest find her in her house.\"");
					BALAYNA->remove_npc();
					gflags[0x020C] = true;
					UI_set_timer(0x0008);
				}
				remove("Balayna");
				fallthrough;

			case "where":
				say("\"She has conveniently stopped breathing!\" Rankin laughs.");
				remove("where");
				fallthrough;

			case "liqueur":
				say("\"Yes, I told thee the merchant brought it from Britain. Didst thou give it to her?");
				var0006 = Func090A();
				if (var0006) {
					say("\"What then,\" he asks, \"is the problem?\"");
					UI_push_answers();
					add(["she died", "no problem"]);
				} else {
					say("\"Ah, well. Then I hope thou wilt have the chance later.\" He stares at you oddly for a moment, and then smiles again.");
				}
				fallthrough;

			case "no problem":
				say("\"Excellent, then.\"");
				remove("no problem");
				UI_pop_answers();
				fallthrough;

			case "she died":
				gflags[0x0210] = true;
				remove(["no problem", "she died"]);
				say("\"What!\" he appears stunned. \"Died? How is that possible?\"");
				add(["don't know", "liqueur"]);
				fallthrough;

			case "don't know":
				say("\"Well this is truly a tragedy! Please, ",
					var0000,
					", I would prefer to be alone now. If thou wouldst be so kind...\"*");
				abort;

			case "liqueur":
				remove(["liqueur", "don't know"]);
				UI_pop_answers();
				say("\"The liqueur? Why, art thou implying that the merchant had cause to kill her? That is absurd!\" He appears thoughtful.~ \"Or perhaps not. Mayhaps we will look into that, what sayest thou?\"");
				var0007 = Func090A();
				if (var0007) {
					say("\"Excellent. Let me know if thou dost find any information. Meanwhile, I will make arrangements for her funeral.\" He shakes his head sadly.");
					gflags[0x020F] = true;
				} else {
					say("\"Very well, then I must conduct the search on mine own, -after- I have arranged for the funeral.\"*");
					abort;
				}
				fallthrough;

			case "merchant":
				say("\"Dost thou have any news of the travelling merchant who killed Balayna?");
				var0008 = Func090A();
				if (var0008) {
					say("\"Very good, ",
						var0000,
						". What is thy news?\"");
					UI_push_answers();
					add(["not ready", "dead"]);
				} else {
					say("\"Ah, well. Keep searching. I am positive thou wilt come across some information soon!\"");
				}
				remove("merchant");
				fallthrough;

			case "not ready":
				say("\"Very well, ",
					var0000,
					", I can wait until thou hast learned more.\"");
				remove("not ready");
				UI_pop_answers();
				fallthrough;

			case "dead":
				say("\"Really!\" he seems genuinely surprised. \"How, ah, wonderful.\" Then I guess the murder has been avenged.\"");
				gflags[0x020F] = false;
				remove("dead");
				UI_pop_answers();
				fallthrough;

			case "new":
				say("\"He grins, obviously embarrassed. \"I am sorry. Though the branch opened here several years ago, it is the newest branch on Britannia. I still consider myself a new branch head here.\"");
				remove("new");
				fallthrough;

			case "Moonglow":
				say("\"Ah, yes, Moonglow. It is a pleasant town. It is possible to find all sorts of people here.\"");
				add("people");
				remove("Moonglow");
				fallthrough;

			case "people":
				say("\"I am sorry, but I prefer not to gossip.\"");
				remove("people");
				fallthrough;

			case "Fellowship":
				var0009 = UI_wearing_fellowship();
				if (var0009) {
					if (gflags[0x0006]) {
						say("\"As is customary, our meetings are at 9 p.m. Please feel free to join us.\"");
					} else {
						say("\"Thou shouldst really return thy medallion to the person from whom it came. Only Fellowship members are permitted to wear them.\"");
					}
				} else {
					Func0919();
					say("\"If thou hast a free moment, I would be quite happy to discuss our philosophy with thee.\"");
					add("philosophy");
				}
				remove("Fellowship");
				fallthrough;

			case "philosophy":
				Func091A();
				remove("philosophy");
				fallthrough;

			case "voice":
				if (gflags[0x0006]) {
					say("\"Relax, friend, thou wilt hear when the time is right.\"");
				} else {
					say("\"There is an inner voice that exists within each and every one of us. This voice is our companion and guide.~~\"The deeper one's involvement with The Fellowship, the more often one is able to hear one's inner voice.\"");
				}
				remove("voice");
				fallthrough;

			case "Elizabeth and Abraham":
				if (!gflags[0x0243]) {
					say("\"What dear people! They were just here in order to give me my training session. I was just appointed branch leader. This is a new branch, thou knowest. Anyway, Elizabeth and Abraham left to travel all the way to the gargoyle island, Terfin.\"");
					gflags[0x01EF] = true;
				} else {
					say("\"I have not seen them since they gave me my training session, many days ago.\"");
				}
				remove("Elizabeth and Abraham");
				fallthrough;

			case "Balayna's accusation":
				if (var0002) {
					say("\"Shhh! Talk to me about it later,\" he whispers, gesturing subtly towards Balayna, \"when she is not around.\"");
				} else {
					say("He begins to look amused.~~\"I would not let it worry thee too much, ",
						var0000,
						". I am afraid Balayna is a bit too ambitious. I would expect she overheard one of my conversion speeches and misunderstood my words. I will have to discuss this with her when I have more time so I may allay her fears.\" His eyes widen, as if he is remembering something.~~\"I had forgotten, she requested a small vial of liqueur from an itinerant merchant who would be passing through Britain. He brought it here a few days ago and I have not had a chance to give it to her. Wouldst thou be willing to deliver it to her for me, ",
						var0000,
						"?\"");
					var000A = Func090A();
					if (var000A) {
						say("\"Excellent, my friend.\"");
						var000B = UI_add_party_items(0x0001, 0x02ED, QUALITY_ANY, 0x001E, false);
						if (var000B) {
							say("\"I thank thee.\" He gives you the vial of liquor.");
							gflags[0x020E] = true;
						} else {
							say("\"Ah, well, thou art carrying too much. I will simply have to save it for when I have time to talk with her. Thank thee anyway.\"");
							UI_set_timer(0x0008);
							BALAYNA->remove_npc();
							gflags[0x020C] = true;
						}
					} else {
						say("\"Very well. I will have to save it for when I have time to talk with her. Thank thee anyway.\"");
						UI_set_timer(0x0008);
						BALAYNA->remove_npc();
						gflags[0x020C] = true;
					}
					gflags[0x020A] = true;
				}
				remove("Balayna's accusation");
				var0001 = true;
				fallthrough;

			case "bye":
				break;
		}
		if (gflags[0x0006]) {
			say("\"May the triad guide thy life.\"*");
		} else {
			say("\"Shouldst thou find an interest in The Fellowship, ",
				var0000,
				", seek Batlin in Britain. Farewell, ",
				var0000,
				".\"*");
		}
	}
	if (event == PROXIMITY) {
		Func092E(0xFF06);
	}
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0911 0x911 (var var0000);
extern void Func092E 0x92E (var var0000);

void Func04FB object#(0x4FB) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		0xFF05->show_npc_face(0x0000);
		var0000 = UI_part_of_day();
		var0001 = UI_wearing_fellowship();
		var0002 = Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001);
		if (var0000 == NIGHT) {
			say("Danag nods his head at you. \"I do not mean to be impolite, but I am concentrating on the games. I wish to win a bundle tonight!\"");
			say("He rubs his hand with glee.*");
			abort;
		}
		add(["name", "job", "bye"]);
		if (gflags[0x0104] || gflags[0x0135]) {
			add("Hook");
		}
		if (gflags[0x0264]) {
			add("Elizabeth and Abraham");
		}
		if (!gflags[0x02A9]) {
			say("You see a jovial man with a wide smile. It is obvious he is enjoying his life.");
			if (var0001) {
				say("He notices your medallion.");
				say("\"Fellow member! How art thee! I hope thy journey to Buccaneer's Den was not too troublesome! Welcome to our island!\"");
			}
			if (var0002) {
				say("The Cube vibrates.");
				say("\"And I recognize thee as the Avatar! I know that thou art condemned to die!\"");
				say("Danag smiles as if he had just said that you had been invited to dine with the king.");
			}
			gflags[0x02A9] = true;
		} else {
			say("\"Hello, there!\" Danag says.");
		}
		converse (0) {
			case "name":
				say("\"I am Danag, my friend.\" The man overdoes a majestic bow.");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am interim Fellowship Branch leader here on Buccaneer's Den. Our regular leader, Abraham, is away on Fellowship business at the moment.\"");
				add(["Fellowship", "Abraham"]);
				fallthrough;

			case "Fellowship":
				say("\"The Fellowship has been present on Buccaneer's Den for a long time. This is one of the oldest branches in Britannia, second only to the headquarters in Britain. Thou mayest wonder why an island of such ill-repute would attract The Fellowship.\"");
				remove("Fellowship");
				add("wonder");
				fallthrough;

			case "wonder":
				say("\"The founders of The Fellowship felt that the people who inhabit this island would benefit the most from our organization.");
				if (var0002) {
					say("\"Especially since we would help them build an empire of sin and gluttony out of Buccaneer's Den.\"");
					say("You notice the Cube has been vibrating while Danag was speaking.");
				} else {
					say("\"Amidst all of the sin, the debauchery, the piracy, the gambling, the drunkenness -- The Fellowship has made its stand and recruited members to follow our principles. Buccaneer's Den has changed as a result.\"");
				}
				remove("wonder");
				add("Buccaneer's Den");
				fallthrough;

			case "Buccaneer's Den":
				say("\"Long ago it was merely a hideout for pirates, scavengers, and rogues. Look around.");
				if (var0002) {
					say("\"Now it is the center of corruption in all of Britannia. The pirates are all controlled by The Fellowship.\"");
					say("The Cube continues to vibrate.");
				} else {
					say("\"Now Buccaneer's Den is an island paradise. It has its own commerce. It pays taxes to Lord British. The pirates here are now businessmen. They have made something of their lives.");
				}
				say("\"As a result, The Baths and The House of Games are two of the most profitable establishments in the country.\"");
				remove("Buccaneer's Den");
				add(["The Baths", "House of Games"]);
				fallthrough;

			case "The Baths":
				if (var0002) {
					say("\"It is, of course, a place where one may experience the pleasures of the flesh. All of the profits go to The Fellowship.");
				} else {
					say("\"It is a purely innocent business which caters to the weary who are in need of relaxation. One may receive physical and mental cleansing there.");
				}
				say("\"It is truly a jewel in the crown that is Britannia.\"");
				remove("The Baths");
				fallthrough;

			case "House of Games":
				if (var0002) {
					say("\"Why, it is a gambling parlor! The Fellowship certainly takes in a bundle from that place!\"");
				} else {
					say("\"It is an outfit which challenges the mind and its ability for assessing strategy in life. Exercising this aspect of one's brain is important for one's self-esteem and well-being.\"");
				}
				remove("House of Games");
				fallthrough;

			case "Abraham":
				say("\"Abraham is one of the members of the inner circle of The Fellowship. He and his colleague Elizabeth travel the country periodically, usually distributing or collecting the organization's funds and doing business at the other branches.\"");
				if (var0002) {
					say("The Cube vibrates.");
					say("\"Uhm... er... he is also a coordinator for executions and he cheats at cards.\"");
				}
				remove("Abraham");
				add("Elizabeth");
				fallthrough;

			case "Elizabeth":
				say("\"Elizabeth is an extremely intelligent woman who acts as Director of Special Projects. She usually works with Batlin in Britain, but she spends most of her time travelling from branch to branch.\"");
				if (var0002) {
					say("As the Cube vibrates, Danag adds, \"She is, uhm... also a royal she-bitch and will murder thee at a moment's notice.\"");
				}
				remove("Elizabeth");
				add("Special Projects");
				fallthrough;

			case "Special Projects":
				say("\"They might be anything from building a shelter for poor peasants to creating a new branch in a town without the benefit of a Fellowship Hall.\"");
				if (var0002) {
					say("As the Cube vibrates, Danag proudly adds, \"Our current Special Project is building the Black Gate for The Guardian. It is located at the Isle of the Avatar in our secret underground complex!\"");
					add(["Black Gate", "complex"]);
				}
				remove("Special Projects");
				fallthrough;

			case "Black Gate":
				say("Danag's eyes widen with excitement. \"It is the gateway for our coming Lord and Master! He will be coming through in virtually a few hours!\"");
				remove("Black Gate");
				fallthrough;

			case "complex":
				say("\"It is inside a dungeon within the Shrine of the Codex. A barrier keeps out unwanted visitors. A special key opens the barrier, and only a few select people have one.\"");
				remove("complex");
				add("key");
				fallthrough;

			case "key":
				say("\"I do not own one. The only people that do are Elizabeth and Abraham, Batlin, and Hook himself. Hook probably keeps his key in his abode.\"");
				remove("key");
				fallthrough;

			case "Hook":
				if (var0002) {
					say("The Cube vibrates.");
					say("\"Man with a Hook? That's his name! 'Hook'! He lives here on the island! In fact, his quarters are in the secret catacombs behind the House of Games! Thou canst reach it by asking Sintag the guard about Hook. Of course, thou dost know that Hook is The Fellowship's chief executioner... along with his assistant, the gargoyle Forskis.\"");
					add(["executioner", "Forskis"]);
					Func0911(0x0064);
				} else {
					say("\"A pirate with a hook for a hand? No... I do not believe I know him. There are many pirates on this island. Many of them are missing appendages, too!\"");
				}
				remove("Hook");
				fallthrough;

			case "Elizabeth and Abraham":
				say("\"They usually travel together. They just arrived from our Meditation Retreat near Serpent's Hold and I believe they are somewhere on the island. Abraham told me I must keep working as interim branch leader until his return.\"");
				gflags[0x02A8] = true;
				if (var0002) {
					say("The Cube vibrates.");
					say("\"Actually, I believe they are on their way to the Isle of the Avatar to take care of our new Special Project.\"");
				}
				remove("Elizabeth and Abraham");
				fallthrough;

			case "executioner":
				say("\"That's right. Hook does all the dirty work for The Fellowship. He was trained by Master De Snel in Jhelom. De Snel trained all the previous executioners as well. In fact, De Snel himself was The Fellowship's first executioner!\"");
				remove("executioner");
				fallthrough;

			case "Forskis":
				say("\"I understand the gargoyle's name means 'henchman' in Gargish. He's a tough wingless gargoyle who helps Hook out. I believe he resides in the catacombs with Hook.\"");
				remove("Forskis");
				fallthrough;

			case "bye":
				break;
		}
		say("\"Farewell!\"*");
	}
	if (event == PROXIMITY) {
		Func092E(0xFF05);
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern void Func08A5 0x8A5 ();

void Func04FC object#(0x4FC) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		0xFF04->show_npc_face(0x0000);
		var0000 = Func08F7(0xFF03);
		var0001 = Func08F7(0xFF0C);
		var0002 = false;
		var0003 = Func0909();
		add(["name", "job", "bye"]);
		if (!gflags[0x02C9]) {
			say("You see a rather reserved-looking gargoyle.");
			gflags[0x02C9] = true;
		} else {
			say("Kallibrus smiles and greets you with a nod.");
		}
		converse (0) {
			case "name":
				say("\"To be known as Kallibrus.\"");
				remove("name");
				add("Kallibrus");
				fallthrough;

			case "Kallibrus":
				say("\"To be not my true name. To have been given this name by Cairbre, who could not pronounce my Gargish name.\"");
				remove("Kallibrus");
				if (!var0002) {
					add("Cairbre");
				}
				fallthrough;

			case "job":
				say("\"To work as a warrior for hire most of the time. To be between jobs now. To help friend Cosmo find unicorn.\"");
				gflags[0x02E0] = true;
				remove("job");
				add(["Cosmo", "unicorn"]);
				fallthrough;

			case "Cairbre":
				say("\"To have been partners for many, many years. To have been bonded for even longer!\"");
				if (var0001) {
					say("*");
					0xFF0C->say("\"He, uh, means by bonded, that we are very good friends.\" He turns to the gargoyle.~~\"I told thee to be careful how thou dost phrase things. Thou couldst start many false rumors if thou wert not more specific.\"~~The gargoyle nods sheepishly.*");
					0xFF0C->hide();
					0xFF04->show_npc_face(0x0000);
				}
				var0002 = true;
				remove("Cairbre");
				fallthrough;

			case "Cosmo":
				say("\"To have known him for many years, but not as long as Cairbre. To be good friend.\"");
				remove("Cosmo");
				if (!var0002) {
					add("Cairbre");
				}
				fallthrough;

			case "unicorn":
				say("\"To be unsure but to think it has something to do with a woman and, to say how... sex?\"");
				remove("unicorn");
				add(["woman", "sex"]);
				fallthrough;

			case "sex":
				say("\"To know nothing about this word. To mean something similar to reproduce?\"");
				var0004 = Func090A();
				if (var0004) {
					say("\"To tell you gargoyles reproduce differently than humans seem to, but to explain too poorly to be useful.\"");
				} else {
					say("\"To be quite confused.\" He shrugs.");
				}
				remove("sex");
				fallthrough;

			case "woman":
				say("\"To be related to difference in genders, I know, but to see no such thing in gargoyles. To believe there is a certain human... woman... who sent him here.~~\"To have heard Cosmo say, `love,' but Cairbre claims there is no such thing. To comprehend not, but to help friends anyway.\"");
				if (var0001) {
					say("*");
					0xFF0C->say("\"That is what I like about him, ",
						var0003,
						", loyal to the end!\" he says, patting the gargoyle on the shoulder.*");
					0xFF0C->hide();
					0xFF04->show_npc_face(0x0000);
				}
				remove("woman");
				fallthrough;

			case "bye":
				break;
		}
		say("\"To say `til next time, ",
			var0003,
			",\" he says.*");
	}
	if (event == PROXIMITY) {
		Func08A5();
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func0864 0x864 ();

void Func04FD object#(0x4FD) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		0xFF03->show_npc_face(0x0000);
		var0000 = Func0909();
		var0001 = Func08F7(0xFF04);
		var0002 = Func08F7(0xFF0C);
		add(["name", "job", "bye"]);
		if (!gflags[0x02CB]) {
			say("The wide-eyed expression of this youth seems indicative of his naivete.");
			gflags[0x02CB] = true;
		} else {
			say("\"Why, hello there, ",
				var0000,
				",\" says Cosmo.");
		}
		converse (0) {
			case "name":
				say("\"I am Cosmo, ",
					var0000,
					", betrothed of Ophelia.\"");
				gflags[0x02D7] = true;
				remove("name");
				add(["betrothed", "Ophelia"]);
				fallthrough;

			case "job":
				say("\"I am, uh, searching for something, ",
					var0000,
					".\"");
				add("searching");
				fallthrough;

			case "betrothed":
				say("\"Aye, ",
					var0000,
					", we are to be wed as soon I return to her silky arms.\"");
				if (var0002) {
					say("*");
					0xFF0C->say("\"Oh, please!\" He rolls his eyes.*");
					0xFF0C->hide();
					0xFF03->show_npc_face(0x0000);
				}
				remove("betrothed");
				fallthrough;

			case "searching":
				say("\"Well, ",
					var0000,
					", 'tis a bit of a personal matter.\"");
				if (var0002) {
					say("*");
					0xFF0C->say("\"What he is searching for, ",
						var0000,
						", is his virginity!\"*");
					0xFF03->say("\"That is not true!\" He blushes.~~\"I am looking for a way to -prove-... my virginity!\"*");
					0xFF0C->hide();
					add("proof");
				}
				add("personal");
				remove("searching");
				fallthrough;

			case "personal":
				say("\"I would... rather... not discuss it, ",
					var0000,
					",\" he stammers.");
				remove("personal");
				fallthrough;

			case "Ophelia":
				say("\"She is the most beautiful woman in all Britannia. I still find it hard to believe she has agreed to marry me, a lowly warrior. I will travel to the ends of the world for her, if that be necessary, to keep her heart!\"");
				remove("Ophelia");
				fallthrough;

			case "proof":
				say("He looks down at his feet. \"Milady Ophelia is concerned that I might not be... pure. I have waited mine entire life for someone like her. Can she not see that I held myself for marriage?\"");
				add(["held", "pure"]);
				remove("proof");
				fallthrough;

			case "held":
				say("\"Surely thou dost see the value in that, ",
					var0000,
					". No woman would want me if I had not refrained from... well... thou dost understand.\"");
				remove("held");
				fallthrough;

			case "pure":
				say("\"I must prove to the lovely Ophelia that I am still a virgin. To do this I need to demonstrate that a unicorn will allow me to touch it. My friends and I are here to find such a creature, for recent legend purports that one lives in this dungeon.\"");
				gflags[0x02E0] = true;
				if (gflags[0x02D0]) {
					add("the unicorn said no");
				}
				remove("pure");
				fallthrough;

			case "the unicorn said no":
				say("\"Thou hast seen the unicorn?\" He frowns for a moment, but that quickly melts away.~~\"Nevertheless, I shall endeavor to seek it out. Nothing shall keep me from my beloved Ophelia.\"");
				remove("the unicorn said no");
				gflags[0x02D0] = false;
				fallthrough;

			case "bye":
				break;
		}
		say("\"Good day,",
			var0000,
			". If thou dost see the unicorn, tell it to wait for me.\"*");
	}
	if (event == PROXIMITY) {
		Func0864();
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func08F7 0x8F7 (var var0000);

void Func04FE object#(0x4FE) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == PROXIMITY) {
		abort;
	}
	0xFF02->show_npc_face(0x0000);
	var0000 = Func0909();
	if (!gflags[0x02CD]) {
		say("You see a creature the size and shape of a horse. From its head protrudes a single straight horn. It looks at you with eyes that shine with intelligence.");
		gflags[0x02CD] = true;
	} else {
		say("\"I greet thee once again, Avatar,\" says Lasher, the unicorn.");
	}
	converse (["name", "job", "bye"]) {
		case "name":
			say("The creature speaks. \"My name is Lasher.\"");
			remove("name");
			fallthrough;

		case "job":
			say("Lasher looks at you and blinks. \"Come now, Avatar! I do not live by the rules that govern the society of Mankind. There is what I am, which is a unicorn. Then there is my purpose, which is another thing altogether.\"");
			add(["unicorn", "purpose"]);
			fallthrough;

		case "unicorn":
			say("Lasher stares at you, stupefied. \"Tell me, dost thou know what a unicorn is?\"");
			var0001 = Func090A();
			if (!var0001) {
				say("Lasher stares blankly at you. His mouth hangs open. \"Very well. Then I shall tell thee what a unicorn is.");
			} else {
				say("Lasher shakes his head sadly. \"No, thou merely thinks thou dost know what a unicorn is, but I shall tell thee the truth.");
			}
			say("\"A unicorn is one of a family of nature spirits that were once called upon to aid a very powerful wizard many, many years ago.\"");
			remove("unicorn");
			add("wizard");
			fallthrough;

		case "purpose":
			say("\"Oh, do not be coy with me, Avatar. Thou dost know very well the purpose of a unicorn. ~~We are foolproof virgin detectors!\"");
			remove("purpose");
			add("virgin detector");
			fallthrough;

		case "wizard":
			say("\"I do not remember the wizard's name, for much time has passed since then, but suffice it to say that he was a royal bastard. Anyway, for one reason or another, the chieftain of our clan, who at that time was a horse's ass named Sharp-Hoof, decided that rather than heed this wizard's rightful and properly performed ritual of calling, he was going to take the herd and chase after this bevy of really fine fillies.\"");
			remove("wizard");
			add("Sharp-Hoof");
			fallthrough;

		case "Sharp-Hoof":
			say("\"Where was I? Oh, yes, Sharp-Hoof! The next morning, after we had had our way with these fillies, this wizard called us again. This time Sharp-Hoof realized that we had best answer, and were we sorry that we did! The wizard was horribly angry! And, well, I will just say that our agreements with such people are very, very binding.\"");
			remove("Sharp-Hoof");
			add("binding");
			fallthrough;

		case "binding":
			say("\"Not only were we bound in service to this wizard for a thousand years, but he also placed a dreadful curse upon us.\"");
			remove("binding");
			add(["service", "curse"]);
			fallthrough;

		case "service":
			say("\"As it fell out, we did not actually have to serve the wizard for a thousand years. He reduced the time by a few weeks after placing that curse on us.\" Lasher snorts sarcastically, \"I was heartbroken.\"");
			remove("service");
			fallthrough;

		case "curse":
			say("\"We nature spirits used to be renowned for our randiness, and this wizard had called upon us to assist him in the seduction of some maiden. When we stood him up... Well, let us just say that he was one magician who was having a problem convincing his magic wand to work. Anyway, in a pathetic attempt to bolster his diminished feelings of manhood, he ruined us with an awesomely powerful Curse of Chastity.\"");
			remove("curse");
			add("Chastity");
			fallthrough;

		case "Chastity":
			say("\"It was a terrible curse. First, it drove us to kill all of the female members of our clan. Then it afflicted us with the particular sensitivity for which we have become known.\"");
			remove("Chastity");
			fallthrough;

		case "virgin detector":
			say("\"That is correct. So sensitive are members of my race to all forms of sexual energy that we can only tolerate physical contact with one who has not yet had any experience in that form of procreation - or recreation, if thou dost prefer.\"");
			remove("virgin detector");
			add("sensitive");
			fallthrough;

		case "sensitive":
			say("\"Yes, I find it most unpleasant to actually come into physical contact with anyone who is not a virgin, and I will avoid doing so whenever possible.\"");
			remove("sensitive");
			add(["avoid", "unpleasant"]);
			fallthrough;

		case "avoid":
			say("\"Yes, well, I did not wish to get this personal with thee, but if thou does not mind, art thou a virgin?\"");
			var0002 = Func090A();
			if (!var0002) {
				if (gflags[0x029D] || (gflags[0x029C] || gflags[0x029E])) {
					say("\"I thought as much!\" Lasher starts to pace nervously. \"If thou wouldst not mind standing back a bit, I would be most appreciative.\"");
				} else {
					say("Lasher slowly shakes his head. \"Thou dost not have to brag in order to impress me, or fear any sort of verbal chastisements, honestly. By the way, I have an itch right betwixt my shoulder blades. Wouldst thou mind scratching it for me?\" Lasher stretches out toward you. \"Thank thee so much.\"");
					var0003 = UI_is_pc_female();
					var0004 = Func08F7(IOLO);
					var0005 = Func08F7(SHAMINO);
					var0006 = Func08F7(DUPRE);
					if (!var0003) {
						if (var0004) {
							IOLO->say("\"There's no shame in it, milord,\" says Iolo, looking very serious.*");
							IOLO->hide();
							0xFF02->show_npc_face(0x0000);
						}
						if (var0005) {
							SHAMINO->say("\"No, it is perfectly understandable. Thou hast been so busy lately,\" says Shamino. You sense he is struggling to maintain a straight face.*");
							SHAMINO->hide();
							0xFF02->show_npc_face(0x0000);
						}
						if (var0006) {
							DUPRE->say("\"Why dost thou not go and pet the nice horsey. We would do it, but I think he prefers thee.\" With that, you hear an explosion of snorts and giggles.*");
							DUPRE->hide();
							0xFF02->show_npc_face(0x0000);
						}
						add("virginity");
					}
				}
			} else if (gflags[0x029D] || (gflags[0x029C] || gflags[0x029E])) {
				say("\"I beg thy pardon, but perhaps thou shouldst go to the Lycaeum and have someone look up the definition of the word 'virginity' for thee. Wouldst thou mind stepping back, please?! Thou dost make me nervous.\"");
			} else {
				say("\"Yes, I could tell the answer to my question before thou didst even speak it. Art thou a virgin by choice or by circumstance?\"");
				add(["choice", "circumstance"]);
			}
			remove("avoid");
			fallthrough;

		case "virginity":
			say("\"Surely, Avatar, thou knowest that thou dost magically regain thy virginity each time upon returning to Britannia! Hast thou remained a virgin since then by choice or by circumstance?\"");
			remove("virginity");
			add(["choice", "circumstance"]);
			fallthrough;

		case "choice":
			say("\"Well, I am sure thou wilt find the right person one day.\"");
			remove(["choice", "circumstance"]);
			fallthrough;

		case "circumstance":
			say("\"That is too bad, I am very sorry. I would love to be able to help thee, but that is no longer my purpose.\"");
			remove(["circumstance", "choice"]);
			add("help");
			fallthrough;

		case "help":
			say("\"Oh, I do not know. It has been so long since I was personally involved in such matters. Art thou seeking love or art thou seeking lust?\"");
			add(["love", "lust"]);
			remove("help");
			fallthrough;

		case "love":
			say("\"Hmmm, love is usually a very elusive quarry. I suppose that thou canst try thy luck in the city of Cove. It is a city of lovers, or so I have heard.\"");
			remove(["love", "lust"]);
			fallthrough;

		case "lust":
			say("\"If quenching thy lust is thine only concern, then thou shouldst find satisfaction at the Baths, in Buccaneer's Den. But be sure to take a full purse.\"");
			remove(["love", "lust"]);
			fallthrough;

		case "unpleasant":
			say("\"Actually, the part of being a virgin detector that I find the most intolerable is having to perform upon demand for some clever mage or bard or hero who wants a potential wife to try to touch me.\"");
			remove("unpleasant");
			add("wife");
			fallthrough;

		case "wife":
			say("\"It is a tragedy. The man always gets nervous, then places a condition on the marriage that his bride must be a virgin. They call me to put her to the test, and the man's bachelorhood is granted a reprieve. I have destroyed more engagements than the Bubonic Plague.\"");
			remove("wife");
			if (!gflags[0x02D1]) {
				add("bachelorhood");
			}
			fallthrough;

		case "bachelorhood":
			say("\"Just like those fools who are wandering around down here looking for me for the same reason, I would wager. Well, they can lose that notion. I like women, I truly do, and frankly, I am sick and tired of being used as the instrument of their humiliation.\"");
			remove("marriages");
			if (gflags[0x02E0]) {
				add("male virginity test");
			} else {
				add("fools");
			}
			remove("bachelorhood");
			fallthrough;

		case "fools":
			say("\"I am a magical creature. I can avoid them down here as long as I want. They will die of old age before they catch me. I refuse to assist them in weaseling out of some breach of promise. Thou canst tell them that if thou dost see them.\"");
			gflags[0x02D0] = true;
			remove("fools");
			fallthrough;

		case "male virginity test":
			say("\"They want the virginity test for a man who is getting married?!\" Lasher lets out a long surprised laugh. \"In all mine existence, I have never heard of such a thing!\"");
			remove("male virginity test");
			add("getting married");
			fallthrough;

		case "getting married":
			say("\"Oh, she must be quite a ravishing maiden if he is willing to risk life and limb to come down here and prove his virtue.\"");
			remove("getting married");
			add("ravishing maiden");
			fallthrough;

		case "ravishing maiden":
			say("\"This boy must be smitten something fierce by this maid. I suppose that I should go and investigate this further. If he is as sincere about this as thou dost say, then perhaps I will help the poor lad.\"");
			remove("ravishing maiden");
			gflags[0x02D1] = true;
			fallthrough;

		case "bye":
			break;
	}
	say("\"Fare thee well, Avatar.\"*");
}

extern var Func08F7 0x8F7 (var var0000);

void Func04FF object#(0x4FF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == PROXIMITY) {
		abort;
	}
	0xFF01->show_npc_face(0x0000);
	var0000 = Func08F7(0xFF0F);
	var0001 = Func08F7(SPARK);
	var0002 = Func08F7(IOLO);
	var0003 = Func08F7(DUPRE);
	var0004 = false;
	add(["name", "job", "bye"]);
	if (!gflags[0x02C0]) {
		say("You see a lovely naked woman. She is not in the least concerned that she is wearing no clothes.*");
		if (var0001 && var0002) {
			SPARK->say("Spark's eyes widen and his jaw drops.*");
			SPARK->hide();
			IOLO->say("\"Close thy mouth, boy. An insect may fly in. And put thine eyes back in thine head. They shall look strange dangling out of their sockets.\"*");
			IOLO->hide();
			0xFF01->show_npc_face(0x0000);
		}
		say("\"Me Mama!\" the woman exclaims proudly.");
		if (gflags[0x02D4]) {
			if (var0000) {
				0xFF0F->say("\"Forget it, Myrtle. The jig is up. They know all about us.\"*");
				0xFF01->say("\"Murray! Didst thou give us away? How couldst thou do it? This just isn't going to be much fun anymore knowing that someone is aware of the truth!\"*");
				0xFF0F->say("\"Sorry, dear.\"*");
				0xFF0F->hide();
				0xFF01->show_npc_face(0x0000);
				var0004 = true;
			} else {
				say("You tell the woman what Papa said about their past lives.~~\"Well, blast it! Why did he tell our secret? I will never forgive him! What a knave!\"");
				var0004 = true;
			}
		}
		gflags[0x02C0] = true;
	} else {
		say("\"Hmm?\" asks Mama.");
		if (gflags[0x02D4]) {
			var0004 = true;
		}
	}
	converse (0) {
		case "name":
			if (!var0004) {
				say("\"Me Mama!\" the woman exclaims again.");
			} else {
				say("\"All right. My name is Myrtle. But I like to be called Mama.\"");
			}
			remove("name");
			fallthrough;

		case "job":
			if (!var0004) {
				say("\"Me live with Papa here in cave!\"");
			} else {
				say("\"Well, I would not call it a job, but I just live here in Bee Cave with Papa.\"");
			}
			add(["live", "Papa", "cave"]);
			fallthrough;

		case "live":
			if (!var0004) {
				say("Mama explains. \"Eat. Sleep. Love.\"*");
				if (var0003) {
					DUPRE->say("\"What else is there?\"*");
					DUPRE->hide();
					0xFF01->show_npc_face(0x0000);
				}
			} else {
				say("\"We do our best to eat, sleep, and love each other down here isolated from the rest of society.\"");
			}
			remove("live");
			fallthrough;

		case "Papa":
			if (!var0004) {
				say("\"Mmmmmmm. Papa! Mama love Papa!\"");
			} else {
				say("\"He's mostly a lazy beggar, but I still love him.\"");
			}
			remove("Papa");
			fallthrough;

		case "cave":
			if (!var0004) {
				say("\"Cave good. Warm. Safe.\"");
			} else {
				say("\"It's been good to us. It keeps us warm. We are able to find food. I do not miss the old life.\"");
			}
			remove("cave");
			fallthrough;

		case "bye":
			break;
	}
	say("\"'Bye!\"*");
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0911 0x911 (var var0000);
extern var Func090A 0x90A ();

void Func0500 object#(0x500) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == PROXIMITY) {
		abort;
	}
	var0000 = UI_get_party_list();
	var0001 = get_npc_object()->get_schedule_type();
	0xFF00->show_npc_face(0x0000);
	if (!(var0001 == TALK)) {
		say("The wisp does not respond.*");
		abort;
	}
	add(["name", "job", "bye"]);
	var0002 = Func0931(PARTY, 0x0001, 0x0282, 0x0002, FRAME_ANY);
	if (var0002) {
		add("notebook");
	}
	if (gflags[0x0100]) {
		add("Time Lord");
	}
	if (!gflags[0x0150]) {
		say("A ball of light approaches you.~~\"'You' are not the entity known as 'Trellek'. 'You' call out in the manner of the species called 'emps'. 'Xorinia' was expecting the entity 'Trellek'.");
		say("\"But that is not of importance. From the information 'I' have, the local manifestation before 'me' is the entity known as 'Avatar'.");
		say("The Wisp glows brightly a second or two.~~\"'Xorinia' wishes to exchange information with the human entity.\"");
		gflags[0x0150] = true;
		Func0911(0x01F4);
	} else {
		say("\"Once again a local manifestation addresses the Xorinite dimension.\"");
	}
	converse (0) {
		case "name":
			say("\"Highest probabilities indicate that a manifestation from the Xorinite dimension will be called 'Wisp' by the entities known as 'humans'. I am also called 'Xorinia' by other manifestations of the Xorinite dimension.\"");
			remove("name");
			add("Wisp");
			fallthrough;

		case "Wisp":
			say("\"This label has been implemented by human entities to name manifestations from the Xorinite dimension since the time when this dimension was discovered by Xorinite manifestations. Another common name is 'Will-o-the-wisp'.~~ \"The preceding sample of information was provided without charge. Usually there is a fee for information.\"");
			remove("Wisp");
			fallthrough;

		case "information":
			say("\"The Undrian Council seeks information regarding a certain entity by the name of 'Alagner'. 'You' have access to this information. 'I' have information regarding a certain entity which 'you' are seeking. The Undrian Council proposes a trade.\"");
			remove("information");
			add(["Undrian Council", "Alagner", "trade"]);
			fallthrough;

		case "Undrian Council":
			say("\"The Council represents what 'your' language defines as 'government'.\"");
			remove("Undrian Council");
			fallthrough;

		case "job":
			say("\"'Xorinia' is a conduit for information between different planes and dimensions. 'Xorinia' also catalogs information which is necessary for growth of the Xorinite community. 'You' have information which may be valuable to 'me'. 'I' also have information that 'you' want.\"");
			add("information");
			fallthrough;

		case "Alagner":
			say("\"The Undrian Council has information that there is a human entity in 'your' dimension that has been called 'the wisest man in Britannia.' This entity is known as 'Alagner' and lives in 'your' colony of 'New Magincia'. 'Alagner' has what the entity calls a 'notebook'. The 'notebook' is a collection of information.\"");
			remove("Alagner");
			fallthrough;

		case "trade":
			say("\"'I' want to absorb the information in Alagner's 'notebook'. If 'you' bring the 'notebook' here, the Undrian Council will release information useful to 'you'. Do 'you' agree to the trade?\"");
			gflags[0x0133] = true;
			var0003 = Func090A();
			if (var0003) {
				say("\"'Xorinia' recognizes 'your' usefulness. 'I' shall be here. Human entities will call 'my' activity 'waiting'.\"");
			} else {
				say("\"'Xorinia' recognizes 'your' hostility. 'I' shall be here should 'you' reflect upon 'your' decision and decide to change it.\"*");
				set_schedule_type(SHY);
				abort;
			}
			remove("trade");
			fallthrough;

		case "Time Lord":
			if (!gflags[0x0133]) {
				say("\"The entity known as 'Time Lord' requests an audience with 'you'. Before 'I' can give 'you' more information about this, 'I' must propose a trade.\"");
				add("information");
			} else {
				say("\"The entity known as 'Time Lord' is a being from the space/time dimension. The Xorinite Dimension has been communicating with 'Time Lord' for what 'humans' call 'centuries'.\"");
			}
			remove("Time Lord");
			fallthrough;

		case "notebook":
			say("\"The human entity is welcomed by 'Xorinia'. 'You' have brought the item 'notebook'. 'I' shall now absorb the information contained therein.\"~~The Wisp glows brightly for a few seconds. The notebook remains in your possession.~~\"'I' have completed my absorption of the information. 'You' may now return the item 'notebook' to the entity 'Alagner'.~~\"And now for the exchange of information and delivery of a message.\"");
			gflags[0x0157] = true;
			Func0911(0x02BC);
			remove("notebook");
			add(["exchange", "message"]);
			fallthrough;

		case "message":
			say("\"'Xorinia' must deliver a message to 'you'. The entity known as 'Time Lord' requests 'your' audience. 'Time Lord' is trapped at the plane known as the Shrine of Spirituality. 'You' can reach 'him' by using 'your' object 'Orb of the Moons' in the location directly to 'your' 'northwest'.");
			gflags[0x0134] = true;
			remove("message");
			add("Time Lord");
			fallthrough;

		case "exchange":
			say("\"Now for the information 'you' seek. 'This' dimension known as 'Britannia' is under attack by an entity called 'The Guardian'.~~\"'The Guardian' lives in another dimension. 'Xorinia' sometimes trades information with this entity. Do 'you' want to know more about 'The Guardian'?\"");
			var0004 = Func090A();
			// This should probably be var0004
			if (0x0614) {
				say("\"'Xorinia' has digested information about 'The Guardian' and can state the following facts:~~\"'The Guardian' possesses qualities which human entities label 'vain', 'greedy', 'egocentric', and 'malevolent'. 'The Guardian' thrives on power and domination. 'The Guardian' takes 'pleasure' from conquering other worlds. His sensory organs are now focused on 'this' dimension known as 'Britannia'.~~\"'The Guardian' is attempting to enter 'this' dimension by means of an item human entities call a 'Moongate'. This 'Moongate' is not a 'red' color or 'blue' color 'Moongate', which 'Xorinia' knows is the standard form of this item. 'The Guardian' is building a 'Moongate' of the color 'black'.\"");
				remove("exchange");
				add("Black Gate");
			} else {
				say("\"'Xorinia' always responds to free information. Transaction complete.\"*");
			}
			remove("exchange");
			fallthrough;

		case "Black Gate":
			say("\"The 'Black Gate' will be fully functional when the phenomenon known as 'Astronomical Alignment' next occurs.~~ \"Although 'Xorinia' does not normally seek to influence actions of other manifestations, 'Xorinia' warns 'you' that if 'The Guardian' enters 'this' dimension, it will be the end of the dimension known as 'Britannia'. 'The Guardian' is powerful in 'his' own dimension. In 'your' dimension, 'he' will be unstoppable.~~\"The Undrian Council sincerely hopes this information is useful. Transaction complete.\"*");
			gflags[0x0127] = true;
			remove("Black Gate");
			fallthrough;

		case "bye":
			break;
	}
	say("\"'Xorinia' always welcomes the exchange of information. Farewell.\"*");
	set_schedule_type(SHY);
}

extern void Func0326 shape#(0x326) ();

void Func0501 object#(0x501) () {
	item->Func0326();
}

extern void Func0326 shape#(0x326) ();

void Func0502 object#(0x502) () {
	item->Func0326();
}

extern void Func03B2 shape#(0x3B2) ();

void Func0506 object#(0x506) () {
	item->Func03B2();
}

extern void Func03B2 shape#(0x3B2) ();

void Func0507 object#(0x507) () {
	item->Func03B2();
}

extern void Func03B2 shape#(0x3B2) ();

void Func0508 object#(0x508) () {
	item->Func03B2();
}

extern void Func03B2 shape#(0x3B2) ();

void Func0509 object#(0x509) () {
	item->Func03B2();
}

extern void Func03B2 shape#(0x3B2) ();

void Func050A object#(0x50A) () {
	item->Func03B2();
}

extern void Func03B2 shape#(0x3B2) ();

void Func050D object#(0x50D) () {
	item->Func03B2();
}

void Func0600 object#(0x600) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = get_item_quality() - 0x0001;
	var0001 = set_item_quality(var0000);
	if (var0000 == 0x0000) {
		halt_scheduled();
		var0002 = get_item_shape();
		if (var0002 == 0x0152) {
			set_item_shape(0x03E5);
		}
		if (var0002 == 0x02BD) {
			set_item_shape(0x0253);
			var0001 = set_item_quality(0x00FF);
		}
		if (var0002 == 0x01B3) {
			set_item_shape(0x0217);
		}
		UI_play_sound_effect(0x006A);
	} else {
		var0003 = script item after 50 ticks {
			call Func0600;
		};
	}
}

extern void Func0835 0x835 (var var0000, var var0001, var var0002);
extern void Func08FE 0x8FE (var var0000);

void Func0603 object#(0x603) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = set_npc_prop(STRENGTH, -6);
	var0000 = set_npc_prop(DEXTERITY, -6);
	var0000 = set_npc_prop(INTELLIGENCE, -6);
	var0001 = get_npc_prop(STRENGTH);
	var0002 = get_npc_prop(STRENGTH);
	var0003 = get_npc_prop(STRENGTH);
	if (var0001 < 1) {
		Func0835(item, STRENGTH, 1);
	}
	if (var0002 < 1) {
		Func0835(item, INTELLIGENCE, 1);
	}
	if (var0003 < 1) {
		Func0835(item, DEXTERITY, 1);
	}
	Func08FE("@Thou dost not look well.@");
}

void Func0606 object#(0x606) () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = get_object_position();
	var0001 = var0000[0x0001];
	var0002 = var0000[0x0002];
	var0001 -= 0x0003;
	var0002 -= 0x0004;
	UI_sprite_effect(ANIMATION_POOF, var0001, var0002, 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	UI_play_sound_effect(0x0045);
}

void Func0607 object#(0x607) () {
	var var0000;

	var0000 = get_lift() + 0x0001;
	set_lift(var0000);
}

extern void Func0941 0x941 (var var0000);
extern void Func0911 0x911 (var var0000);

void Func0608 object#(0x608) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == EGG) {
		Func0941(0x000D);
		var0000 = UI_is_pc_female();
		BATLIN->say("\"Avatar! Stop where thou art! Thou shalt not succeed in thy quest to destroy the Black Gate! Art thou mad??! The Guardian is much too powerful for thee! He shall crush thee like an insect! The fate of Britannia now belongs to him and to The Fellowship! The Guardian is the land's true ruler! Bow down to him, Avatar, and perhaps he shall give thee a place at his side. Bow down to him -now-!\"*");
		BATLIN->hide();
		0xFEEF->show_npc_face(0x0000);
		if (var0000) {
			var0001 = "She";
			var0002 = "her";
			var0003 = "her";
		} else {
			var0001 = "He";
			var0002 = "his";
			var0003 = "him";
		}
		say("Hook points to you.");
		say("\"I say -kill- the Avatar! ",
			var0001,
			" is dangerous! Cut ",
			var0002,
			" throat! I say we attack -now-!\"*");
		0xFEEF->hide();
		0xFEEE->say("Forskis shouts, \"To kill! To kill!\"*");
		0xFEEE->hide();
		0xFEED->say("Abraham yells, \"Let us make fish bait out of ",
			var0003,
			"!\"*");
		0xFEED->hide();
		0xFEEC->say("\"Death to the Avatar! Long live The Guardian!\" screams Elizabeth.*");
		0xFEEC->hide();
		BATLIN->say("\"So be it! The Fellowship hereby sentences the Avatar to immediate death! Kill ",
			var0003,
			" now!\"*");
		BATLIN->hide();
		var0004 = [0x0193, 0x01FA, 0x0325, 0x0372, 0x0371];
		for (var0007 in var0004 with var0005 to var0006) {
			var0008 = find_nearby(var0007, 0x001E, MASK_NONE);
			for (var000B in var0008 with var0009 to var000A) {
				var000B->set_schedule_type(IN_COMBAT);
			}
		}
		Func0911(0x2710);
	}
}

void Func0609 object#(0x609) () {
	var var0000;

	var0000 = get_lift() - 0x0001;
	set_lift(var0000);
}

extern void Func08FE 0x8FE (var var0000);
extern var Func0937 0x937 (var var0000);
extern void Func0904 0x904 (var var0000, var var0001);

void Func060A object#(0x60A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;

	if (event != SCRIPTED) {
		return;
	}
	if (SMITHY->get_schedule_type() == HOUND) {
		SMITHY->set_schedule_type(STANDTHERE);
	}
	var0000 = find_nearby(0x0208, 0x0007, MASK_NONE);
	var0001 = var0000->find_nearby(0x0284, 0x0005, MASK_NONE);
	var0002 = 0x0000;
	var0003 = 0x0000;
	var0004 = get_item_frame();
	var0005 = var0004 / 0x0004;
	if (var0005 == 0x0000) {
		var0002 = -3;
		var0003 = -1;
		var0006 = "Blue";
	}
	if (var0005 == 0x0001) {
		var0002 = 0;
		var0003 = 0;
		var0006 = "Black";
	}
	if (var0005 == 0x0002) {
		var0002 = -1;
		var0003 =  0;
		var0006 = "White";
	}
	if (var0005 == 0x0003) {
		var0002 = -2;
		var0003 =  0;
		var0006 = "Purple";
	}
	if (var0005 == 0x0004) {
		var0002 = -3;
		var0003 =  0;
		var0006 = "Orange";
	}
	if (var0005 == 0x0005) {
		var0002 =  0;
		var0003 = -1;
		var0006 = "Green";
	}
	if (var0005 == 0x0006) {
		var0002 = -1;
		var0003 = -1;
		var0006 = "Red";
	}
	if (var0005 == 0x0007) {
		var0002 = -2;
		var0003 = -1;
		var0006 = "Yellow";
	}
	var0007 = false;
	if (!SMITHY->npc_nearby()) {
		var0008 = [];
		var0009 = "";
	} else {
		Func08FE("@Didst thou win?@");
	}
	if (gflags[0x0006]) {
		var000A = 0x000E;
	} else {
		var000A = 0x0007;
	}
	for (var000D in var0001 with var000B to var000C) {
		var000E = var000D->get_object_position();
		var000F = var0000->get_object_position();
		if ((var000E[0x0001] == (var000F[0x0001] + var0002)) && (var000E[0x0002] == (var000F[0x0002] + var0003))) {
			var000D->set_item_flag(OKAY_TO_TAKE);
			var0010 = var000D->get_item_quantity(0x0000);
			var0010 *= var000A;
			while (var0010 > 0x0064) {
				var0008 = UI_create_new_object(0x0284);
				if (var0008) {
					var0011 = var0008->set_item_quantity(0x0064);
					var0011 = UI_update_last_created(var000E);
				}
				var0010 -= 0x0064;
			}
			var0008 = UI_create_new_object(0x0284);
			if (var0008) {
				var0011 = var0008->set_item_quantity(var0010);
				var0011 = UI_update_last_created(var000E);
			}
			if (Func0937(SMITHY)) {
				Func0904(SMITHY, (("@A winner on " + var0006) + ".@"));
			}
			var0007 = true;
		}
		var000D->remove_item();
	}
	if (!var0007) {
		if (Func0937(SMITHY)) {
			Func0904(SMITHY, (("@It is " + var0006) + ".@"));
		}
	}
}

extern void Func083D 0x83D ();

void Func060B object#(0x60B) () {
	if (event == SCRIPTED) {
		if (gflags[0x001F] && gflags[0x0020]) {
			Func083D();
			return;
		}
		if (!gflags[0x001F]) {
			gflags[0x001F] = true;
			return;
		}
		if (!gflags[0x0020]) {
			gflags[0x0020] = true;
		}
	}
}

extern var Func0932 0x932 (var var0000);
extern void Func0933 0x933 (var var0000, var var0001, var var0002);

void Func060C object#(0x60C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;

	if (SMITHY->get_schedule_type() == HOUND) {
		SMITHY->set_schedule_type(STANDTHERE);
	}
	if (!SMITHY->npc_nearby()) {
		var0000 = AVATAR->find_nearby(0x02FC, 0x0032, MASK_NONE);
		for (var0003 in var0000 with var0001 to var0002) {
			var0003->set_item_frame(0x0000);
			var0003->halt_scheduled();
		}
		return;
	}
	var0004 = find_nearby(0x0284, 0x0007, MASK_NONE);
	var0005 = get_object_position();
	var0006 = 0x0000;
	var0007 = UI_find_nearby_avatar(0x02FB);
	for (var000A in var0007 with var0008 to var0009) {
		if ((var000A->get_item_frame() == 0x0001) || (var000A->get_item_frame() == 0x0002)) {
			var0006 = var000A;
		}
	}
	var0000 = UI_find_nearby_avatar(0x02FB);
	var000B = var0006[0x0001]->get_object_position();
	if (gflags[0x0006]) {
		var000C = 0x0006;
	} else {
		var000C = 0x0003;
	}
	var000D = script var0006 {
		frame 1;
		sfx 73;
		frame 2;
		sfx 74;
		frame 1;
		sfx 73;
	};
	if (gflags[0x0022] == false) {
		gflags[0x0022] = true;
		for (var0010 in var0004 with var000E to var000F) {
			var0011 = var0010->get_object_position();
			if ((var0011[0x0001] <= var000B[0x0001]) && ((var0011[0x0001] >= (var000B[0x0001] - 0x0005)) && ((var0011[0x0002] <= (var000B[0x0002] + 0x0008)) && (var0011[0x0002] >= (var000B[0x0002] - 0x0008))))) {
				if (var0011[0x0002] == var0005[0x0002]) {
					var0012 = var0010->get_item_quantity(0x0284);
					var0012 *= var000C;
					while (var0012 > 0x0064) {
						var0013 = UI_create_new_object(0x0284);
						if (var0013) {
							var000D = var0013->set_item_quantity(0x0064);
							var000D = UI_update_last_created(var0011);
						}
						var0012 -= 0x0064;
					}
					var0013 = UI_create_new_object(0x0284);
					if (var0013) {
						var000D = var0013->set_item_quantity(var0012);
						var000D = UI_update_last_created(var0011);
					}
					var0010->set_item_flag(OKAY_TO_TAKE);
					var0014 = Func0932((var000B[0x0002] - var0005[0x0002]) - 0x0004);
					var0015 = ("@A winnah in lane " + var0014) + "!@";
					Func0933(SMITHY, var0015, 0x0001);
				}
				var0010->remove_item();
			}
		}
	} else if (!gflags[0x0023]) {
		gflags[0x0023] = true;
	} else if (!gflags[0x0024]) {
		gflags[0x0024] = true;
	} else if ((!gflags[0x0025]) && gflags[0x0024]) {
		gflags[0x0022] = false;
		gflags[0x0023] = false;
		gflags[0x0024] = false;
		gflags[0x0025] = false;
		var0000 = UI_find_nearby_avatar(0x02FC);
		for (var0003 in var0000 with var0016 to var0017) {
			var0003->set_item_frame(0x0000);
		}
	}
}

void Func060D object#(0x60D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;

	if (event != SCRIPTED) {
		return;
	}
	var0000 = find_nearby(0x019A, 0x000A, MASK_NONE);
	var0001 = var0000->get_item_quality();
	var0002 = [0x0392, 0x0394, 0x0393];
	var0003 = var0002[var0001];
	if (UI_die_roll(0x0001, 0x0014) == 0x0001) {
		var0004 = get_object_position();
		var0005 = UI_create_new_object(var0003);
		if (var0005) {
			var0005->set_item_flag(TEMPORARY);
			var0005->set_item_frame(0x0000);
			var0006 = UI_update_last_created([(var0004[0x0001] - 0x0009), var0004[0x0002], 0x0001]);
		}
	}
	var0007 = find_nearby(SHAPE_ANY, 0x000A, MASK_NONE);
	var0008 = get_object_position();
	var0009 = var0008[0x0001];
	var000A = var0008[0x0002];
	for (var000D in var0007 with var000B to var000C) {
		var000E = var000D->get_object_position();
		var000F = var000E[0x0001];
		var0010 = var000E[0x0002];
		var0011 = var000E[0x0003];
		if ((var000F <= var0009) && ((var0010 == var000A) && (var0011 == 0x0001))) {
			var0006 = var000D->set_last_created();
			if (var0006) {
				var0006 = UI_update_last_created([(var000F + 0x0001), var0010, var0011]);
			}
		}
		if ((var000F == (var0009 + 0x0001)) && ((var0010 == var000A) && (var0011 == 0x0001))) {
			var0006 = var000D->set_last_created();
			if (var0006) {
				var0006 = UI_update_last_created([var000F, var0010, 0x0000]);
			}
		}
	}
}

extern var Func08F9 0x8F9 (var var0000, var var0001, var var0002);
extern var Func093C 0x93C (var var0000, var var0001);
extern var Func0938 0x938 (var var0000);
extern void Func0619 object#(0x619) ();
extern void Func0610 object#(0x610) ();

void Func060E object#(0x60E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;

	if (event == WEAPON) {
		UI_fade_palette(0x000C, 0x0001, 0x0000);
		UI_play_music(0x00FF, 0x0000);
		UI_play_music(0x0011, 0x0000);
		(@0x83)();
		var0000 = get_dead_party();
		for (var0003 in var0000 with var0001 to var0002) {
			var0004 = var0003->resurrect();
		}
		var0004 = script item after 5 ticks {
			nohalt;
			call Func060E;
		};
	}
	if (event == SCRIPTED) {
		var0005 = get_item_shape();
		var0006 = get_object_position();
		gflags[0x0039] = false;
		if (gflags[0x0057]) {
			gflags[0x003A] = Func08F9(AVATAR->get_object_position(), [0x02F1, 0x063B, 0x0000], [0x0383, 0x06FF, 0x0000]);
			if (gflags[0x003A]) {
				var0007 = AVATAR->find_nearby(SHAPE_ANY, 0x005A, MASK_NPC);
				var0007 = Func093C(AVATAR->get_npc_object(), var0007);
				for (var000A in var0007 with var0008 to var0009) {
					if (var000A->get_schedule_type() == IN_COMBAT) {
						var000B = var000A->get_alignment();
						if ((var000B == NEUTRAL) || GOOD) {
							var000A->set_schedule_type(WANDER);
						}
						if ((var000B == CHAOTIC) || (var000B == EVIL)) {
							var000C = var000A->get_cont_items(SHAPE_ANY, QUALITY_ANY, FRAME_ANY);
							for (var000F in var000C with var000D to var000E) {
								var000F->remove_item();
							}
							var000A->remove_npc();
						}
					}
				}
			}
			var0010 = [0x0344, 0x06C5, 0x0001];
			AVATAR->set_item_frame(0x000D);
			AVATAR->set_item_flag(ASLEEP);
			var0011 = [-4, 0, 4, 0, 0, 4, -4, 1, 4, 1, -4, -1, 4, -1, 1, 2, -1, 2];
			var0012 = 0x0000;
			var0013 = [FACE_EAST, var0012, FACE_WEST, var0012, FACE_NORTH, var0012, FACE_EAST, var0012, FACE_WEST, var0012, FACE_EAST, var0012, FACE_WEST, var0012, FACE_NORTH, var0012, FACE_NORTH];
			var0014 = [-7, 0, 8, 0, 0, 8, -7, 8, 8, 8, -17, 0, -17, 8];
			var0015 = [0x000D, var0012, 0x000D, var0012, 0x001D, var0012, 0x001D, var0012, 0x001D, var0012, 0x000D, var0012, 0x000D];
			var0016 = 0x0001;
			var0017 = UI_get_party_list2();
			for (var0003 in var0017 with var0018 to var0019) {
				var0003->clear_item_flag(POISONED);
				var0003->clear_item_flag(PARALYZED);
				var0003->clear_item_flag(CURSED);
				var0003->clear_item_flag(CHARMED);
				var0003->clear_item_flag(INVISIBLE);
				var0003->clear_item_flag(PROTECTION);
				var0004 = var0003->set_npc_prop(HEALTH, var0003->get_npc_prop(STRENGTH) - var0003->get_npc_prop(HEALTH));
				var0004 = var0003->set_npc_prop(MANA, var0003->get_npc_prop(MAX_MANA) - var0003->get_npc_prop(MANA));
				var0003->set_schedule_type(FOLLOW_AVATAR);
			}
			var001A = var0017;
			if (!((FERIDWYN->get_schedule_type() == IN_COMBAT) || (BRITA->get_schedule_type() == IN_COMBAT))) {
				if (!Func0938(FERIDWYN)) {
					var001A &= FERIDWYN->get_npc_object();
					FERIDWYN->set_schedule_type(LOITER);
				}
				if (!Func0938(BRITA)) {
					var001A &= BRITA->get_npc_object();
					BRITA->set_schedule_type(LOITER);
				}
			}
			PARTY->move_object(var0010);
			for (var0003 in var001A with var001B to var001C) {
				if (!(var0003 == AVATAR->get_npc_object())) {
					var0003->halt_scheduled();
					if (!var0003->get_item_flag(ASLEEP)) {
						var0004 = script var0003 {
							actor frame standing;
							face var0013[var0016];
						};
						var001D = [(var0010[0x0001] + var0011[var0016]), (var0010[0x0002] + var0011[(var0016 + 0x0001)]), (var0010[0x0003] - 0x0001)];
					} else {
						var001D = [(var0010[0x0001] + var0014[var0016]), (var0010[0x0002] + var0014[(var0016 + 0x0001)]), var0010[0x0003]];
						var0003->set_item_frame(var0015[var0016]);
						var001E = UI_die_roll(0x0001, 0x0014);
						var0004 = script var0003 {
							wait var001E;
							call Func0619;
						};
					}
					var0003->move_object(var001D);
					var0016 += 0x0002;
				}
			}
			AVATAR->clear_item_flag(DEAD);
			var0004 = script AVATAR {
				wait 2;
				call Func0610;
			};
		} else {
			UI_restart_game();
		}
	}
}

void Func060F object#(0x60F) () {
	var var0000;
	var var0001;

	var0000 = get_object_position();
	UI_sprite_effect(ANIMATION_LIGHTNING, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, 0x0001);
	UI_play_sound_effect(0x003E);
	UI_lightning();
	var0001 = UI_apply_damage(get_npc_prop(STRENGTH), 0x000C, LIGHTNING_DAMAGE, item);
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func08D5 0x8D5 ();

void Func0610 object#(0x610) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	UI_fade_palette(0x0024, 0x0001, 0x0001);
	var0000 = find_nearby(SHAPE_ANY, 0x0023, MASK_NPC);
	for (var0003 in var0000 with var0001 to var0002) {
		if ((var0003->get_alignment() == NEUTRAL) && (var0003->get_schedule_type() == IN_COMBAT)) {
			return;
		}
	}
	var0004 = Func0909();
	var0005 = Func0908();
	var0006 = Func08F7(FERIDWYN);
	var0007 = Func08F7(BRITA);
	var0008 = Func08F7(IOLO);
	if (IOLO->get_item_flag(ASLEEP)) {
		var0008 = 0x0000;
	}
	var0009 = Func08F7(SHAMINO);
	if (SHAMINO->get_item_flag(ASLEEP)) {
		var0009 = 0x0000;
	}
	var000A = Func08F7(DUPRE);
	if (DUPRE->get_item_flag(ASLEEP)) {
		var000A = 0x0000;
	}
	if (var0006) {
		FERIDWYN->show_npc_face(0x0000);
		Func08D5();
		FERIDWYN->hide();
	} else if (var0007) {
		BRITA->show_npc_face(0x0000);
		Func08D5();
		BRITA->hide();
	}
	if (var0008) {
		IOLO->say("\"I am gladdened to see thee still alive, my good friend. I was sorely grieved at thine apparent demise.~~\"In the midst of our battle I did lose track of thee. It is good to find thee safe.~~\"If thou art feeling up to it, let us then continue our quest.\"*");
		IOLO->hide();
	}
	if (var0009) {
		SHAMINO->say("\"Thy recovery is a miracle! 'Twould have been a severe blow for this world to lose its Avatar.~~\"When at last thou wert found, thy body was being taken to this place in a wagon driven by two hooded Fellowship members.~~\"Thou hast suffered through a terrible ordeal and travelled far. Perhaps thou shouldst rest...\"*");
		SHAMINO->hide();
	}
	if (var000A) {
		DUPRE->say("\"The Fellowship members who brought thee to this place did not speak once during the entire journey.~~\"But it seems they did the right thing in bringing thee here for thou hast been revived!~~\"Let us all have a drink in celebration! We will be ready to leave whenever thou dost wish it.\"*");
		DUPRE->hide();
	}
	gflags[0x0026] = true;
	gflags[0x003A] = false;
	AVATAR->clear_item_flag(ASLEEP);
	AVATAR->set_schedule_type(FOLLOW_AVATAR);
}

void Func0611 object#(0x611) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = get_item_shape();
	if (var0000 == 0x0203) {
		var0001 = 0x0366;
		var0002 =  7;
	} else {
		var0001 = 0x0203;
		var0002 = -7;
	}
	var0003 = get_object_position();
	var0003[0x0002] += var0002;
	set_item_shape(var0001);
	if (set_last_created()) {
		var0004 = UI_update_last_created(var0003);
	}
}

void Func0612 object#(0x612) () {
	mark_virtue_stone();
}

void Func0613 object#(0x613) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	gflags[0x0039] = false;
	var0000 = UI_get_party_list();
	for (var0003 in var0000 with var0001 to var0002) {
		var0003->set_schedule_type(FOLLOW_AVATAR);
	}
	recall_virtue_stone();
}

void Func0614 object#(0x614) () {
	var var0000;

	0xFEEB->show_npc_face(0x0000);
	var0000 = UI_get_speech_track();
	if (var0000 == 0x0001) {
		say("\"Yes, rest, my friend. Rest and heal, so that you are strong and able to face the perils before you. Pleasant dreams!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0002) {
		say("\"Go inside. Tell them you are the Avatar!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0003) {
		say("\"Thank you for the information in the notebook, Avatar! It was most useful! Ha ha ha ha ha!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0004) {
		say("\"Do not go in! It is a trap! Do you not see? It is a trap!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0005) {
		say("\"You are not going to trust the Time Lord are you? Careful, my friend -- do not believe him!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0006) {
		say("\"Do not go in! You will surely die!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0007) {
		say("\"Avatar, you are not welcome here!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0008) {
		say("\"Are you sure? Think again!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0009) {
		say("\"At least one sign is true, and at least one sign is false.\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x000A) {
		say("\"Two of these signs are either true or false!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x000B) {
		say("\"No no no! Think again!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x000C) {
		say("\"Each sign could be either true or false!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x000D) {
		say("\"Stop the Avatar! I will come through the Black Gate now! Do not let him near!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x000E) {
		say("\"So, Avatar! The moment of truth has come! You can destroy the Black Gate, but you will never return to your beloved Earth. Or you can come through now and go home! It is your choice!\"");
		0xFEEB->hide();
		return;
	}
	if ((var0000 > 0x0011) && (var0000 < 0x0016)) {
		say("\"Ha ha ha ha ha ha!\"*");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0016) {
		say("\"Poor Avatar... poor, poor Avatar...\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0017) {
		say("\"Well done, my friend! You are truly an Avatar!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0018) {
		say("\"You are travelling in the wrong direction, my friend!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x0019) {
		say("\"Go away!!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x001A) {
		say("\"That is precisely the thing to do, Avatar!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x001B) {
		say("\"You had best not do that, Avatar!\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x001C) {
		say("\"Do you really know where you are going, Avatar?\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 == 0x001D) {
		say("\"Yes, that is the proper direction to travel, Avatar.\"");
		0xFEEB->hide();
		return;
	}
	if (var0000 > 0x001D) {
		say("\"Ha ha ha ha ha ha!\"");
		0xFEEB->hide();
		return;
	}
	say("\"Ho ho ha ha heh heh heh!\"");
}

void Func0615 object#(0x615) () {
	if (event == SCRIPTED) {
		set_item_shape(0x02F2);
		set_item_frame(0x0000);
	}
}

void Func0617 object#(0x617) () {
	var var0000;
	var var0001;

	gflags[0x01A8] = true;
	if (event == DOUBLECLICK) {
		var0000 = script item after 20 ticks {
			nohalt;
			finish;
			call Func0617;
		};
		var0001 = find_nearest(0x02EB, 0x0028);
		var0000 = script var0001 after 19 ticks {
			finish;
			frame 1;
		};
	}
	if (event == SCRIPTED) {
		set_schedule_type(WAIT);
		if (TRENT->npc_nearby()) {
			TRENT->show_npc_face(0x0001);
			say("\"There. It is done. Now take the blasted thing to Mordra. She will instruct thee in its use.\"");
			abort;
		}
		gflags[0x01CE] = true;
	}
}

extern void Func061A object#(0x61A) ();

void Func0618 object#(0x618) () {
	var var0000;

	if (AVATAR->get_item_flag(DONT_RENDER)) {
		AVATAR->clear_item_flag(DONT_RENDER);
		var0000 = script AVATAR {
			step FACE_WEST, 0;
			step FACE_WEST, 0;
			step FACE_WEST, 0;
			wait 10;
			call Func0401;
			call Func061A;
		};
	}
}

void Func0619 object#(0x619) () {
	halt_scheduled();
	clear_item_flag(ASLEEP);
}

void Func061A object#(0x61A) () {
	(@0x70)();
}

extern void Func0806 0x806 (var var0000, var var0001);

void Func061B object#(0x61B) () {
	var var0000;
	var var0001;

	if (event == SCRIPTED) {
		Func0806(0x00EA, item);
		var0000 = 0x0269->get_npc_object();
		0x0269->set_schedule_type(WAIT);
		var0001 = script 0x0269 after 25 ticks {
			nohalt;
			call Func0269;
		};
	}
}

extern void Func0637 object#(0x637) ();

void Func061C object#(0x61C) () {
	var var0000;
	var var0001;

	set_item_flag(ACTIVE_BARGE);
	if (!in_usecode()) {
		if (gflags[0x0197]) {
			var0000 = new script {
				finish;
				repeat 11 {
					step east;
					nop;
				};
				call Func0637;
			};
			gflags[0x0197] = false;
		} else {
			var0000 = new script {
				finish;
				repeat 11 {
					step west;
					nop;
				};
				call Func0637;
			};
			gflags[0x0197] = true;
		}
		var0001 = item->run_script(var0000);
	}
}

extern void Func0806 0x806 (var var0000, var var0001);

void Func061D object#(0x61D) () {
	var var0000;
	var var0001;

	if (event == SCRIPTED) {
		var0000 = get_object_position();
		Func0806(0x00EE, item);
		// This is likely meant to be 'item' instead of 0x0269.
		var0001 = script 0x0269 after 25 ticks {
			nohalt;
			call Func0269;
		};
	}
}

extern void Func0806 0x806 (var var0000, var var0001);
extern void Func0804 0x804 (var var0000, var var0001, var var0002);

void Func061E object#(0x61E) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == SCRIPTED) {
		Func0806(0x00F2, item);
		var0000 = 0x0113;
		var0001 = 0x0005;
		var0002 = 0x0001;
		Func0804(var0000, var0001, var0002);
	}
}

void Func061F object#(0x61F) () {
	clear_item_flag(IN_ACTION);
}

void Func0620 object#(0x620) () {
	set_item_flag(IN_ACTION);
}

extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func0900 0x900 ();
extern var Func08F7 0x8F7 (var var0000);

void Func0621 object#(0x621) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == EGG) {
		var0000 = "";
		var0001 = get_item_quality();
		var0002 = item;
		var0003 = 0x0000;
		if (var0001 == 0x0000) {
			var0000 = "@Welcome, Avatar.@";
			var0003 = 0x0000;
		}
		if (var0001 == 0x0001) {
			if (gflags[0x0157]) {
				var0000 = "Perhaps thou shouldst use the crystal ball.";
				var0002 = PARTY;
				var0003 = 0x0001;
			} else {
				abort;
			}
		}
		if (var0001 == 0x0002) {
			var0000 = "Are we there yet?";
			var0002 = SPARK;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0003) {
			var0000 = "I could use a drink.";
			var0002 = DUPRE;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0004) {
			var0000 = "I am too old for this.";
			var0002 = IOLO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0005) {
			var0000 = "I heard something!";
			var0002 = PARTY;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0006) {
			var0000 = "Oh no! Not more rain!";
			var0002 = IOLO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0007) {
			var0000 = "We could use swamp boots!";
			var0002 = IOLO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0008) {
			var0000 = "When can we rest?";
			var0002 = SPARK;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0009) {
			var0000 = "This is Dungeon Destard.";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x000A) {
			var0000 = "This is Dungeon Despise.";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x000B) {
			var0000 = "This is Dungeon Deceit.";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x000C) {
			var0000 = "This is Bee Cave.";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x000D) {
			var0000 = "This is the Minoc Mine.";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x000E) {
			var0000 = "This is the Vesper Mine.";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x000F) {
			var0000 = "This looks interesting.";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0010) {
			var0000 = "This place is creepy.";
			var0002 = PARTY;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0011) {
			var0000 = "Wow...!";
			var0002 = PARTY;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0012) {
			var0000 = "Let's sing a sea shanty!";
			var0002 = IOLO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0013) {
			var0000 = "Let us win some gold!";
			var0002 = DUPRE;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0014) {
			var0000 = "Avatar, they are doing a play about thee!";
			var0002 = IOLO;
			var0003 = 0x0001;
		}
		if (var0001 == 0x0015) {
			var0000 = "Britain sure is big!";
			var0002 = SPARK;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0016) {
			var0000 = "Be most careful. Who knows what may be lurking amongst the trees...";
			var0002 = PARTY;
			var0003 = 0x0001;
		}
		if (var0001 == 0x0017) {
			var0000 = "Brushed up on thy Gargish?";
			var0002 = PARTY;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0018) {
			var0000 = "Real fighters live here!";
			var0002 = DUPRE;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0019) {
			var0000 = "Thy old relics are here!";
			var0002 = IOLO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x001A) {
			var0000 = "That bread smells good...";
			var0002 = SPARK;
			var0003 = 0x0000;
		}
		if (var0001 == 0x001B) {
			var0000 = "That food smells good...";
			var0002 = SPARK;
			var0003 = 0x0000;
		}
		if (var0001 == 0x001C) {
			var0000 = "That fruit looks good...";
			var0002 = SPARK;
			var0003 = 0x0000;
		}
		if (var0001 == 0x001D) {
			var0000 = "I am getting sleepy...";
			var0002 = SPARK;
			var0003 = 0x0000;
		}
		if (var0001 == 0x001E) {
			var0000 = "The Shrine of Compassion!";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x001F) {
			var0000 = "The Shrine of Honesty!";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0020) {
			var0000 = "The Shrine of Justice!";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0021) {
			var0000 = "The Shrine of Spirituality!";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0022) {
			var0000 = "The Shrine of Honor!";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0023) {
			var0000 = "The Shrine of Valor!";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0024) {
			var0000 = "The Shrine of Sacrifice!";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0025) {
			var0000 = "The Shrine of Humility!";
			var0002 = SHAMINO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0026) {
			var0000 = "Watch for bridge trolls.";
			var0002 = PARTY;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0027) {
			var0000 = "Ah, home sweet home.";
			var0002 = IOLO;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0028) {
			var0000 = "The noise! Agh! It hurts!";
			var0002 = PARTY;
			var0003 = 0x0000;
		}
		if (var0001 == 0x0029) {
			if ((!Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0000)) && gflags[0x0004]) {
				var0000 = "You left the small sphere!";
				var0002 = PARTY;
				var0003 = 0x0001;
			} else {
				abort;
			}
		}
		if (var0001 == 0x002A) {
			if ((!Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0001)) && gflags[0x0005]) {
				var0000 = "You left the small cube!";
				var0002 = PARTY;
				var0003 = 0x0001;
			} else {
				abort;
			}
		}
		if (var0001 == 0x002B) {
			if ((!Func0931(PARTY, 0x0001, 0x03D5, QUALITY_ANY, 0x0002)) && gflags[0x0003]) {
				var0000 = "You left the small tetrahedron!";
				var0002 = PARTY;
				var0003 = 0x0001;
			} else {
				abort;
			}
		}
		if (var0002 == PARTY) {
			var0002 = Func0900();
			if (var0002 == AVATAR) {
				abort;
			}
		}
		if (var0003 == 0x0000) {
			var0000 = ("@" + var0000) + "@";
			var0004 = Func08F7(var0002);
			if (var0004) {
				var0002->item_say(var0000);
			}
		}
		if (var0003 == 0x0001) {
			var0004 = Func08F7(var0002);
			if (var0004) {
				var0002->say(var0000,
					"");
				var0002->hide();
			}
		}
	}
}

extern var Func0900 0x900 ();
extern var Func0801 0x801 (var var0000);
extern void Func0624 object#(0x624) ();
extern void Func093F 0x93F (var var0000, var var0001);
extern void Func0940 0x940 (var var0000);
extern void Func093A 0x93A (var var0000, var var0001);
extern var Func093C 0x93C (var var0000, var var0001);
extern void Func0636 object#(0x636) ();
extern void Func0623 object#(0x623) ();

void Func0622 object#(0x622) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == DOUBLECLICK) {
		var0000 = UI_get_party_list();
		var0001 = Func0900();
		if (var0001 == AVATAR) {
			var0002 = 0x0006 + UI_die_roll(0x0000, 0x0009);
		} else {
			var0001->show_npc_face(0x0000);
			var0003 = AVATAR->get_npc_name();
			var0004 = UI_get_array_size(UI_get_party_list());
			if (var0004 > 0x0002) {
				var0005 = "we";
			} else {
				var0005 = "I";
			}
			say("\"In how many hours shall ",
				var0005,
				" wake thee up, ",
				var0003,
				"?\"");
			var0002 = UI_input_numeric_value(0x0000, 0x000C, 0x0001, 0x0008);
			if (var0002 == 0x0000) {
				var0003 = var0001->get_npc_name();
				say(var0003,
					" gives you an exasperated look.* \"Never mind, then.\"");
				if (Func0801(item)) {
					item->Func0624();
				}
				for (var0008 in var0000 with var0006 to var0007) {
					Func093F(var0008, FOLLOW_AVATAR);
				}
				var0001->hide();
				AVATAR->clear_item_flag(ASLEEP);
				return;
			}
			say("\"Pleasant dreams.\"");
			var0001->hide();
		}
		if (UI_die_roll(0x0001, 0x0004) == 0x0001) {
			Func0940(0x0001);
		}
		UI_fade_palette(0x000C, 0x0001, 0x0000);
		var0009 = var0002 * 0x05DC;
		Func093A(var0002, item);
		var0000 = Func093C(AVATAR->get_npc_object(), var0000);
		for (var0008 in var0000 with var000A to var000B) {
			Func093F(var0008, LOITER);
		}
		var000C = script AVATAR {
			wait 35;
		};
		var000C = script item after 33 ticks {
			nohalt;
			call Func0636;
			call Func0623;
		};
		UI_advance_time(var0009);
	}
}

extern var Func0900 0x900 ();
extern void Func093F 0x93F (var var0000, var var0001);
extern void Func0624 object#(0x624) ();

void Func0623 object#(0x623) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == SCRIPTED) {
		var0000 = Func0900();
		if (!(var0000 == AVATAR)) {
			var0000->show_npc_face(0x0000);
			var0001 = AVATAR->get_npc_name();
			say("\"Arise, ",
				var0001,
				". Time to continue the quest.\"");
			var0000->hide();
		}
		var0002 = UI_get_party_list();
		for (var0005 in var0002 with var0003 to var0004) {
			Func093F(var0005, FOLLOW_AVATAR);
		}
		AVATAR->set_item_flag(ASLEEP);
		AVATAR->clear_item_flag(ASLEEP);
		if ((get_item_shape() == 0x03F3) && (get_item_frame() == 0x0011)) {
			event = DOUBLECLICK;
			item->Func0624();
		}
	}
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0624 object#(0x624) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		var0000 = [-1, -1, -1,  0,  0,  0,  1,  1,  1];
		var0001 = [ 1,  0, -1,  1,  0, -1,  1,  0, -1];
		AVATAR->halt_scheduled();
		Func0828(item, var0000, var0001, -1, Func0624, item, BG_PATH_SUCCESS);
		UI_set_path_failure(Func0624, item, SCRIPTED);
	}
	if (event == SCRIPTED) {
		set_item_shape(0x0247);
		set_item_frame(0x0000);
	}
	if (event == BG_PATH_SUCCESS) {
		UI_close_gumps();
		var0002 = script AVATAR {
			face FACE_NORTH;
			actor frame bowing;
			wait 1;
			actor frame standing;
		};
		if (var0002) {
			var0002 = script item {
				wait 2;
				call Func0624;
			};
		}
	}
}

extern var Func093E 0x93E ();
extern var Func08F9 0x8F9 (var var0000, var var0001, var var0002);
extern var Func090A 0x90A ();
extern var Func084B 0x84B (var var0000);
extern void Func093F 0x93F (var var0000, var var0001);
extern var Func081B 0x81B (var var0000);
extern var Func081F 0x81F (var var0000);
extern void Func084A 0x84A ();
extern void Func063C object#(0x63C) ();

void Func0625 object#(0x625) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;

	if (event == DOUBLECLICK) {
		var0000 = get_item_shape();
		var0001 = [0x017B, 0x0111];
		var0002 = [0x01B8, 0x0133];
		var0003 = AVATAR->get_object_position();
		if (Func093E()) {
			0xFEFD->say("You see an irate guard.~~Years of indoctrination have instilled in him an overly developed sense of discipline~~and a zealous devotion to the maintainance of order. All of this zeal is now directed against you.~~ \"Such behavior will never be tolerated inside the sanctuary of Trinsic's walls.~~Thy red cloak and blonde curls show only that thou art a vile imposter and not a true Avatar.~~To the Death!\"");
			0xFEFD->hide();
			UI_attack_avatar();
			return;
		}
		if (Func08F9(var0003, var0001, var0002)) {
			0xFEFE->say("The guard glares at you. \"Unrepentant scoundrel!\"");
			0xFEFE->hide();
			UI_attack_avatar();
			return;
		}
		0xFEFE->show_npc_face(0x0000);
		var0004 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
		if ((UI_die_roll(0x0001, 0x0002) == 0x0001) && var0004) {
			say("You see an angry guard. \"Cease and desist immediately!.~~Dost thou wish to avoid the unpleasantries of a lengthy trial?\"");
			var0005 = Func090A();
			if (var0005) {
				say("\"What is your liberty worth?\"");
				do {
					if (!Func084B(var0004)) {
						say("The guard looks unimpressed by your paltry offer. \"How about a bit more? Our jail is populated by some unsavory characters.\"");
						if (!Func084B(var0004)) {
							break;
						}
					}
					if (UI_is_pc_female()) {
						var0006 = "woman";
					} else {
						var0006 = "man";
					}
					var0007 = [0x018A, 0x02D0, 0x0326, 0x03B2];
					var0008 = [];
					for (var000B in var0007 with var0009 to var000A) {
						var0008 &= find_nearby(var000B, 0x001E, MASK_NONE);
					}
					for (var000E in var0008 with var000C to var000D) {
						var000E->set_schedule_type(WANDER);
					}
					var000F = find_nearby(SHAPE_ANY, 0x001E, MASK_NPC2);
					for (var0012 in var000F with var0010 to var0011) {
						if (var0012->get_schedule_type() == IN_COMBAT) {
							var0012->set_schedule_type(WANDER);
						}
					}
					say("The guard winks. \"I am pleased to see that thou art a thinking ",
						var0006,
						". I will take care of this disturbance.\"");
					UI_play_music(0x00FF, item);
					abort;
				} while (false);
			}
		} else {
			say("You see an angry guard. \"Cease and desist immediately!.~~Wilt thou come quietly?\"");
			if (Func090A()) {
				say("\"Very well. Thou shalt remain in prison until we see fit to release thee.\"");
				0xFEFE->hide();
				AVATAR->halt_scheduled();
				var0013 = script AVATAR after 2 ticks {
					call Func0625;
					actor frame sleeping;
					wait 5;
				};
				abort;
			}
		}
labelFunc0625_01DB:
		say("\"An unfortunate decision, my friend.\"");
		UI_attack_avatar();
		return;
	}
	if (event == SCRIPTED) {
		var0014 = UI_get_party_list();
		for (var0017 in var0014 with var0015 to var0016) {
			Func093F(var0017, FOLLOW_AVATAR);
			var0017->set_item_frame(0x0000);
		}
		var0018 = [0x01A4, 0x0127, 0x0000];
		UI_fade_palette(0x000C, 0x0001, 0x0000);
		UI_play_music(0x00FF, item);
		PARTY->move_object(var0018);
		var0019 = AVATAR->find_nearby(0x033C, 0x000A, MASK_NONE);
		if (var0019 && (Func081B(var0019) == 0x0001)) {
			var0013 = Func081F(var0019);
		}
		Func084A();
		var0013 = script AVATAR {
			wait 1;
			call Func063C;
		};
	}
}

extern var Func093C 0x93C (var var0000, var var0001);
extern var Func093D 0x93D (var var0000, var var0001);
extern var Func0932 0x932 (var var0000);

void Func0626 object#(0x626) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = get_item_shape();
	if (var0000 == 0x0206) {
		UI_call_guards();
		var0001 = Func093C(item, find_nearby(0x0206, 0x0006, MASK_NONE));
		var0002 = [];
		for (var0005 in var0001 with var0003 to var0004) {
			var0002 &= var0005->get_distance(item);
		}
		var0001 = Func093D(var0001, var0002);
		var0006 = get_object_position();
		var0007 = 0x0001;
		for (var0005 in var0001 with var0008 to var0009) {
			var000A = var0005->get_object_position();
			var000B = 0x0001;
			while (var000B <= var0007) {
				var000C = ((var000B - 0x0001) * 0x0003) + 0x0001;
				if ((Func0932(var000A[0x0001] - var0006[var000C]) <= 0x0002) && (Func0932(var000A[0x0002] - var0006[(var000C + 0x0001)]) <= 0x0002)) {
					var0005->remove_item();
					var0006 &= var000A;
					var0007 += 0x0001;
					break;
				}
				var000B += 0x0001;
			}
		}
		UI_play_sound_effect2(0x0025, item);
		remove_item();
		return;
	}
	if ((var0000 == 0x0350) || (var0000 == 0x010C)) {
		if (!(get_item_frame() == 0x0002)) {
			var000D = script item {
				sfx 37;
				continue;
				frame 2;
			};
		}
		return;
	}
	remove_item();
}

void Func0627 object#(0x627) () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = find_nearby(0x0201, 0x0003, MASK_NONE);
	var0001 = get_cont_items(0x0179, QUALITY_ANY, FRAME_ANY);
	if (var0001) {
		var0002 = var0001[0x0001]->set_last_created();
		if (var0002 && var0000) {
			var0002 = var0000[0x0001]->give_last_created();
		}
		if ((UI_die_roll(0x0001, 0x0002) == 0x0001) && (var0001[0x0002] != 0x0000)) {
			var0002 = var0001[0x0002]->set_last_created();
			if (var0002 && var0000) {
				var0002 = var0000[0x0001]->give_last_created();
			}
		}
	}
	if (var0000 && (UI_die_roll(0x0001, 0x0002) == 0x0001)) {
		var0001 = var0000[0x0001]->find_nearby(0x0179, 0x000A, MASK_NONE);
		if (var0001) {
			var0002 = var0001[0x0001]->set_last_created();
			if (var0002) {
				var0002 = var0001[0x0001]->give_last_created();
			}
		}
	}
}

extern void Func08FE 0x8FE (var var0000);

void Func0628 object#(0x628) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	var0000 = UI_create_new_object(0x0390);
	if (var0000) {
		var0000->set_item_flag(TEMPORARY);
		var0000->set_item_frame(UI_die_roll(0x000C, 0x000F));
		var0001 = get_object_position();
		var0002 = find_nearby(0x032A, 0x0002, MASK_NONE);
		for (var0005 in var0002 with var0003 to var0004) {
			var0006 = var0005->get_object_position();
			if ((var0006[0x0001] == (var0001[0x0001] - 0x0001)) && ((var0006[0x0002] == (var0001[0x0002] + 0x0001)) && (var0006[0x0003] == var0001[0x0003]))) {
				if (var0005->get_item_frame() == 0x0000) {
					var0005->set_item_frame(0x0004);
					halt_scheduled();
					var0007 = script item after 16 ticks {
						call Func0628;
					};
					return;
				}
			}
		}
		var0001[0x0001] -= UI_die_roll(0x0001, 0x0003);
		var0001[0x0002] += UI_die_roll(0x0001, 0x0002);
		var0007 = UI_update_last_created(var0001);
		var0008 = UI_die_roll(0x0001, 0x0002);
		if (var0008 == 0x0001) {
			Func08FE("@Turn it off!@");
		}
		if (var0008 == 0x0002) {
			Func08FE("@Thou art wasting it!@");
		}
		if (DUPRE->npc_nearby()) {
			DUPRE->item_say("@That is perfectly good beer!@");
		}
		halt_scheduled();
		var0007 = script item after 16 ticks {
			call Func0628;
		};
	}
}

extern void Func08FE 0x8FE (var var0000);

void Func0629 object#(0x629) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	var0000 = UI_create_new_object(0x0390);
	if (var0000) {
		var0000->set_item_flag(TEMPORARY);
		var0000->set_item_frame(UI_die_roll(0x0014, 0x0017));
		var0001 = get_object_position();
		var0002 = find_nearby(0x032A, 0x0002, MASK_NONE);
		for (var0005 in var0002 with var0003 to var0004) {
			var0006 = var0005->get_object_position();
			if ((var0006[0x0001] == (var0001[0x0001] + 0x0001)) && ((var0006[0x0002] == (var0001[0x0002] - 0x0001)) && (var0006[0x0003] == var0001[0x0003]))) {
				if (var0005->get_item_frame() == 0x0000) {
					var0005->set_item_frame(0x0003);
					halt_scheduled();
					var0007 = script item after 16 ticks {
						call Func0629;
					};
					return;
				}
			}
		}
		var0001[0x0001] += UI_die_roll(0x0001, 0x0002);
		var0001[0x0002] -= UI_die_roll(0x0000, 0x0002);
		var0007 = UI_update_last_created(var0001);
		var0008 = UI_die_roll(0x0001, 0x0002);
		if (var0008 == 0x0001) {
			Func08FE("@Turn it off!@");
		}
		if (var0008 == 0x0002) {
			Func08FE("@Thou art wasting it!@");
		}
		halt_scheduled();
		var0007 = script item after 16 ticks {
			call Func0629;
		};
	}
}

extern var Func0945 0x945 (var var0000);
extern void Func08E6 0x8E6 (var var0000);
extern void Func0636 object#(0x636) ();
extern void Func063F object#(0x63F) ();
extern void Func0713 object#(0x713) ();

void Func062C object#(0x62C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;

	var0000 = item;
	var0001 = Func0945(var0000);
	var0002 = UI_find_nearby([0x09B7, 0x06C8, 0x0000], 0x014B, 0x0012, MASK_NONE);
	for (var0005 in var0002 with var0003 to var0004) {
		var0006 = var0005->find_nearby(0x0390, 0x0003, MASK_ALL_UNSEEN);
		for (var0009 in var0006 with var0007 to var0008) {
			var000A = var0009->get_item_frame();
			var000B = var0009->get_object_position();
			var0009->remove_item();
			var000C = UI_create_new_object(0x0390);
			var000C->set_item_frame(var000A);
			var000D = UI_update_last_created(var000B);
		}
	}
	var000E = var0001->get_cont_items(0x031D, QUALITY_ANY, 0x0004);
	var000F = script var0000 {
		nohalt;
		finish;
		remove;
	};
	if (var000E->get_item_quality() == 0x00F3) {
		Func08E6(var0001);
		gflags[0x02F1] = false;
		gflags[0x031B] = true;
	}
	if (var000E->get_item_quality() == 0x00F4) {
		Func08E6(var0001);
		gflags[0x031C] = false;
		gflags[0x02F2] = false;
	}
	var0002 = UI_find_nearby_avatar(0x03A4);
	for (var0012 in var0002 with var0010 to var0011) {
		if ((var0012->get_item_frame() == 0x0002) || (var0012->get_item_frame() == 0x0003)) {
			var0012->set_camera();
			UI_fade_palette(0x000C, 0x0001, 0x0000);
			var0013 = script var0012 {
				nohalt;
				call Func0636;
				call Func0713;
				wait 30;
				call Func063F;
			};
			// Note: this should be a return.
			// Need to make UCC optimize this.
			goto labelFunc062C_015C;
		}
	}
labelFunc062C_015C:
	return;
}

extern var Func0827 0x827 (var var0000, var var0001);
extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern void Func08FF 0x8FF (var var0000);
extern void Func028B shape#(0x028B) ();

void Func062D object#(0x62D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == BG_PATH_SUCCESS) {
		var0000 = get_container();
		if (!var0000) {
			var0001 = Func0827(AVATAR, item);
			var0002 = get_object_position();
			var0003 = set_last_created();
			if (var0003) {
				var0003 = AVATAR->give_last_created();
				if (!var0003) {
					var0003 = UI_update_last_created(var0002);
					UI_flash_mouse(CURSOR_TOO_HEAVY);
					abort;
				}
				var0003 = script AVATAR {
					face var0001;
					continue;
					actor frame bowing;
					actor frame standing;
					call Func062D;
				};
			} else {
				return;
			}
		} else {
			UI_close_gumps();
		}
	}
	if ((event == SCRIPTED) || var0000) {
		var0004 = UI_click_on_item();
		var0005 = var0004->get_item_shape();
		if (var0005 == 0x028B) {
			var0006 = [1, 1];
			var0007 = [0, 0];
			var0008 = -1;
			Func0828(var0004, var0006, var0007, var0008, Func028B, var0004, BG_PATH_SUCCESS);
		} else {
			var0009 = "@Why dost thou not spin that wool into thread?@";
			Func08FF(var0009);
		}
	}
}

extern var Func0827 0x827 (var var0000, var var0001);
extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern void Func08FF 0x8FF (var var0000);
extern void Func0105 shape#(0x0105) ();

void Func062E object#(0x62E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == BG_PATH_SUCCESS) {
		var0000 = get_container();
		if (!var0000) {
			var0001 = Func0827(AVATAR, item);
			var0002 = get_object_position();
			var0003 = set_last_created();
			if (var0003) {
				var0003 = AVATAR->give_last_created();
				if (!var0003) {
					var0003 = UI_update_last_created(var0002);
					UI_flash_mouse(CURSOR_TOO_HEAVY);
					abort;
				}
				var0003 = script AVATAR {
					face var0001;
					continue;
					actor frame bowing;
					actor frame standing;
					call Func062E;
				};
			} else {
				return;
			}
		} else {
			UI_close_gumps();
		}
	}
	if ((event == SCRIPTED) || var0000) {
		var0004 = UI_click_on_item();
		var0005 = var0004->get_item_shape();
		if (var0005 == 0x0105) {
			var0006 = [ 0, -1, -2];
			var0007 = [ 1,  1,  1];
			var0008 = -1;
			Func0828(var0004, var0006, var0007, var0008, Func0105, var0004, BG_PATH_SUCCESS);
		} else {
			var0009 = "@Why dost thou not weave cloth with that thread on the loom?@";
			Func08FF(var0009);
		}
	}
}

extern var Func080E 0x80E (var var0000);
extern var Func08F7 0x8F7 (var var0000);
extern var Func0937 0x937 (var var0000);
extern void Func083F 0x83F (var var0000, var var0001);

void Func0631 object#(0x631) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == BG_PATH_SUCCESS) {
		var0000 = get_item_quality();
		var0001 = find_nearby(0x0366, 0x000F, MASK_NONE);
		var0002 = find_nearby(0x0203, 0x000F, MASK_NONE);
		var0001 &= var0002;
		var0002 = [];
		for (var0005 in var0001 with var0003 to var0004) {
			if (var0005->get_item_quality() == var0000) {
				var0002 &= var0005;
			}
		}
		if (Func080E(var0002)) {
			var0006 = script item {
				frame 1;
				repeat 4 {
					next frame cycle;
				};
			};
			var0006 = script AVATAR {
				face west;
				continue;
				repeat 2 {
					actor frame bowing;
					actor frame standing;
				};
			};
			return;
		}
		if (gflags[0x003D]) {
			if (Func08F7(JOHNSON) && (!gflags[0x0057])) {
				if (Func0937(JOHNSON) && Func0937(AVATAR)) {
					var0006 = script JOHNSON->get_npc_object() after 1 ticks {
						nohalt;
						say "@What's the password?@";
					};
					var0006 = script UI_get_avatar_ref() after 5 ticks {
						nohalt;
						say "@Blackbird@";
					};
					var0006 = script JOHNSON->get_npc_object() after 11 ticks {
						nohalt;
						say "@Pass.@";
					};
				}
				var0006 = script item after 10 ticks {
					nohalt;
					call Func0631;
				};
				return;
			}
			if (Func08F7(RAYMUNDO) && (!gflags[0x0057])) {
				if (Func0937(RAYMUNDO) && Func0937(AVATAR)) {
					var0006 = script RAYMUNDO->get_npc_object() after 1 ticks {
						nohalt;
						say "@What's the password?@";
					};
					var0006 = script UI_get_avatar_ref() after 5 ticks {
						nohalt;
						say "@Blackbird@";
					};
					var0006 = script RAYMUNDO->get_npc_object() after 11 ticks {
						nohalt;
						say "@Pass.@";
					};
				}
				var0006 = script item after 10 ticks {
					nohalt;
					call Func0631;
				};
				return;
			}
			if (AVATAR->find_nearest(0x0326, ON_SCREEN) && (!gflags[0x0057])) {
				var0007 = find_nearest(0x0326, 0x0014);
				if (Func0937(var0007) && Func0937(AVATAR)) {
					var0006 = script var0007 after 1 ticks {
						nohalt;
						say "@What's the password?@";
					};
					var0006 = script UI_get_avatar_ref() after 5 ticks {
						nohalt;
						say "@Blackbird@";
					};
					var0006 = script var0007 after 11 ticks {
						nohalt;
						say "@Pass.@";
					};
				}
				var0006 = script item after 10 ticks {
					nohalt;
					call Func0631;
				};
				return;
			}
			Func083F(item, true);
		} else {
			if (Func0937(JOHNSON)) {
				if (Func08F7(JOHNSON) && (!gflags[0x0057])) {
					var0006 = script JOHNSON->get_npc_object() after 1 ticks {
						nohalt;
						say "@What's the password?@";
					};
				}
			}
			if (Func08F7(RAYMUNDO) && (!gflags[0x0057])) {
				if (Func0937(RAYMUNDO)) {
					var0006 = script JOHNSON->get_npc_object() after 1 ticks {
						nohalt;
						say "@What's the password?@";
					};
				}
			}
			if (AVATAR->find_nearest(0x0326, ON_SCREEN) && (!gflags[0x0057])) {
				var0007 = find_nearest(0x0326, 0x0014);
				if (Func0937(var0007)) {
					var0006 = script var0007 after 1 ticks {
						nohalt;
						say "@What's the password?@";
					};
				}
			}
		}
	}
	if (event == SCRIPTED) {
		Func083F(item, true);
	}
}

void Func0632 object#(0x632) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = GAROK->get_object_position();
		UI_sprite_effect(ANIMATION_TELEPORT, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		var0001 = script item {
			nohalt;
			continue;
			actor frame cast_up;
			actor frame cast_out;
			actor frame strike_2h;
		};
		var0001 = script item after 4 ticks {
			nohalt;
			call Func0632;
		};
	}
	if (event == SCRIPTED) {
		GAROK->get_npc_object()->remove_npc();
	}
}

extern void Func063A object#(0x63A) ();
extern var Func0937 0x937 (var var0000);
extern void Func093F 0x93F (var var0000, var var0001);

void Func0633 object#(0x633) () {
	if (event == DOUBLECLICK) {
		item->Func063A();
		if (UI_die_roll(0x0001, 0x0008) == 0x0001) {
			if (DUPRE->get_item_flag(IN_PARTY) && Func0937(DUPRE)) {
				DUPRE->item_say("@I am leaving!@");
				DUPRE->remove_from_party();
				Func093F(DUPRE, WANDER);
				gflags[0x02EB] = true;
				return;
			}
			if (SHAMINO->get_item_flag(IN_PARTY) && Func0937(SHAMINO)) {
				SHAMINO->item_say("@I am leaving!@");
				gflags[0x02EC] = true;
				SHAMINO->remove_from_party();
				Func093F(SHAMINO, WANDER);
				return;
			}
			if (IOLO->get_item_flag(IN_PARTY) && Func0937(IOLO)) {
				IOLO->item_say("@I am leaving!@");
				gflags[0x02EA] = true;
				IOLO->remove_from_party();
				Func093F(IOLO, WANDER);
			}
		}
	}
}

extern var Func080C 0x80C (var var0000);
extern void Func0812 0x812 (var var0000);
extern void Func028C shape#(0x28C) ();
extern void Func061C object#(0x61C) ();
extern void Func0831 0x831 (var var0000);

void Func0634 object#(0x634) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = get_barge();
	if (var0000) {
		var0001 = Func080C(item);
		if (var0001 == 0x0348) {
			Func0812(var0000);
		}
		if (var0001 == 0x028C) {
			item->Func028C();
		}
		if (var0001 == 0x00C7) {
			var0002 = AVATAR->find_nearby(0x009B, 0x0019, MASK_NONE);
			if (var0002) {
				if (var0002->get_barge() == var0000) {
					if (AVATAR->get_item_flag(ACTIVE_SAILOR) == var0002) {
						var0000->Func061C();
						AVATAR->clear_item_flag(ACTIVE_SAILOR);
					}
				}
			} else {
				var0003 = AVATAR->get_item_flag(ACTIVE_SAILOR);
				if (var0003) {
					Func0831(var0003);
				}
			}
		}
	}
}

extern void Func08FE 0x8FE (var var0000);

void Func0635 object#(0x635) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == EGG) {
		var0000 = find_nearby(0x0292, 0x0000, MASK_NONE);
		if (var0000) {
			var0001 = script var0000 after 60 ticks {
				nohalt;
				call Func0635;
			};
			if (UI_die_roll(0x0001, 0x0002) == 0x0001) {
				Func08FE("@Do not over cook it!@");
			}
		}
	}
	if (event == SCRIPTED) {
		var0002 = get_object_position();
		var0003 = find_nearby(0x033F, 0x0002, MASK_NONE);
		if (UI_get_array_size(var0003) > 0x0000) {
			remove_item();
			var0004 = UI_create_new_object(0x0179);
			if (var0004) {
				var0004->set_item_flag(TEMPORARY);
				set_item_frame(0x0000);
				var0001 = UI_update_last_created(var0002);
				if (var0001) {
					var0005 = UI_die_roll(0x0001, 0x0003);
					if (var0005 == 0x0001) {
						Func08FE("@I believe the bread is ready.@");
					}
					if (var0005 == 0x0002) {
						Func08FE("@Mmm... Smells good.@");
					}
				}
			}
		}
	}
}

void Func0636 object#(0x636) () {
	var var0000;

	UI_fade_palette(0x000C, 0x0001, 0x0001);
	if (item == AVATAR->get_npc_object()) {
		var0000 = get_object_position();
		UI_sprite_effect(ANIMATION_TELEPORT, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	}
}

void Func0637 object#(0x637) () {
	clear_item_flag(ACTIVE_BARGE);
	AVATAR->set_camera();
}

extern void Func08FF 0x8FF (var var0000);

void Func0638 object#(0x638) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0000 = get_item_quality();
	if ((event != DOUBLECLICK) && (event != SCRIPTED)) {
		return;
	}
	if (event == SCRIPTED) {
		if ((var0000 == 0x0090) && (get_item_shape() == 0x0282)) {
			Func08FF("@Odd. The page is smudged with dirt here. I cannot make out this text.@");
			var0001 = set_item_quality(0x0091);
			var0001 = script item {
				call Func0638;
			};
			return;
		}
		if (item == AVATAR->get_npc_object()) {
			if (!gflags[0x0325]) {
				gflags[0x0325] = true;
				Func08FF("@Why, a page has fallen out of the book!@");
			}
			return;
		}
	}
	UI_play_sound_effect2(0x000E, item);
	book_mode();
	if (var0000 > 0x0094) {
		say("This is @not a @valid book");
	}
	if (var0000 == 0x0064) {
		say("~~ ~~THE DRAGON COMPENDIUM~~ ~~by Perrin*");
		say("     Found almost exclusively in the dungeon Destard, dragons are an ancient race of large reptiles. They possess great intelligence, and a few also use magic, sometimes summoning other creatures to fight with -- or for -- them in battle.~");
		say("     However, in combat, they are quite formidable without any aid, for in addition to their sharp claws and the rows of razor-like teeth that fill their maws, they are capable of producing large clouds of fiery death. That, combined with their ability to become invisible makes them more than a match for any foolish enough to cross one.~");
		say("     Shouldst one ever be found that is willing to bargain with thee, I strongly suggest doing so, for very few can survive a battle with one of these terrible lizards, and even fewer can emerge victorious.");
	}
	if (var0000 == 0x0065) {
		say("~~ ~~THE JOURNAL OF GARRET MOORE*");
		say("Day 1: I arrived upon this forsaken isle.~~");
		say("Day 3: Found the ruins of an edifice. A tower?~~");
		say("Day 4: Need shelter. Beginning to rebuild the tower.~~");
		say("Day 7: Tower.~~");
		say("Day 12: Tower.~~");
		say("Day 21: Basic support foundation almost completed. Moving from temporary shelter tomorrow.~~");
		say("Day 29: Expanding tower. Began research and experiments to produce livestock breeds for food.~~");
		say("Day 45: Tower complete. Near miss with experiments. Life soon, I am sure of it!~~");
		say("Day 73: I have done it! A combination of cells that reproduce without my assistance! Self-sustaining life is not far away!~~");
		say("Day 97: I am near the answer, there is no doubt. But there are others who would see me fail! They change the sky to purple and hurl bolts of lightning towards me.~~");
		say("Day 111: The others still seek to thwart me! I hear their voices commanding me to cease. I will never rest until I am done!~~");
		say("Day 101: Again they come. They have sent a succubus to tempt me. \"Kiss me, kiss me,\" is all she would say. \"Nay\" was my reply. I will be strong!~~");
		say("Day 40232: Hah! The voices now beg, but I will not finish until he is gone. The night is my haven and the dogs will bark!~~");
	}
	if (var0000 == 0x0066) {
		say("~~ ~~THE TRANSITIVE VAMPIRE, by Karen Elizabeth Gordon*");
		say("     This richly-detailed tome is a \"handbook of grammar for the Innocent, the Eager, and the Doomed.\"");
	}
	if (var0000 == 0x0067) {
		say("~~ ~~THE TOME OF THE DEAD~~ ~~by Suvol Shadowface*");
		say("     The crinkled pages of this book appear to be made of an odd sort of leather. It contains various essays concerning the treatment of the deceased, especially the bodily remains.");
		say("     One chapter is entitled 101 uses for the human heart. Another passage describes the method by which human skin is tanned and pressed for use as writing material...");
	}
	if (var0000 == 0x0068) {
		say("~~ ~~ARTIFACTS OF DARKNESS~~ ~~by Mordra Morgaelin*");
		say("     Within the pages of this handwritten book are many references to devices of destructive power. Amongst them are Mondain's Skull and Gem of Immortality, Minax's Crystal Ring, and the Dark Core of Exodus' memories.");
		say("     More recent entries describe the Crown of the Liche King, the Well of Souls, and a mysterious Blackrock Sword which apparently has the power to slay even one so powerful as Lord British.");
		say("     A short essay, involving a metal plate hung above a door, explains what seems to be a far simpler method of dispatching the noble monarch.");
	}
	if (var0000 == 0x0069) {
		say("~~ ~~THE LIGHT UNTIL DAWN~~ ~~by Drennal*");
		say("     Herein is the short book that discusses both moons of Britannia, Trammel and Felucca, in detail, explaining their orbits, approximate sizes, and expected compositions. In addition, there is a short essay about the possibility of people who live on these moons, and how to contact them. The work also includes a short story about a sorceress who discovers a way to change the color of Felucca. After testing her observations, she quickly learns that the changes have little affect on anything or anyone.");
	}
	if (var0000 == 0x006A) {
		say("~~ ~~CODAVAR~~ ~~by Nexa*");
		say("     Within the pages of this novel is the parable of an usurping lord seemingly inspired by Blackthorn's tyrranical rule during Lord British's disappearance more than two hundred years ago.");
	}
	if (var0000 == 0x006B) {
		say("~~ ~~RITUAL MAGIC~~ ~~by Nicodemus*");
		say("     The ability to combine one's power with that of another mage's is fundamental to the casting of enchantments. While standing in an outer triangle of a pentagram, up to five wizards may enhance the effects of their spells. The bloodletting from either a goat, sheep, or cat -- one per mage -- is necessary, in addition to the consumption of the secretion of a type three acid slug.~");
		say("     Once all the materials are gathered, each mage must stand within one of the five corners of a pentagram drawn from the dust of a dragon's thigh bone...");
	}
	if (var0000 == 0x006C) {
		say("~~ ~~PATHWAYS OF PLANAR TRAVEL~~ ~~by Nicodemus*");
		say("     Herein are the many complex formulae necessary for travel between and through the many diverse planes of existence. Each plane is accessed by a moongate, and even our very own Lord British came to Britannia from one of these planes via a moongate.~");
		say("     However, this also leads to some concern. To this point, every individual who has entered Britannia from another plane has been benevolent (most notably Lord British and the Avatar). But if they have the ability to employ these gates, is there not the chance that other, evil beings might, too, be able to venture into our fair lands at their whimsy? A thought to be considered for the future.");
	}
	if (var0000 == 0x006D) {
		say("~~ ~~ENCHANTING ITEMS FOR HOUSEHOLD USE~~ ~~by Nicodemus*");
		say("     Found upon the pages of this tome are many a recipe for the creation of \"mundane\" magic utensils and apparatuses, including such items as the SELF-PROPELLED BROOM, the GHOST WRITING QUILL, and the ALARM GEM.");
		say("Toward the unfinished end of the book, the entries become erratic and almost unreadable, as if written down in a hurry. Many of the latter items seem a little demented: the GIANT OBSIDIAN FLYSWATTER, the EXPLODING CORNCOB HOLDER, and the COMB OF MANY BLADES. It would seem that this mage was not conjuring with all of his reagents.");
	}
	if (var0000 == 0x006E) {
		say("~~ ~~MISCELLANEOUS CANTRIPS~~ ~~Anonymous*");
		say("     As the title says, this book describes the minor spells that fall into the bailiwick of charlatans and prestidigitators.");
	}
	if (var0000 == 0x006F) {
		say("~~ ~~MODERN NECROMANCY~~ ~~by Horance*");
		say("     The author of this poetic treatise attempts to show how necromancy has been maligned throughout the years and explains the beneficial knowledge that can be garnered by studying the effects of magic on a lifeless corpse, including the more recent art of returning life to a dead companion, known as resurrection.");
	}
	if (var0000 == 0x0070) {
		say("~~ ~~THE SYMBOLOGY OF RUNES~~ ~~by Smidgeon the Green*");
		say("     Found within is the complete dictionary of terms for understanding and translating runes. In addition, the work discusses in depth the relation between runes and magic. Based on the intense text within, it would seem that the author is either a profound dolt or a simple genius.");
	}
	if (var0000 == 0x0071) {
		say("~~ ~~THE BUNK AND STOOL");
		say("~~ ~~Register*");
		say("~ ~Dosklin of Vesper~~Lord Shamino~~Erstran of Moonglow~~Aaron of Britain~~Karman of Buccaneer's Den~~The Avatar...");
	}
	if (var0000 == 0x0072) {
		say("~~ ~~THE MODEST DAMSEL");
		say("~~ ~~Register*");
		say("~ ~Sir Dupre~~Lord Iolo~~Rasmereng of Britain~~Hetteth of Paws~~Dukat of New Magincia~~Newon of Britain...");
	}
	if (var0000 == 0x0073) {
		say("~~ ~~THE CHECQUERED CORK");
		say("~~ ~~Register*");
		say("~ ~Sars of Yew~~Lord Shamino~~Sir Dupre~~Keth of Moonglow~~Darek~~ Vinder of Jhelom...");
	}
	if (var0000 == 0x0074) {
		say("~~ ~~THE HONORABLE HOUND");
		say("~~ ~~Register*");
		say("~ ~Walter of Britain~~Jaffe of Yew~~Jaana~~Atans of Serpent's Hold...");
	}
	if (var0000 == 0x0075) {
		say("~~ ~~THE OUT'N'INN");
		say("~~ ~~Register*");
		say("~ ~Tyors of Britain~~Kellin of Buccaneer's Den~~Sir Dupre~~Wentok of Trinsic~~Uberak of Minok...");
	}
	if (var0000 == 0x0076) {
		say("~~ ~~THE WAYFARERER'S INN");
		say("~~ ~~Register*");
		say("~ ~John-Paul of Serpent's Hold~~Horffe of Serpent's Hold~~Featherbank of Moonglow~~Tervis of Buccaneer's Den~~Lord Shamino...");
	}
	if (var0000 == 0x0077) {
		say("~~ ~~THE FALLEN VIRGIN");
		say("~~ ~~Register*");
		say("~ ~Carson of Minoc~~Lord Iolo~~Lady Gwenno~~Yethrod of Britain~~Addom of Yew...");
	}
	if (var0000 == 0x0078) {
		say("BRITANNIAN MINING COMPANY ~~ ~~log.");
		say("... Iron Ore -- 30 tons~~Lead -- 24 tons~~Iron Ore -- 27 tons~~ B.R. -- 2 tons~~Lead -- 14 tons~~Lead -- 37 tons~~Iron Ore -- 26 tons ~~B.R. -- 3 tons~~Iron Ore -- 31 tons...");
	}
	if (var0000 == 0x0079) {
		say("~~ ~~THE SALTY DOG");
		say("~~ ~~Register*");
		say("~ ~Addom of Yew~~The Avatar~~Jalal of Britain~~Tim of Yew~~Blorn of Vesper~~Sir Dupre~~Penelope of Cove...");
	}
	if (var0000 == 0x007A) {
		say("~~ ~~A GUIDE TO CHILDCARE FOR THE RICH AND FAMOUS~~ ~~by Lady M ~~ ~~with love for Samantha Meng Ling*");
		say("     Within is the extensive guide for nannies, describing contemporary techniques and the latest in trouble shooting with children of all ages.~");
		say("     A special chapter details the art of diaper changing, and adds a touch of humor by describing (for the more soldierly sorts who may be reading) the effects of hurling soiled diapers at one's enemies.");
	}
	if (var0000 == 0x007B) {
		say("~~ ~~ ~~ALAGNER'S BOOK OF MARVELOUS AND ASTONISHING THINGS");
		say("~~A compiled volume of items of interest both magical and mundane~~by Alagner*");
		say("     In this volume, compiled for easy reference, are some of the many fascinating constructions I have found during my researches. These items range from interesting uses for mundane items to fascinating miscarriages of magic. Please read and enjoy the varied realm of My Brittannia.*");
		say("Potions: An historical point of interest from the last several hundred years.~");
		say("     Circa 0207 there was a rather infamous case of a resourceful peeping-tom. One may ask what this has to do with potions, but the publicity generated from this trail about the use and misuse of magical potions of X-ray vision encouraged all honorable mages and alchemists to cease making the amazing potions. And, as these potions fell into disuse, the affectation of calling them white potions also slowly ceased, and a lesser known concoction (which, ironically, is appreciably more white than the original X-ray potion I was able to view (see Alagners Index of Treasures, entry 15, for more information), that of common illumination, became its replacement.*");
		say("Flying Carpets: A recurring magic.~");
		say("     As many of you undoubtedly know the Flying Carpet was essential to the Avatar in his legendary quest to save Lord British from the Three Shadowlords. However,few people realize that this fascinating piece of lore has been rediscovered and, according to my sources, hidden just inside the dungeon Destard, (or is it Despise, I always get those mixed up (NOTE: look this up before publication)). This amazing carpet could fly over water and swamps with no adverse effects, a marvelous tool for the common adventurer and essential for the Avatar. (An interesting side note: according to an ancient tome, the carpet was actual believed a failure by its creater for its inability to rise more than a few inches off the ground)*");
		say("Wands: A trio of terrible weaponry.~");
		say("     The three identified varieties of magical wand all seem to have been made for the express purpose of changing the combat-weak spellcaster into a killing machine. And, for those with the ability to keep them from wearing out (no small feat of magic, mind you, but simple for anyone capable of crafting the wand in the first place), they are perhaps the most formidable weapons of their size.~~");
		say("Fire Wand: This wand fires a bolt of flaming death. According to all known texts on the subject, the carnage was called \"amazing.\"~");
		say("Lightning Wand: The effects of a bolt of lightning as it bursts forth from the wand is as devastating, as its counterpart, the fire wand. However, according to one of its proponents, \"the corpses look and smell much less offensive.\"~");
		say("Magicians Wand: While only slightly more lethal than the typical bow, this wand is rendered quite effective due to two interesting facets: Its damage is of a most magical nature and more than quite powerful against monsters likely to hassle a mage, and, it NEVER runs out of charges. If thou art interested in power and duration, this is the wand for thee.*");
		say("Silver Serpent venom: mage's dream, youth's bane.~Once upon a time, the ability to gather this reagent was heralded as the beginning of a new era of magicry. It was the epitome of High Wizardry, but alas, as frequently happens, the promise paid but little.\tWhile direct doses of this reagent give a boost to strength, the permanent damage done to the body far outweighs any temporary advantage. Unfortunately, these adverse effects tend to carry over to the spells cast using this reagent.~ Before his illness, Garok Al-Mat, a mage of the high mountains, was experimenting with the vemom in conjunction with spider silk and giant bee pollen. His hope was to bind the qualities into an effective casting reagent for divination. But his work is now lost forever.*");
		say("Hoe of Destruction: accidental glory. One of the most recent magic items created, this once ordinary hoe dates back to only a few years ago when one of the first mages (a bush mage of no real merit) to succumb to the illness that now plagues all mages, was asked to both repair a broken hoe for a local farmer and enchant a sword for a warrior. Unfortunately, his perhaps-never-to-be-repeated- enchantment has made this hoe one of the better melee weapons around today. This hoe can be distinguished by it distinctive red, glowing head. Be wary if thou dost ever face it.*");
		say("(Items below this point need more research before publication.)~~");
		say("FireDoom Staff: lethality personified.~");
		say("This staff, which hurls exploding fireballs that actually seek out a target, is perhaps the most lethal of all magic weapons created in the era of human-gargoyle cooperation. But, as with most of the more powerful magic weapons, its limited life span means it may fail thee at the worst of times.*");
		say("Great Dagger: A great idea but shy of a wonder.~");
		say("This dagger is perhaps one of the most ingeniously economical items ever produced. It appears to be naught more than an ordinary dagger, save for large, red stone for a pommel. However, when one strikes with it, it is magically transormed into a two-handed sword. It hides well, and is light on the belt, but no more dangerous that an ordinary two-handed sword (which, of course, is in no way feeble).~~");
		say("Glass Swords : A historical legacy of death.~");
		say("These single-use swords will almost always kill any creature in a single blow, but they are seldom useful for a second opponent.*");
		say("Other Miscellaneous Magical Weaponry.~");
		say("As a general case, any person with a modicum of magical talent can identify magical weapons, armour and other apparatuses by their pulsating glow. Often, however, the color indicates even more about the item than just the existence of the enchantment. For example, a green field often denotes a poisoning weapon.~~");
		say("Starbursts: clouds of flying death.~");
		say("Originally designed as a small transportable weapon, this magically laminated throwing star bursts into a cloud of similar stars upon contact with its target. Although not terribly devasting, it is the tiny size that makes it such an effective defence. Its small size also makes it a valuable backup missile weapon, for many can be carried together.~~");
		say("Burst Arrows:  an area effect arrow.~");
		say("The arrow functions as a regular arrow, but upon impact, explodes into a thousand flying shards of death.~~");
		say("Magic Boomerangs: there and back again.~");
		say("These magical boomerangs are to the gargoyle race as the magical sword it to human warriors. Their most common weapon, boomerangs have the amazing ability to pass through walls and other solid objects and still return to the thrower. Excellent for hunting in the mountains~~");
		say("Venom Dagger : the assassins tool.~");
		say("This shimmering green dagger is actually the enchanted tooth of a poisonous sea serpent, joined to the hilt of a regular dagger. Its envenomed blade injects the slow poison into its victim, but it frequently breaks. It is the perfect assassination weapon (see Alagners History, Assassination of Baron Johann IV (page 54)).*");
		say("Stone Harpy: The Stone harpy is the creation of the twisted mind of the magus and paranoid lord of Spectran. It is reputed to be magically triggered by the approaching close approach of any creature.");
	}
	if (var0000 == 0x007C) {
		say("BATHS - PROFITS~~...April, 0360 - 9000~May, 0360 - 8700~June, 0360 - 8300~July, 0360 - 8000~August, 0630 - 6300~September, 0630 - 7600~ October, 0360 - 10,000...~...January, 0361 - 9600");
	}
	if (var0000 == 0x007D) {
		say("~~ ~~THE HISTORY OF STONEGATE~~ ~~by Shazle*");
		say("     The story of Stonegate Castle is, indeed, an interesting one. At one time the keep was occupied by the Shadowlords, during Lord British's disappearance and Blackthorn's evil rule. However, once the Avatar returned our noble monarch to his throne, eliminating the Shadowlords from Britannia, a family of cyclops made the castle their home.~");
		say("     Not more than three decades from then the walls were abandoned. This lasted but for a short time, however, for a small colony of wingless gargoyles found refuge within the confines of the keep. Three years later they were driven out by Lord Vemelon of Jhelom , who chose to retain the castle for his own purposes~");
		say("     For several generations ownership was passed down the Vemelon line until one day the very mountains nearby opened up, and the swamps engulfed the castle.~");
		say("     Now, rumors purport that a colony of trolls have taken up residence amongst the ruins, along with an ancient wizard, but no one has ever confirmed\ttheir existence.");
	}
	if (var0000 == 0x007E) {
		say("~~ ~~THE WAY OF THE SWALLOW~~ ~~by Foiles*");
		say("     Within the pages of this tome lies the story of a mother who loved, and was deeply loved by, her family. Though the work ends sadly with the death of the mother, her family gains comfort in the knowledge that her inner spirit has found a better place to rest.");
	}
	if (var0000 == 0x007F) {
		say("~~ ~~VETRONS GUIDE TO WEAPONS AND ARMOUR~~ ~~Their effectiveness and value*");
		say("Here is listed, for easy comparison, the various weapons and their effect upon opponents:~~Axe, two-handed: 10~~Blowgun: 1, can be used with poison or sleep~~ Bow: 8~~Cannon: 90~~Club 2~~Crossbow: 10~~Dagger: 1~~Halberd: 10~~ Hammer: 4~~Hammer, two-handed: 9~~Knife: 2~~Mace: 5~~Main gauche: 2~~ Morningstar: 5~~Powder keg: 16~~Sling: 3~~Sword: 6~~Sword, two-handed: 11~~ Throwing axe: 4~~Torch: 3~~Triple crossbow: 28~~Whip: 4*");
		say("Armour and shields and their protection effectiveness are described here to permit the informed soldier the opportunity to select the armour best suited to his or her fighting style:~~Buckler: 1~~ Chain armour: 2~~Chain coif: 2~~Chain leggings: 2~~Crested helm: 3~~ Curved heater: 3~~Gauntlets: 2~~Gorget: 3~~Great helm: 4~~Greaves: 2~~ Kidney belt: 1~~Leather armour: 1~~Leather boots: 1~~Leather collar: 1~~ Leather gloves: 1~~Leather helm: 1~~Leather leggings: 1~~Plate armour: 4~~ Plate leggings: 3~~Scale armour: 2~~Spiked shield: 2~~Wooden shield: 2*");
		say("Here is a list of the better-known enchanted weapons:~~Magic arrow: +4~~Magic axe: 8, can be thrown~~ Magic bow: 12~~Magic sword: 7, very accurate~~Glass sword: 127, breaks*");
		say("Enchanted armour:~~Magic armour: 5,~~Magic gauntlets: 3,~~Magic gorget: 4,~~Magic helm: 5,~~Magic leggings: 4,~~Magic shield: 4*");
		say("Rarities and oddities of Britannia.~~Fellowship staff: 6~~Fire sword: 8~~Musket: 9~~ B.R. sword: unknown~~");
		say("     All of the items listed in the final category are either unique items, or legendary items. Their usefulness in combat has not yet been explored fully.");
	}
	if (var0000 == 0x0080) {
		say("~~ ~~VARGAZ'S STORIES OF LEGEND~~Reasons why one should never build doors facing north or west.*");
		say("     Many centuries ago, the prophet, Father Antos, foretold the coming of a plaque of Locust that would arrive from the lands to the north.  He predicted that their source area was so important that it would indicate who would survive the attack, and who would not. He predicted that anyone living in a house having a door with a northern exposure would perish under the onslaught. Two days later, the locusts came, and in the aftermath, it was discoverd that only the houses with doors on the north wall were destroyed.~~");
		say("     ...The naturalist, Ergan, incorporating Algarth's discovery that the sun rises from the east, theorized that the nightly path of many dark-dwelling nasties could be traced. As the sun moves slowly to the west, Ergan contends, shadows increase in the east, forcing monsters to move that direction to stay out of the sun. Therefore, as denizens of the dark travel from the west, they are more likely to invade households with doors that directly cross their paths... ");
	}
	if (var0000 == 0x0081) {
		say("~~ ~~ONE HUNDRED AND ONE WAYS TO CHEAT AT NIM~~ ~~by Dr. Cat*");
		say("     Within the pages of this tome are all the many ways to earn supplementary gold by gambling at Nim. Written by the originator of the game, himself, this book covers in depth such strategies as, \"claw first, question later\" and \"there are no ways to skin a cat.\"");
	}
	if (var0000 == 0x0082) {
		say("~~ ~~PLAY DIRECTING: ANALYSIS, COMMUNICATION AND STYLE~~ ~~by Francis Hodge*");
		say("     Within the pages of this highly respected textbook one can find the highly touted, and sometimes controversial, methods of staging a play. Written by an eminent Professor Emeritus from a university in a distant land, this book is considered by most thespians as the definitive source book on directing.");
	}
	if (var0000 == 0x0083) {
		say("~~ ~~ON ACTING~~ ~~by Laurence Olivier*");
		say("     Within the pages of this tome are the theories and philosophies of acting, as well as personal anecdotes, written by a noted thespian of a distant land. Apparently this book was one of the many brought to Britannia by Lord British.");
	}
	if (var0000 == 0x0084) {
		say("~~ ~~THOU ART WHAT THEE EATS~~ ~~by Fordras*");
		say("     Within these pages thou wilt find the comparitive analysis of many of things we, humans, place in our bodies in the name of food. I will attempt to provide for thee information on what constitutes \"good\" food and what constitutes \"bad,\" and will display the information by mentioning each type from best to worst, first in terms of nutritional value and second by taste.*");
		say("     A large chop of fine meat, including mutton, fowl, ham, or ribs, is by far the most nourishing.  This does not include other forms of beef, however, for they are usually served in smaller portions. Pork and sausage are also lower on the proverbial \"scale,\" for they are not quite as filling. In place of meat, I would recommend flounder, cheese, or potatoes, for they are also quite good for thee.~     In some instances, trout, fish and chips, and some breads will pass for a meal. An egg and most any other fruit and vegetable, including: an apple, a banana, a carrot, a pumpkin, a bunch of grapes, and various cakes, will suffice in a pinch. However, despite its delectible taste and extravagant price, Silverleaf meals have absolutely no value on this chart at all. The moral is, my friend, never pass up meats when thou hast the chance to dine upon them!*");
		say("     Obviously, not everything that tastes good is nourishing. At the top of this list, I must put down Silverleaf. The taste is absolutely exquisite! Short of that, I recommend roast mutton with a lovely Minoxian glaze sauce. Add a potato as a side course, with the whole meal preceeded by a few raw vegetables, and thou truly hast a wonderful feast!~     For a second course, I would suggest...");
	}
	if (var0000 == 0x0085) {
		say("~~ ~~MAN VERSUS FISH: THE ULTIMATE CONFLICT~~ ~~by Aquastyr*");
		say("     Thou might consider fishing to be an activity designed simply to feed thy familty. Daily thou takest thy fishing pole and trod to the lake in hopes of catching thy dinner. However, say I, fishing is much more!~");
		say("     A fisherman is much like a knight, off to conquer the terrible dragon. Certainly, the terrain is familiar, just as the knight's homeland is to him, but the contest is where the real comparison lies. While a knight carries with him a great and powerful sword, and fisherman must arm himself with a sturdy pole.~");
		say("     Of course, another important weapon for the fisherman is his mind. He will need a keen sense of observation to aid him in his struggle against the slippery opponents. The first thing he must do is search for a body of water where the fish are so common that they are forced to jump above the water simply to have room for the others. A lake or pond filled with fish will provide the wise fisherman a better opportunity for an encounter.~");
		say("     And how does a fisherman catch his prey. Not by sitting idly by and waiting for them to jump into his pail! For once the creature grabs hold of the bait, the fisherman must fight and thrash his way, as if attacking the very beast, itself. Minutes seem to turn to hours as the warrior battles with his fish, until finally, all energy spent from both sides, the fish is dragged unwillingly into the waiting bucket.~");
		say("     And then, the process must begin anew...");
	}
	if (var0000 == 0x0086) {
		say("~~ ~~KNIGHT'S BRIDGE IN A NUTSHELL~~ ~~by Nicodemus*");
		say("     This is a board game for two players.  Each player begins with three pieces. The object is to move thy three pieces in concert in order to force the treasure from the center of the board to thine own side. All the while, thine opponent shall be attempting to do the same.~~");
		say("Each turn consists of a player either \"moving\" or \"pushing\" a piece followed by a similar action by the opposing player.~~");
		say("A legal \"move\" consists of placing one's piece in any adjacent, unoccupied black or white square. A legal \"push\" is performed when a player forces a piece, either an opponent's or the treasure, one space directly away from his piece.~~");
		say("The exception to the latter rule, making a \"push\" illegal, occurs when a player wishes to \"push\" a piece into the space from which it just left in the preceding turn.~~");
		say("If any piece, excluding the treasure, is \"pushed\" onto a blue square or off the board, that piece is considered lost, and is removed from play. The treasure may not be \"pushed\" off the board.~~");
		say("To win the game, a player must \"push\" the treasure to the back row of squares on his side of the board.");
	}
	if (var0000 == 0x0087) {
		say("~~ ~~MEMPTO RAYS~~A qualitative study in metaparaphilosophical radiation~~ ~~by Mempto*");
		say("     Despite Felcrodan's theory of 0335, there are, indeed, rays of energy that constantly bombard Britannia. In fact, these very same rays permeate of all the known space between Britannia and the stars. Recent experiments have proven my theory that these rays, known hereafter as `Mempto Rays,' are lethal to all non-living matter. In fact, Mempto rays have demonstrated their ability numerous times, once killing an entire boulder in a matter of a few hours. It is my recommendation...");
	}
	if (var0000 == 0x0088) {
		say("~~ ~~THE BOOK OF CIRCLES~~ ~~Translated from Gargish to Britannian by Jillian*");
		say("     All begins with the three principles: Control, Passion and Diligence.~");
		say("     From Control springs Direction. From Passion springs Feeling. From Diligence springs Persistence.~");
		say("     But these three virtues are no more important than the other five: Control combines with Passion to give Balance. Passion combines with Diligence to yield Achievement. And Diligence joins with Control to provide Precision.~");
		say("     The absence of Control, Passion, and Diligence is Chaos. Thus absence of the principles points toward the seventh virture, Order.~");
		say("     The three principles unify to form Singularity. This is the eight virtue, but it is also the first, because within Singularity can be found all the principles, and thus all the virtues.~");
		say("     A circle has no end. It continues forever, with all parts equally\timportant to the success of the whole.~");
		say("     Our society is the same. It, too, continues forever, with all members (and all virtues) equeal parts of the unified whole.");
	}
	if (var0000 == 0x0089) {
		say("~~ ~~CHICKEN RAISING~~ ~~by Daheness Gon*");
		say("     While handling chickens is a relatively easy task, as is collecting eggs, there are several pieces of information that will be of much use to the novice owner. For example, quite a number of hens have soft, delect fluff on their underside which they developed as chicks, but never outgrew. As a result, the coarse straw of the nest tends to irritate their hide. As a result, many hens will bury their eggs beneath a thin layer of straw. This provides warmth that the egg is missing because the mother will not fully set herself down upon the egg.~");
		say("     In addition, most hens do not lay their eggs at the same time as their sister hens. A hen must rest at the minimum three full hours before she will capable of producing another. And do not be concerned if more time is necessary for thy hens to create more of their offspring.");
	}
	if (var0000 == 0x008A) {
		say("~~ ~~THE ART OF FIELD DRESSING~~ ~~by Creston~Forward by Lady Leigh*");
		say("     Though I personally advocate the use of healing herbs and more sterile bandaging environments, the steps told in this treatise will suffice until better healing care becomes available. Follow  Creston's steps carefully, and thou wilt have no trouble forming a reliable, if not perfect, way to prevent serious blood-loss. Remember, however, that there is no care as good as clean sheets, a sturdy bed, and proper attention!~~");
		say("-- Lady Leigh of Serpent's Hold*");
		say("     As long as one has shears, cloth, and a conscious mind, thou wilt have little fear of bleeding to death on the corpse-littered fields of battle. Simply cut the cloth into strips and bandages. Quickly placing the center of the bandage over the wound, wrap the strip around and around the bleeding area. As the cloth begins to soak up the blood, it will combine with the natural healing aspects of the body to staunch the flow of blood and to quicken the healing process. In no time at all, thou wilt be ready to travel again (though I advise this travel to be to the house of a competent healer!).");
	}
	if (var0000 == 0x008B) {
		say("~~ ~~WATER ON THE CAT~~ ~~by Mowze*");
		say("     (This text is a humorous diatribe, and should be taken as nothing more than such. Any of the following activities should only be performed when water is abundant enough to be in surplus. Droughts are serious business, and this work is in no way designed to indicate otherwise.~     -- The editor)~");
		say("     The using of a bucket to draw water from a well takes nothing more than common sense, however UPON what to use the water is often a more difficult question to answer. Cats are, of course, my personal favorite objects of such torture. But, thy friends will usually do quite nicely, providing they have no form of retaliation and are not quick to anger.~     Children are a little less choice, though considerably more deserving, for their parents DO often anger quickly when their offspring is threatened.");
	}
	if (var0000 == 0x008C) {
		say("~~ ~~A SHORT TREATISE ON BRITANNIAN SOCIETY~~ ~~by Clayton*");
		say("     The hierarchy of the peoples of Britannia follows a traditional order. Though little here is meant to be law, the entire content was compiled from observartiions made throughout the land.~");
		say("     All citizens of Britannia, obviously, owe alleigance to the just and noble Lord British. The next in line to receive our respect are the members of the Great Council, which comprises one citizen from each town or city in Britannia.~");
		say("     Members of the Great Council are followed by the winged gargoyles, for they are highly educated and well-versed in all matters of life. Many a winged friend has supplied words of wisdom to a traveler venturing through Terfin.~");
		say("     Just below the winged gargoyles follow the wonderous masses of humanity, without whom the economic and governmental aspects would collapse. These, of course, are followed by the less worldly, but quite, quite strong wingless gargoyles.~");
		say("     Much of the impact upon our economic system has come from...");
	}
	if (var0000 == 0x008D) {
		say("~~ ~~A BAKER'S HANDBOOK~~ ~~by Settlar*");
		say("     The fundamentals for baking all come from knowledge of how to perform one simple task: baking bread. If thou art able to do that, thou canst bake anything, from meat pies to tarts for thy guests.~");
		say("     It is important to set the flour first upon the table. Many bakers prefer to manipulate the dough on the hearth itself, but I prefer preheating the hearth (it makes for more thorough baking), so that is not possible.~");
		say("     To the four, add water and mix until the two are well combined. The dough should be damp enough to be kneaded easily but is should not be runny. Now is the time to place the dough on the hearth and bake it. After but a few minutes, thou wilt have quite tasty bread to eat.~");
		say("     Now, the next item will prove a true treat for thy loved ones...");
	}
	if (var0000 == 0x008E) {
		say("~~ Logbook~~ Astelleron*");
		say("... I have grown lonely here on the island. Despite my golems, I have no one with whom I can converse, no one with any personality. Even the animals spend less time here than on the main island.~Each day I look upon the horizon for a sign of someone. I have no fear of strangers, for either I will meet the Avatar, or the golems I created to protect the Shrines will fend off hostile visitors...~");
		say("... I am exhilirated! Today, while on the main island, I happened by a tree. While this is not inherently odd, I noticed that the tree seemed to grow not out of the ground, but from a large rock. Equally unusual was the five stones surrounding it, each located the same distance from each other and from the center stone. They looked much like they could represent vertices of a five-pointed star.~And then I realized to what I was a witness: the legendary Stone of Castambre. Even had I not noticed the Tree of Life springing forth from the boulder, the Pentacle of rocks gave all away...");
		say("... The first test was a success. I used a pick to chip away a bit of the stone. I was startled at first by the bleeding, but as I heard not a whit of any sound indicating pain, I continued. I am about to confer with the book to determine my next action...");
		say("... I am afraid I will have little time to continue this journal for the moment. I realize that a true scientist would record daily with the utmost accuracy what he has done and witnessed, but the amount of work each day requires leaves me long past the point of exhaustion...");
		say("... I have done it! My newest two golems can actually speak! And they offer original comments, not mere echoes of my own thought. The instructions in the book are correct. Bollux, my first attempt, succeeded, but my inexperience left him a little less intelligent than I would have preferred. However, his \"brother,\" Adjhar, benefited from my mistake with the other, and has full speech capabilities. As I sit now, writing this, I can hear them discussing weather! I must go now and talk with them. Oddly enough, the sky no longer seems overcast...");
	}
	if (var0000 == 0x008F) {
		say("~~ ~~GOLEMS: FROM CLAY TO STONE~~ ~~by Castadon*");
		say("... Stone golems can be created from any hard rock. However, it is important to note that the enchantments require they be anthropomorphic\tin shape. Any other construct, or an incomplete one, will not be able to hold the creature together or permit locomotion.~");
		say("     Once the sufficient amount of stone has been gathered and placed roughly in the shape of a man, thou must cast the Vas Rel Ailem\tspell (see appendix QQ for spell description) to form the rock into a person. Needless to record, perhaps, the creature will barely resemble anything human, but will be able to function similarly.~");
		say("     The next enchantment is Kal Mani (appendix QQ). This will \"breathe life\" into the newly created golems, or rather, breathe animation into them. Once created, each golem will have enough rudimentary intelligence to obey and respond to three single-word commands, or one extensive request of any length.*");
		say("*");
		say("     Appendix K~     The Stone of Castambre");
		say("~~     This mythological rock has legendary powers that permits one to shape and enchant stone -- and only stone -- to create golems by following only a single, short ritual instead of the lengthy and time-consuming process described in previous chapters. Though the Stone's existence has never been confirmed, there are also other purported powers that could make a risky investigation quite worth while. For additional information, see \"The Stone of Castambre,\" by MacCuth.");
	}
	if (var0000 == 0x0090) {
		say("~~ ~~THE STONE OF CASTAMBRE~~ ~~by MacCuth*");
		say("     Legendary rock? Perhaps. Powerful relic? Definitely.~The Stone Of Castambre -- named for the mage who is rumored to have enchanted and placed it -- is said to be located on the Isle of Fire, also the location of the Shrines of the Three Principles. Of course, since knowledge of the Isle has long since disappeared, knowledge of the infamous Stone is equally mysterious. However, through research and study of Castambre's diary I have brought to light a few clues to the Stone's whereabouts.*");
		say("     The major purpose of the Stone's power is to animate inanimate objects: statues, golems, tools, etc. In addition, shouldst the desired object be one already imbued with the power of conversation, the Stone will enhance such powers, giving the object, or rather, creature, independent thought. Historians claim that it is with this stone that Castambre concocted creatures of such deep personalities that, from behind a curtain, it was impossible to differentiated between a person and one of his creations.*");
		say("     But how do I capture this ability, I hear thee ask.  First, assuming thou hast already discovered the Isle of Fire (no mean feat, I assure thee), thou must then search for the \"pentacle of rocks\" -- five boulders arranged as though they were vertices in a pentagram. In the center thou shouldst notice a sixth rock, from which grows a large, healthy tree -- the Tree of Life. This sixth rock is Castambre's Stone.");
		say("     However, finding the Stone is only half the battle, for now thou must perform magicks beyonds the abilities of normal men. With a ... thou must..........");
		UI_close_gumps();
		var0001 = script item {
			call Func0638;
		};
	}
	if (var0000 == 0x0091) {
		say("... Once the the \"heart\" has been placed within the \"chest\" of the creature, the ritual may begin. First, using perhaps the same pick, thou must strike the Tree hard enough to draw blood. Blood from a Tree, questions thee? Aye, I say, for this Tree is one of life and energy -- collected from the nutrients of the Stone, and bleed it does. Some say thou wilt be able to hear the shrieks of pain from Castambre's Stone, but that rumor is waning. Thou wilt need enough of the Tree's life force to fill a bucket.");
		say("     After the blood has been properly contained, it must be spilled in five spots about the body of the stone creature as if the creature were Castambre's Stone and the puddles of blood the five rocks of the pentacle. In fact, it is necessary to set down five such small rocks to mark the location upon which the blood must be spilled. Then must thou cast Vas Flam Uus (see detachable page at end of volume), setting fire to each of the puddles of blood. Following that must be chanted the sacred words gleaned from Castambre's journals (also on detachable page).");
		say("     Now that the creature is enchanted, of course, it will become necessary to instruct it, much as one educates a child. However, a stone golem will learn much more quickly...");
		var0002 = set_item_quality(0x0090);
		if (!gflags[0x0325]) {
			var0003 = UI_create_new_object(0x031D);
			var0004 = var0003->set_item_quality(0x002D);
			var0005 = UI_update_last_created(AVATAR->get_object_position());
		}
		var0006 = script AVATAR {
			nohalt;
			call Func0638;
		};
	}
	if (var0000 == 0x0092) {
		say("~~ ~~THE DARK CORE OF EXODUS~~ ~~by Erethian*");
		say("    Exodus was a mixture of etherial being and magical mechanism. Its living portion, or psyche, was comprised of its ambitions, desires, curiosity, in total, its personality. The subject matter of this tome, however, lies upon a part of its more physical manifestation.");
		say("    The Core was the receptacle of Exodus' memories and mental force. The psyche was almost like a parasite, feeding off the world around and depositing what it gained within the Core. What was Exodus' purpose? Who or what did it serve? This is matter of which I write.");
		say("    Exodus served none other than...");
		say("~~(The text remains unfinished.)");
	}
	if (var0000 == 0x0093) {
		say("~~ ~~Ethical Hedonism~~ ~~by R. Allen G.*");
		say("    This handbook details a non-religous religion in which people live for the joy of living and make it their responsibility to keep the entire world out of disrepair.");
	}
	if (var0000 == 0x0094) {
		say("~~ ~~CONVERTING MOONGATES TO THINE OWN USE~~ ~~by Erethian*");
		say("    Moongates come in four known varieties: blue, a gate across a land, red, a gate connecting worlds, black, a gate that traverses dimensions, and the theoretical silver, time gate.");
		say("    These gates, to a lesser or greater degree, owe their power to the force exerted by large bodies of matter, moving through the space around us. Therefore, I postulate that if one can know what forces are being exerted, one can manipulate the destination of any given moongate by changing these forces.");
		say("    The book goes on to describe certain methods of manipulation, and save for the prohibitively large amounts of power required to effect even the weakest of moongates, the logic seems sound...");
	}
}

extern void Func060F object#(0x60F) ();

void Func0639 object#(0x639) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = script item {
			face FACE_NORTH;
			actor frame kneeling;
			wait 1;
			say "@Kal Ort Por@";
			actor frame standing;
			actor frame cast_up;
			actor frame cast_out;
			actor frame strike_2h;
			call Func0639;
		};
	}
	if (event == SCRIPTED) {
		var0001 = get_object_position();
		UI_sprite_effect(ANIMATION_TELEPORT, var0001[0x0001], var0001[0x0002], 0x0000, 0x0000, 0x0002, LOOP_ONCE);
		item->Func060F();
		set_schedule_type(WAIT);
		move_object([0x05AA, 0x0500, 0x0000]);
	}
}

extern void Func0940 0x940 (var var0000);
extern void Func08FE 0x8FE (var var0000);

void Func063A object#(0x63A) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		var0000 = UI_get_array_size(UI_get_party_list());
		var0001 = UI_die_roll(0x0001, 0x0004);
		if (var0001 == 0x0001) {
			Func0940(0x001B);
		}
		if (var0000 == 0x0001) {
			return;
		}
		if (var0001 == 0x0002) {
			Func08FE("@Must we do this?@");
		}
		if (var0001 == 0x0003) {
			Func08FE("@Is that virtuous?@");
		}
		if (var0001 == 0x0004) {
			Func08FE("@Avatar?!@");
		}
	}
}

void Func063C object#(0x63C) () {
	var var0000;
	var var0001;

	UI_fade_palette(0x000C, 0x0001, 0x0001);
	var0000 = AVATAR->find_nearby(0x0178, 0x0006, MASK_NONE);
	if (var0000) {
		var0001 = script var0000 after 1 ticks {
			call Func010E;
			frame 6;
		};
	}
}

extern var Func086F 0x86F ();

void Func063D object#(0x63D) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		var0000 = get_npc_number();
		if (var0000 < 0x0100) {
			var0000->show_npc_face(0x0000);
			var0001 = 0x0000;
			while (var0001 < 0x000A) {
				var0002 = Func086F();
				say("\"",
					var0002,
					"\"");
				var0001 += 0x0001;
			}
		}
	}
	if (event == PROXIMITY) {
		item_say("@Oink@");
	}
}

void Func063E object#(0x63E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == EGG) {
		var0000 = LORD_BRITISH->set_last_created();
		if (var0000) {
			var0001 = AVATAR->get_object_position();
			var0001[0x0002] -= 0x0004;
			var0000 = UI_update_last_created(var0001);
			LORD_BRITISH->set_item_frame(0x0010);
		}
		var0000 = script AVATAR after 1 ticks {
			nohalt;
			call Func063E;
		};
		var0000 = AVATAR->set_npc_prop(INTELLIGENCE, 0);
		var0000 = AVATAR->set_npc_prop(DEXTERITY, 0);
		var0000 = AVATAR->set_npc_prop(STRENGTH, 15);
		var0000 = AVATAR->set_npc_prop(HEALTH, 15);
		var0000 = AVATAR->set_npc_prop(COMBAT, 0);
		var0000 = AVATAR->set_npc_prop(MANA, 0);
		var0000 = AVATAR->set_npc_prop(MAX_MANA, 0);
		var0000 = AVATAR->set_npc_prop(TRAINING, 0);
		var0000 = AVATAR->set_npc_prop(EXPERIENCE, 0);
	}
	if (event == SCRIPTED) {
		LORD_BRITISH->say("Busted, you thieving scoundrel bastard! Perhaps the only thing more ridiculous than your pathetic attempt to destroy the black gate without paying proper dues is your inevitably embarassing explanation\tto the friend to whom you are, no doubt, showing this!");
		say("For the atrocious crime of cheating against the virtues of Britannia, I find you guilty.*");
		UI_play_sound_effect(0x000F);
		say("Judgement rendered.* Sentence selected:* Death.*");
		// Bug: using 0x56 as object. This probably should have been something
		// like this instead:
		//var0000 = script item {
		//	speech 21;
		//};
		var0000 = UI_execute_usecode_array((byte)0x56, 0x0015);
		var0002 = UI_get_party_list();
		for (var0005 in var0002 with var0003 to var0004) {
			var0005->set_item_flag(PARALYZED);
		}
		UI_set_weather(RAIN);
		UI_armageddon();
		gflags[0x001E] = true;
		LORD_BRITISH->set_alignment(EVIL);
		LORD_BRITISH->set_attack_mode(NEAREST);
		LORD_BRITISH->set_schedule_type(IN_COMBAT);
		set_item_flag(CONFUSED);
	}
}

extern void Func0716 object#(0x716) ();

void Func063F object#(0x63F) () {
	var var0000;

	gflags[0x0326] = true;
	AVATAR->set_camera();
	var0000 = script AVATAR->get_cont_items(SHAPE_ANY, QUALITY_ANY, FRAME_ANY) {
		wait 2;
		nohalt;
		call Func0716;
		call Func0636;
	};
	UI_fade_palette(0x000C, 0x0001, 0x0000);
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();
extern void Func08FD 0x8FD (var var0000);

void Func0640 object#(0x640) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@An Zu@");
		if (Func0906() && (var0000[0x0001] != 0x0000)) {
			var0002 = script item {
				face var0001;
				sfx 64;
				actor frame raise_1h;
				actor frame strike_1h;
			};
			var0002 = script var0000 after 5 ticks {
				nohalt;
				call Func0640;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		if (is_npc()) {
			clear_item_flag(ASLEEP);
		} else {
			Func08FD(0x003C);
		}
	}
}

extern var Func0906 0x906 ();

void Func0641 object#(0x641) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Rel Hur@");
		if (Func0906()) {
			var0000 = script item {
				actor frame raise_1h;
				actor frame strike_1h;
				sfx 68;
			};
			var0001 = [0x0000, 0x0001, 0x0002];
			if (UI_get_weather() == CLEAR_WEATHER) {
				var0002 = UI_die_roll(0x0002, 0x0003);
				var0003 = var0001[var0002];
				UI_set_weather(var0003);
			} else if (UI_get_weather() != SPARKLE) {
				UI_set_weather(CLEAR_WEATHER);
			}
		} else {
			var0000 = script item {
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();
extern void Func08FD 0x8FD (var var0000);

void Func0642 object#(0x642) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@An Flam@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x021C);
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				attack;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == WEAPON) {
		var0003 = get_item_shape();
		if (var0003 in [0x02BD, 0x020E, 0x0152, 0x01B3]) {
			UI_telekenesis(var0003);
			var0002 = script item {
				call var0003;
			};
			UI_play_sound_effect(0x002E);
		} else {
			Func08FD(0x003C);
		}
	}
}

extern var Func0906 0x906 ();

void Func0643 object#(0x643) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Bet Ort@");
		if (Func0906()) {
			var0000 = script item {
				actor frame cast_out;
				actor frame cast_up;
				sfx 36;
				call Func0643;
			};
		} else {
			var0000 = script item {
				actor frame cast_out;
				actor frame cast_up;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = get_object_position();
		UI_sprite_effect(ANIMATION_FIREWORKS, (var0001[0x0001] - 0x0002), (var0001[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	}
}

extern var Func0906 0x906 ();

void Func0644 object#(0x644) () {
	var var0000;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Bet Lor@");
		if (Func0906()) {
			var0000 = script item {
				nohalt;
				sfx 68;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0644;
			};
		} else {
			var0000 = script item {
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		UI_cause_light(0x006E);
	}
}

extern var Func0906 0x906 ();

void Func0645 object#(0x645) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		do {
			if (gflags[0x003D] != false) {
				item_say("@Kal Lor@");
				if (Func0906()) {
					gflags[0x0027] = true;
					var0000 = script item {
						sfx 64;
						actor frame cast_up;
						actor frame standing;
						actor frame bowing;
						actor frame kneeling;
						actor frame standing;
						actor frame cast_up;
						call Func0645;
					};
					var0001 = UI_get_party_list();
					for (var0004 in var0001 with var0002 to var0003) {
						var0004->clear_item_flag(POISONED);
						var0004->clear_item_flag(CURSED);
						var0004->clear_item_flag(CHARMED);
						var0004->clear_item_flag(PARALYZED);
					}
					break;
				}
			}
			var0000 = script item {
				actor frame cast_up;
				actor frame standing;
				actor frame bowing;
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				call Func0606;
			};
		} while (false);
	}
	if (event == SCRIPTED) {
		var0005 = [0x03A8, 0x047A, 0x0000];
		PARTY->move_object(var0005);
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();
extern void Func08FD 0x8FD (var var0000);

void Func0646 object#(0x646) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@In Flam@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x0118);
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				attack;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == WEAPON) {
		var0003 = get_item_shape();
		if (var0003 in [0x0253, 0x0379, 0x0150, 0x01E1]) {
			UI_telekenesis(var0003);
			var0002 = script item {
				nohalt;
				call var0003;
			};
		} else {
			Func08FD(0x003C);
		}
	}
}

extern var Func0906 0x906 ();

void Func0647 object#(0x647) () {
	var var0000;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Kal@");
		if (Func0906()) {
			var0000 = script item {
				actor frame reach_2h;
				actor frame strike_2h;
				sfx 62;
			};
		} else {
			var0000 = script item {
				actor frame reach_2h;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func0648 object#(0x648) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@In Mani Ylem@");
		if (Func0906()) {
			var0000 = script item {
				sfx 68;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0648;
			};
		} else {
			var0000 = script item {
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = UI_get_party_list();
		for (var0004 in var0001 with var0002 to var0003) {
			var0005 = var0004->get_object_position();
			var0006 = UI_create_new_object(0x0179);
			if (var0006) {
				var0007 = UI_die_roll(0x0001, 0x001E);
				var0006->set_item_frame(var0007);
				var0006->set_item_flag(TEMPORARY);
				var0000 = UI_update_last_created(var0005);
			}
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0649 object#(0x649) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		halt_scheduled();
		var0001 = Func092D(var0000);
		item_say("@An Nox@");
		if (Func0906()) {
			if (var0000->is_npc()) {
				var0002 = script item {
					face var0001;
					sfx 64;
					actor frame reach_1h;
					actor frame raise_1h;
					actor frame strike_1h;
				};
				var0002 = script var0000 after 6 ticks {
					nohalt;
					call Func0649;
				};
			} else {
				var0002 = script item {
					face var0001;
					actor frame reach_1h;
					actor frame raise_1h;
					actor frame strike_1h;
					call Func0606;
				};
			}
		} else {
			var0002 = script item {
				face var0001;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		clear_item_flag(POISONED);
		clear_item_flag(PARALYZED);
	}
}

extern var Func0906 0x906 ();
extern var Func08F6 0x8F6 (var var0000);

void Func064A object#(0x64A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Wis Jux@");
		if (Func0906()) {
			var0000 = script item {
				sfx 66;
				actor frame raise_1h;
				actor frame strike_1h;
			};
			var0001 = Func08F6(AVATAR);
			var0002 = 0x0015 + var0001;
			var0003 = find_nearby(0x00C8, var0002, MASK_ALL_UNSEEN);
			for (var0006 in var0003 with var0004 to var0005) {
				var0000 = script var0006 after 5 ticks {
					nohalt;
					call Func064A;
				};
			}
			var0007 = find_nearby(0x0320, var0002, MASK_ALL_UNSEEN);
			var0008 = find_nearby(0x020A, var0002, MASK_ALL_UNSEEN);
			var0009 = var0007 & var0008;
			for (var0006 in var0009 with var000A to var000B) {
				if (var0006->get_item_quality() == 0x00FF) {
					var0000 = script var0006 after 5 ticks {
						nohalt;
						call Func064A;
					};
				}
			}
		} else {
			var0000 = script item {
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var000C = get_object_position();
		UI_sprite_effect(ANIMATION_SPARKLES, var000C[0x0001], var000C[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	}
}

extern var Func0906 0x906 ();

void Func064B object#(0x64B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas An Flam@");
		if (Func0906()) {
			var0000 = script item {
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
			};
			var0001 = 0x0019;
			var0002 = [0x02BD, 0x020E, 0x0152, 0x01B3];
			for (var0005 in var0002 with var0003 to var0004) {
				var0006 = find_nearby(var0005, var0001, MASK_NONE);
				for (var0009 in var0006 with var0007 to var0008) {
					var000A = var0009->get_item_shape();
					var000B = (get_distance(var0009) / 0x0003) + 0x0002;
					UI_telekenesis(var000A);
					var0000 = script var0009 after var000B ticks {
						nohalt;
						call var000A;
					};
				}
			}
		} else {
			var0000 = script item {
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func064C object#(0x64C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas In Flam@");
		if (Func0906()) {
			var0000 = script item {
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
			};
			var0001 = 0x0019;
			var0002 = [0x0253, 0x0379, 0x0150, 0x01E1];
			for (var0005 in var0002 with var0003 to var0004) {
				var0006 = find_nearby(var0005, var0001, MASK_NONE);
				for (var0009 in var0006 with var0007 to var0008) {
					var000A = var0009->get_item_shape();
					var000B = (get_distance(var0009) / 0x0003) + 0x0002;
					UI_telekenesis(var000A);
					var0000 = script var0009 after var000B ticks {
						nohalt;
						call var000A;
					};
				}
			}
		} else {
			var0000 = script item {
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func064D object#(0x64D) () {
	var var0000;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@In Lor@");
		if (Func0906()) {
			var0000 = script item {
				nohalt;
				sfx 68;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func064D;
			};
		} else {
			var0000 = script item {
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		UI_cause_light(0x01F4);
	}
}

extern var Func0906 0x906 ();
extern var Func0932 0x932 (var var0000);

void Func064E object#(0x64E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		item_say("@In Wis@");
		if (Func0906()) {
			var0000 = script item {
				sfx 67;
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				wait 4;
				call Func064E;
			};
		} else {
			var0000 = script item {
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = AVATAR->get_object_position();
		var0002 = (var0001[0x0001] - 0x03A5) / 0x000A;
		var0003 = (var0001[0x0002] - 0x046E) / 0x000A;
		if (var0002 < 0x0000) {
			var0004 = (" " + Func0932(var0002)) + " West";
		} else {
			var0004 = (" " + Func0932(var0002)) + " East";
		}
		if (var0003 < 0x0000) {
			var0005 = (" " + Func0932(var0003)) + " North";
		} else {
			var0005 = (" " + Func0932(var0003)) + " South";
		}
		item_say(var0005 + var0004);
	}
}

extern var Func0906 0x906 ();

void Func064F object#(0x64F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		var0000 = get_object_position();
		halt_scheduled();
		item_say("@Vas An Zu@");
		if (Func0906()) {
			UI_sprite_effect(ANIMATION_TELEPORT, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			var0001 = script item {
				sfx 68;
				actor frame raise_1h;
				actor frame strike_1h;
			};
			var0002 = 0x0019;
			var0003 = find_nearby(ANY_SHAPE, var0002, MASK_NPC);
			for (var0006 in var0003 with var0004 to var0005) {
				var0001 = script var0006 {
					nohalt;
					call Func064F;
				};
			}
		} else {
			var0001 = script item {
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		halt_scheduled();
		clear_item_flag(ASLEEP);
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0650 object#(0x650) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		halt_scheduled();
		item_say("@An Jux@");
		if (Func0906()) {
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
			};
			var0003 = var0000->find_nearby(0x00C8, 0x0002, MASK_ALL_UNSEEN);
			for (var0006 in var0003 with var0004 to var0005) {
				var0000 = var0006->get_object_position();
				var0002 = var0006->set_last_created();
				if (var0002) {
					var0002 = UI_update_last_created(FLAG_DESTROY);
					var0006->halt_scheduled();
					UI_sprite_effect(ANIMATION_GREEN_BUBBLES, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
					UI_play_sound_effect(0x0042);
				}
			}
			var0003 = find_nearby(0x020A, 0x0002, MASK_ALL_UNSEEN);
			for (var0006 in var0003 with var0007 to var0008) {
				var0000 = var0006->get_object_position();
				if (var0006->get_item_quality() == 0x00FF) {
					var0002 = var0006->set_item_quality(0x0000);
					UI_sprite_effect(ANIMATION_GREEN_BUBBLES, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
					UI_play_sound_effect(0x0042);
				}
			}
		} else {
			var0002 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0651 object#(0x651) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	var0000 = [0x02D2, 0x02D3];
	var0001 = [0x022C, 0x01A1];
	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0002 = UI_click_on_item();
		var0003 = var0002->get_item_shape();
		var0004 = Func092D(var0002);
		item_say("@Ort Ylem@");
		if (Func0906() && (var0003 in var0000)) {
			var0005 = script item {
				face var0004;
				sfx 67;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
			};
			var0005 = script var0002 after 4 ticks {
				nohalt;
				call Func0651;
			};
		} else {
			var0005 = script item {
				face var0004;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0006 = 0x0000;
		for (var0009 in var0000 with var0007 to var0008) {
			var0006 += 0x0001;
			if (var0009 == get_item_shape()) {
				set_item_shape(var0001[var0006]);
			}
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0652 object#(0x652) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if ((event == DOUBLECLICK) || (event == WEAPON)) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@Vas Flam@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x0358);
			var0003 = script item {
				face var0001;
				sfx 65;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				actor frame strike_2h;
				attack;
				actor frame standing;
			};
		} else {
			var0003 = script item {
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func0653 object#(0x653) () {
	var var0000;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Lor@");
		if (Func0906()) {
			var0000 = script item {
				nohalt;
				sfx 68;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0653;
			};
		} else {
			var0000 = script item {
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		UI_cause_light(0x1388);
	}
}

extern var Func0906 0x906 ();

void Func0654 object#(0x654) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = get_object_position();
		UI_sprite_effect(ANIMATION_TELEPORT, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		item_say("@Vas An Nox@");
		if (Func0906()) {
			var0001 = script item {
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				sfx 64;
				call Func0654;
			};
		} else {
			var0001 = script item {
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0002 = UI_get_party_list();
		var0002 &= AVATAR;
		for (var0005 in var0002 with var0003 to var0004) {
			var0005->clear_item_flag(POISONED);
			var0005->clear_item_flag(PARALYZED);
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0655 object#(0x655) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@Uus Sanct@");
		if (Func0906() && var0000->is_npc()) {
			var0002 = script item {
				face var0001;
				sfx 109;
				actor frame cast_up;
				actor frame raise_1h;
				actor frame strike_2h;
			};
			var0003 = script var0000 after 5 ticks {
				nohalt;
				call Func0655;
			};
			var0004 = var0000->get_object_position();
			obj_sprite_effect(ANIMATION_GREEN_BUBBLES, -2, -2, 0, 0, 0, LOOP_ONCE);
		} else {
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				actor frame raise_1h;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		set_item_flag(PROTECTION);
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0656 object#(0x656) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		if (var0000[0x0001] == 0x0000) {
			return;
		}
		var0001 = Func092D(var0000);
		item_say("@Ort Por Ylem@");
		if (Func0906() && ((!var0000->is_npc()) && (var0000[0x0001] != 0x0000))) {
			var0002 = set_to_attack(var0000, 0x01BB);
			var0002 = script item {
				face var0001;
				sfx 67;
				actor frame raise_1h;
				actor frame strike_1h;
				attack;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == WEAPON) {
		var0003 = [0x0105, 0x028E, 0x028B, 0x028D, 0x0149, 0x032A, 0x01AF, 0x0102, 0x01B2, 0x02E7, 0x01D6, 0x02E4, 0x0369, 0x0247, 0x02B8, 0x03F3, 0x0311];
		var0004 = [0x03B5, 0x03B6, 0x0314, 0x0313];
		var0005 = get_item_shape();
		if (var0005 in var0004) {
			var0002 = script item {
				call var0005;
			};
			return;
		}
		if (!(var0005 in var0003)) {
			UI_telekenesis(var0005);
			var0002 = script item {
				call var0005;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func0657 object#(0x657) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		item_say("@Por Ort Wis@");
		if (Func0906()) {
			var0000 = script item {
				actor frame cast_up;
				sfx 67;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func0657;
			};
		} else {
			var0000 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = get_object_position();
		UI_wizard_eye(0x002D, 0x00C8);
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0658 object#(0x658) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@Des Sanct@");
		if (Func0906() && (var0000[0x0001] != 0x0000)) {
			var0002 = set_to_attack(var0000, 0x0119);
			var0003 = script item {
				face var0001;
				sfx 67;
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
				attack;
			};
		} else {
			var0003 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0659 object#(0x659) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		halt_scheduled();
		item_say("@Mani@");
		if (Func0906() && var0000->is_npc()) {
			var0002 = script item {
				face var0001;
				actor frame kneeling;
				sfx 64;
				actor frame standing;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
			};
			var0002 = script var0000 after 5 ticks {
				nohalt;
				call Func0659;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame kneeling;
				actor frame standing;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0003 = get_npc_prop(STRENGTH);
		var0004 = get_npc_prop(HEALTH);
		if (var0004 <= var0003) {
			var0005 = (var0003 - var0004) / 2;
			var0002 = set_npc_prop(HEALTH, var0005);
		}
	}
}

extern var Func0906 0x906 ();

void Func065A object#(0x65A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Kal Bet Xen@");
		if (Func0906()) {
			var0000 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				sfx 65;
				call Func065A;
			};
		} else {
			var0000 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = UI_die_roll(0x0007, 0x000A);
		while (var0001 > 0x0000) {
			var0001 -= 0x0001;
			var0002 = 0x0205;
			var0003 = UI_summon(var0002, false);
		}
	}
}

extern var Func0906 0x906 ();

void Func065B object#(0x65B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		item_say("@Vas Uus Sanct@");
		if (Func0906()) {
			halt_scheduled();
			var0000 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func065B;
			};
		} else {
			var0000 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		UI_play_sound_effect(0x006D);
		var0001 = get_object_position();
		UI_sprite_effect(ANIMATION_TELEPORT, (var0001[0x0001] - 0x0002), (var0001[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		var0002 = UI_get_party_list();
		var0002 &= AVATAR;
		for (var0005 in var0002 with var0003 to var0004) {
			var0005->set_item_flag(PROTECTION);
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func065C object#(0x65C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if ((event == DOUBLECLICK) || (event == WEAPON)) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		halt_scheduled();
		item_say("@An Por@");
		if (Func0906() && (var0000[0x0001] != 0x0000)) {
			var0002 = set_to_attack(var0000, 0x0198);
			var0003 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				actor frame strike_1h;
				attack;
				actor frame standing;
			};
		} else {
			var0003 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func065D object#(0x65D) () {
	var var0000;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Wis@");
		if (Func0906()) {
			var0000 = script item {
				sfx 67;
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				call Func065D;
			};
		} else {
			var0000 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0000 = UI_display_map();
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func065E object#(0x65E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@In Nox@");
		if (Func0906() && (var0000[0x0001] != 0x0000)) {
			var0002 = set_to_attack(var0000, 0x01A8);
			var0003 = script item {
				face var0001;
				sfx 110;
				actor frame raise_1h;
				actor frame strike_1h;
				actor frame strike_1h;
				attack;
				actor frame standing;
			};
		} else {
			var0003 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func065F object#(0x65F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		halt_scheduled();
		item_say("@In Zu@");
		if (Func0906() && (var0000[0x0001] != 0x0000)) {
			var0002 = set_to_attack(var0000, 0x0048);
			var0003 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				actor frame strike_1h;
				attack;
				actor frame standing;
			};
		} else {
			var0003 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();
extern var Func08F6 0x8F6 (var var0000);

void Func0660 object#(0x660) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Kal Xen@");
		if (Func0906()) {
			var0000 = script item {
				sfx 65;
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
				call Func0660;
			};
		} else {
			var0000 = script item {
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = [0x02CC, 0x032B, 0x020B, 0x01FE, 0x0212, 0x01F6, 0x0219];
		var0002 = UI_get_array_size(var0001);
		var0003 = Func08F6(AVATAR);
		if (var0003 > var0002) {
			var0003 = var0002;
		}
		if (var0003 < 0x0002) {
			var0003 = 0x0002;
		}
		var0004 = var0003 / 0x0002;
		if (var0004 < 0x0001) {
			var0004 = 0x0001;
		}
		var0005 = UI_die_roll(var0004, var0003);
		while (var0005 > 0x0000) {
			var0005 -= 0x0001;
			var0006 = UI_die_roll(var0004, var0003);
			var0007 = var0001[var0006];
			var0008 = UI_summon(var0007, false);
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0661 object#(0x661) () {
	var var0000;
	var var0001;
	var var0002;

	if ((event == DOUBLECLICK) || (event == WEAPON)) {
		var0000 = UI_click_on_item();
		halt_scheduled();
		var0001 = Func092D(var0000);
		item_say("@Ort Grav@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x0327);
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame cast_up;
				sfx 65;
				actor frame cast_out;
				actor frame strike_2h;
				actor frame strike_2h;
				attack;
				actor frame standing;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func0662 object#(0x662) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		if (var0000->get_item_shape() == 0x014A) {
			if (!AVATAR->get_barge()) {
				item_say("@Kal Por Ylem@");
				if (Func0906() && (!gflags[0x0039])) {
					var0001 = script var0000 {
						nohalt;
						call Func0612;
					};
					var0002 = script item {
						sfx 67;
						actor frame cast_up;
						actor frame cast_out;
						actor frame strike_2h;
					};
					var0001 = get_object_position();
					UI_sprite_effect(ANIMATION_GREEN_BUBBLES, var0001[0x0001], var0001[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
					return;
				}
			}
		}
		var0002 = script item {
			actor frame cast_up;
			actor frame cast_out;
			actor frame strike_2h;
			call Func0606;
		};
	}
}

extern var Func0906 0x906 ();
extern var Func0934 0x934 (var var0000);

void Func0663 object#(0x663) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Des Sanct@");
		if (Func0906()) {
			var0000 = get_object_position();
			UI_sprite_effect(ANIMATION_TELEPORT, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			var0001 = script item {
				actor frame cast_up;
				sfx 65;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
			};
			var0002 = 0x001E;
			var0003 = Func0934(var0002);
			var0004 = UI_get_party_list();
			var0004 &= AVATAR;
			for (var0007 in var0003 with var0005 to var0006) {
				if (!(var0007 in var0004)) {
					if (!(UI_die_roll(0x0001, 0x0003) == 0x0001)) {
						var0002 = get_distance(var0007);
						var0002 = (var0002 / 0x0003) + 0x0005;
						var0001 = script var0007 after var0002 ticks {
							nohalt;
							call Func0663;
						};
					}
				}
			}
		} else {
			var0001 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		set_item_flag(CURSED);
	}
}

extern var Func0906 0x906 ();

void Func0664 object#(0x664) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = get_object_position();
		item_say("@Kal Ort Por@");
		if (Func0906() && (var0000->get_item_shape() == 0x014A)) {
			var0002 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
			};
			var0002 = script var0000 after 6 ticks {
				nohalt;
				call Func0613;
			};
			UI_sprite_effect(ANIMATION_TELEPORT, var0000[0x0002], var0000[0x0003], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			obj_sprite_effect(ANIMATION_TELEPORT, -2, -2, 0, 0, 0, LOOP_ONCE);
		} else {
			var0002 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func0665 object#(0x665) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = AVATAR->get_object_position();
		var0001 = [];
		item_say("@Wis Quas@");
		if (Func0906()) {
			var0002 = script item {
				sfx 67;
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
			};
			var0003 = get_object_position();
			var0004 = [-15, -15, -15, -5, -5, -5,  5,  5,  5, 15, 15, 15];
			var0005 = [ -7,   2,  11, -7,  2, 11, -7,  2, 11, -7,  2, 11];
			var0006 = 7;
			var0007 = 0x0000;
			while (var0007 != 0x000C) {
				var0007 += 0x0001;
				var0008 = var0000[0x0001] + var0004[var0007];
				var0009 = var0000[0x0002] + var0005[var0007];
				var0003 = [var0008, var0009, 0x0000];
				var000A = var0003->find_nearby(SHAPE_ANY, var0006, MASK_INVISIBLE);
				for (var000D in var000A with var000B to var000C) {
					if (var000D->get_item_flag(INVISIBLE) && (!(var000D in var0001))) {
						var0001 &= var000D;
					}
				}
			}
			if (var0001) {
				for (var000D in var0001 with var000E to var000F) {
					var0002 = script var000D after 5 ticks {
						nohalt;
						call Func0665;
					};
					var000D->obj_sprite_effect(ANIMATION_GREEN_BUBBLES, -1, -1, 0, 0, 0, LOOP_ONCE);
				}
			} else {
				obj_sprite_effect(ANIMATION_GREEN_BUBBLES, -1, -1, 0, 0, 0, LOOP_ONCE);
			}
		} else {
			var0002 = script item {
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		clear_item_flag(INVISIBLE);
	}
}

extern var Func0906 0x906 ();

void Func0666 object#(0x666) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Kal Wis Corp@");
		if (Func0906()) {
			var0000 = script item {
				sfx 67;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
			};
			var0001 = get_object_position();
			var0002 = var0001[0x0001] - 0x0002;
			var0003 = var0001[0x0002] - 0x0002;
			UI_sprite_effect(ANIMATION_GREEN_BUBBLES, var0002, var0003, 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_sprite_effect(ANIMATION_TELEPORT, var0002, var0003, 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			gflags[0x01B2] = true;
			gflags[0x01B3] = true;
			gflags[0x01B4] = true;
			gflags[0x01B5] = true;
			gflags[0x01B6] = true;
			gflags[0x01B7] = true;
			gflags[0x01B8] = true;
			gflags[0x01B9] = true;
			gflags[0x01BA] = true;
			gflags[0x01BB] = true;
			gflags[0x01B7] = true;
			var0004 = UI_game_hour();
			var0005 = UI_game_minute();
			if (var0004 < 0x0006) {
				var0006 = (0x0006 - var0004) * 0x003C;
				var0006 += 0x003C - var0005;
				var0006 *= 0x0019;
			} else {
				var0006 = (0x0017 - var0004) * 0x003C;
				var0006 += 0x003C - var0005;
				var0006 *= 0x0019;
			}
			var0000 = script item after var0006 ticks {
				nohalt;
				finish;
				call Func0666;
			};
		} else {
			var0000 = script item {
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		gflags[0x01B2] = false;
		gflags[0x01B3] = false;
		gflags[0x01B4] = false;
		gflags[0x01B5] = false;
		gflags[0x01B6] = false;
		gflags[0x01B7] = false;
		gflags[0x01B8] = false;
		gflags[0x01B9] = false;
		gflags[0x01BA] = false;
		gflags[0x01BB] = false;
		gflags[0x01B7] = false;
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0667 object#(0x667) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = var0000->get_item_shape();
		var0002 = Func092D(item);
		halt_scheduled();
		var0003 = [0x010E, 0x0178, 0x01B0, 0x01B1, 0x034D, 0x033C];
		var0004 = [0x01B0, 0x01B1, 0x010E, 0x0178];
		item_say("@Ex Por@");
		do {
			if (Func0906()) {
				if (var0001 in var0003) {
					var0005 = var0000->get_item_frame();
					if (((var0005 + 0x0001) % 0x0004) == 0x0000) {
						var0006 = script item {
							face var0002;
							actor frame reach_1h;
							actor frame raise_1h;
							actor frame strike_1h;
							sfx 66;
						};
						var0006 = script var0000 after 6 ticks {
							nohalt;
							call Func0667;
						};
						break;
					}
				}
			}
			var0006 = script item {
				face var0002;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		} while (false);
	}
	if (event == SCRIPTED) {
		var0005 = get_item_frame();
		var0007 = var0005 - 0x0003;
		set_item_frame(var0007);
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0668 object#(0x668) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		halt_scheduled();
		item_say("@An Xen Ex@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x0050);
			var0002 = script item {
				face var0001;
				sfx 68;
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
				attack;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();
extern var Func0934 0x934 (var var0000);
extern void Func093F 0x93F (var var0000, var var0001);
extern void Func0933 0x933 (var var0000, var var0001, var var0002);
extern void Func0688 object#(0x688) ();

void Func0669 object#(0x669) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Por Xen@");
		if (Func0906()) {
			var0000 = script item {
				sfx 67;
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0669;
			};
			item_say("@Everybody DANCE now!@");
		} else {
			var0000 = script item {
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = 0x0019;
		var0002 = Func0934(var0001);
		for (var0005 in var0002 with var0003 to var0004) {
			var0006 = var0005->get_npc_prop(INTELLIGENCE);
			if ((var0006 > 5) && (var0006 < 25)) {
				var0007 = var0005->get_object_position();
				UI_sprite_effect(ANIMATION_SPARKLES, var0007[0x0001], var0007[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				Func093F(var0005, DANCE);
				var0005->set_item_flag(IN_ACTION);
				var0008 = ["@Dance!@", "@Yeah!@", "@Huh!@", "@Oh, yeah!@", "@I'm bad!@", "@Boogie!@", "@Yow!@"];
				var0009 = UI_die_roll(0x0001, 0x0007);
				var000A = UI_die_roll(0x000A, 0x0028);
				Func0933(var0005, var0008[var0009], var000A);
				var000A = UI_die_roll(0x0032, 0x004B);
				var0000 = script var0005 after var000A ticks {
					nohalt;
					call Func0688;
				};
			}
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func066A object#(0x66A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		halt_scheduled();
		var0002 = [0x0300, 0x037F, 0x0384, 0x0386];
		item_say("@An Grav@");
		if (Func0906()) {
			var0003 = script item {
				sfx 65;
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
			};
			for (var0006 in var0002 with var0004 to var0005) {
				if (var0006 == var0000->get_item_shape()) {
					var0003 = var0000->set_last_created();
					if (var0003) {
						var0003 = UI_update_last_created(FLAG_DESTROY);
						var0000->halt_scheduled();
					}
				}
			}
		} else {
			var0003 = script item {
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func066B object#(0x66B) () {
	var var0000;
	var var0001;
	var var0002;

	if ((event == DOUBLECLICK) || (event == WEAPON)) {
		var0000 = UI_click_on_item();
		halt_scheduled();
		var0001 = Func092D(var0000);
		item_say("@Vas Flam Hur@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x004E);
			var0002 = script item {
				face var0001;
				sfx 65;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_1h;
				actor frame strike_1h;
				attack;
				actor frame standing;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func066C object#(0x66C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0000->halt_scheduled();
		var0001 = Func092D(var0000);
		item_say("@Vas Mani@");
		if (Func0906()) {
			var0002 = script item {
				face var0001;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				sfx 64;
			};
			if (var0000->is_npc()) {
				var0003 = var0000->get_npc_prop(STRENGTH);
				var0004 = var0000->get_npc_prop(HEALTH);
				var0005 = var0000->set_npc_prop(HEALTH, var0003 - var0004);
			}
		} else {
			var0002 = script item {
				face var0001;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func066D object#(0x66D) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		halt_scheduled();
		var0001 = Func092D(var0000);
		item_say("@Sanct Lor@");
		if (Func0906()) {
			var0002 = script item {
				face var0001;
				sfx 67;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
			};
			var0002 = script var0000 after 4 ticks {
				nohalt;
				call Func066D;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		set_item_flag(INVISIBLE);
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func066E object#(0x66E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		halt_scheduled();
		item_say("@In Flam Grav@");
		if (Func0906()) {
			var0002 = script item {
				sfx 65;
				face var0001;
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
			};
			var0003 = UI_create_new_object(0x037F);
			if (var0003) {
				var0004 = var0000[0x0002] + 0x0001;
				var0005 = var0000[0x0003] + 0x0001;
				var0006 = var0000[0x0004];
				var0007 = [var0004, var0005, var0006];
				var0008 = UI_update_last_created(var0007);
				var0009 = 0x0064;
				var0008 = var0003->set_item_quality(var0009);
				var0003->set_item_flag(TEMPORARY);
				var0008 = script var0003 after var0009 ticks remove;;
			}
		} else {
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func066F object#(0x66F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = get_object_position();
		item_say("@Vas Zu@");
		if (Func0906()) {
			UI_sprite_effect(ANIMATION_TELEPORT, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			var0001 = script item {
				sfx 65;
				actor frame standing;
				actor frame raise_1h;
				actor frame cast_up;
				actor frame strike_1h;
				actor frame strike_2h;
				call Func066F;
			};
		} else {
			var0001 = script item {
				actor frame standing;
				actor frame raise_1h;
				actor frame cast_up;
				actor frame strike_1h;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0002 = 0x0019;
		var0003 = find_nearby(ANY_SHAPE, var0002, MASK_NPC);
		var0004 = UI_get_party_list();
		for (var0007 in var0003 with var0005 to var0006) {
			if (!(var0007 in var0004)) {
				var0007->halt_scheduled();
				var0007->set_item_flag(ASLEEP);
			}
		}
	}
}

extern var Func0906 0x906 ();

void Func0670 object#(0x670) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Quas Wis@");
		if (Func0906()) {
			var0000 = script item {
				sfx 65;
				actor frame kneeling;
				actor frame standing;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0670;
			};
		} else {
			var0000 = script item {
				actor frame kneeling;
				actor frame standing;
				actor frame reach_1h;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = find_nearby(ANY_SHAPE, 0x0019, MASK_NPC2);
		var0002 = UI_get_party_list();
		for (var0005 in var0001 with var0003 to var0004) {
			if (!(var0005 in var0002)) {
				if (var0005->get_npc_prop(INTELLIGENCE) > 5) {
					var0005->set_schedule_type(IN_COMBAT);
					var0005->set_attack_mode(FLEE);
					var0005->set_oppressor(UI_get_avatar_ref());
				}
			}
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0671 object#(0x671) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		halt_scheduled();
		item_say("@In Quas Xen@");
		if (Func0906() && (var0000->is_npc() && (!(0x0000->get_item_flag(UNKNOWN_FLAG_27) == -1)))) {
			var0002 = script item {
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
			};
			var0002 = script var0000 after 4 ticks {
				nohalt;
				call Func0671;
			};
		} else {
			var0002 = script item {
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0002 = clone();
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0672 object#(0x672) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		halt_scheduled();
		var0001 = Func092D(var0000);
		item_say("@Kal Flam Grav@");
		if (Func0906()) {
			var0002 = script item {
				face var0001;
				sfx 65;
				actor frame reach_1h;
				actor frame strike_1h;
				actor frame raise_1h;
			};
			var0003 = [-1,  0,  1,  2,  2,  2,  1,  0, -1, -2, -2, -2];
			var0004 = [-2, -2, -2, -1,  0,  1,  2,  2,  2,  1,  0, -1];
			var0005 = 0;
			while (var0005 < 0x000C) {
				var0005 += 1;
				var0006 = var0000[0x0002] + var0003[var0005];
				var0007 = var0000[0x0003] + var0004[var0005];
				var0008 = var0000[0x0004];
				var0009 = [var0006, var0007, var0008];
				var000A = [var0006, var0007, (var0008 + 1)];
				if (!UI_is_not_blocked(var0009, 0x026D, 0x0000)) {
					var0009 = var000A;
				}
				if (UI_is_not_blocked(var0009, 0x026D, 0x0000)) {
					var000B = UI_create_new_object(0x026D);
					if (var000B) {
						var000B->set_item_flag(TEMPORARY);
						var000B->set_item_flag(INVISIBLE);
						var0002 = UI_update_last_created(var0009);
						var0002 = var000B->set_npc_prop(HEALTH, 1);
						var0002 = script var000B after var0005 ticks {
							nohalt;
							call Func0672;
						};
					}
				}
			}
		} else {
			var000C = script item {
				face var0001;
				actor frame reach_1h;
				actor frame strike_1h;
				actor frame raise_1h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0009 = get_object_position();
		var0002 = set_last_created();
		if (var0002) {
			var0002 = UI_update_last_created(FLAG_DESTROY);
		}
		var000B = UI_create_new_object(0x037F);
		if (var000B) {
			var000B->set_item_flag(TEMPORARY);
			var0002 = UI_update_last_created(var0009);
			var000D = 0x001E;
			var000D += UI_die_roll(0x0001, 0x0005);
			var0002 = script var000B after var000D ticks {
				nohalt;
				remove;
			};
		}
	}
}

extern var Func0934 0x934 (var var0000);
extern var Func0906 0x906 ();

void Func0673 object#(0x673) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	if (event == DOUBLECLICK) {
		var0000 = 0x0019;
		halt_scheduled();
		var0001 = Func0934(var0000);
		item_say("@Vas In Flam Grav@");
		if (Func0906()) {
			var0002 = script item {
				sfx 65;
				actor frame bowing;
				actor frame kneeling;
				actor frame bowing;
				actor frame cast_out;
				actor frame strike_2h;
			};
			for (var0005 in var0001 with var0003 to var0004) {
				var0006 = var0005->get_object_position();
				var0007 = var0006[0x0001];
				var0008 = var0006[0x0002];
				var0009 = var0006[0x0003];
				var000A = [var0007, var0008, 0x0000];
				var000B = UI_create_new_object(0x037F);
				if (var000B) {
					var0002 = UI_update_last_created(var000A);
					var000C = UI_die_roll(0x0001, 0x000F);
					var000D = 0x001E + var000C;
					var0002 = var000B->set_item_quality(var000D);
					var000B->set_item_flag(TEMPORARY);
					var0002 = script var000B after var000D ticks {
						nohalt;
						remove;
					};
				}
			}
		} else {
			var0002 = script item {
				actor frame bowing;
				actor frame kneeling;
				actor frame bowing;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();
extern var Func0934 0x934 (var var0000);
extern void Func068A object#(0x68A) ();

void Func0674 object#(0x674) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Oort Hur@");
		if (Func0906()) {
			var0000 = 0x0046;
			gflags[0x02ED] = true;
			UI_set_weather(RAIN);
			var0001 = script item {
				sfx 65;
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				actor frame standing;
			};
			var0001 = script item after 8 ticks {
				nohalt;
				call Func0674;
			};
			var0001 = script item after var0000 ticks {
				nohalt;
				call Func068A;
			};
		} else {
			var0001 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		if (gflags[0x02ED] == true) {
			var0002 = 0x002D;
			var0003 = Func0934(var0002);
			var0004 = var0003[UI_die_roll(0x0001, UI_get_array_size(var0003))];
			if (var0004) {
				var0001 = script var0004 {
					nohalt;
					call Func060F;
				};
			}
			var0005 = UI_die_roll(0x0003, 0x0008);
			var0001 = script item after var0005 ticks {
				nohalt;
				call Func0674;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0675 object#(0x675) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		halt_scheduled();
		var0001 = Func092D(var0000);
		item_say("@In Nox Grav@");
		if (Func0906()) {
			var0002 = script item {
				face var0001;
				sfx 110;
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
			};
			var0003 = UI_create_new_object(0x0384);
			if (var0003) {
				var0004 = var0000[0x0002] + 0x0001;
				var0005 = var0000[0x0003] + 0x0001;
				var0006 = var0000[0x0004];
				var0007 = [var0004, var0005, var0006];
				var0003->set_item_flag(TEMPORARY);
				var0002 = UI_update_last_created(var0007);
			}
		} else {
			var0008 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0676 object#(0x676) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		halt_scheduled();
		var0001 = Func092D(var0000);
		item_say("@In Zu Grav@");
		if (Func0906()) {
			var0002 = script item {
				sfx 65;
				face var0001;
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
			};
			var0003 = var0000[0x0002] + 0x0001;
			var0004 = var0000[0x0003] + 0x0001;
			var0005 = var0000[0x0004];
			var0006 = [var0003, var0004, var0005];
			var0007 = UI_create_new_object(0x0386);
			if (var0007) {
				var0007->set_item_flag(TEMPORARY);
				var0008 = UI_update_last_created(var0006);
			}
		} else {
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func0677 object#(0x677) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Por Ylem@");
		if (Func0906()) {
			var0000 = script item {
				actor frame raise_2h;
				actor frame standing;
				actor frame kneeling;
				sfx 67;
				call Func0677;
			};
		} else {
			var0000 = script item {
				actor frame raise_2h;
				actor frame standing;
				actor frame kneeling;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = find_nearby(SHAPE_ANY, 0x0028, MASK_NPC2);
		var0002 = UI_get_party_list();
		var0003 = 0x000C;
		var0004 = get_item_flag(IN_PARTY);
		for (var0007 in var0001 with var0005 to var0006) {
			if ((!var0004) || (!(var0007 in var0002))) {
				var0008 = 0x0000;
				var0009 = "";
				while (var0008 < var0003) {
					var000A = UI_die_roll(0x0000, 0x0008);
					if (var000A == 0x0000) {
						var000B = new script {
							actor frame kneeling;
							actor frame bowing;
							actor frame standing;
						};
						var0009 = [var0009, var000B];
					}
					if (var000A == 0x0001) {
						var000B = new script {
							actor frame kneeling;
							actor frame standing;
							actor frame standing;
						};
						var0009 = [var0009, var000B];
					}
					if (var000A == 0x0002) {
						var000B = new script {
							actor frame bowing;
							actor frame sleeping;
							actor frame standing;
						};
						var0009 = [var0009, var000B];
					}
					if (var000A == 0x0003) {
						var000B = new script {
							actor frame standing;
							actor frame standing;
							actor frame standing;
						};
						var0009 = [var0009, var000B];
					}
					if (var000A == 0x0004) {
						var000B = new script {
							actor frame kneeling;
							actor frame ready;
							actor frame standing;
						};
						var0009 = [var0009, var000B];
					}
					if (var000A == 0x0005) {
						var000B = new script {
							actor frame ready;
							actor frame kneeling;
							actor frame standing;
						};
						var0009 = [var0009, var000B];
					}
					if (var000A == 0x0006) {
						var000C = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
						var000B = new script {
							face var000C;
							actor frame bowing;
							actor frame standing;
						};
						var0009 = [var0009, var000B];
					}
					if (var000A == 0x0007) {
						var000C = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
						var000B = new script {
							face var000C;
							actor frame kneeling;
							actor frame standing;
						};
						var0009 = [var0009, var000B];
					}
					if (var000A == 0x0008) {
						var000C = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
						var000B = new script {
							face var000C;
							actor frame ready;
							actor frame standing;
						};
						var0009 = [var0009, var000B];
					}
					var0008 += 0x0001;
				}
				var0007->halt_scheduled();
				var0000 = var0007->run_script(var0009);
			}
		}
		UI_earthquake(var0003 * 0x0003);
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0678 object#(0x678) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@Rel Ylem@");
		if (Func0906() && (var0000->get_item_shape() == 0x0393)) {
			var0002 = script item {
				face var0001;
				sfx 66;
				actor frame raise_1h;
				actor frame strike_1h;
			};
			var0003 = var0000->get_object_position();
			UI_sprite_effect(ANIMATION_GREEN_BUBBLES, var0003[0x0001], var0003[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			var0004 = script var0000 after 5 ticks {
				nohalt;
				call Func0678;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	} else {
		var0005 = get_item_quantity(0x0001);
		var0005 *= 0x000A;
		set_item_shape(0x0285);
		var0005 = set_item_quantity(var0005);
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();
extern void Func0936 0x936 (var var0000, var var0001);

void Func0679 object#(0x679) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if ((event == DOUBLECLICK) || ((event == WEAPON) && (get_npc_number() == AVATAR))) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@Corp Por@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x020F);
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				sfx 65;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				attack;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if ((event == WEAPON) && (item != AVATAR)) {
		if (is_npc()) {
			var0003 = AVATAR->get_npc_prop(INTELLIGENCE);
			var0004 = get_npc_prop(INTELLIGENCE);
		} else {
			var0003 = 0;
			var0004 = 1;
		}
		var0005 = get_item_flag(CANT_DIE);
		if ((var0003 > var0004) && (var0005 == false)) {
			Func0936(item, 0x007F);
			kill_npc();
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func067A object#(0x67A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == DOUBLECLICK) {
		var0000 = false;
		halt_scheduled();
		var0001 = UI_click_on_item();
		var0002 = Func092D(var0001);
		var0003 = [var0001[0x0002], var0001[0x0003], var0001[0x0004]];
		item_say("@Tym Vas Flam@");
		if (Func0906()) {
			var0004 = UI_create_new_object(0x026D);
			if (var0004) {
				var0004->set_item_flag(TEMPORARY);
				var0004->set_item_flag(INVISIBLE);
				var0005 = UI_update_last_created(var0003);
				if (var0005) {
					var0005 = var0004->set_npc_prop(HEALTH, 1);
					var0005 = set_to_attack(var0004, 0x026D);
					var0005 = script item after 12 ticks {
						nohalt;
						attack;
					};
					var0005 = script var0004 after 14 ticks {
						nohalt;
						remove;
					};
					var0005 = script item {
						face var0002;
						sfx 65;
						actor frame strike_2h;
						actor frame cast_out;
						actor frame cast_up;
					};
					UI_sprite_effect(ANIMATION_GREEN_BUBBLES, var0003[0x0001], var0003[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				} else {
					var0000 = true;
				}
			} else {
				var0000 = true;
			}
		} else {
			var0000 = true;
		}
		if (var0000) {
			var0005 = script var0004 {
				face var0002;
				actor frame strike_2h;
				actor frame cast_out;
				actor frame cast_up;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func067B object#(0x67B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	var0000 = false;
	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0001 = UI_click_on_item();
		item_say("@In Sanct Grav@");
		var0002 = var0001[0x0002] + 0x0001;
		var0003 = var0001[0x0003] + 0x0001;
		var0004 = var0001[0x0004];
		var0005 = [var0002, var0003, var0004];
		var0006 = UI_is_not_blocked(var0005, 0x0300, 0x0000);
		if (Func0906() && var0006) {
			var0007 = script item {
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
			};
			var0008 = UI_create_new_object(0x0300);
			if (var0008) {
				var0009 = UI_update_last_created(var0005);
				if (var0009) {
					var000A = 0x00C8;
					var0009 = var0008->set_item_quality(var000A);
					var0009 = script var0008 after var000A ticks remove;;
				} else {
					var0000 = true;
				}
			} else {
				var0000 = true;
			}
		} else {
			var0000 = true;
		}
		// This should probably be var0000 == true
		if (0x0606 == true) {
			// Dead code
			var0007 = script item {
				actor frame raise_1h;
				actor frame reach_1h;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func067C object#(0x67C) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@In Hur Grav Ylem@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x018F);
			var0002 = script item {
				face var0001;
				sfx 65;
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				attack;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();
extern var Func0934 0x934 (var var0000);

void Func067D object#(0x67D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas An Xen Ex@");
		if (Func0906()) {
			var0000 = script item {
				sfx 65;
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func067D;
			};
			var0001 = get_object_position();
			UI_sprite_effect(ANIMATION_TELEPORT, (var0001[0x0001] - 0x0002), (var0001[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			var0002 = 0x0019;
			var0003 = Func0934(var0002);
			for (var0006 in var0003 with var0004 to var0005) {
				var0002 = get_distance(var0006);
				var0002 = (var0002 / 0x0004) + 0x0004;
				if (!(UI_die_roll(0x0001, 0x0003) == 0x0001)) {
					var0000 = script var0006 after var0002 ticks {
						nohalt;
						call Func067D;
					};
				}
			}
		} else {
			var0000 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0007 = get_npc_number();
		if (!(var0007 in [ANMANIVAS, FORANAMO, AVATAR])) {
			var0008 = AVATAR->get_alignment();
			if (var0008) {
				set_item_flag(CHARMED);
			} else {
				clear_item_flag(CHARMED);
			}
		}
	}
}

extern var Func0906 0x906 ();

void Func067E object#(0x67E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@In Vas Por@");
		if (Func0906()) {
			var0000 = script item {
				actor frame cast_up;
				sfx 64;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func067E;
			};
			var0001 = get_object_position();
			UI_sprite_effect(ANIMATION_TELEPORT, (var0001[0x0001] - 0x0002), (var0001[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			var0002 = UI_get_party_list();
			for (var0005 in var0002 with var0003 to var0004) {
				var0006 = get_distance(var0005);
				var0006 = (var0006 / 0x0003) + 0x0005;
				var0000 = script var0005 after var0006 ticks {
					nohalt;
					call Func067E;
				};
			}
		} else {
			var0000 = script item {
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		set_item_flag(MIGHT);
	}
}

extern var Func0906 0x906 ();

void Func067F object#(0x67F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Mani@");
		if (Func0906()) {
			var0000 = script item {
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
				sfx 64;
			};
			var0001 = UI_get_party_list();
			for (var0004 in var0001 with var0002 to var0003) {
				var0004->clear_item_flag(PARALYZED);
				var0004->clear_item_flag(POISONED);
				var0005 = var0004->get_npc_prop(STRENGTH);
				var0006 = var0004->get_npc_prop(HEALTH);
				var0000 = var0004->set_npc_prop(HEALTH, var0005 - var0006);
				AVATAR->obj_sprite_effect(ANIMATION_GREEN_BUBBLES, -1, -1, 0, 0, 0, LOOP_ONCE);
			}
		} else {
			var0000 = script item {
				actor frame raise_1h;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func0680 object#(0x680) () {
	var var0000;
	var var0001;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Kal An Mani@");
		if (Func0906()) {
			var0000 = get_object_position();
			UI_sprite_effect(ANIMATION_TELEPORT, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_set_weather(RAIN);
			halt_scheduled();
			var0001 = script item {
				sfx 65;
				actor frame kneeling;
				actor frame kneeling;
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				actor frame cast_out;
				sfx 67;
				actor frame cast_up;
				actor frame strike_1h;
				actor frame bowing;
				actor frame standing;
				call Func0680;
			};
		} else {
			var0001 = script item {
				actor frame kneeling;
				actor frame sleeping;
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				actor frame cast_out;
				actor frame cast_up;
				actor frame strike_1h;
				actor frame bowing;
				actor frame standing;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		item_say("@In Corp Hur Tym@");
		UI_earthquake(0x0028);
		UI_armageddon();
		gflags[0x001E] = true;
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0681 object#(0x681) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		halt_scheduled();
		item_say("@Vas Corp Hur@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x027F);
			var0003 = script item {
				face var0001;
				sfx 65;
				actor frame cast_up;
				actor frame strike_1h;
				attack;
			};
		} else {
			var0002 = script item {
				face var0001;
				actor frame cast_up;
				actor frame strike_1h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();
extern void Func0936 0x936 (var var0000, var var0001);

void Func0682 object#(0x682) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Corp@");
		if (Func0906()) {
			var0000 = get_object_position();
			UI_sprite_effect(ANIMATION_TELEPORT, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			var0001 = script item {
				sfx 65;
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				actor frame cast_out;
				sfx 67;
			};
			var0002 = 0x0019;
			var0003 = find_nearby(ANY_SHAPE, var0002, MASK_NPC);
			var0004 = UI_get_party_list2();
			var0004 &= LORD_BRITISH->get_npc_object();
			var0004 &= BATLIN->get_npc_object();
			var0005 = false;
			for (var0008 in var0003 with var0006 to var0007) {
				if (!(var0008 in var0004)) {
					var0002 = get_distance(var0008);
					var0002 = (var0002 / 0x0003) + 0x0005;
					var0008->halt_scheduled();
					var0001 = script var0008 after var0002 ticks {
						nohalt;
						call Func0682;
					};
					var0005 = true;
				}
			}
			if (var0005 == true) {
				var0004 = UI_get_party_list();
				for (var000B in var0004 with var0009 to var000A) {
					var000C = var000B->get_npc_prop(HEALTH);
					Func0936(var000B, var000C - 0x0002);
				}
			}
		} else {
			var0001 = script item {
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				actor frame cast_out;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var000D = get_item_flag(CANT_DIE);
		if (var000D == false) {
			var000C = get_npc_prop(HEALTH);
			Func0936(item, var000C - 0x0002);
			Func0936(item, 50);
		}
	}
}

extern var Func0906 0x906 ();

void Func0683 object#(0x683) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@Vas Sact Lor@");
		if (Func0906()) {
			var0000 = get_object_position();
			UI_sprite_effect(ANIMATION_TELEPORT, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			var0001 = script item {
				actor frame raise_1h;
				sfx 67;
				actor frame standing;
				actor frame cast_up;
				actor frame standing;
				actor frame strike_2h;
			};
			var0002 = UI_get_party_list();
			for (var0005 in var0002 with var0003 to var0004) {
				var0006 = get_distance(var0005);
				var0006 = (var0006 / 0x0003) + 0x0005;
				var0001 = script var0005 after var0006 ticks {
					nohalt;
					call Func0683;
				};
			}
		} else {
			var0007 = script item {
				actor frame raise_1h;
				actor frame standing;
				actor frame cast_up;
				actor frame standing;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		set_item_flag(INVISIBLE);
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0684 object#(0x684) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == DOUBLECLICK) {
		var0000 = UI_click_on_item();
		var0001 = var0000->get_item_shape();
		var0002 = var0000->get_object_position();
		var0003 = Func092D(var0000);
		var0000->halt_scheduled();
		halt_scheduled();
		if (var0000->get_item_shape() in [0x0190, 0x019E, 0x030A]) {
			var0004 = var0000->get_item_quality();
			var0005 = var0000->get_item_quantity(var0001);
			if ((var0004 == 0x0000) && (var0005 == 0x0000)) {
				var0006 = 0x0000;
			} else {
				var0006 = var0000->resurrect();
			}
		} else {
			var0006 = 0x0000;
		}
		item_say("@In Mani Corp@");
		if (Func0906() && var0006) {
			var0007 = 0x0001;
			var0008 = script item {
				face var0003;
				sfx 64;
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
			};
			UI_play_music(0x000F, 0x0000);
			UI_sprite_effect(ANIMATION_LIGHTNING, var0002[0x0001], var0002[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0002[0x0001] - 0x0002), (var0002[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		} else {
			var0007 = 0x0001;
			var0008 = script item {
				face var0003;
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();
extern var Func092B 0x92B (var var0000);

void Func0685 object#(0x685) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("Kal Vas Xen");
		if (Func0906()) {
			var0000 = script item {
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				sfx 65;
				call Func0685;
			};
		} else {
			var0000 = script item {
				actor frame kneeling;
				actor frame standing;
				actor frame cast_up;
				actor frame cast_out;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		var0001 = [0x0210, 0x01F8, 0x0151, 0x0215, 0x009A, 0x01F5, 0x01F9, 0x0373, 0x0112, 0x0202, 0x0162, 0x0295, 0x02C2];
		var0002 = [0x0005, 0x000F, 0x0005, 0x0005, 0x0005, 0x0005, 0x0005, 0x0005, 0x000E, 0x0005, 0x000A, 0x0005, 0x0005];
		var0003 = [0x0005, 0x0001, 0x0005, 0x0001, 0x0002, 0x0002, 0x0002, 0x0001, 0x0001, 0x0003, 0x0001, 0x0005, 0x0002];
		var0004 = Func092B(var0001);
		do {
			var0005 = UI_die_roll(0x0001, var0004);
			var0006 = UI_die_roll(0x0001, 0x0064);
		} while (var0002[var0005] < var0006);
		var0007 = var0003[var0005];
		var0008 = var0007 / 0x0002;
		if (var0008 < 0x0001) {
			var0008 = 0x0001;
		}
		var0009 = UI_die_roll(0x0001, var0008);
		if (UI_die_roll(0x0001, 0x0002) == 0x0001) {
			var0009 = -1 * var0009;
		}
		var0007 += var0009;
		while (var0007) {
			var0000 = UI_summon(var0001[var0005], true);
			var0007 -= 0x0001;
		}
	}
}

extern var Func092D 0x92D (var var0000);
extern var Func0906 0x906 ();

void Func0686 object#(0x686) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if ((event == DOUBLECLICK) || (event == WEAPON)) {
		halt_scheduled();
		var0000 = UI_click_on_item();
		var0001 = Func092D(var0000);
		item_say("@In Jux Por Ylem@");
		if (Func0906()) {
			var0002 = set_to_attack(var0000, 0x011F);
			var0003 = script item {
				face var0001;
				sfx 65;
				actor frame raise_1h;
				actor frame standing;
				actor frame cast_up;
				actor frame standing;
				actor frame strike_1h;
				actor frame strike_2h;
				attack;
				actor frame standing;
			};
		} else {
			var0003 = script item {
				face var0001;
				actor frame raise_1h;
				actor frame standing;
				actor frame cast_up;
				actor frame standing;
				actor frame strike_2h;
				call Func0606;
			};
		}
	}
}

extern var Func0906 0x906 ();

void Func0687 object#(0x687) () {
	var var0000;

	if (event == DOUBLECLICK) {
		halt_scheduled();
		item_say("@An Tym@");
		if (Func0906()) {
			var0000 = script item {
				sfx 67;
				actor frame strike_2h;
				actor frame cast_out;
				call Func0687;
			};
		} else {
			var0000 = script item {
				actor frame strike_2h;
				actor frame cast_out;
				call Func0606;
			};
		}
	}
	if (event == SCRIPTED) {
		UI_stop_time(0x0064);
	}
}

extern void Func093F 0x93F (var var0000, var var0001);

void Func0688 object#(0x688) () {
	if (event == SCRIPTED) {
		Func093F(item, WANDER);
		clear_item_flag(IN_ACTION);
	}
}

extern void Func0936 0x936 (var var0000, var var0001);

void Func0689 object#(0x689) () {
	var var0000;
	var var0001;

	var0000 = get_npc_prop(INTELLIGENCE);
	var0001 = get_npc_prop(HEALTH);
	if (UI_roll_to_win(var0000, 16)) {
		Func0936(item, var0001 - 1);
		Func0936(item, 50);
	}
}

void Func068A object#(0x68A) () {
	gflags[0x02ED] = false;
	UI_set_weather(CLEAR_WEATHER);
}

extern var Func0837 0x837 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0838 0x838 (var var0000);

void Func068B object#(0x68B) () {
	var var0000;
	var var0001;

	var0000 = AVATAR->get_npc_object()->find_nearest(0x03DF, 0x0005);
	if (var0000) {
		var0001 = Func0837(item, var0000, 0x0000, 0x0000, 0x0001);
		Func0838(item);
	}
}

extern var Func0837 0x837 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0838 0x838 (var var0000);

void Func068C object#(0x68C) () {
	var var0000;
	var var0001;

	var0000 = AVATAR->get_npc_object()->find_nearest(0x02E3, 0x0005);
	if (var0000) {
		var0001 = Func0837(item, var0000, 0, -1, 2);
		Func0838(item);
	}
}

extern void Func068E object#(0x68E) ();

void Func068D object#(0x68D) () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = get_item_frame();
	var0001 = AVATAR->get_npc_object()->get_cont_items(0x029C, QUALITY_ANY, FRAME_ANY);
	if ((var0000 == 0x0003) || (var0000 == 0x0007)) {
		var0002 = script AVATAR->get_npc_object() {
			wait 10;
			actor frame standing;
		};
		var0002 = script var0001 {
			wait 2;
			call Func068E;
		};
	} else {
		AVATAR->get_npc_object()->item_say("@There's not enough water.@");
	}
}

extern var Func0837 0x837 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func068F object#(0x68F) ();

void Func068E object#(0x68E) () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = AVATAR->get_npc_object()->find_nearest(0x02E5, 0x0005);
	if (Func0837(item, var0000, 0x0000, 0x0000, 0x0002)) {
		var0001 = get_object_position();
		UI_sprite_effect(ANIMATION_POOF, (var0001[0x0001] - 0x0003), (var0001[0x0002] - 0x0003), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_play_sound_effect(0x002E);
		var0002 = script item {
			frame 8;
			call Func068F;
		};
		var0002 = script var0000 {
			repeat 2 {
				previous frame cycle;
			};
		};
	}
}

void Func068F object#(0x68F) () {
	var var0000;
	var var0001;

	if (gflags[0x032E]) {
		var0000 = 0x000F;
	} else if (gflags[0x032D]) {
		var0000 = 0x000E;
	} else {
		var0000 = 0x000D;
	}
	var0001 = script item {
		frame var0000;
	};
}

extern void Func0691 object#(0x691) ();

void Func0690 object#(0x690) () {
	var var0000;
	var var0001;

	var0000 = get_item_shape();
	if (var0000 == 0x02C3) {
		var0001 = script item {
			wait 1;
			call Func06F6;
		};
		return;
	}
	if (var0000 == 0x02F8) {
		var0001 = script item {
			wait 1;
			call Func06F6;
		};
		return;
	}
	if (event == DOUBLECLICK) {
		var0001 = script item {
			wait 1;
			call Func026F;
		};
	}
	if (event == SCRIPTED) {
		event = DOUBLECLICK;
		item->Func0691();
	}
}

void Func0691 object#(0x691) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == SCRIPTED) {
		var0000 = AVATAR->get_npc_object()->find_nearest(0x029C, 0x0002);
		var0001 = var0000->get_object_position();
		var0002 = script item {
			sfx 45;
		};
		var0002 = script item {
			nohalt;
			wait 1;
			call Func0690;
		};
	}
	if (event == DOUBLECLICK) {
		var0003 = UI_get_random(0x0064);
		if (!gflags[0x032D]) {
			if (var0003 > 0x0042) {
				gflags[0x032D] = true;
				AVATAR->show_npc_face(UI_is_pc_female());
				say("After a short while you notice that the edge has definitely improved.");
				AVATAR->hide();
			}
		} else if (!gflags[0x032E]) {
			if (var0003 > 0x0042) {
				gflags[0x032E] = true;
				AVATAR->show_npc_face(UI_is_pc_female());
				say("You feel that you've done the best job that you can, but the sword doesn't feel quite right. It's much too heavy and cumbersome to wield as a weapon.");
				gflags[0x0337] = true;
				AVATAR->hide();
			} else if (var0003 < 0x0014) {
				gflags[0x032D] = false;
				AVATAR->show_npc_face(UI_is_pc_female());
				say("That last blow was perhaps a bit too hard, It'll take a while to hammer out the flaws.");
				AVATAR->hide();
			}
		} else {
			AVATAR->show_npc_face(UI_is_pc_female());
			say("The blade has been worked as well as it can be. It will take some form of magic to make this sword blank into a usable weapon.");
			AVATAR->hide();
		}
	}
}

void Func0692 object#(0x692) () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = get_container();
	if (!var0000) {
		var0001 = get_object_position();
		var0002 = set_last_created();
		if (!AVATAR->get_npc_object()->give_last_created()) {
			var0002 = UI_update_last_created(var0001);
			UI_flash_mouse(CURSOR_WONT_FIT);
		}
	} else {
		var0002 = set_last_created();
		if (!AVATAR->get_npc_object()->give_last_created()) {
			var0002 = var0000->give_last_created();
			UI_flash_mouse(CURSOR_WONT_FIT);
		}
	}
}

void Func0693 object#(0x693) () {
	var var0000;
	var var0001;

	var0000 = get_object_position();
	var0001[0x0001] = var0000[0x0001] - 0x0003;
	var0001[0x0002] = var0000[0x0002] - 0x0004;
	UI_sprite_effect(ANIMATION_POOF, var0001[0x0001], var0001[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	UI_play_sound_effect(0x002E);
}

void Func0694 object#(0x694) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	var0000 = get_item_frame();
	var0001 = 0x0000;
	var0002 = 0x0000;
	if (var0000 == 0x0001) {
		var0001 = 0x0010;
		var0002 = 0x0013;
	}
	if (var0000 == 0x0002) {
		var0001 = 0x0000;
		var0002 = 0x0003;
	}
	if (var0000 == 0x0003) {
		var0001 = 0x0014;
		var0002 = 0x0017;
	}
	if ((var0000 == 0x0004) || (var0000 == 0x0005)) {
		var0001 = 0x000C;
		var0002 = 0x000F;
	}
	if (var0000 == 0x0006) {
		return;
	}
	var0003 = AVATAR->get_npc_object()->get_object_position();
	var0004[0x0001] = var0003[0x0001];
	var0004[0x0002] = var0003[0x0002] - 0x0001;
	var0004[0x0003] = 0x0000;
	var0005 = UI_create_new_object(0x0390);
	var0005->set_item_flag(TEMPORARY);
	var0005->set_item_frame(UI_die_roll(var0001, var0002));
	var0006 = UI_update_last_created(var0004);
	var0007 = get_item_quality();
	if ((var0000 == 0x0002) && var0007) {
		var0007 -= 0x0001;
		var0008 = set_item_quality(var0007);
	} else {
		var0009 = script item {
			frame 0;
		};
	}
	UI_play_sound_effect(0x0028);
}

void Func0695 object#(0x695) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = AVATAR->get_npc_object()->find_nearest(0x02E4, 0x000A);
	if (var0000) {
		var0001 = var0000->get_item_frame();
		var0001 -= 0x0006;
		var0002 = script var0000 {
			next frame cycle;
			wait 1;
			next frame cycle;
			wait 1;
			next frame cycle;
			wait 1;
			next frame cycle;
			wait 1;
			next frame cycle;
			wait 2;
			frame var0001;
		};
		var0003 = script AVATAR->get_npc_object() {
			actor frame ready;
			wait 1;
			actor frame reach_1h;
			wait 1;
			actor frame raise_1h;
			wait 1;
			actor frame strike_1h;
			wait 1;
			actor frame ready;
			face east;
			wait 1;
			actor frame strike_1h;
			wait 2;
			actor frame standing;
		};
		var0004 = script item {
			frame 1;
		};
		UI_play_sound_effect(0x0028);
	}
}

extern void Func087D 0x87D ();
extern var Func0881 0x881 ();
extern void Func0697 object#(0x697) ();
extern void Func069D object#(0x69D) ();

void Func0696 object#(0x696) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = false;
	var0001 = false;
	var0002 = false;
	var0003 = false;
	var0004 = false;
	var0005 = false;
	var0006 = get_object_position();
	set_schedule_type(WAIT);
	if (gflags[0x0003]) {
		if (!gflags[0x032B]) {
			var0007 = set_last_created();
			if (!UI_is_not_blocked(var0006, 0x01F8, FRAME_ANY)) {
				var0004 = true;
				var0007 = UI_update_last_created(var0006);
			} else {
				var0007 = UI_update_last_created(var0006);
				Func087D();
				0xFEE2->show_npc_face(0x0001);
				say("Erethian looks irritated by your question, \"'Tis not a hindrance for one sensitive enough to feel the ridges the ink\tmakes on the page.");
				say("Dost thou think me an invalid? Know that in my searches, I\thave faced dangers that would turn even one such as thee to quivering flesh.\"");
				say("The mage's eyes begin to glow softly. \"My magic is strong enough to tear down the fabric of reality and reconstruct it as I see fit.");
				say("To prove this, I'll take on the form of a winged gargoyle noble...\"");
				say("His hands move in passes you recognize as being magical, then he speaks softly the magic words,");
				say("\"Rel An-Quas Ailem In Garge\".*");
				var0000 = true;
			}
		} else if (!gflags[0x032C]) {
			0xFEE2->show_npc_face(0x0003);
			say("\"Even the great dragon's form is not beyond my power.\" Erethian begins speaking softly, then rises to a crescendo with the words,");
			say("\"Rel An-Quas Ailem In BAL-ZEN\"!*");
			var0001 = true;
		} else {
			0xFEE2->show_npc_face(0x0002);
			say("The dragon looks down its snout menacingly at what you guess is meant to be you. Even in this powerful form, it would seem that Erethian is still blind, however, you get the impression that he is quite capable of taking care of himself.");
			say("\"Enough of these silly charades, I really am quite busy with my studies.\" He intones the words,");
			say("\"An Ort Rel\"!*");
			var0005 = true;
		}
	} else {
		0xFEE2->show_npc_face(0x0001);
		if (!gflags[0x032B]) {
			var0007 = set_last_created();
			if (!UI_is_not_blocked(var0006, 0x01F4, 0x0000)) {
				var0004 = true;
				var0007 = UI_update_last_created(var0006);
			} else {
				var0007 = UI_update_last_created(var0006);
				Func087D();
				say("Erethian looks irritated by your question, \"'Tis not a hindrance for one\tsensitive enough to feel the ridges the ink makes on the page.");
				say("Dost thou think me an invalid? Know that in my searches, I have faced dangers that would turn even one such as thee to quivering flesh.\"");
				say("The mage's eyes begin to glow softly. \"My magic is strong enough to tear down the fabric of reality and reconstruct it as I see fit.\"");
				say("To prove this, I'll take on the form of a winged gargoyle noble...\"");
				say("His hands move in passes you recognize as being magical, then he speaks softly the magic words,");
				say("\"Rel An-Quas Ailem In Bet-Zen\".*");
				var0002 = true;
			}
		} else if (!gflags[0x032C]) {
			say("The elderly mage looks a bit perplexed after his experience as a rodent. \"That spell always used to work, but with all of these damnable ether waves, I can't remember the proper words?");
			say("'Tis of no consequence, I'll take the form of a great dragon to prove my powers...\" he begins speaking softly, then rises to a crescendo with the words,");
			say("\"Rel An-Quas Ailem In MOO\"!*");
			var0003 = true;
		} else {
			say("The elderly mage looks quite embarrassed, \"Enough of these silly charades, I really am quite busy with my studies.\" He turns away, his face blushing furiously.*");
			set_schedule_type(PATROL);
			AVATAR->get_npc_object()->clear_item_flag(DONT_RENDER);
			var0008 = Func0881();
			var0009 = script var0008 after 14 ticks {
				finish;
				remove;
			};
			var000A = script AVATAR->get_npc_object() {
				wait 12;
				call Func069D;
			};
		}
	}
	if (var0000) {
		var000B = script item {
			face south;
			wait 1;
			actor frame cast_out;
			wait 1;
			actor frame cast_up;
			wait 1;
			actor frame standing;
			wait 1;
			actor frame bowing;
			wait 1;
			actor frame kneeling;
			wait 3;
			call Func0697;
		};
	}
	if (var0001) {
		var0000 = find_nearest(0x0112, 0x0001);
		var000C = script var0000 {
			wait 6;
			actor frame bowing;
			wait 3;
			actor frame kneeling;
			wait 2;
			call Func0697;
		};
	}
	if (var0002) {
		var000B = script item {
			face south;
			wait 1;
			actor frame cast_up;
			wait 1;
			actor frame cast_out;
			wait 1;
			actor frame bowing;
			wait 1;
			actor frame kneeling;
			wait 3;
			call Func0697;
		};
	}
	if (var0003) {
		var000B = script item {
			face south;
			wait 1;
			actor frame bowing;
			wait 1;
			actor frame kneeling;
			wait 3;
			actor frame bowing;
			wait 1;
			actor frame cast_out;
			wait 1;
			actor frame cast_up;
			wait 1;
			call Func0697;
		};
	}
	if (var0005) {
		var0001 = find_nearest(0x01F8, 0x0001);
		var000D = script var0001 {
			wait 3;
			actor frame raise_2h;
			wait 2;
			actor frame strike_2h;
			wait 1;
			actor frame raise_2h;
			wait 1;
			actor frame reach_2h;
			wait 2;
			actor frame strike_2h;
			wait 1;
			call Func0697;
		};
	}
	if (var0004) {
		0xFEE2->show_npc_face(0x0001);
		if (!gflags[0x032A]) {
			say("The old mage seems on the verge of saying something, stops then says, \"Were quarter's not so confined here, I'd show thee that my blindness in no way hampers my abilities.\" His affliction seems to be a touchy subject with the mage.*");
		} else {
			say("\"Have you nothing better to do than bother an old man?!\" He seems quite put out with this line of conversation.*");
		}
		var0005->set_schedule_type(PATROL);
		gflags[0x032A] = true;
	}
}

extern var Func0881 0x881 ();
extern void Func0698 object#(0x698) ();
extern void Func069D object#(0x69D) ();

void Func0697 object#(0x697) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	var0000 = get_object_position();
	if (gflags[0x0003]) {
		if (!gflags[0x032B]) {
			gflags[0x032B] = true;
			UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_sprite_effect(ANIMATION_TELEPORT, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x0043);
			set_item_frame(0x0004);
			var0001 = UI_create_new_object(0x0112);
			var0001->set_item_frame(0x001C);
			var0002 = UI_update_last_created(var0000);
			var0003 = script item {
				wait 16;
				call Func0696;
			};
			var0004 = script var0001 {
				face south;
				actor frame kneeling;
				wait 4;
				actor frame bowing;
				wait 3;
				actor frame step_left;
				wait 2;
			};
		} else if (!gflags[0x032C]) {
			gflags[0x032C] = true;
			UI_sprite_effect(ANIMATION_LIGHTNING, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_sprite_effect(ANIMATION_MEDIUM_BLAST, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x0009);
			var0001 = find_nearest(0x0112, 0x0001);
			var0001->remove_item();
			var0005 = UI_create_new_object(0x01F8);
			var0005->set_item_frame(0x0013);
			var0002 = UI_update_last_created(var0000);
			var0006 = var0005->find_nearest(0x009A, 0x0001);
			var0003 = script var0006 {
				wait 14;
				call Func0696;
			};
			var0007 = script var0005 {
				face south;
				wait 4;
				actor frame raise_2h;
				wait 3;
				actor frame strike_2h;
				wait 2;
				actor frame reach_2h;
				wait 1;
			};
		} else {
			UI_sprite_effect(ANIMATION_LIGHTNING, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_sprite_effect(ANIMATION_TELEPORT, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x0008);
			var0006 = find_nearest(0x009A, 0x0001);
			remove_item();
			var0006->set_item_frame(0x001C);
			var0003 = script var0006 {
				actor frame kneeling;
				wait 5;
				actor frame bowing;
				wait 4;
				actor frame standing;
			};
			var0006->set_schedule_type(PATROL);
			AVATAR->get_npc_object()->clear_item_flag(DONT_RENDER);
			var0008 = Func0881();
			var0009 = script var0008 after 13 ticks {
				finish;
				remove;
			};
			var000A = script AVATAR->get_npc_object() {
				wait 11;
				call Func069D;
			};
		}
	} else if (!gflags[0x032B]) {
		gflags[0x032B] = true;
		UI_sprite_effect(ANIMATION_GREEN_BUBBLES, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_play_sound_effect(0x0043);
		set_item_frame(0x0004);
		var000B = UI_create_new_object(0x0209);
		var000B->set_item_frame(0x0010);
		var0002 = UI_update_last_created(var0000);
		var0003 = script item {
			wait 11;
			say "@Squeak!@";
			wait 7;
			call Func0698;
		};
		var000C = script var000B {
			face south;
			wait 4;
			actor frame step_right;
			wait 1;
			actor frame step_left;
			wait 1;
			actor frame ready;
			wait 2;
			actor frame step_left;
			wait 1;
			actor frame ready;
			wait 1;
			actor frame step_right;
			wait 2;
			actor frame ready;
		};
	} else if (!gflags[0x032C]) {
		gflags[0x032C] = true;
		UI_sprite_effect(ANIMATION_LIGHTNING, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_sprite_effect(ANIMATION_TELEPORT, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_play_sound_effect(0x003E);
		set_item_frame(0x0004);
		var000D = UI_create_new_object(0x01F4);
		var000D->set_item_frame(0x0017);
		var0002 = UI_update_last_created(var0000);
		var0003 = script item {
			wait 11;
			say "@MOO?!@";
			wait 7;
			call Func0698;
		};
		var000E = script var000D {
			face south;
			wait 4;
			actor frame raise_2h;
			wait 1;
			actor frame reach_2h;
			wait 1;
			actor frame strike_2h;
			wait 2;
			actor frame reach_2h;
			wait 2;
			actor frame strike_2h;
			wait 1;
			actor frame reach_2h;
			wait 1;
			actor frame raise_2h;
		};
	}
}

void Func0698 object#(0x698) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = get_object_position();
	var0001 = find_nearby(0x0209, 0x0001, MASK_NPC);
	var0002 = find_nearby(0x01F4, 0x0001, MASK_NPC);
	if (var0001) {
		UI_sprite_effect(ANIMATION_GREEN_BUBBLES, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_play_sound_effect(0x0043);
		var0001->remove_item();
		set_item_frame(0x001C);
		var0003 = script item {
			actor frame kneeling;
			wait 5;
			actor frame bowing;
			wait 4;
			actor frame standing;
			wait 3;
			call Func0696;
		};
	}
	if (var0002) {
		UI_sprite_effect(ANIMATION_LIGHTNING, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_sprite_effect(ANIMATION_TELEPORT, var0000[0x0001], var0000[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_play_sound_effect(0x003E);
		var0002->remove_item();
		set_item_frame(0x001E);
		var0003 = script item {
			actor frame cast_up;
			wait 5;
			actor frame cast_out;
			wait 4;
			actor frame standing;
			wait 3;
			call Func0696;
		};
	}
}

extern var Func0881 0x881 ();
extern void Func069C object#(0x69C) ();

void Func0699 object#(0x699) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;

	var0000 = get_object_position() & (0x0008 & 0x0006);
	var0001 = var0000->find_nearby(0x0113, 0x0028, MASK_EGG);
	var0002 = get_object_position() & (0x0009 & 0x0006);
	var0003 = var0002->find_nearby(0x0113, 0x0028, MASK_EGG);
	if (var0001 && var0003) {
		var0004 = var0001[0x0001]->get_object_position();
		var0005 = var0003[0x0001]->get_object_position();
		var0006 = Func0881();
		move_object(var0004);
		AVATAR->get_npc_object()->move_object(var0005);
		if (var0006) {
			var0006->move_object(var0005);
		}
		var0007 = 0x0001;
		var0008 = UI_get_party_list();
		var0009 = var0005;
		for (var000C in var0008 with var000A to var000B) {
			if (var0007 == 0x0001) {
				var0009[0x0001] = var0005[0x0001] - 0x0002;
				var0009[0x0002] = var0005[0x0002] + 0x0002;
			}
			if (var0007 == 0x0002) {
				var0009[0x0001] = var0005[0x0001] + 0x0002;
				var0009[0x0002] = var0005[0x0002] + 0x0002;
			}
			if (var0007 == 0x0003) {
				var0009[0x0001] = var0005[0x0001] - 0x0004;
				var0009[0x0002] = var0005[0x0002] + 0x0004;
			}
			if (var0007 == 0x0004) {
				var0009[0x0001] = var0005[0x0001];
				var0009[0x0002] = var0005[0x0002] + 0x0004;
			}
			if (var0007 == 0x0005) {
				var0009[0x0001] = var0005[0x0001] + 0x0004;
				var0009[0x0002] = var0005[0x0002] + 0x0004;
			}
			if (var0007 == 0x0006) {
				var0009[0x0001] = var0005[0x0001] - 0x0002;
				var0009[0x0002] = var0005[0x0002] + 0x0006;
			}
			if (var0007 == 0x0007) {
				var0009[0x0001] = var0005[0x0001] + 0x0002;
				var0009[0x0002] = var0005[0x0002] + 0x0006;
			}
			if (!(var000C == AVATAR->get_npc_object())) {
				var000C->move_object(var0009);
				var000D = script var000C {
					face north;
				};
				var0007 += 0x0001;
			}
		}
		var000E = script item {
			face south;
			wait 2;
			call Func069C;
		};
		var000F = script AVATAR->get_npc_object() {
			face north;
		};
		if (UI_is_pc_female()) {
			var0010 = script var0006 {
				frame 20;
			};
		} else {
			var0010 = script var0006 {
				frame 18;
			};
		}
	}
}

extern void Func087D 0x87D ();
extern var Func092D 0x92D (var var0000);
extern void Func069B object#(0x69B) ();

void Func069A object#(0x69A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	set_schedule_type(WAIT);
	Func087D();
	var0000 = get_object_position();
	UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	var0001 = AVATAR->get_npc_object()->get_object_position();
	UI_sprite_effect(ANIMATION_TELEPORT, (var0001[0x0001] - 0x0002), (var0001[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	UI_play_sound_effect(0x0044);
	var0002 = Func092D(item);
	var0003 = (var0002 + 0x0004) % 0x0008;
	var0004 = script item {
		face var0003;
		wait 1;
		actor frame bowing;
		wait 1;
		actor frame kneeling;
		wait 3;
		actor frame bowing;
		wait 1;
		actor frame standing;
		wait 1;
		actor frame cast_out;
		wait 1;
		actor frame cast_up;
		wait 4;
		call Func069B;
	};
}

extern void Func0699 object#(0x699) ();

void Func069B object#(0x69B) () {
	UI_fade_palette(0x000C, 0x0001, 0x0000);
	item->Func0699();
}

extern var Func0881 0x881 ();
extern void Func069E object#(0x69E) ();

void Func069C object#(0x69C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	UI_fade_palette(0x000C, 0x0001, 0x0001);
	var0000 = get_object_position();
	UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0000[0x0001] - 0x0002), (var0000[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	var0001 = AVATAR->get_npc_object()->get_object_position();
	UI_sprite_effect(ANIMATION_TELEPORT, (var0001[0x0001] - 0x0002), (var0001[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	UI_play_sound_effect(0x0044);
	var0002 = script item {
		face south;
		actor frame cast_up;
		wait 3;
		actor frame cast_out;
		wait 2;
		actor frame standing;
		wait 8;
		call Func069E;
	};
	var0003 = Func0881();
	if (UI_is_pc_female()) {
		var0004 = script var0003 {
			frame 20;
		};
	} else {
		var0004 = script var0003 {
			frame 18;
		};
	}
}

extern var Func0881 0x881 ();
extern var Func092D 0x92D (var var0000);
extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func069D object#(0x69D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == BG_PATH_SUCCESS) {
		(@0x70)();
		return;
	}
	var0000 = Func0881();
	if (var0000) {
		var0000->remove_item();
	}
	var0001 = false;
	var0002 = false;
	var0003 = AVATAR->get_npc_object()->find_nearest(0x02CE, 0x000A);
	if (var0003) {
		var0004 = Func092D(var0003);
		if ((var0004 == 0x0000) || ((var0004 == 0x0001) || (var0004 == 0x0007))) {
			var0001 = [ 0,  0,  1, -1];
			var0002 = [-1,  1,  0,  0];
		}
		if (var0004 == 0x0002) {
			var0001 = [ 1,  0,  0, -1];
			var0002 = [ 0,  1, -1,  0];
		}
		if ((var0004 == 0x0003) || ((var0004 == 0x0004) || (var0004 == 0x0005))) {
			var0001 = [ 0,  0,  1, -1];
			var0002 = [ 1, -1,  0,  0];
		}
		if (var0004 == 0x0006) {
			var0001 = [-1,  0,  0,  1];
			var0002 = [ 0,  1, -1,  0];
		}
	} else {
		var0001 = [0x0000, 0x0001, 0x0000, -1];
		var0002 = [-1, 0x0000, 0x0001, 0x0000];
	}
	var0005 = AVATAR->get_npc_object();
	Func0828(var0005, var0001, var0002, 0, Func069D, var0005, BG_PATH_SUCCESS);
}

extern void Func069F object#(0x69F) ();

void Func069E object#(0x69E) () {
	var var0000;
	var var0001;

	0xFEE2->show_npc_face(0x0001);
	say("A look of grim determination comes to Erethian's lined features. He pushes up his sleeves like a blacksmith about to shoe a high strung horse,");
	say("\"Careful, now.\" The old mage says solicitously, \"The powers I am about to release are capricious and fickle. I wouldst not like to see something untoward happen to thee.\"");
	if (gflags[0x0003]) {
		say("You feel a great surge in the ether as the mage draws power from his surroundings.*");
	} else {
		say("You feel a great surge in the ether, which seems to temporarily stabilize it in this area.*");
	}
	0xFEE2->hide();
	var0000 = script item {
		wait 2;
		actor frame bowing;
		wait 2;
		actor frame kneeling;
		wait 9;
		actor frame bowing;
		wait 1;
		actor frame standing;
		wait 1;
		actor frame cast_out;
		wait 1;
		actor frame cast_up;
		call Func069F;
	};
	var0001 = get_object_position();
	UI_sprite_effect(ANIMATION_LIGHTNING, var0001[0x0001], var0001[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	UI_sprite_effect(ANIMATION_TELEPORT, var0001[0x0001], var0001[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	UI_play_sound_effect(0x003E);
}

extern void Func087E 0x87E (var var0000, var var0001, var var0002, var var0003);
extern void Func06A0 object#(0x6A0) ();

void Func069F object#(0x69F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;

	var0000 = find_nearby(0x0113, 0x000A, MASK_EGG);
	for (var0003 in var0000 with var0001 to var0002) {
		var0004 = var0003->get_item_quality();
		var0005 = var0003->get_item_frame();
		var0006 = var0003->get_object_position();
		if (var0005 == 0x0006) {
			if (var0004 == 0x0000) {
				var0007 = 0x0003;
				var0008[0x0001] = 0x0887;
				var0008[0x0002] = 0x05F5;
				var0008[0x0003] = 0x0000;
				Func087E(var0008, var0007, var0006, var0003);
				var0009 = UI_create_new_object(0x02E3);
				var0009->set_item_frame(0x0004);
				var000A = UI_update_last_created(var0006);
			}
			if (var0004 == 0x0001) {
				var0007 = 0x0001;
				var0008[0x0001] = 0x088C;
				var0008[0x0002] = 0x05F7;
				var0008[0x0003] = 0x0000;
				Func087E(var0008, var0007, var0006, var0003);
				var000B = UI_create_new_object(0x01AF);
				var000B->set_item_frame(0x0003);
				var000A = UI_update_last_created(var0006);
				UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0006[0x0001] - 0x0004), (var0006[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			}
			if (var0004 == 0x0002) {
				var0007 = 0x0002;
				var0008[0x0001] = 0x088B;
				var0008[0x0002] = 0x05F1;
				var0008[0x0003] = 0x0000;
				Func087E(var0008, var0007, var0006, var0003);
				var000C = UI_create_new_object(0x03DF);
				var000C->set_item_frame(0x0001);
				var000A = UI_update_last_created(var0006);
			}
			if (var0004 == 0x0004) {
				var0007 = 0x0003;
				var0008[0x0001] = 0x0891;
				var0008[0x0002] = 0x05F0;
				var0008[0x0003] = 0x0000;
				Func087E(var0008, var0007, var0006, var0003);
				var000D = UI_create_new_object(0x02E5);
				var000D->set_item_frame(0x0004);
				var000A = UI_update_last_created(var0006);
				UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0006[0x0001] - 0x0005), (var0006[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			}
			if (var0004 == 0x0005) {
				var0007 = 0x0003;
				var0008[0x0001] = 0x0894;
				var0008[0x0002] = 0x05F6;
				var0008[0x0003] = 0x0000;
				Func087E(var0008, var0007, var0006, var0003);
				var000E = UI_create_new_object(0x01D6);
				var000E->set_item_frame(0x0001);
				var000A = UI_update_last_created(var0006);
				UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0006[0x0001] - 0x0002), (var0006[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			}
			if (var0004 == 0x0006) {
				var0007 = 0x0003;
				var0008[0x0001] = 0x0898;
				var0008[0x0002] = 0x05F3;
				var0008[0x0003] = 0x0000;
				Func087E(var0008, var0007, var0006, var0003);
				var000F = UI_create_new_object(0x02E4);
				var000F->set_item_frame(0x000C);
				var000A = UI_update_last_created(var0006);
			}
		}
	}
	var0010 = script item {
		wait 5;
		actor frame cast_out;
		wait 4;
		actor frame standing;
		wait 5;
		call Func06A0;
	};
	UI_play_sound_effect(0x0043);
}

extern void Func06A1 object#(0x6A1) ();
extern void Func06A2 object#(0x6A2) ();

void Func06A0 object#(0x6A0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;

	var0000 = find_nearby(0x0113, 0x000A, MASK_EGG);
	var0001 = false;
	var0002 = false;
	var0003 = false;
	var0004 = false;
	for (var0007 in var0000 with var0005 to var0006) {
		var0008 = var0007->get_item_quality();
		var0009 = var0007->get_item_frame();
		var000A = var0007->get_object_position();
		if (var0009 == 0x0006) {
			if (var0008 == 0x0003) {
				var000B = var0007->find_nearest(0x02A3, 0x0001);
				var000C = var000B->get_item_frame();
				if (var000B) {
					if (var000C == 0x0010) {
						var0001 = var000B;
						var0002 = var000A;
					}
				}
			}
			if (var0008 == 0x0007) {
				var000B = var0007->find_nearest(0x03E7, 0x0001);
				var000C = var000B->get_item_frame();
				if (var000B) {
					if (var000C == 0x0001) {
						var0003 = var000B;
						var0004 = var000A;
					}
				}
			}
		}
	}
	if (var0001) {
		if (var0003) {
			0xFEE2->show_npc_face(0x0001);
			say("Amidst muttered curses detailing the uselessness of ether and bothersome inter-dimensional beings, Erethian intones the magical words,");
			say("\"An Vas Ailem!   Kal Bet Ailem!\"*");
			0xFEE2->hide();
			var000D = script item {
				actor frame cast_up;
				wait 4;
				actor frame cast_out;
				wait 3;
				actor frame standing;
				wait 3;
				call Func06A1;
			};
			var0001->remove_item();
			var0003->remove_item();
			UI_sprite_effect(ANIMATION_SMALL_BLAST, (var0002[0x0001] - 0x0002), (var0002[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_sprite_effect(ANIMATION_MEDIUM_BLAST, (var0004[0x0001] - 0x0001), (var0004[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x0008);
		}
	} else {
		var000E = false;
		var0000 = find_nearby(0x0113, 0x000A, MASK_EGG);
		for (var0007 in var0000 with var000F to var0010) {
			var0008 = var0007->get_item_quality();
			var0009 = var0007->get_item_frame();
			var000A = var0007->get_object_position();
			if (var0009 == 0x0006) {
				if (var0008 == 0x000A) {
					var0011 = var0007->find_nearby(0x0320, 0x0001, MASK_NONE);
					if (var0011) {
						for (var0014 in var0011 with var0012 to var0013) {
							var0015 = var0014->get_object_position();
							if (var0015 == var000A) {
								var000E = var0014;
							}
						}
					}
				}
			}
		}
		0xFEE2->show_npc_face(0x0001);
		say("Little beads of sweat appear on the elderly mage's furrowed brow. \"That was a bit harder than I'd expected.\" He pauses to mop his forehead with the tip of his sleeve, \"I had to redirect a small underground river for the well to tap. Now, then. Thou shalt have need of some few tools to make use of this equipment, shan't thee?\" His rhetorical question goes unanswered\tas he once again prepares to unleash his will upon the world.");
		if (var000E) {
			var0016 = var000E->get_item_quality();
			if (var0016 == 0x0064) {
				say("He stops himself for a moment and says, \"If perchance thou hadst some item or other laying upon the floor here, thou'lt find it within yonder chest.\" He motions to the chest sitting on the floor, then continues with his spell.*");
			}
		}
		0xFEE2->hide();
		if (gflags[0x0003]) {
			var000D = script item {
				wait 2;
				actor frame cast_out;
				wait 2;
				actor frame standing;
				wait 2;
				call Func06A1;
			};
		} else {
			var000D = script item {
				wait 2;
				actor frame bowing;
				wait 2;
				actor frame kneeling;
				wait 3;
				actor frame bowing;
				wait 2;
				actor frame standing;
				wait 3;
				actor frame cast_out;
				wait 4;
				call Func06A2;
			};
		}
	}
}

extern void Func06F5 object#(0x6F5) ();

void Func06A1 object#(0x6A1) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	var0000 = find_nearby(0x0113, 0x000A, MASK_EGG);
	for (var0003 in var0000 with var0001 to var0002) {
		var0004 = var0003->get_item_quality();
		var0005 = var0003->get_item_frame();
		var0006 = var0003->get_object_position();
		if (var0005 == 0x0006) {
			if (var0004 == 0x0003) {
				var0007 = UI_create_new_object(0x026F);
				var0007->set_item_frame(0x0000);
				var0008 = UI_update_last_created(var0006);
				UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0006[0x0001] - 0x0001), (var0006[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			}
			if (var0004 == 0x0007) {
				var0009 = UI_create_new_object(0x032A);
				var0009->set_item_frame(0x0000);
				var0008 = UI_update_last_created(var0006);
				UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0006[0x0001] - 0x0001), (var0006[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			}
		}
	}
	var000A = script item {
		actor frame bowing;
		wait 3;
		actor frame kneeling;
		wait 4;
		actor frame bowing;
		wait 3;
		actor frame standing;
		wait 2;
		call Func06F5;
	};
	UI_play_sound_effect(0x0044);
}

extern void Func06A0 object#(0x6A0) ();

void Func06A2 object#(0x6A2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	var0000 = find_nearby(0x0113, 0x000A, MASK_EGG);
	for (var0003 in var0000 with var0001 to var0002) {
		var0004 = var0003->get_item_quality();
		var0005 = var0003->get_item_frame();
		var0006 = var0003->get_object_position();
		if (var0005 == 0x0006) {
			if (var0004 == 0x0003) {
				var0007 = UI_create_new_object(0x02A3);
				var0007->set_item_frame(0x0010);
				var0008 = var0006;
				var0008[0x0001] -= 0x0001;
				var0009 = UI_update_last_created(var0008);
				UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0006[0x0001] - 0x0002), (var0006[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			}
			if (var0004 == 0x0007) {
				var000A = UI_create_new_object(0x03E7);
				var000A->set_item_frame(0x0001);
				var0009 = UI_update_last_created(var0006);
				UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0006[0x0001] - 0x0001), (var0006[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			}
		}
	}
	var000B = script item {
		wait 6;
		say "@NO!, No. No...@";
		wait 14;
		call Func06A0;
	};
	UI_play_sound_effect(0x0044);
}

extern void Func08EB 0x8EB (var var0000, var var0001, var var0002);
extern void Func01F8 shape#(0x1F8) ();
extern void Func06F7 object#(0x6F7) ();

void Func06A3 object#(0x6A3) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;

	if (event == EGG) {
		var0000 = get_item_quality();
		if (var0000 == 0x0001) {
			if (!gflags[0x02EE]) {
				var0001 = false;
				var0002 = find_nearby(0x009A, 0x0050, MASK_NPC2);
				for (var0005 in var0002 with var0003 to var0004) {
					if (var0005->get_cont_items(0x031D, 0x00F0, 0x0004)) {
						var0001 = var0005;
					}
				}
				if (!var0001) {
					var0006 = find_nearest(0x009A, 0x0001);
					if (!var0006) {
						if (!UI_is_not_blocked(get_object_position(), 0x009A, 0x0010)) {
							Func08EB(item, 0x009A, 0x0010);
						}
						var0007 = get_object_position() & (QUALITY_ANY & 0x0000);
						var0008 = var0007->find_nearby(0x0113, 0x0000, MASK_EGG);
						var0009 = script var0008 hatch;;
						var0009 = script item {
							finish;
							call Func06A3;
						};
					} else {
						var000A = UI_die_roll(0x0001, 0x0006);
						if (var000A == 0x0001) {
							var0006->set_schedule_type(SLEEP);
						}
						if ((var000A >= 0x0002) && (var000A <= 0x0004)) {
							var0006->set_schedule_type(LOITER);
						}
						if (var000A >= 0x0005) {
							var0006->set_schedule_type(MAJOR_SIT);
						}
						var000B = UI_create_new_object(0x031D);
						var000B->set_item_flag(TEMPORARY);
						var0009 = var000B->set_item_quality(0x00F0);
						var000B->set_item_frame(0x0004);
						var0009 = var0006->give_last_created();
						var000C = script var000B after 3 ticks {
							finish;
							nohalt;
							call Func06F7;
						};
					}
				}
			}
		}
		if (var0000 == 0x0002) {
			if (!gflags[0x02EF]) {
				var0001 = false;
				var0002 = find_nearby(0x01F8, 0x0050, MASK_NPC2);
				for (var0005 in var0002 with var000D to var000E) {
					if (var0005->get_cont_items(0x031D, 0x00F1, 0x0004)) {
						var0001 = var0005;
					}
				}
				if (!var0001) {
					var0006 = find_nearest(0x01F8, 0x0001);
					if (!var0006) {
						if (!UI_is_not_blocked(get_object_position(), 0x01F8, 0x0013)) {
							Func08EB(item, 0x01F8, 0x0013);
						}
						var0007 = get_object_position() & (QUALITY_ANY & 0x0000);
						var0008 = var0007->find_nearby(0x0113, 0x0000, MASK_EGG);
						var0009 = script var0008 hatch;;
						var0009 = script item {
							finish;
							call Func06A3;
						};
					} else {
						var0006->set_schedule_type(WAIT);
						var0006->set_item_frame(0x0013);
						var0006->set_item_flag(TEMPORARY);
						var000F = UI_create_new_object(0x031D);
						var000F->set_item_flag(TEMPORARY);
						var0009 = var000F->set_item_quality(0x00F1);
						var000F->set_item_frame(0x0004);
						var0009 = var0006->give_last_created();
						var000C = script var000F after 3 ticks {
							finish;
							nohalt;
							call Func06F7;
						};
					}
				}
			}
		}
		if (var0000 == 0x0004) {
			if ((!gflags[0x02F1]) && gflags[0x031B]) {
				var0001 = false;
				var0002 = find_nearby(0x03F7, 0x0050, MASK_NPC2);
				for (var0005 in var0002 with var0010 to var0011) {
					if (var0005->get_cont_items(0x031D, 0x00F3, 0x0004)) {
						var0001 = var0005;
					}
				}
				if (!var0001) {
					var0006 = find_nearest(0x03F7, 0x0001);
					if (!var0006) {
						if (!UI_is_not_blocked(get_object_position(), 0x03F7, 0x0010)) {
							Func08EB(item, 0x03F7, 0x0010);
						}
						var0007 = get_object_position() & (QUALITY_ANY & 0x0000);
						var0008 = var0007->find_nearby(0x0113, 0x0000, MASK_EGG);
						var0009 = script var0008 hatch;;
						var0009 = script item {
							finish;
							call Func06A3;
						};
					} else {
						var0006->set_item_frame(0x0010);
						var0006->set_item_flag(TEMPORARY);
						if (gflags[0x031B] && ((!gflags[0x031C]) && (!gflags[0x0326]))) {
							var0006->set_schedule_type(LOITER);
						} else {
							var0006->set_schedule_type(WAIT);
						}
						var0006->set_alignment(NEUTRAL);
						var0012 = UI_create_new_object(0x031D);
						var0012->set_item_flag(TEMPORARY);
						var0009 = var0012->set_item_quality(0x00F3);
						var0012->set_item_frame(0x0004);
						var0009 = var0006->give_last_created();
						var000C = script var0012 after 3 ticks {
							finish;
							nohalt;
							call Func06F7;
						};
						var0009 = script var0006 {
							face west;
						};
					}
				}
			}
		}
		if (var0000 == 0x0005) {
			if ((!gflags[0x02F2]) && (!gflags[0x031C])) {
				var0001 = false;
				var0002 = find_nearby(0x03F7, 0x0050, MASK_NPC2);
				for (var0005 in var0002 with var0013 to var0014) {
					if (var0005->get_cont_items(0x031D, 0x00F4, 0x0004)) {
						var0001 = var0005;
					}
				}
				if (!var0001) {
					var0006 = find_nearest(0x03F7, 0x0001);
					if (!var0006) {
						if (!UI_is_not_blocked(get_object_position(), 0x03F7, 0x0010)) {
							Func08EB(item, 0x03F7, 0x0010);
						}
						var0007 = get_object_position() & (QUALITY_ANY & 0x0000);
						var0008 = var0007->find_nearby(0x0113, 0x0000, MASK_EGG);
						var0009 = script var0008 hatch;;
						var0009 = script item {
							finish;
							call Func06A3;
						};
					} else {
						var0006->set_item_frame(0x0010);
						if (gflags[0x031B] && ((!gflags[0x031C]) && (!gflags[0x0326]))) {
							var0006->set_schedule_type(LOITER);
						} else {
							var0006->set_schedule_type(WAIT);
						}
						var0006->set_alignment(NEUTRAL);
						var0012 = UI_create_new_object(0x031D);
						var0012->set_item_flag(TEMPORARY);
						var0009 = var0012->set_item_quality(0x00F4);
						var0012->set_item_frame(0x0004);
						var0009 = var0006->give_last_created();
						var000C = script var0012 after 3 ticks {
							finish;
							nohalt;
							call Func06F7;
						};
						var0009 = script var0006 {
							face east;
						};
					}
				}
			}
		}
		if (var0000 == 0x0006) {
			var0015 = find_nearby(ANY_SHAPE, 0x000A, MASK_NPC2);
			for (var0018 in var0015 with var0016 to var0017) {
				if (var0018->get_item_shape() == 0x01F8) {
					if (var0018->get_cont_items(0x031D, 0x00F1, 0x0004)) {
						item->Func01F8();
					}
				}
			}
		}
		var0019 = false;
		var001A = false;
		if (var0000 == 0x0007) {
			if (!gflags[0x02F3]) {
				var0019 = 0x00F5;
			}
		}
		if (var0000 == 0x0008) {
			if (!gflags[0x02F4]) {
				var0019 = 0x00F6;
				var001A = 0x0004;
			}
		}
		if (var0000 == 0x0009) {
			if (!gflags[0x02F5]) {
				var0019 = 0x00F7;
				var001A = 0x0004;
			}
		}
		if (var0000 == 0x000A) {
			if (!gflags[0x02F6]) {
				var0019 = 0x00F8;
			}
		}
		if (var0000 == 0x000B) {
			if (!gflags[0x02F7]) {
				var0019 = 0x00F9;
				var001A = 0x0004;
			}
		}
		if (var0000 == 0x000C) {
			if (!gflags[0x02F8]) {
				var0019 = 0x00FA;
			}
		}
		if (var0000 == 0x000D) {
			if (!gflags[0x02F9]) {
				var0019 = 0x00FB;
			}
		}
		if (var0000 == 0x000E) {
			if (!gflags[0x02FA]) {
				var0019 = 0x00FC;
			}
		}
		if (var0000 == 0x000F) {
			if (!gflags[0x02FB]) {
				var0019 = 0x00FD;
			}
		}
		if (var0000 == 0x0010) {
			if (!gflags[0x02FC]) {
				var0019 = 0x00FE;
			}
		}
		if (var0019) {
			var0002 = find_nearby(0x03F7, 0x0050, MASK_NPC);
			for (var0005 in var0002 with var001B to var001C) {
				if (var0005->get_cont_items(0x031D, var0019, 0x0004)) {
					var0001 = var0005;
				}
			}
			if (!var0001) {
				var0006 = find_nearest(0x03F7, 0x0001);
				if (!var0006) {
					if (!UI_is_not_blocked(get_object_position(), 0x03F7, 0x0010)) {
						Func08EB(item, 0x03F7, 0x0010);
					}
					var0007 = get_object_position() & (QUALITY_ANY & 0x0000);
					var0008 = var0007->find_nearby(0x0113, 0x0000, MASK_EGG);
					var0009 = script var0008 hatch;;
					var0009 = script item {
						finish;
						call Func06A3;
					};
				} else {
					var0006->set_item_frame(0x0000);
					var0006->set_item_flag(TEMPORARY);
					if (var001A) {
						var001D = script var0006 {
							face var001A;
						};
					}
					var0006->set_alignment(EVIL);
					var0012 = UI_create_new_object(0x031D);
					var0012->set_item_flag(TEMPORARY);
					var0009 = var0012->set_item_quality(var0019);
					var0012->set_item_frame(0x0004);
					var0009 = var0006->give_last_created();
					var000C = script var0012 after 3 ticks {
						finish;
						nohalt;
						call Func06F7;
					};
				}
			}
		}
	}
}

void Func06A4 object#(0x6A4) () {
	if (event == EGG) {
		gflags[0x003C] = true;
	}
}

extern void Func0904 0x904 (var var0000, var var0001);
extern void Func0467 object#(0x467) ();

void Func06A5 object#(0x6A5) () {
	if (event == EGG) {
		if (gflags[0x0006]) {
			THAD->get_npc_object()->set_schedule_type(IN_COMBAT);
			Func0904(THAD, "@Fellowship scum!@");
		} else {
			THAD->get_npc_object()->Func0467();
		}
	}
}

extern void Func0911 0x911 (var var0000);

void Func06A6 object#(0x6A6) () {
	if ((event == EGG) && (!gflags[0x0000])) {
		Func0911(0x03E8);
		gflags[0x0000] = true;
	}
}

extern void Func0911 0x911 (var var0000);

void Func06A7 object#(0x6A7) () {
	if ((event == EGG) && (!gflags[0x0001])) {
		Func0911(0x03E8);
		gflags[0x0001] = true;
	}
}

extern void Func0911 0x911 (var var0000);

void Func06A8 object#(0x6A8) () {
	if ((event == EGG) && (!gflags[0x0002])) {
		Func0911(0x03E8);
		gflags[0x0002] = true;
	}
}

void Func06A9 object#(0x6A9) () {
	if (event == EGG) {
		gflags[0x0009] = true;
	}
}

extern void Func06AA object#(0x6AA) ();

void Func06AA object#(0x6AA) () {
	var var0000;
	var var0001;
	var var0002;

	if (event == SCRIPTED) {
		var0000 = UI_create_new_object(0x009D);
		if (var0000) {
			AVATAR->set_item_frame_rot(0x0020);
			var0001 = AVATAR->get_object_position();
			var0001[0x0001] += 0x0001;
			var0001[0x0002] += 0x0001;
			var0002 = UI_update_last_created(var0001);
			if (var0002) {
				var0002 = script var0000 {
					frame 0;
					repeat 10 {
						next frame cycle;
					};
					call Func0618;
					frame 4;
					repeat 5 {
						next frame cycle;
					};
					frame 4;
					repeat 3 {
						previous frame cycle;
					};
					remove;
				};
			}
		}
	}
}

void Func06AB object#(0x6AB) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		gflags[0x0122] = true;
		var0000 = [ZORN, XANTHIA, RUTHERFORD, OWEN];
		for (var0003 in var0000 with var0001 to var0002) {
			var0003->set_schedule_type(LOITER);
		}
	}
}

void Func06AC object#(0x6AC) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		var0000 = find_nearby(0x02F1, 0x0005, MASK_NONE);
		for (var0003 in var0000 with var0001 to var0002) {
			var0003->set_alignment(EVIL);
			var0003->set_schedule_type(IN_COMBAT);
			var0003->clear_item_flag(ASLEEP);
		}
		gflags[0x0257] = true;
	}
}

extern void Func02C0 shape#(0x2C0) ();

void Func06AD object#(0x6AD) () {
	if (event == EGG) {
		item->Func02C0();
	}
}

extern void Func0495 object#(0x495) ();

void Func06AE object#(0x6AE) () {
	if (event == EGG) {
		HYDRA->get_npc_object()->Func0495();
	}
}

extern void Func0620 object#(0x620) ();

void Func06AF object#(0x6AF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == EGG) {
		UI_play_sound_effect(0x001C);
		var0000 = UI_get_party_list();
		for (var0003 in var0000 with var0001 to var0002) {
			if (!UI_roll_to_win(var0003->get_npc_prop(STRENGTH), get_item_quality())) {
				var0004 = var0003->get_npc_object();
				var0004->Func0620();
				var0004->set_item_flag(ASLEEP);
				var0005 = script var0004 after 100 ticks {
					nohalt;
					call Func061F;
				};
			}
		}
	}
}

void Func06B0 object#(0x6B0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		UI_play_sound_effect(0x001C);
		var0000 = UI_get_party_list();
		for (var0003 in var0000 with var0001 to var0002) {
			if (!UI_roll_to_win(var0003->get_npc_prop(STRENGTH), get_item_quality())) {
				var0003->get_npc_object()->set_item_flag(POISONED);
			}
		}
	}
}

extern void Func0620 object#(0x620) ();

void Func06B1 object#(0x6B1) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == EGG) {
		UI_play_sound_effect(0x001C);
		var0000 = UI_get_party_list();
		for (var0003 in var0000 with var0001 to var0002) {
			if (!UI_roll_to_win(var0003->get_npc_prop(STRENGTH), get_item_quality())) {
				var0003->get_npc_object()->set_item_flag(PARALYZED);
				var0004 = var0003->get_npc_object();
				var0004->Func0620();
				var0005 = script var0004 after 100 ticks {
					nohalt;
					call Func061F;
				};
			}
		}
	}
}

extern void Func0150 shape#(0x150) ();
extern void Func0253 shape#(0x253) ();
extern void Func0379 shape#(0x379) ();

void Func06B2 object#(0x6B2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == EGG) {
		event = DOUBLECLICK;
		UI_play_sound_effect(0x001C);
		var0000 = get_item_quality();
		var0001 = find_nearby(0x0150, var0000, MASK_NONE);
		for (var0004 in var0001 with var0002 to var0003) {
			var0004->Func0150();
		}
		var0001 = find_nearby(0x0253, var0000, MASK_NONE);
		for (var0004 in var0001 with var0005 to var0006) {
			var0004->Func0253();
		}
		var0001 = find_nearby(0x0379, var0000, MASK_NONE);
		for (var0004 in var0001 with var0007 to var0008) {
			var0004->Func0379();
		}
	}
}

extern void Func0152 shape#(0x152) ();
extern void Func02BD shape#(0x2BD) ();
extern void Func020E shape#(0x20E) ();

void Func06B3 object#(0x6B3) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == EGG) {
		UI_play_sound_effect(0x001C);
		event = DOUBLECLICK;
		var0000 = get_item_quality();
		var0001 = find_nearby(0x0152, var0000, MASK_NONE);
		for (var0004 in var0001 with var0002 to var0003) {
			var0004->Func0152();
		}
		var0001 = find_nearby(0x02BD, var0000, MASK_NONE);
		for (var0004 in var0001 with var0005 to var0006) {
			var0004->Func02BD();
		}
		var0001 = find_nearby(0x020E, var0000, MASK_NONE);
		for (var0004 in var0001 with var0007 to var0008) {
			var0004->Func020E();
		}
	}
}

extern var Func092B 0x92B (var var0000);
extern void Func0936 0x936 (var var0000, var var0001);

void Func06B4 object#(0x6B4) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		UI_play_sound_effect(0x001C);
		var0000 = UI_get_party_list();
		var0001 = Func092B(var0000);
		var0002 = UI_die_roll(0x0001, var0001);
		var0003 = UI_die_roll(0x0001, get_item_quality());
		Func0936(var0000[var0002]->get_npc_object(), var0003);
	}
}

extern var Func093D 0x93D (var var0000, var var0001);
extern var Func081B 0x81B (var var0000);
extern void Func010E shape#(0x10E) ();
extern void Func0178 shape#(0x178) ();

void Func06B5 object#(0x6B5) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (event == EGG) {
		event = DOUBLECLICK;
		var0000 = find_nearby(0x010E, 0x0028, MASK_NONE);
		var0000 &= find_nearby(0x0178, 0x0028, MASK_NONE);
		var0001 = [];
		for (var0004 in var0000 with var0002 to var0003) {
			var0001 &= get_distance(var0004);
		}
		var0000 = Func093D(var0000, var0001);
		var0005 = 0x0001;
		do {
			var0004 = var0000[var0005];
			if (!var0004) {
				// Note: this should be a return.
				// Need to make UCC optimize this.
				goto labelFunc06B5_00BE;
			}
			if (Func081B(var0004) != 0x0002) {
				break;
			}
			var0005 += 0x0001;
		} while (true);
		var0006 = var0004->get_item_shape();
		if (var0006 == 0x010E) {
			var0004->Func010E();
		}
		if (var0006 == 0x0178) {
			var0004->Func0178();
		}
	}
labelFunc06B5_00BE:
	return;
}

extern var Func093D 0x93D (var var0000, var var0001);

void Func06B6 object#(0x6B6) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == EGG) {
		UI_play_sound_effect(0x001C);
		event = DOUBLECLICK;
		var0000 = find_nearby(0x0369, 0x0014, MASK_NONE);
		var0001 = [];
		for (var0004 in var0000 with var0002 to var0003) {
			var0001 &= var0004->get_distance(item);
		}
		var0000 = Func093D(var0000, var0001);
		var0004 = var0000[0x0001];
		if (var0004) {
			var0005 = var0004->get_item_frame();
			var0006 = var0005 % 0x0004;
			if (var0006 < 0x0003) {
				var0007 = script var0004 {
					sfx 83;
					next frame cycle;
				};
			} else {
				var0005 -= var0006;
				var0007 = script var0004 {
					sfx 83;
					frame var0005;
				};
			}
		}
	}
}

extern var Func092B 0x92B (var var0000);
extern void Func060F object#(0x60F) ();

void Func06B7 object#(0x6B7) () {
	var var0000;
	var var0001;

	if (event == EGG) {
		UI_play_sound_effect(0x001C);
		var0000 = UI_get_party_list();
		var0001 = UI_die_roll(0x0001, Func092B(var0000));
		var0000[var0001]->Func060F();
	}
}

extern void Func0620 object#(0x620) ();
extern void Func093F 0x93F (var var0000, var var0001);

void Func06B8 object#(0x6B8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	if (event == EGG) {
		var0000 = UI_get_party_list();
		var0001 = get_item_quality();
		for (var0004 in var0000 with var0002 to var0003) {
			var0005 = var0004->get_npc_prop(STRENGTH);
			if (!UI_roll_to_win(var0005, 0x000F)) {
				var0006 = var0004->get_npc_object();
				var0006->Func0620();
				var0007 = script var0006 after var0001 ticks {
					call Func061F;
				};
				var0004->halt_scheduled();
				Func093F(var0004, DANCE);
				var0007 = script var0004 after var0001 ticks {
					nohalt;
					call Func06B8;
				};
			}
		}
	}
	if (event == SCRIPTED) {
		Func093F(item, FOLLOW_AVATAR);
	}
}

void Func06B9 object#(0x6B9) () {
	if (event == EGG) {
		item_say("@Help! Help!@");
	}
}

extern void Func0620 object#(0x620) ();
extern var Func0937 0x937 (var var0000);
extern void Func0904 0x904 (var var0000, var var0001);

void Func06BA object#(0x6BA) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == EGG) {
		var0000 = UI_get_party_list();
		for (var0003 in var0000 with var0001 to var0002) {
			if (!UI_roll_to_win(var0003->get_npc_prop(STRENGTH), get_item_quality())) {
				var0004 = var0003->get_npc_object();
				var0004->halt_scheduled();
				var0004->Func0620();
				var0005 = script var0004 after 25 ticks {
					nohalt;
					call Func061F;
				};
				var0005 = script var0004 {
					nohalt;
					wait 5;
					actor frame bowing;
					wait 4;
					actor frame kneeling;
					wait 4;
					actor frame sleeping;
					wait 4;
					actor frame standing;
				};
				if (Func0937(var0004)) {
					Func0904(var0004, ["@Ohh!@", "@Eeehhh!@", "@Oh no!@", "@Yuk!@"]);
				}
				var0005 = script var0004 after 17 ticks {
					nohalt;
					call Func06BA;
				};
			}
		}
	}
	if (event == SCRIPTED) {
		var0006 = 0x0000;
		var0007 = 0x0000;
		while (var0006 < 0x0010) {
			var0008 = UI_die_roll(0x0000, 0x0003);
			if (var0007 == 0x0000) {
				var0007 = var0006 + var0008;
			} else {
				var0007 &= var0006 + var0008;
			}
			var0006 += 0x0004;
		}
		for (var000B in var0007 with var0009 to var000A) {
			var0005 = UI_create_new_object(0x0390);
			if (var0005) {
				var0005->set_item_flag(TEMPORARY);
				var000C = UI_update_last_created(get_object_position());
				var0005->set_item_frame(var000B);
			}
		}
	}
}

extern void Func093F 0x93F (var var0000, var var0001);

void Func06BB object#(0x6BB) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == EGG) {
		var0000 = get_item_quality();
		var0001 = UI_get_party_list();
		for (var0004 in var0001 with var0002 to var0003) {
			if (var0004 != AVATAR->get_npc_object()) {
				if (!UI_roll_to_win(var0004->get_npc_prop(INTELLIGENCE), 15)) {
					var0004->halt_scheduled();
					Func093F(var0004, IN_COMBAT);
					var0004->set_attack_mode(FLEE);
					var0004->set_oppressor(AVATAR);
					var0005 = script var0004 after var0000 ticks {
						nohalt;
						call Func06BB;
					};
				}
			}
		}
	}
	if (event == SCRIPTED) {
		Func093F(item, FOLLOW_AVATAR);
	}
}

extern void Func093F 0x93F (var var0000, var var0001);

void Func06BC object#(0x6BC) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == EGG) {
		var0000 = get_item_quality();
		if (!var0000) {
			var0001 = find_nearby(SHAPE_ANY, 0x0028, MASK_NPC2);
		} else {
			var0001 = find_nearby(SHAPE_ANY, var0000, MASK_NPC2);
		}
		for (var0004 in var0001 with var0002 to var0003) {
			if (!var0004->get_item_flag(IN_PARTY)) {
				Func093F(var0004, IN_COMBAT);
				var0004->clear_item_flag(ASLEEP);
			}
		}
	}
}

void Func06BD object#(0x6BD) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	if (event == EGG) {
		var0000 = find_nearby(SHAPE_ANY, 0x0028, MASK_NPC2);
		var0001 = UI_get_party_list();
		var0002 = 0x000A;
		var0003 = get_item_flag(IN_PARTY);
		for (var0006 in var0000 with var0004 to var0005) {
			if ((!var0003) || (!(var0006 in var0001))) {
				var0007 = 0x0000;
				var0008 = "";
				while (var0007 < var0002) {
					var0009 = UI_die_roll(0x0000, 0x0008);
					if (var0009 == 0x0000) {
						var000A = new script {
							actor frame kneeling;
							actor frame bowing;
							actor frame standing;
						};
						var0008 = [var0008, var000A];
					}
					if (var0009 == 0x0001) {
						var000A = new script {
							actor frame kneeling;
							actor frame standing;
							actor frame standing;
						};
						var0008 = [var0008, var000A];
					}
					if (var0009 == 0x0002) {
						var000A = new script {
							actor frame bowing;
							actor frame sleeping;
							actor frame standing;
						};
						var0008 = [var0008, var000A];
					}
					if (var0009 == 0x0003) {
						var000A = new script {
							actor frame standing;
							actor frame standing;
							actor frame standing;
						};
						var0008 = [var0008, var000A];
					}
					if (var0009 == 0x0004) {
						var000A = new script {
							actor frame kneeling;
							actor frame ready;
							actor frame standing;
						};
						var0008 = [var0008, var000A];
					}
					if (var0009 == 0x0005) {
						var000A = new script {
							actor frame ready;
							actor frame kneeling;
							actor frame standing;
						};
						var0008 = [var0008, var000A];
					}
					if (var0009 == 0x0006) {
						var000B = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
						var000A = new script {
							face var000B;
							actor frame bowing;
							actor frame standing;
						};
						var0008 = [var0008, var000A];
					}
					if (var0009 == 0x0007) {
						var000B = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
						var000A = new script {
							face var000B;
							actor frame kneeling;
							actor frame standing;
						};
						var0008 = [var0008, var000A];
					}
					if (var0009 == 0x0008) {
						var000B = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
						var000A = new script {
							face var000B;
							actor frame ready;
							actor frame standing;
						};
						var0008 = [var0008, var000A];
					}
					var0007 += 0x0001;
				}
				var0006->halt_scheduled();
				var000C = var0006->run_script(var0008);
			}
		}
		UI_earthquake(var0002 * 0x0003);
	}
}

void Func06BE object#(0x6BE) () {
	if (event == EGG) {
		UI_stop_time(get_item_quality());
	}
}

extern void Func0936 0x936 (var var0000, var var0001);

void Func06BF object#(0x6BF) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == EGG) {
		var0000 = UI_get_party_list();
		var0001 = get_item_quality();
		for (var0004 in var0000 with var0002 to var0003) {
			var0005 = UI_die_roll(0x0001, var0001);
			Func0936(var0004, var0005);
		}
	}
}

extern void Func093F 0x93F (var var0000, var var0001);

void Func06C0 object#(0x6C0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (event == EGG) {
		var0000 = find_nearby(0x01EE, 0x0063, MASK_NONE);
		for (var0003 in var0000 with var0001 to var0002) {
			var0004 = var0003->get_schedule_type();
			if (!(var0004 == IN_COMBAT)) {
				Func093F(var0003, IN_COMBAT);
			}
		}
	}
}

extern void Func080F 0x80F ();

void Func06C1 object#(0x6C1) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;

	if (event == EGG) {
		if (gflags[0x0157] && (!gflags[0x0194])) {
			0xFF0A->remove_npc();
			var0000 = find_nearby(0x0363, 0x000F, MASK_NONE);
			var0001 = find_nearby(0x0152, 0x000F, MASK_NONE);
			var0002 = find_nearby(0x032A, 0x000F, MASK_NONE);
			var0003 = find_nearby(0x0390, 0x000F, MASK_ALL_UNSEEN);
			var0004 = [var0000, var0001, var0002, var0003];
			for (var0007 in var0004 with var0005 to var0006) {
				var0008 = var0007->get_item_shape();
				var0009 = var0007->get_object_position();
				if (var0009[0x0003] == 0x0006) {
					if ((var0008 == 0x0363) || (var0008 == 0x0390)) {
						var000A = [var0009[0x0001], var0009[0x0002], 0x0001];
					} else {
						var000A = [var0009[0x0001], var0009[0x0002], 0x0000];
					}
					var000B = var0007->set_last_created();
					if (var000B) {
						var000B = UI_update_last_created(var000A);
					}
				}
			}
			var000C = find_nearby(0x0190, 0x0028, MASK_NONE);
			var000C &= find_nearby(0x019E, 0x0028, MASK_NONE);
			for (var000F in var000C with var000D to var000E) {
				if ((var000F->get_item_quality() == 0x0001) && (var000F->get_item_quantity(0x0001) == 0x0076)) {
					var000F->remove_item();
				}
			}
			gflags[0x0194] = true;
			UI_set_timer(0x0006);
		} else if (gflags[0x0157]) {
			var0010 = UI_get_timer(0x0006);
			if (var0010 >= 0x0018) {
				Func080F();
				remove_item();
			}
		}
	}
}

extern void Func080F 0x80F ();

void Func06C2 object#(0x6C2) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (event == EGG) {
		if (gflags[0x0057]) {
			Func080F();
			var0000 = find_nearby(0x0390, 0x003C, MASK_ALL_UNSEEN);
			for (var0003 in var0000 with var0001 to var0002) {
				var0004 = var0003->set_last_created();
				if (var0004) {
					var0004 = UI_update_last_created(FLAG_DESTROY);
				}
			}
			var0005 = find_nearby(0x019E, 0x0050, MASK_NONE);
			for (var0008 in var0005 with var0006 to var0007) {
				var0009 = var0008->get_item_frame();
				if (var0009 > 0x0014) {
					var0004 = var0008->set_last_created();
					if (var0004) {
						var0004 = UI_update_last_created(FLAG_DESTROY);
					}
				}
			}
			remove_item();
		}
	}
}

extern void Func080F 0x80F ();

void Func06C3 object#(0x6C3) () {
	var var0000;

	if (event == EGG) {
		if (!gflags[0x0122]) {
			gflags[0x0122] = true;
			UI_set_timer(0x0005);
			abort;
		}
		var0000 = UI_get_timer(0x0005);
		if (var0000 >= 0x0018) {
			Func080F();
		}
		remove_item();
	}
}

void Func06C4 object#(0x6C4) () {
	if (event == EGG) {
		gflags[0x02B7] = true;
	}
}

void Func06C5 object#(0x6C5) () {
	if (event == EGG) {
		gflags[0x0097] = true;
	}
}

extern void Func093F 0x93F (var var0000, var var0001);

void Func06C6 object#(0x6C6) () {
	if (event == EGG) {
		if (gflags[0x0220] && (gflags[0x022B] && (gflags[0x0224] && (gflags[0x022A] && gflags[0x0225])))) {
			gflags[0x0236] = true;
		}
		if (gflags[0x0236] && (!gflags[0x021C])) {
			Func093F(FERIDWYN->get_npc_object(), TALK);
		}
		if (gflags[0x0213] && (!gflags[0x0234])) {
			Func093F(CAMILLE->get_npc_object(), TALK);
		}
	}
}

extern void Func093F 0x93F (var var0000, var var0001);

void Func06C7 object#(0x6C7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		var0000 = [WILLIAM, BURNSIDE, ELYNOR, GREGOR, OWEN];
		for (var0003 in var0000 with var0001 to var0002) {
			Func093F(var0003, LOITER);
		}
	}
}

extern void Func093F 0x93F (var var0000, var var0001);

void Func06C8 object#(0x6C8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		var0000 = [SEARA, JULIA, GLADSTONE];
		for (var0003 in var0000 with var0001 to var0002) {
			Func093F(var0003, LOITER);
		}
	}
}

extern void Func093F 0x93F (var var0000, var var0001);

void Func06C9 object#(0x6C9) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		var0000 = [JAKHER, KARENNA];
		for (var0003 in var0000 with var0001 to var0002) {
			Func093F(var0003, LOITER);
		}
	}
}

extern void Func093F 0x93F (var var0000, var var0001);

void Func06CA object#(0x6CA) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		var0000 = [ZORN, XANTHIA, RUTHERFORD];
		for (var0003 in var0000 with var0001 to var0002) {
			Func093F(var0003, LOITER);
		}
	}
}

void Func06CB object#(0x6CB) () {
	var var0000;

	if (event == EGG) {
		var0000 = 0x0000;
	}
}

void Func06CC object#(0x6CC) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (event == EGG) {
		if (gflags[0x0005] == 0x0000) {
			var0000 = get_item_quality();
			var0001 = UI_get_party_list();
			for (var0004 in var0001 with var0002 to var0003) {
				if (!var0004->is_readied(BG_HEAD, 0x027E, FRAME_ANY)) {
					if (var0000 == 0x001E) {
						var0005 = 0x001E;
					} else {
						var0005 = UI_die_roll(0x0001, var0000);
					}
					var0004->reduce_health(var0005, SONIC_DAMAGE);
				}
			}
		}
	}
}

void Func06CF object#(0x6CF) () {
	var var0000;
	var var0001;

	if (gflags[0x0004] == 0x0000) {
		var0000 = PARTY->count_objects(0x0347, QUALITY_ANY, 0x0001);
		if (var0000 == 0x0000) {
			var0001 = [0x0217, 0x0489, 0x0000];
			PARTY->move_object(var0001);
		}
	}
}

extern void Func0810 0x810 (var var0000, var var0001);

void Func06D0 object#(0x6D0) () {
	var var0000;
	var var0001;

	if (event == EGG) {
		var0000 = 0x0000;
		var0001 = 0x0000;
		Func0810(var0000, var0001);
	}
}

extern void Func0810 0x810 (var var0000, var var0001);

void Func06D1 object#(0x6D1) () {
	var var0000;
	var var0001;

	if (event == EGG) {
		var0000 = 0x0000;
		var0001 = 0x0001;
		Func0810(var0000, var0001);
	}
}

extern void Func0810 0x810 (var var0000, var var0001);

void Func06D2 object#(0x6D2) () {
	var var0000;
	var var0001;

	if (event == EGG) {
		var0000 = 0x0001;
		var0001 = 0x0000;
		Func0810(var0000, var0001);
	}
}

extern void Func0810 0x810 (var var0000, var var0001);

void Func06D3 object#(0x6D3) () {
	var var0000;
	var var0001;

	if (event == EGG) {
		var0000 = 0x0001;
		var0001 = 0x0001;
		Func0810(var0000, var0001);
	}
}

extern void Func0811 0x811 ();

void Func06D4 object#(0x6D4) () {
	var var0000;

	if (event == EGG) {
		if (gflags[0x0004] == 0x0000) {
			var0000 = [0x0258, 0x0508, 0x0001];
			Func0811();
			AVATAR->move_object(var0000);
		}
	}
}

extern void Func0811 0x811 ();

void Func06D5 object#(0x6D5) () {
	var var0000;

	if (event == EGG) {
		if (gflags[0x0005] == 0x0000) {
			var0000 = [0x073F, 0x0B1E, 0x0001];
			Func0811();
			AVATAR->move_object(var0000);
		}
	}
}

extern var Func093D 0x93D (var var0000, var var0001);
extern var Func082E 0x82E (var var0000);

void Func06D6 object#(0x6D6) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (event == EGG) {
		var0000 = find_nearby(0x03D5, 0x0001, MASK_NONE);
		var0001 = [];
		for (var0004 in var0000 with var0002 to var0003) {
			var0001 &= var0004->get_distance(item);
		}
		var0000 = Func093D(var0000, var0001);
		if (Func082E(var0000[0x0001])) {
			var0005 = find_nearby(0x0113, 0x0014, MASK_EGG);
			for (var0008 in var0005 with var0006 to var0007) {
				if (var0008->get_item_quality() == 0x0032) {
					var0008->remove_item();
				}
			}
		}
	}
}

extern void Func0940 0x940 (var var0000);

void Func06D7 object#(0x6D7) () {
	if (event == EGG) {
		if (gflags[0x01D4]) {
			Func0940(0x0005);
			remove_item();
		}
	}
}

extern void Func0940 0x940 (var var0000);

void Func06D8 object#(0x6D8) () {
	if (event == EGG) {
		if (gflags[0x0157]) {
			Func0940(0x0003);
			remove_item();
		}
	}
}

extern void Func0940 0x940 (var var0000);

void Func06D9 object#(0x6D9) () {
	if (event == EGG) {
		if (gflags[0x008E]) {
			Func0940(0x0004);
			remove_item();
		}
	}
}

extern void Func0836 0x836 (var var0000, var var0001);

void Func06DA object#(0x6DA) () {
	if (event == EGG) {
		Func0836(item, SHAPE_ANY);
	}
}

extern void Func0824 0x824 (var var0000);

void Func06DB object#(0x6DB) () {
	if (event == EGG) {
		Func0824(item);
	}
}

void Func06DC object#(0x6DC) () {
	if (event == EGG) {
		UI_run_endgame(false);
	}
}

extern void Func0836 0x836 (var var0000, var var0001);

void Func06DD object#(0x6DD) () {
	if (event == EGG) {
		Func0836(item, 0x0001);
	}
}

extern void Func0836 0x836 (var var0000, var var0001);

void Func06DE object#(0x6DE) () {
	if (event == EGG) {
		Func0836(item, 0x0000);
	}
}

extern void Func0811 0x811 ();

void Func06DF object#(0x6DF) () {
	var var0000;

	if (event == EGG) {
		if ((!gflags[0x0003]) && (AVATAR->is_readied(BG_LEFT_RING, 0x02F7, 0x0001) || AVATAR->is_readied(BG_RIGHT_RING, 0x02F7, 0x0001))) {
			var0000 = [0x0A67, 0x034D, 0x0000];
			Func0811();
			AVATAR->move_object(var0000);
		}
	}
}

extern void Func0925 0x925 (var var0000);

void Func06E0 object#(0x6E0) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		if (gflags[0x0004]) {
			var0000 = find_nearby(0x0308, 0x000A, MASK_EGG);
			var0000 &= find_nearby(0x0309, 0x000A, MASK_EGG);
			for (var0003 in var0000 with var0001 to var0002) {
				Func0925(var0003);
			}
			Func0925(item);
		}
	}
}

void Func06E1 object#(0x6E1) () {
	var var0000;
	var var0001;

	if (event == EGG) {
		if (item == 0x0000) {
			var0000 = [0x0B4C, 0x058C, 0x0000];
		} else {
			var0000 = get_object_position();
		}
		var0001 = 0x0000;
		if (gflags[0x01ED]) {
			var0001 += 0x0001;
		}
		if (gflags[0x0134]) {
			var0001 += 0x0001;
		}
		if (gflags[0x01E2]) {
			var0001 += 0x0001;
		}
		if (gflags[0x0257]) {
			var0001 += 0x0001;
		}
		if (gflags[0x01E1]) {
			var0001 += 0x0001;
		}
		if (gflags[0x0003]) {
			var0001 += 0x0001;
		}
		if (gflags[0x012D]) {
			var0001 += 0x0001;
		}
		if (gflags[0x0004]) {
			var0001 += 0x0001;
		}
		if (gflags[0x0005]) {
			var0001 += 0x0001;
		}
		UI_set_orrery(var0000, var0001);
	}
}

void Func06E2 object#(0x6E2) () {
	if (event == EGG) {
		IRIALE->get_npc_object()->set_schedule_type(IN_COMBAT);
	}
}

extern var Func0881 0x881 ();
extern void Func069D object#(0x69D) ();

void Func06F5 object#(0x6F5) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	0xFEE2->show_npc_face(0x0001);
	say("Erethian's face begins to take on an ashen palor, but he looks contented with a job well done. \"As I have said, I myself once attempted to create an artifact of great power. I crafted the hilt from a dark substance that is immutable, save by magical means. The blade, however, is cast of an alloy of this substance and the purest metals known to Britannia. My artistic skills served me well enough to fashion the hilt but, alas, the strength was not in my arm to beat a good temper into the blade. Perhaps, thou canst finish this great artifact for me...\" He pulls a poorly worked blade with a fine hilt out of thin air. \"Fear not to touch the hilt when the blade is hot, for heat apparently does not travel well across the medium of the pure, black substance. I wish thee good luck.\"");
	var0000 = UI_create_new_object(0x029C);
	var0000->set_item_frame(0x000D);
	var0001 = AVATAR->get_npc_object()->give_last_created();
	if (var0001) {
		say("He hands the sword to you and wearily turns away.*");
	} else {
		say("He places the sword upon the firepit and wearily turns away.\"*");
		var0002 = find_nearest(0x02E3, 0x000A);
		var0003 = var0002->get_object_position();
		var0003[0x0002] -= 0x0001;
		var0003[0x0003] += 0x0002;
		var0004 = UI_update_last_created(var0003);
	}
	0xFEE2->hide();
	set_schedule_type(PATROL);
	AVATAR->get_npc_object()->clear_item_flag(DONT_RENDER);
	var0005 = script item {
		wait 13;
	};
	var0006 = Func0881();
	var0007 = script var0006 after 13 ticks {
		finish;
		remove;
	};
	var0008 = script AVATAR->get_npc_object() {
		wait 11;
		call Func069D;
	};
	gflags[0x0312] = true;
}

extern void Func0843 0x843 ();
extern var Func0844 0x844 (var var0000);
extern var Func090A 0x90A ();
extern void Func0690 object#(0x690) ();
extern var Func0846 0x846 ();
extern void Func0845 0x845 (var var0000);
extern var Func0908 0x908 ();
extern var Func0849 0x849 (var var0000);
extern var Func0848 0x848 (var var0000);
extern var Func0847 0x847 (var var0000);
extern var Func08E7 0x8E7 ();
extern void Func06FC object#(0x6FC) ();
extern var Func092D 0x92D (var var0000);
extern void Func06F9 object#(0x6F9) ();
extern void Func070B object#(0x70B) ();
extern void Func070F object#(0x70F) ();

void Func06F6 object#(0x6F6) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;

	if (!gflags[0x032F]) {
		0xFEDE->show_npc_face(0x0000);
		var0000 = false;
		var0001 = find_nearby(0x009A, 0x000A, MASK_NPC2);
		for (var0004 in var0001 with var0002 to var0003) {
			if (var0004->get_cont_items(0x031D, 0x00F0, 0x0004)) {
				var0000 = var0004;
			}
		}
		if (var0000) {
			say("\"Yes, Master. How may I serve thee?\" The dark form in the mirror bows deeply.");
			0xFEE2->show_npc_face(0x0001);
			var0005 = "Erethian";
			if (!gflags[0x0310]) {
				var0005 = "the mage";
			}
			say("Suprised, ",
				var0005,
				" looks around and says, \"I don't recall summoning thee. Nevermind, I have no need of thee at the current time. Begone!\" The old man waves his hand, negligently.");
			0xFEDE->say("Through a tightly clenched smile, the figure replies, \"Very well...\" And after a significant pause, \"Master.\"*");
			Func0843();
		} else if (gflags[0x0332]) {
			if (gflags[0x0333]) {
				say("Arcadion appears truly astonished, \"For what dost thou wait?! I beg of thee! Release me!\"");
				Func0843();
			} else {
				var0006 = find_nearby(0x02F8, 0x000F, MASK_NONE);
				var0007 = false;
				if (var0006) {
					var0007 = Func0844(var0006);
					if (var0007) {
						say("\"There is a gem nearby that can free me! It is a small blue stone. Take it, quickly, and use it to free me of this accursed mirror!\" The large daemon seethes with pent up frustration.*");
						gflags[0x0333] = true;
						Func0843();
					} else {
						say("\"Can I be of some small assistance in thy quest to release me. If so, thou hast but to ask.\" Arcadion's smile stretches from ear to ear.");
						add(["name", "job", "release", "bye"]);
					}
				} else if (PARTY->count_objects(0x02F8, QUALITY_ANY, 0x000C)) {
					say("\"Thou hast within thy possessions a small blue gem. It can be used to free me! Crack this accursed mirror with it! I'll enter it as I am freed!\"\tArcadion looks prepared to burst from the mirror.*");
					gflags[0x0333] = true;
					Func0843();
				} else {
					say("\"Can I be of some small assistance in thy quest to release me. If so, thou hast but to ask.\" Arcadion's smile stretches from ear to ear.");
					add(["name", "job", "release", "bye"]);
				}
			}
		} else if (gflags[0x0331]) {
			say("\"Run along now little mortal. Do not pester thy betters with the idle rantings of thy tongue.\" He appears at first nonchallant, then his expression becomes intense, \"That is unless thou hast reconsidered my offer... Hast thou?\"");
			if (Func090A()) {
				say("A wicked look of triumph flickers across Arcadion's face to be quickly replaced by a ludicrous semblance of gratitude, \"Thou art truly courageous to vow to release\tme. My eternal thanks are thine.\" An oily grin coats the daemon's face, \"Thou hast made quite a powerful ally this day, mortal.\" His eyes blink in what is possibly meant to be a charming manner.");
				gflags[0x0332] = true;
				add(["name", "job", "daemon", "release", "bye"]);
			} else {
				say("\"Ah, I see. Still content to run about with the other sheep.\" He waves you off and dims from sight.*");
				Func0843();
			}
		} else if (!gflags[0x0313]) {
			say("\"Yes, Master. How may I serve thee...\" The wavering visage in the mirror hesitates for a moment, \"Thou art not my master.\"");
			say("He then continues with a small bow, \"Greetings Britannian. What dost thou wish of the great daemon, Arcadion?\"");
			gflags[0x0313] = true;
			add(["name", "job", "daemon", "bye"]);
		} else {
			say("\"Greetings once again Britannian. What dost thou wish of me.\" The daemon is the soul of congeniality.");
			add(["name", "job", "daemon", "bye"]);
		}
		var0008 = false;
		converse (0) {
			case "name":
				say("The big daemon smiles ingratiatingly, showing inch long pointed\tteeth. \"As I have said, I am the daemon Arcadion.\"");
				if (gflags[0x0332]) {
					say("His somewhat polished veneer seems to be unravelling at the edges in his anticipation of freedom.");
				}
				if (!var0008) {
					add("daemon");
				}
				remove("name");
				fallthrough;

			case "job":
				if (!gflags[0x0332]) {
					say("Arcadion attempts to smile, but failing miserably, he gives you a grimace that could turn a dragon to stone. \"I am currently in the service of one mage, Erethian by name.\" He states, rather formally. You get the distinct impression that\tArcadion would just as soon\trip Erethian limb from limb as serve him.");
					add(["Erethian", "serve"]);
				} else {
					say("\"Well, if thou keepest thy promise to release me, I'll be free of that\tlice-ridden, flea-bitten, old mage.\"");
					add("release");
				}
				remove("job");
				fallthrough;

			case "Erethian":
				say("\"He is my master...\" The daemon's smile contorts into a scarcely hidden scowl of hatred. \"Until other... arrangements can be made.\" Arcadion's toothsome smile appears on his shadowy features.");
				if (!var0008) {
					add("daemon");
				}
				remove("Erethian");
				fallthrough;

			case "daemon":
				say("\"That is how thy people address those of my race.\" You can't tell from Arcadion's tone of voice whether or not he minds that fact.");
				remove("daemon");
				var0008 = true;
				fallthrough;

			case "serve":
				say("The large daemon's eyes close as he appears to be restraining the force of horrific emotions,");
				say("\"I have served that blind,\told fool for over two hundred years!\" Arcadion pauses, regaining his composure. A thought visibly crosses his\tdarkened face, \"Perhaps thou mightest assist me to free myself of this unwanted bondage. I could prove an invaluable\tally.\" The daemon pauses to let his offer sink in, then, \"Well, mortal. Wilt thou help me?\"");
				if (Func090A()) {
					say("A wicked look of triumph flickers across Arcadion's face to be quickly replaced by a ludicrous semblance of gratitude, \"Thou art truly courageous to vow to release me. My gratitude hath no bounds.\" An oily grin coats the daemon's face, \"Thou hast made quite a powerful ally this day, mortal.\" His eyes blink in what is possibly meant to be a charming manner.");
					gflags[0x0332] = true;
					remove("serve");
					if (!var0008) {
						add("daemon");
					}
					add("release");
				} else {
					gflags[0x0331] = true;
					0xFEDE->show_npc_face(0x0001);
					say("Arcadion looks as if he's about to force his way through the mirror, then once again masters his incredible rage.");
					0xFEDE->say("He folds massive arms across a broad chest and slowly restores his gruesome smile, \"I can respect thy cowardice in this situation. After all, Erethian is\ta powerful mage, not the sort that a sheep like thyself should be trifling with.\" His contemtuous sneer begins to fade as the daemon takes his leave.*");
					Func0843();
				}
				fallthrough;

			case "release":
				say("\"I'll need a special gem in which to house my essence when thou crackest this prison of a mirror.\" His eyes are alight with the possibility of his impending freedom.");
				add("gem");
				remove("release");
				fallthrough;

			case "gem":
				var0006 = find_nearby(0x02F8, 0x000F, MASK_NONE);
				var0007 = false;
				if (var0006) {
					var0007 = Func0844(var0006);
					if (var0007) {
						say("\"I can sense that the gem is near! Take it! Take it, quickly and use it to free me of this accursed mirror!\" Arcadion is almost drooling in anticipation.*");
						gflags[0x0333] = true;
					} else {
						say("\"There was one on this island, that much I know. Find it. Bring it to me and together, we shall break this mirror which binds me to that blasted mage.*");
					}
				} else if (PARTY->count_objects(0x02F8, QUALITY_ANY, 0x000C)) {
					say("\"Thou hast the gem! I feel it! Use it now to crack the mirror! I'll enter it as I'm freed!\" The daemon hardly restains his enthusiasm.*");
					gflags[0x0333] = true;
				} else {
					say("\"There was one on this island, that much I know. Find it. Bring it to me and together, we shall break this mirror which binds me to that blasted mage.*");
				}
				Func0843();
				fallthrough;

			case "bye":
				if (gflags[0x0332]) {
					say("Arcadion winks in a very undaemonlike manner, \"Farewell, brave mortal. Thy courage is unsurpassed among humans.\"*");
				} else {
					say("The smiling daemon bows again, \"Fare thee well, Britannian. Until we meet again.\" The daemon begins to fade even as his last words are spoken.*");
				}
				Func0843();
				fallthrough;
		}
		return;
	}
	if (!gflags[0x0330]) {
		if (event == DOUBLECLICK) {
			UI_close_gumps();
			item->Func0690();
		}
		if (!(event == SCRIPTED)) {
			return;
		}
		0xFEDD->show_npc_face(0x0000);
		var0009 = false;
		if (!gflags[0x0313]) {
			say("The little gem pulses with energy, \"Now all Britannia shall feel my wrath. I'll make them all pay for every decade I spent within that accursed mirror!\" The gem glows brighter, and you expect the world to come apart at the seams... then, nothing. \"NO!\" The daemon's primal scream sounds a bit crystalline through the medium of the gem. \"This cannot be! That old fool was right. I'm still trapped!\" The daemon's anguished voice falls silent.");
			gflags[0x0313] = true;
			add(["name", "job", "wrath", "trapped", "bye"]);
			if (gflags[0x0338]) {
				add("black sword");
			}
		} else {
			say("The gem sparkles up at you, \"Yes, master. How may I serve thee?\" Arcadion's voice is subdued.");
			add(["name", "job", "master", "bye"]);
			if (gflags[0x0338]) {
				add("black sword");
			}
			if (gflags[0x0334]) {
				add("power");
			}
		}
		converse (0) {
			case "black sword":
				say("\"If thou dost wish me to bond the gem to the sword, thou hast but to command me, master.\"");
				add("bond");
				remove("black sword");
				fallthrough;

			case "bond":
				if (Func0846()) {
					var000A = AVATAR->get_npc_object()->get_cont_items(0x029C, QUALITY_ANY, 0x000F);
					var000B = AVATAR->get_npc_object()->get_cont_items(0x02F8, QUALITY_ANY, 0x000D);
					var000A->remove_item();
					var000B->remove_item();
					var000C = UI_create_new_object(0x02C3);
					var000C->set_item_frame(0x0000);
					say("\"It will be done!\"");
					say("As the gem touches the crosspiece of the sword, the sound of tearing metal screeches through the air. The blade shifts and shimmers almost as if alive.");
					if (AVATAR->get_npc_object()->give_last_created()) {
						say("Slowly, the sword settles into its original shape, except for the blue gem glowing in the hilt.");
					} else {
						say("There is a flash of what can only be described as black light and the sword is wrenched out of your grasp and falls to the ground.");
						var000D = AVATAR->get_npc_object()->get_object_position();
						var000E = UI_update_last_created(var000D);
					}
					gflags[0x0330] = true;
					gflags[0x0313] = false;
					var000F = script var000C {
						finish;
						nohalt;
						call Func070B;
						call Func06F6;
					};
					abort;
				}
				say("\"The sword and gem must be in thy hands for the bonding to be accomplished.\"");
				remove("bond");
				fallthrough;

			case "name":
				say("\"My name is still Arcadion, although my prison has changed.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am now thy servant.\tWhat is thy bidding, master?\"");
				if (!var0009) {
					add("master");
				}
				remove("job");
				fallthrough;

			case "wrath":
				say("Arcadion sounds a bit pensive as he replies, \"Forgive my momentary indiscretion, master. My bitter emotions overcame my reasoning for a brief time. I shall not let it happen again.\"");
				if (!var0009) {
					add("master");
				}
				remove("wrath");
				fallthrough;

			case "trapped":
				var0005 = false;
				if (!gflags[0x0310]) {
					var0005 = "the mage Erethian";
				} else {
					var0005 = "Erethian";
				}
				say("\"It would seem that ",
					var0005,
					" was correct in his assumption that should I enter this gem, my power would not be set free to use as I wish, instead it is at the beck and call of the one who possesses the gem.\"");
				gflags[0x0334] = true;
				add("power");
				remove("trapped");
				fallthrough;

			case "power":
				if (!gflags[0x0333]) {
					say("You hear a faint sigh, then, \"Wouldst thou care to partake of my power?\"");
					if (Func090A()) {
						say("Arcadion sounds disappointed, \"It is as I knew it would be. I am forever meant to be the slave of weak-willed mortals. Very well then, prepare thyself to recieve a portion of my vast eneregy.");
						gflags[0x0333] = true;
						Func0845(false);
						if (!var0009) {
							add("master");
						}
					} else if (!gflags[0x0335]) {
						say("\"Perhaps I misjudged thee, master.\" He pauses for a thoughtful moment, \"Mayhap in time thou canst call me friend as well as ally.\"");
						gflags[0x0335] = true;
						if (!var0009) {
							add("master");
						}
					} else if (!var0009) {
						add("master");
					}
				} else {
					say("\"Thou hast need of my energies again?\" Arcadion asks a little petulantly.");
					if (Func090A()) {
						say("\"Very well, prepare thyself.\" The gem glows.");
						Func0845(false);
						if (!var0009) {
							add("master");
						}
					} else if (!gflags[0x0335]) {
						say("\"What dost thou seek of me...\" A pause, \"Master?\"");
						gflags[0x0335] = true;
						if (!var0009) {
							add("master");
						}
					} else {
						say("\"Dost thou seek to torment me with useless questions, or may I be of some service...\" A long pause, \"Master.\"");
						if (!var0009) {
							add("master");
						}
					}
				}
				remove("power");
				fallthrough;

			case "master":
				say("The daemon pauses for a moment, \"Thou hast imprisoned my physical form, I am therefore bound to thy will by powers far older than thou or I wield. What wouldst thou have of me?\"");
				add("bound");
				var0009 = true;
				remove("master");
				fallthrough;

			case "bound":
				say("\"Long ago, even by my accounting of time, my people were defeated by a powerful race of beings in an attempt to conquer this realm. This race lived here long before the coming of thy sovereign, Lord British. My poeple were defeated and they expected death, but these great and powerful beings were not destroyers. However, they also did not wish futher disruption by my kind. So they weaved enchantments beyond the ken of my race, binding us to the inhabitants of this realm. Thine own people merely use the existing enchantments to keep us enslaved, sometimes without an incling of how this was achieved.\"");
				remove("bound");
				fallthrough;

			case "bye":
				say("\"Farewell my master.\" The gem seems to dim a little.*");
				abort;
		}
		return;
	}
	if (event == DOUBLECLICK) {
		UI_close_gumps();
		item->Func0690();
	}
	if (event == SCRIPTED) {
		if (!gflags[0x0313]) {
			if (!gflags[0x0343]) {
				var0010 = script AVATAR->get_npc_object() {
					face south;
					actor frame strike_2h;
					wait 1;
					actor frame reach_2h;
					wait 1;
					actor frame raise_2h;
					wait 1;
				};
				var000F = script item {
					wait 7;
					call Func06F6;
				};
				gflags[0x0343] = true;
				return;
			}
			if (!gflags[0x0344]) {
				var000D = AVATAR->get_object_position();
				UI_sprite_effect(ANIMATION_LIGHTNING, var000D[0x0001], var000D[0x0002], 0x0000, 0x0000, 0x0000, 0x0003);
				UI_sprite_effect(ANIMATION_LIGHTNING, var000D[0x0001], var000D[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_play_sound_effect(0x003E);
				var000F = script item {
					wait 3;
					call Func06F6;
				};
				gflags[0x0344] = true;
				return;
			}
			0xFEDC->say("The sword glimmers darkly as you speak to it. \"Greetings, my master. And how can thy humble servant aid thee?\" The daemon's voice has regained much of its oddly disturbing humor.");
			gflags[0x0313] = true;
		} else {
			0xFEDC->say("\"Yes, master. What dost thou seek of thy servant?\" Arcadion asks you in a deep, harmonic voice.");
		}
		add(["name", "job", "bye", "powers"]);
		if (gflags[0x030E] && (!gflags[0x030C])) {
			add("help");
		}
		var0011 = false;
		var0012 = false;
		var0013 = false;
		var0014 = false;
		var0015 = false;
		converse (0) {
			case "name":
				say("The daemon sword's tone is rather ominous as he says, \"I am, and ever shall be, thy servant Arcadion.\"");
				remove("name");
				fallthrough;

			case "job":
				say("\"I am the Shade Blade. My destiny is to serve thee until we are...\" The sword pauses, \"parted.\"");
				remove("job");
				fallthrough;

			case "powers":
				if (!AVATAR->get_npc_object()->is_readied(BG_WEAPON_HAND, 0x02C3, FRAME_ANY)) {
					say("\"I needs must be in thy hand, master, if thou wishest to use my powers.\"");
				} else {
					say("\"Which of my powers dost thou seek to use?\"");
					UI_push_answers();
					add(["Magic", "Fire", "Death", "Return", "none"]);
				}
				fallthrough;

			case "help":
				say("Arcadion's voice is smug as he replies to your request for assistance. \"Yes, I can help thee if thou wishest to exile what remains of Exodus to the Void. Firstly, thou shalt have need of the lenses of which the doddering, old fool spoke. Next thou needs must have the three Talismans of Principle. And finally, make sure that there are lit torches upon the walls to either side of the pedestal upon which the Dark Core rests.");
				add(["lenses", "talismans"]);
				remove("help");
				fallthrough;

			case "lenses":
				say("\"The concave and convex lenses which thou used to place the Codex of Infinite Wisdom within the Void, I believe now sit forgotten in the Museum of Britannia. They must be placed between the Dark Core and the torches on either side of the pedestal\"");
				remove("lenses");
				fallthrough;

			case "talismans":
				say("\"The Talismans of Principle must be placed upon the Dark Core like wedges in a pie.\"");
				remove("talismans");
				fallthrough;

			case "none":
				say("\"As thou wish, master. I but seek to serve thee.\"");
				UI_pop_answers();
				fallthrough;

			case "Magic":
				var0016 = UI_part_of_day();
				if ((var0016 == NIGHT) || ((var0016 == MIDNIGHT) || (var0016 == EARLY))) {
					Func0845(true);
				} else {
					say("The blade croons quietly, \"Alas, master. My energies seem a trifle low. Perhaps if thou were to find some creature to slay, my power would be sufficient. After all, I have needs just as thou dost.\"");
				}
				fallthrough;

			case "Death":
				say("\"Where is the corpse of which thou dost speak?\" The dark sword begins to vibrate in your hand.*");
				0xFEDC->hide();
				var0011 = UI_click_on_item();
				var0017 = var0011->get_item_shape();
				var0018 = var0011->get_object_position();
				0xFEDC->show_npc_face(0x0000);
				if (var0011->is_npc()) {
					do {
						if ((var0017 == 0x02D1) || (var0017 == 0x03DD)) {
							say("The daemon speaks with a sanctimonious tone. \"I could not in honor take the life of my most wondrous master.\"");
							break;
						}
						if (var0017 == 0x01D2) {
							if (AVATAR->get_npc_object()->get_distance(var0011) < 0x0005) {
								say("\"Yes! I have long sought the end of Lord British, my traitorous master.\"");
								var0019 = Func0908();
								LORD_BRITISH->say("\"",
									var0019,
									", for what reason art thou brandishing that black sword in my presence?\"");
								0xFEDC->hide();
								AVATAR->say("The daemon responds, using your mouth. \"This blade is thy doom,...\" You spit the words, \"Lord British!\"");
								LORD_BRITISH->say("Lord British looks truly taken aback, his eyes narrow calculatingly. \"What foul treachery is this?\"");
								AVATAR->say("You find yourself unable to respond, and your muscles are clenching as if to lash out with the wicked blade in your hand.");
								LORD_BRITISH->say("\"Perhaps when thou art sitting in a dungeon, thy tongue will loosen.");
								say("\"Guards!\"*");
								var0014 = true;
								goto labelFunc06F6_0B89;
							} else {
								say("The Shade Blade lets out a harsh whisper. \"Move a little closer to him, and I'll perform this task for thee, master.\"");
								break;
							}
						} else if ((var0017 == 0x01E2) || (var0017 == 0x0193)) {
							say("\"Alas master, this one is protected by a power greater than mine. His destiny lies elsewhere.\"");
							break;
						}
						if (Func0849(var0017)) {
							say("The sword recoils in something akin to horror. \"That creature is beyond even my power. I suggest that thou hackest it to bits, if possible, then burn the pieces.\" Arcadion offers helpfully.");
							break;
						}
						if (var0017 == 0x01F8) {
							if (AVATAR->get_npc_object()->get_distance(var0011) < 0x0005) {
								if (var0011->get_cont_items(0x031D, 0x00F1, 0x0004)) {
									say("\"Ah, Dracothraxus. We meet once again. 'Tis a pity thou shan't survive our meeting this time. Perhaps if thou hadst given the gem to me when first I asked, none of this unpleasantness would be necessary.\"");
									0xFEDB->say("The dragon responds with great resignation. \"My will is not mine own in this matter, Arcadion. Mayhap thou art finding too, that thy will is not thine own.\"");
									0xFEDB->hide();
									0xFEDC->say("The daemon, possibly stung by the dragon's repartee, falls silent and goes to its bloody work.*");
									var0015 = true;
									goto labelFunc06F6_0B89;
								}
							} else {
								say("The Shade Blade croons sofltly. \"Move a little closer to the dragon, and I'll end its life for thee, master.\"");
								break;
							}
						} else if (var0017 == 0x009A) {
							if (AVATAR->get_npc_object()->get_distance(var0011) < 0x0005) {
								if (var0011->get_cont_items(0x031D, 0x00F0, 0x0004)) {
									say("\"I owe thee quite a favor for this, master. I thank thee for allowing me this, my revenge!\"*");
									var0015 = true;
									goto labelFunc06F6_0B89;
								}
							} else {
								say("\"Move closer to him, and I'll see that his life plagues thee no more.\" The\tdark sword sounds almost gleeful at this prospect.");
								break;
							}
						} else if (var0017 == 0x03F7) {
							say("\"This creature is not strictly speaking,... living. Thy best course of action would be to smash it to pieces\" You hear a smile in Arcadion's voice.");
							break;
						}
						if (Func0848(var0017)) {
							if (AVATAR->get_npc_object()->get_distance(var0011) < 0x0005) {
								say("\"Very well, master. If thou cannot dispatch this foe thyself, I shall do it for thee.\"");
								var0015 = true;
								goto labelFunc06F6_0B89;
							} else {
								say("\"I must get closer to this one in order to enjoy its essence.\" The blade hums eagerly as it tugs in the direction of your selected target.");
							}
						} else {
							say("The daemon sword abruptly ceases its vibration. \"This being is hardly worth a death the likes of which I would visit upon it. Call upon me again when thou art faced with a more worthy opponent.\"");
						}
					} while (false);
				} else if (Func0847(var0017)) {
					say("\"Perhaps thou misunderstands my meaning. I do not raise the dead... I slay the living.\" The last is spoken in a sibilant whisper.");
				} else if (!var0017) {
					say("\"Thou wouldst have me destroy the very world around thee. Not a very bright idea for such a virtuous one as thou art thought to be.\" A strangely metallic chuckle escapes from the sword.");
				} else if (var0017 == 0x009B) {
					say("The sword recoils in something akin to horror. \"That one is beyond even my power.\"");
				} else if ((var0017 == 0x031C) || (var0017 == 0x01BF)) {
					say("The daemon sword abruptly ceases its vibration. \"This being is hardly worth a death the likes of which I would visit upon it. Call upon me again when thou art faced with a more worthy opponent.\"");
				} else if (var0017 == 0x02C3) {
					say("\"Thou shall not be rid of me quite so easily, my master. However, I do not begrudge thine attempt. Quite to the contrary. I respect thy resourcefulness.\"");
				} else if (var0017 == 0x03DE) {
					say("\"Would that I had such power. That artifact would allow me to return to my home plane if only I could unlock its secrets.\"");
				} else {
					say("\"Hast thou such a grudge against this inanimate object that thou wouldst see it perish forever?\" His voice is laden with undisguised sarcasm. \"I cannot take life from that which is already lifeless.\"");
				}
				fallthrough;

			case "Return":
				if (!Func08E7()) {
					say("\"Ah... home again. I never tire of rocky little islands. Dost thou truly wish to go to the forsaken Isle of Fire?\"");
					if (Func090A()) {
						say("\"I see. Very well, master. But let us not forget this little favor...\" The gem in the hilt of the sword glows brightly then everything dims.*");
						var0013 = true;
						goto labelFunc06F6_0B89;
					} else {
						say("\"It is good. Sense returns to the Virtuous Wonder. Thou art truly without peer in the arena of thought, master.\"");
					}
				} else {
					say("\"Forgive me, master, but are we not already on or near the Isle of Fire? Though, why one would wish to remain here on this forsaken piece of rock, I have no\tidea.\"");
				}
				fallthrough;

			case "Fire":
				say("\"And what, pray tell, is the intended target of thy immense and most puissant wrath, O' Master of Infinite Destruction?\"");
				0xFEDC->hide();
				var0012 = true;
				goto labelFunc06F6_0B89;

			case "bye":
				say("\"Forgive me master, but I shan't be leaving. However, thou mayest cease thy speaking... if thou dost wish it.\"*");
				goto labelFunc06F6_0B89;
		}
labelFunc06F6_0B89:
		if (var0012) {
			item->Func06FC();
		}
		if (var0013) {
			var001A = script item {
				wait 1;
				call Func06F9;
			};
		}
		if (var0014) {
			var001B = Func092D(var0011);
			var0010 = script AVATAR->get_npc_object() {
				face var001B;
				actor frame ready;
				wait 2;
				actor frame raise_2h;
				wait 2;
				actor frame reach_2h;
				wait 1;
				actor frame strike_2h;
				wait 2;
				actor frame standing;
			};
			if (!var0011->get_item_flag(ASLEEP)) {
				var001C = (var001B + 0x0004) % 0x0008;
				var001D = script var0011 {
					face var001C;
					wait 3;
					actor frame ready;
					wait 7;
					call Func070F;
				};
			} else {
				var001D = script var0011 {
					wait 12;
					call Func070F;
				};
			}
		}
		if (var0015) {
			var001B = Func092D(var0011);
			var0010 = script AVATAR->get_npc_object() {
				face var001B;
				actor frame ready;
				wait 1;
				actor frame raise_2h;
				wait 1;
				actor frame reach_2h;
				wait 1;
				actor frame strike_2h;
				wait 2;
				actor frame standing;
			};
			if (!var0011->get_item_flag(ASLEEP)) {
				var001C = (var001B + 0x0004) % 0x0008;
				var001D = script var0011 {
					face var001C;
					wait 2;
					actor frame ready;
					wait 4;
					actor frame bowing;
					wait 1;
					actor frame kneeling;
					wait 1;
					call Func070F;
				};
			} else {
				var001D = script var0011 {
					wait 12;
					call Func070F;
				};
			}
		}
	}
}

extern void Func08E6 0x8E6 (var var0000);
extern void Func06F7 object#(0x6F7) ();

void Func06F7 object#(0x6F7) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;
	var var001F;
	var var0020;
	var var0021;
	var var0022;
	var var0023;
	var var0024;
	var var0025;
	var var0026;
	var var0027;
	var var0028;
	var var0029;
	var var002A;
	var var002B;

	var0000 = get_item_quality();
	if (var0000 == 0x00F0) {
		var0001 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x02FA, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0003 to var0004) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0016) {
				if (var0005->get_cont_items(0x031D, 0x00F0, 0x0004)) {
					var0001 = var0005;
				}
			}
		}
		if (var0001) {
			if (!gflags[0x02EE]) {
				gflags[0x02EE] = true;
				var0007 = UI_create_new_object(var0001->get_item_shape());
				var0007->set_item_frame_rot(var0001->get_item_frame_rot());
				var0008 = UI_update_last_created(var0001->get_object_position());
				Func08E6(var0001);
				return;
			}
		}
	}
	if (var0000 == 0x00F1) {
		var0009 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x030A, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var000A to var000B) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0007) {
				if (var0005->get_cont_items(0x031D, 0x00F1, 0x0004)) {
					var0009 = var0005;
				}
			}
		}
		if (var0009) {
			var000C = var0009->get_object_position();
			Func08E6(var0009);
			UI_sprite_effect(ANIMATION_LIGHTNING, var000C[0x0001], var000C[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_sprite_effect(ANIMATION_MEDIUM_BLAST, (var000C[0x0001] - 0x0002), (var000C[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x0009);
			var000D = UI_create_new_object(0x01F8);
			var000D->set_item_frame(0x0013);
			var000D->set_item_flag(TEMPORARY);
			var0008 = UI_update_last_created(var000C);
			var000E = script var000D {
				finish;
				wait 2;
				call Func01F8;
			};
			return;
		}
	}
	if (var0000 == 0x00F3) {
		var000F = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0010 to var0011) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00F3, 0x0004)) {
					var000F = var0005;
				}
			}
		}
		if (var000F) {
			if (!gflags[0x02F1]) {
				gflags[0x02F1] = true;
				var0012 = UI_create_new_object(0x019E);
				var0012->set_item_frame(0x0004);
				var0008 = UI_update_last_created(var000F->get_object_position());
				Func08E6(var000F);
				return;
			}
		}
	}
	if (var0000 == 0x00F4) {
		var0013 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0014 to var0015) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00F4, 0x0004)) {
					var0013 = var0005;
				}
			}
		}
		if (var0013) {
			if (!gflags[0x02F2]) {
				gflags[0x02F2] = true;
				var0012 = UI_create_new_object(0x019E);
				var0012->set_item_frame(0x0004);
				var0008 = UI_update_last_created(var0013->get_object_position());
				Func08E6(var0013);
				return;
			}
		}
	}
	if (var0000 == 0x00F5) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0017 to var0018) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00F5, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02F3] = true;
			Func08E6(var0016);
			return;
		}
	}
	if (var0000 == 0x00F6) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0019 to var001A) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00F6, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02F4] = true;
			Func08E6(var0016);
			return;
		}
	}
	if (var0000 == 0x00F7) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var001B to var001C) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00F7, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02F5] = true;
			Func08E6(var0016);
			return;
		}
	}
	if (var0000 == 0x00F8) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var001D to var001E) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00F8, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02F6] = true;
			Func08E6(var0016);
			return;
		}
	}
	if (var0000 == 0x00F9) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var001F to var0020) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00F9, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02F7] = true;
			Func08E6(var0016);
			return;
		}
	}
	if (var0000 == 0x00FA) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0021 to var0022) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00FA, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02F8] = true;
			Func08E6(var0016);
			return;
		}
	}
	if (var0000 == 0x00FB) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0023 to var0024) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00FB, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02F9] = true;
			Func08E6(var0016);
			return;
		}
	}
	if (var0000 == 0x00FC) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0025 to var0026) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00FC, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02FA] = true;
			Func08E6(var0016);
			return;
		}
	}
	if (var0000 == 0x00FD) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0027 to var0028) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00FD, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02FB] = true;
			Func08E6(var0016);
			return;
		}
	}
	if (var0000 == 0x00FE) {
		var0016 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x0190, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0029 to var002A) {
			var0006 = var0005->get_item_frame();
			if (var0006 == 0x0000) {
				if (var0005->get_cont_items(0x031D, 0x00FE, 0x0004)) {
					var0016 = var0005;
				}
			}
		}
		if (var0016) {
			var0012 = UI_create_new_object(0x019E);
			var0012->set_item_frame(0x0004);
			var0008 = UI_update_last_created(var0016->get_object_position());
			gflags[0x02FC] = true;
			Func08E6(var0016);
			return;
		}
	}
	halt_scheduled();
	var002B = script item after 3 ticks {
		nohalt;
		call Func06F7;
	};
}

extern void Func087D 0x87D ();
extern var Func0881 0x881 ();
extern void Func08FF 0x8FF (var var0000);
extern void Func08E6 0x8E6 (var var0000);
extern void Func069D object#(0x69D) ();

void Func06F8 object#(0x6F8) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;
	var var001F;
	var var0020;
	var var0021;
	var var0022;
	var var0023;
	var var0024;
	var var0025;
	var var0026;
	var var0027;
	var var0028;
	var var0029;
	var var002A;
	var var002B;
	var var002C;
	var var002D;
	var var002E;
	var var002F;
	var var0030;

	if (event == EGG) {
		var0000 = get_item_quality();
		do {
			if (var0000 == 0x0000) {
				var0001 = find_nearest(0x0350, 0x000A);
				var0002 = var0001->get_item_frame();
				if (!(var0002 == 0x0009)) {
					var0001->set_item_frame(0x0003);
				}
			}
			if (var0000 == 0x0001) {
				var0003 = find_nearby(0x02D6, 0x0001, MASK_NONE);
				if (var0003) {
					gflags[0x033F] = true;
				} else {
					gflags[0x033F] = false;
				}
				if (gflags[0x033F] && gflags[0x033C]) {
					break;
				}
			}
			if (var0000 == 0x0002) {
				var0003 = find_nearby(0x02D6, 0x0001, MASK_NONE);
				if (var0003) {
					gflags[0x033C] = true;
				} else {
					gflags[0x033C] = false;
				}
				if (gflags[0x033C] && gflags[0x033F]) {
					break;
				}
			}
			if (var0000 == 0x0004) {
				if (gflags[0x033C] && gflags[0x033F]) {
					break;
				}
			}
			return;
		} while (false);
		var0004 = find_nearest(0x03DE, 0x000A);
		if (var0004) {
			var0005 = var0004->get_object_position();
			var0006 = var0004->find_nearby(0x03BB, 0x0001, MASK_NONE);
			var0007 = false;
			for (var000A in var0006 with var0008 to var0009) {
				var000B = var000A->get_item_frame();
				var000C = var000A->get_object_position();
				if (var000B == 0x0008) {
					if (var000C[0x0001] == (var0005[0x0001] - 0x0001)) {
						if (var000C[0x0002] == var0005[0x0002]) {
							if (var000C[0x0003] == 0x0004) {
								var0007 += 0x0001;
							}
						}
					}
				}
				if (var000B == 0x0009) {
					if (var000C[0x0001] == var0005[0x0001]) {
						if (var000C[0x0002] == (var0005[0x0002] - 0x0001)) {
							if (var000C[0x0003] == 0x0004) {
								var0007 += 0x0001;
							}
						}
					}
				}
				if (var000B == 0x000A) {
					if (var000C[0x0001] == var0005[0x0001]) {
						if (var000C[0x0002] == var0005[0x0002]) {
							if (var000C[0x0003] == 0x0004) {
								var0007 += 0x0001;
							}
						}
					}
				}
			}
			if (var0007 == 0x0003) {
				var000D = false;
				var000E = AVATAR->get_npc_object()->find_nearby(0x01B3, 0x0028, MASK_NONE);
				for (var0011 in var000E with var000F to var0010) {
					var0012 = var0011->get_object_position();
					if ((var0012[0x0001] == 0x08A0) || (var0012[0x0001] == 0x08AD)) {
						if (var0012[0x0002] == 0x05EA) {
							if (var0012[0x0003] == 0x0001) {
								var000D += 0x0001;
							}
						}
					}
				}
				if (var000D == 0x0002) {
					Func087D();
					var0013 = AVATAR->get_npc_object()->get_object_position();
					if (var0013[0x0002] > var0005[0x0002]) {
						if (UI_is_pc_female()) {
							Func0881()->set_item_frame(0x0014);
						} else {
							Func0881()->set_item_frame(0x0012);
						}
					} else if (UI_is_pc_female()) {
						Func0881()->set_item_frame(0x0015);
					} else {
						Func0881()->set_item_frame(0x0013);
					}
					var0014 = UI_create_new_object(0x03BB);
					var0014->set_item_frame(0x0007);
					var0004->set_item_frame(0x0001);
					var0005[0x0001] -= 0x0001;
					var0005[0x0002] -= 0x0001;
					var0005[0x0003] += 0x0002;
					var0015 = UI_update_last_created(var0005);
					UI_sprite_effect(ANIMATION_TELEPORT, (var0005[0x0001] - 0x0002), (var0005[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
					UI_play_sound_effect(0x0044);
					var0016 = script var0004 {
						frame 5;
						repeat 24 {
							next frame cycle;
						};
						frame 31;
						continue;
						call Func06F8;
					};
				}
			}
		}
	}
	if (event == SCRIPTED) {
		if (gflags[0x030C]) {
			if (!gflags[0x02EE]) {
				Func08FF("@'Tis sad that Erethian's lust for power has brought him to this evil pass.@");
				Func08FF("@Perhaps, at last, he is at rest.@");
			}
			if (!LORD_BRITISH->is_dead()) {
				Func08FF("@I am sure that Lord British even now awaits news of Exodus' exile.@");
			}
			Func08FF("@It is time to leave this barren island behind.@");
			abort;
		}
		var0005 = get_object_position();
		var0013 = AVATAR->get_npc_object()->get_object_position();
		if (gflags[0x033F] && gflags[0x033C]) {
			if (!gflags[0x02EE]) {
				var0017 = false;
				var0018 = false;
				var0019 = find_nearby(0x009A, 0x0050, MASK_NPC2);
				for (var001C in var0019 with var001A to var001B) {
					if (var001C->get_cont_items(0x031D, 0x00F0, 0x0004)) {
						if (!(var001C->get_distance(item) < 0x0008)) {
							var001D = var001C->get_object_position();
							UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var001D[0x0001] - 0x0001), (var001D[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
							Func08E6(var001C);
						} else {
							var0017 = var001C;
						}
					}
				}
				if (!var0017) {
					var0017 = UI_create_new_object(0x009A);
					var0017->set_item_flag(TEMPORARY);
					var001E = AVATAR->get_npc_object()->get_object_position();
					var001F = get_object_position();
					var001D = [0x08A8, 0x0000, 0x0000];
					if (var001E[0x0002] > var001F[0x0002]) {
						var0017->set_item_frame(0x0013);
						var001D[0x0002] = 0x05E6;
					} else {
						var0017->set_item_frame(0x0003);
						var001D[0x0002] = 0x05EE;
					}
					var0015 = UI_update_last_created(var001D);
					UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var001D[0x0001] - 0x0001), (var001D[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				}
				var001D = var0017->get_object_position();
				var001F = get_object_position();
				var0020 = 0x0004;
				if (var001D[0x0002] > var001F[0x0002]) {
					var0020 = 0x0000;
				}
				var0016 = script var0017 {
					face var0020;
					wait 5;
					actor frame cast_out;
				};
			}
			UI_earthquake(0x0001);
			UI_sprite_effect(ANIMATION_LIGHTNING, var0013[0x0001], var0013[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x003E);
			gflags[0x033C] = false;
			var0021 = script item after 7 ticks {
				call Func06F8;
			};
			abort;
		}
		if (gflags[0x033F]) {
			if (!gflags[0x02EE]) {
				0xFEE2->show_npc_face(0x0001);
				say("\"No! Thou must not do this!\" Erethian's voice is full of anguish. He raises his arms and begins a powerful spell.");
				say("\"Vas Ort Rel Tym...\"");
				say("He stops mid-spell and begins another, pointing towards the Talisman of Infinity.");
				say("\"Vas An Ort Ailem!\"");
				say("You immediately recognize the resonance of a spell gone awry, and apparently so does Erethian. A look of horror comes to his wrinkled features which appear to become more lined by the second.*");
				var001C = find_nearest(0x009A, 0x000A);
				var0016 = script var001C {
					wait 2;
					actor frame bowing;
					wait 2;
					actor frame kneeling;
				};
			}
			UI_earthquake(0x0001);
			var0022 = find_nearby(0x0113, 0x000A, MASK_EGG);
			for (var0025 in var0022 with var0023 to var0024) {
				if ((var0025->get_item_frame() == 0x0007) && (var0025->get_item_quality() == 0x0001)) {
					var0026 = var0025->get_object_position();
					UI_sprite_effect(ANIMATION_LIGHTNING, var0026[0x0001], var0026[0x0002], 0x0000, 0x0000, 0x0000, 0x0003);
				}
			}
			UI_sprite_effect(ANIMATION_LIGHTNING, (var0005[0x0001] - 0x0002), (var0005[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			gflags[0x033F] = false;
			gflags[0x033C] = true;
			var0021 = script item after 7 ticks {
				call Func06F8;
			};
			abort;
		}
		if (gflags[0x033C]) {
			if (!gflags[0x02EE]) {
				var001C = find_nearest(0x009A, 0x000A);
				var0027 = var001C->get_item_frame_rot();
				var0028 = var001C->get_object_position();
				Func08E6(var001C);
				var0029 = UI_create_new_object(0x0210);
				var0029->set_item_flag(TEMPORARY);
				var0029->set_item_frame_rot(var0027);
				var0015 = UI_update_last_created(var0028);
			}
			UI_earthquake(0x0001);
			var0022 = find_nearby(0x0113, 0x000A, MASK_EGG);
			for (var0025 in var0022 with var002A to var002B) {
				if ((var0025->get_item_frame() == 0x0007) && (var0025->get_item_quality() == 0x0002)) {
					var0026 = var0025->get_object_position();
					UI_sprite_effect(ANIMATION_LIGHTNING, var0026[0x0001], var0026[0x0002], 0x0000, 0x0000, 0x0000, 0x0003);
				}
			}
			UI_sprite_effect(ANIMATION_LIGHTNING, var0013[0x0001], var0013[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x0009);
			gflags[0x033F] = false;
			gflags[0x033C] = false;
			var0021 = script item after 5 ticks {
				call Func06F8;
			};
			abort;
		}
		if (!gflags[0x02EE]) {
			var001C = find_nearest(0x0210, 0x000A);
			var0027 = var001C->get_item_frame();
			var0028 = var001C->get_object_position();
			Func08E6(var001C);
			var0029 = UI_create_new_object(0x037C);
			var0029->set_item_flag(TEMPORARY);
			if (var0027 == 0x000C) {
				var0029->set_item_frame(0x000E);
			}
			if (var0027 == 0x001C) {
				var0029->set_item_frame(0x0016);
			}
			var0015 = UI_update_last_created(var0028);
			gflags[0x02EE] = true;
			UI_play_music(0x0011, 0x0000);
		}
		UI_sprite_effect(ANIMATION_LIGHTNING, (var0005[0x0001] - 0x0002), (var0005[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_sprite_effect(ANIMATION_DEATH_VORTEX, (var0005[0x0001] - 0x0002), (var0005[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_play_sound_effect(0x0009);
		var0006 = find_nearby(0x03BB, 0x0001, MASK_NONE);
		for (var000A in var0006 with var002C to var002D) {
			var000B = var000A->get_item_frame();
			if (var000B == 0x0007) {
				var000A->remove_item();
			}
			if (var000B == 0x0008) {
				var000A->remove_item();
			}
			if (var000B == 0x0009) {
				var000A->remove_item();
			}
			if (var000B == 0x000A) {
				var000A->remove_item();
			}
		}
		AVATAR->get_npc_object()->clear_item_flag(DONT_RENDER);
		var002E = Func0881();
		var002F = script var002E after 14 ticks {
			finish;
			remove;
		};
		var0016 = script AVATAR->get_npc_object() {
			wait 12;
			call Func069D;
		};
		var0030 = find_nearest(0x02D6, 0x000A);
		if (var0030) {
			var0016 = script var0030 {
				wait 16;
				call Func06F8;
			};
		}
		remove_item();
		gflags[0x030C] = true;
	}
}

extern void Func0356 shape#(0x356) ();
extern var Func08E8 0x8E8 (var var0000);

void Func06F9 object#(0x6F9) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;
	var var001F;
	var var0020;
	var var0021;
	var var0022;
	var var0023;
	var var0024;
	var var0025;
	var var0026;
	var var0027;
	var var0028;
	var var0029;
	var var002A;
	var var002B;
	var var002C;
	var var002D;
	var var002E;
	var var002F;
	var var0030;

	var0000 = false;
	var0001 = false;
	if (event == SCRIPTED) {
		var0002 = get_item_shape();
		if (var0002 == 0x0356) {
			goto labelFunc06F9_0025;
		}
		if (var0002 == 0x02C3) {
			goto labelFunc06F9_0032;
		}
		UI_fade_palette(0x000C, 0x0001, 0x0001);
		if (var0002 == 0x03BB) {
			var0003 = false;
			var0004 = AVATAR->get_npc_object()->find_nearby(0x0356, 0x0014, MASK_NONE);
			if (var0004) {
				for (var0007 in var0004 with var0005 to var0006) {
					if (get_item_frame() == 0x0008) {
						if (var0007->get_item_frame() == 0x0010) {
							var0003 = var0007;
						}
					}
					if (get_item_frame() == 0x0009) {
						if (var0007->get_item_frame() == 0x000F) {
							var0003 = var0007;
						}
					}
					if (get_item_frame() == 0x000A) {
						if (var0007->get_item_frame() == 0x000E) {
							var0003 = var0007;
						}
					}
				}
			}
			event = WEAPON;
			var0003->Func0356();
		}
		return;
	}
	if (event == DOUBLECLICK) {
labelFunc06F9_0025:
		var0000 = [0x0878, 0x0665, 0x0000];
		var0001 = 0x0004;
	}
	if (event == WEAPON) {
labelFunc06F9_0032:
		var0000 = [0x0890, 0x05FA, 0x0000];
		var0001 = 0x0000;
	}
	if (event == BG_PATH_SUCCESS) {
		var0000 = [0x088B, 0x05CF, 0x0000];
		var0001 = 0x0006;
	}
	if (event == EGG) {
		var0008 = get_item_quality();
		if (var0008 == 0x0001) {
			if (!gflags[0x0328]) {
				var0000 = [0x09A0, 0x0687, 0x0000];
				var0001 = 0x0004;
			}
		}
		if (var0008 == 0x0002) {
			if (!gflags[0x0342]) {
				var0000 = [0x08A8, 0x0665, 0x0000];
				var0001 = 0x0004;
			}
		}
		if (var0008 == 0x0003) {
			var0000 = [0x088F, 0x05CB, 0x0000];
			var0001 = 0x0000;
		}
		if (var0008 == 0x0004) {
			if (!gflags[0x0328]) {
				var0000 = [0x0886, 0x05DE, 0x0000];
				var0001 = 0x0004;
			}
		}
		if (var0008 == 0x0005) {
			var0000 = [0x0899, 0x05DE, 0x0000];
			var0001 = 0x0004;
		}
		if (var0008 == 0x0006) {
			var0000 = [0x0908, 0x0637, 0x0000];
			var0001 = 0x0000;
		}
		if (var0008 == 0x0007) {
			if (Func08E8(0x0008)) {
				var0000 = [0x088F, 0x05CB, 0x0000];
				var0001 = 0x0000;
				gflags[0x0319] = true;
			} else {
				var0009 = find_nearby(0x03BB, 0x0050, MASK_NONE);
				for (var000C in var0009 with var000A to var000B) {
					var000D = var000C->get_item_frame();
					if (var000D == 0x0008) {
						var000E = var000C->get_object_position();
						var000F = set_last_created();
						var000F = UI_update_last_created(var000E);
					}
				}
			}
		}
		if (var0008 == 0x0008) {
			if (Func08E8(0x0009)) {
				var0000 = [0x0893, 0x05CF, 0x0000];
				var0001 = 0x0002;
				gflags[0x0342] = true;
			} else {
				var0009 = find_nearby(0x03BB, 0x0050, MASK_NONE);
				for (var000C in var0009 with var0010 to var0011) {
					var000D = var000C->get_item_frame();
					if (var000D == 0x0009) {
						var000E = var000C->get_object_position();
						var000F = set_last_created();
						var000F = UI_update_last_created(var000E);
					}
				}
			}
		}
		if (var0008 == 0x0009) {
			var0012 = find_nearest(0x03BB, 0x0000);
			if (var0012 && (var0012->get_item_frame() == 0x000B)) {
				return;
			}
			var0013 = Func08E8(0x000B);
			if (var0013) {
				var0013->remove_item();
				var0014 = get_object_position();
				UI_sprite_effect(ANIMATION_TELEPORT, (var0014[0x0001] - 0x0002), (var0014[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_play_sound_effect(0x0043);
			}
			var0009 = AVATAR->get_npc_object()->find_nearby(0x03BB, 0x0019, MASK_NONE);
			if (var0009) {
				for (var0013 in var0009 with var0015 to var0016) {
					var000D = var0013->get_item_frame();
					if (var000D == 0x000B) {
						var0013->remove_item();
						var0014 = get_object_position();
						UI_sprite_effect(ANIMATION_TELEPORT, (var0014[0x0001] - 0x0002), (var0014[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
						UI_play_sound_effect(0x0043);
					}
				}
			}
			var0017 = find_nearby(0x02EE, 0x0008, MASK_NONE);
			if (var0017) {
				for (var001A in var0017 with var0018 to var0019) {
					var001A->remove_item();
				}
			}
			var001B = find_nearby(0x0351, 0x0008, MASK_NONE);
			var001B &= find_nearby(0x0125, 0x0008, MASK_NONE);
			var001B &= find_nearby(0x02A6, 0x0008, MASK_NONE);
			var001B &= find_nearby(0x0291, 0x0008, MASK_NONE);
			var001B &= find_nearby(0x02EE, 0x0008, MASK_NONE);
			var001C = find_nearby(0x0152, 0x0008, MASK_NONE);
			for (var001F in var001C with var001D to var001E) {
				var0020 = var001F->get_item_frame();
				if (var0020 == 0x0002) {
					var001B &= var001F;
				}
			}
			var0021 = find_nearby(0x0150, 0x0008, MASK_NONE);
			for (var001F in var0021 with var0022 to var0023) {
				var0020 = var001F->get_item_frame();
				if (var0020 == 0x0002) {
					var001B &= var001F;
				}
			}
			var0024 = find_nearby(0x03E5, 0x0008, MASK_NONE);
			for (var001F in var0024 with var0025 to var0026) {
				var0020 = var001F->get_item_frame();
				if (var0020 == 0x0002) {
					var001B &= var001F;
				}
			}
			for (var001A in var001B with var0027 to var0028) {
				var001A->remove_item();
			}
			var0029 = find_nearest(0x02CE, 0x0008);
			var0029->set_item_frame(0x0001);
			return;
		}
		if (var0008 == 0x000A) {
			var0012 = find_nearest(0x03BB, 0x0000);
			if (var0012 && (var0012->get_item_frame() == 0x000B)) {
				return;
			}
			gflags[0x0340] = true;
			var0013 = Func08E8(0x000B);
			if (var0013) {
				var0013->remove_item();
				var0014 = get_object_position();
				UI_sprite_effect(ANIMATION_TELEPORT, (var0014[0x0001] - 0x0002), (var0014[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_play_sound_effect(0x0043);
			}
			var0009 = AVATAR->get_npc_object()->find_nearby(0x03BB, 0x0019, MASK_NONE);
			if (var0009) {
				for (var0013 in var0009 with var002A to var002B) {
					var000D = var0013->get_item_frame();
					if (var000D == 0x000B) {
						var0013->remove_item();
						var0014 = get_object_position();
						UI_sprite_effect(ANIMATION_TELEPORT, (var0014[0x0001] - 0x0002), (var0014[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
						UI_play_sound_effect(0x0043);
					}
				}
			}
			var0029 = find_nearest(0x02CE, 0x0008);
			var0029->set_item_frame(0x0001);
			return;
		}
		if (var0008 == 0x000B) {
			if (gflags[0x0340]) {
				var002C = find_nearest(0x0203, 0x000A);
				var002C->remove_item();
				var002D = UI_create_new_object(0x0366);
				var002D->set_item_frame(0x0000);
				var0014 = get_object_position();
				var000F = UI_update_last_created(var0014);
			}
		}
		if (var0008 == 0x000C) {
			var0000 = [0x0958, 0x0635, 0x0000];
			var0001 = 0x0004;
		}
		if (var0008 == 0x000D) {
			var0000 = [0x0868, 0x0579, 0x0000];
			var0001 = 0x0004;
		}
		if (var0008 == 0x000E) {
			if (!gflags[0x0328]) {
				var0000 = [0x0987, 0x05D7, 0x0000];
				var0001 = 0x0004;
			}
		}
		if (var0008 == 0x000F) {
			if (!gflags[0x0328]) {
				var0000 = [0x09D8, 0x06C4, 0x0000];
				var0001 = 0x0000;
			}
		}
		if (var0008 == 0x0010) {
			var0000 = [0x0957, 0x0636, 0x0000];
			var0001 = 0x0000;
		}
		if (var0008 == 0x0011) {
			var0000 = [0x0937, 0x05C4, 0x0000];
			var0001 = 0x0004;
		}
		if (var0008 == 0x0014) {
			var0000 = [0x0AB4, 0x0618, 0x0000];
			var0001 = 0x0006;
		}
		if (var0008 == 0x0015) {
			var002E = find_nearest(0x010C, 0x0003);
			if (var002E) {
				var002E->set_item_frame(0x0002);
				UI_play_sound_effect(0x0025);
			}
		}
	}
	if (var0000 && (!AVATAR->get_item_flag(ON_MOVING_BARGE))) {
		UI_fade_palette(0x000C, 0x0001, 0x0000);
		PARTY->move_object(var0000);
		if (gflags[0x0319] && (!gflags[0x0318])) {
			var000C = Func08E8(0x0008);
			if (var000C) {
				gflags[0x0317] = true;
				var002F = script var000C {
					wait 2;
					call Func06F9;
				};
				var0030 = script AVATAR->get_npc_object() {
					face var0001;
					wait 2;
				};
				return;
			}
		}
		if (gflags[0x0328] && (!gflags[0x0327])) {
			var000C = Func08E8(0x000A);
			if (var000C) {
				gflags[0x0317] = true;
				var002F = script var000C {
					wait 2;
					call Func06F9;
				};
				var0030 = script AVATAR->get_npc_object() {
					face var0001;
					wait 2;
				};
				return;
			}
		}
		if (gflags[0x0342] && (!gflags[0x0341])) {
			var000C = Func08E8(0x0009);
			if (var000C) {
				gflags[0x0317] = true;
				var002F = script var000C {
					wait 2;
					call Func06F9;
				};
				var0030 = script AVATAR->get_npc_object() {
					face var0001;
					wait 2;
				};
				return;
			}
		}
		var0030 = script AVATAR->get_npc_object() {
			face var0001;
			wait 1;
			call Func06F9;
		};
	}
}

extern void Func08FF 0x8FF (var var0000);

void Func06FA object#(0x6FA) () {
	if (get_item_shape() == 0x0113) {
		Func08FF("@It would seem the nearby island is not at all stable.@");
	}
	if ((get_item_shape() == 0x02D1) || (get_item_shape() == 0x03DD)) {
		Func08FF("@All is not right in Britannia. Perhaps Lord British will know the reason behind this tremor.@");
	}
}

extern void Func08DD 0x8DD ();
extern void Func06FA object#(0x6FA) ();

void Func06FB object#(0x6FB) () {
	var var0000;

	if (event == EGG) {
		if (get_item_quality() == 0x0064) {
			if (!gflags[0x02FF]) {
				gflags[0x02FF] = true;
				var0000 = script item {
					nohalt;
					finish;
					wait 20;
					call Func06FA;
				};
				Func08DD();
			} else if (!gflags[0x030C]) {
				if (UI_get_random(0x0064) <= 0x000A) {
					Func08DD();
				}
			}
		}
	}
	if (event == SCRIPTED) {
		var0000 = script AVATAR->get_npc_object() {
			nohalt;
			finish;
			wait 20;
			call Func06FA;
		};
		Func08DD();
	}
}

extern var Func092D 0x92D (var var0000);
extern void Func0708 object#(0x708) ();
extern void Func06FD object#(0x6FD) ();

void Func06FC object#(0x6FC) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	if (event == SCRIPTED) {
		var0000 = UI_click_on_item();
		var0001 = var0000->get_item_shape();
		var0002 = false;
		var0003 = AVATAR->get_npc_object()->get_object_position();
		if ((var0001 == 0x02D1) || (var0001 == 0x03DD)) {
			return;
		}
		if (var0000->is_npc()) {
			var0000->halt_scheduled();
			var0002 = var0000->get_object_position();
		} else if (var0000 == 0x0000) {
			var0002[0x0001] = var0000[0x0002];
			var0002[0x0002] = var0000[0x0003];
			var0002[0x0003] = var0000[0x0004];
		} else {
			var0002 = var0000->get_object_position();
		}
		var0004 = UI_create_new_object(0x031D);
		var0004->set_item_frame(0x0004);
		var0004->set_item_flag(TEMPORARY);
		var0005 = var0004->set_item_quality(0x0096);
		var0005 = UI_update_last_created(var0002);
		var0006 = Func092D(var0004);
		var0007 = script AVATAR->get_npc_object() {
			face var0006;
		};
		if (!(var0002[0x0001] == var0003[0x0001])) {
			if (var0002[0x0001] < var0003[0x0001]) {
				var0003[0x0001] -= 0x0001;
			} else {
				var0003[0x0001] += 0x0002;
			}
		}
		if (!(var0002[0x0002] == var0003[0x0002])) {
			if (var0002[0x0002] < var0003[0x0002]) {
				var0003[0x0002] -= 0x0001;
			} else {
				var0003[0x0002] += 0x0002;
			}
		}
		var0008 = UI_create_new_object(0x037F);
		var0008->set_item_frame(0x0000);
		var0008->set_item_flag(TEMPORARY);
		if (UI_is_not_blocked(var0003, 0x02D1, 0x0000)) {
			var0005 = UI_update_last_created(var0003);
		} else {
			var0003[0x0003] += 0x0001;
			if (UI_is_not_blocked(var0003, 0x02D1, 0x0000)) {
				var0005 = UI_update_last_created(var0003);
			} else {
				var0003[0x0003] -= 0x0002;
				if (UI_is_not_blocked(var0003, 0x02D1, 0x0000)) {
					var0005 = UI_update_last_created(var0003);
				} else {
					UI_sprite_effect(ANIMATION_POOF, var0003[0x0001], var0003[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
					UI_play_sound_effect(0x002E);
					var0004->remove_item();
					return;
				}
			}
		}
		var0009 = script var0008 after 9 ticks {
			nohalt;
			call Func0708;
		};
		var000A = script var0008 {
			nohalt;
			call Func06FD;
		};
	}
	if (event == DOUBLECLICK) {
		var000B = AVATAR->get_npc_object()->find_nearby(0x031D, 0x0050, MASK_NONE);
		for (var000E in var000B with var000C to var000D) {
			var000F = var000E->get_item_quality();
			var0010 = var000E->get_item_frame();
			if (var000F == 0x0096) {
				if (var0010 == 0x0004) {
					UI_close_gumps();
					var0011 = AVATAR->get_npc_object()->get_object_position();
					UI_sprite_effect(ANIMATION_POOF, (var0011[0x0001] - 0x0001), (var0011[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
					UI_play_sound_effect(0x002E);
					return;
				}
			}
		}
		UI_close_gumps();
		var0012 = script item after 1 ticks {
			nohalt;
			call Func06FC;
		};
	}
}

extern var Func0887 0x887 (var var0000, var var0001, var var0002);
extern void Func0888 0x888 (var var0000);
extern void Func0708 object#(0x708) ();
extern void Func06FD object#(0x6FD) ();

void Func06FD object#(0x6FD) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (event == SCRIPTED) {
		var0000 = false;
		var0001 = false;
		var0002 = AVATAR->get_npc_object()->find_nearby(0x031D, 0x0050, MASK_NONE);
		for (var0005 in var0002 with var0003 to var0004) {
			var0006 = var0005->get_item_quality();
			var0007 = var0005->get_item_frame();
			if (var0006 == 0x0096) {
				if (var0007 == 0x0004) {
					var0000 = var0005;
					var0001 = var0005->get_object_position();
				}
			}
		}
		var0008 = get_object_position();
		var0009 = Func0887(var0008, var0001, var0000);
		if (!var0009) {
			var0000->remove_item();
			return;
		}
		var000A = UI_create_new_object(0x037F);
		var000A->set_item_frame(0x0000);
		var000A->set_item_flag(TEMPORARY);
		if (UI_is_not_blocked(var0009, 0x02D1, 0x0000)) {
			var000B = UI_update_last_created(var0009);
		} else {
			var0009[0x0003] += 0x0001;
			if (UI_is_not_blocked(var0009, 0x02D1, 0x0000)) {
				var000B = UI_update_last_created(var0009);
			} else {
				var0009[0x0003] -= 0x0002;
				if (UI_is_not_blocked(var0009, 0x02D1, 0x0000)) {
					var000B = UI_update_last_created(var0009);
				} else {
					UI_sprite_effect(ANIMATION_MEDIUM_BLAST, var0009[0x0001], var0009[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
					UI_play_sound_effect(0x0009);
					var000C = UI_create_new_object(0x0113);
					var000C->set_item_frame(0x0006);
					var000C->set_item_flag(TEMPORARY);
					var000B = var000C->set_item_quality(0x0097);
					var000B = UI_update_last_created(var0009);
					Func0888(var000C);
					var0000->remove_item();
					var000C->remove_item();
					return;
				}
			}
		}
		var000D = script var000A after 9 ticks {
			nohalt;
			call Func0708;
		};
		var0008 = var000A->get_object_position();
		var0009 = Func0887(var0008, var0001, var0000);
		if (!var0009) {
			var0000->remove_item();
			return;
		}
		var000A = UI_create_new_object(0x037F);
		var000A->set_item_frame(0x0000);
		var000A->set_item_flag(TEMPORARY);
		if (UI_is_not_blocked(var0009, 0x02D1, 0x0000)) {
			var000B = UI_update_last_created(var0009);
		} else {
			var0009[0x0003] += 0x0001;
			if (UI_is_not_blocked(var0009, 0x02D1, 0x0000)) {
				var000B = UI_update_last_created(var0009);
			} else {
				var0009[0x0003] -= 0x0002;
				if (UI_is_not_blocked(var0009, 0x02D1, 0x0000)) {
					var000B = UI_update_last_created(var0009);
				} else {
					UI_sprite_effect(ANIMATION_MEDIUM_BLAST, var0009[0x0001], var0009[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
					UI_play_sound_effect(0x0009);
					var000C = UI_create_new_object(0x0113);
					var000C->set_item_frame(0x0006);
					var000C->set_item_flag(TEMPORARY);
					var000B = var000C->set_item_quality(0x0097);
					var000B = UI_update_last_created(var0009);
					Func0888(var000C);
					var0000->remove_item();
					var000C->remove_item();
					return;
				}
			}
		}
		var000D = script var000A after 9 ticks {
			nohalt;
			call Func0708;
		};
		var000E = script var000A {
			nohalt;
			call Func06FD;
		};
	}
}

void Func0708 object#(0x708) () {
	remove_item();
}

void Func0709 object#(0x709) () {
	var var0000;

	var0000 = 0x0001;
}

extern void Func08E6 0x8E6 (var var0000);

void Func070A object#(0x70A) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;
	var var001F;
	var var0020;
	var var0021;
	var var0022;
	var var0023;
	var var0024;
	var var0025;
	var var0026;
	var var0027;
	var var0028;
	var var0029;
	var var002A;
	var var002B;
	var var002C;
	var var002D;

	if (event == EGG) {
		if (!get_item_quality()) {
			if (!gflags[0x033B]) {
				gflags[0x033B] = true;
				var0000 = find_nearest(0x009A, 0x0000);
				if (var0000) {
					var0001 = UI_create_new_object(0x0281);
					var0001->set_item_frame(0x0007);
					var0002 = var0001->set_item_quality(0x0041);
					var0002 = var0000->give_last_created();
					var0000->item_say("@I summon thee!@");
					var0002 = script AVATAR->get_npc_object() {
						wait 22;
					};
					var0002 = script var0000 {
						actor frame cast_up;
						wait 3;
						actor frame cast_out;
						wait 2;
						actor frame standing;
						wait 2;
						actor frame bowing;
						wait 1;
						actor frame kneeling;
						wait 3;
						continue;
						call Func070A;
						actor frame bowing;
						wait 2;
						actor frame standing;
					};
					var0003 = find_nearby(0x0150, 0x0014, MASK_NONE);
					for (var0001 in var0003 with var0004 to var0005) {
						if ((var0001->get_item_frame() == 0x0007) || (var0001->get_item_frame() == 0x0009)) {
							var0006 = UI_create_new_object(0x0152);
							var0006->set_item_frame(var0001->get_item_frame());
							var0002 = UI_update_last_created(var0001->get_object_position());
							var0001->remove_item();
						}
					}
					var0003 = find_nearby(0x0152, 0x0014, MASK_NONE);
					for (var0001 in var0003 with var0007 to var0008) {
						if (var0001->get_item_frame() == 0x0009) {
							var0009 = var0001->find_nearby(0x0113, 0x0001, MASK_EGG);
							for (var000C in var0009 with var000A to var000B) {
								if ((var000C->get_item_frame() == 0x0006) && (var000C->get_item_quality() == 0x00C9)) {
									var000D = UI_create_new_object(0x037F);
									var000D->set_item_frame(0x0000);
									var0002 = UI_update_last_created(var000C->get_object_position());
								}
							}
						}
					}
				}
			}
		} else if (gflags[0x033B]) {
			var0003 = find_nearby(0x0152, 0x0014, MASK_NONE);
			for (var0001 in var0003 with var000E to var000F) {
				if ((var0001->get_item_frame() == 0x0007) || (var0001->get_item_frame() == 0x0009)) {
					var0006 = UI_create_new_object(0x03E5);
					var0006->set_item_frame(var0001->get_item_frame());
					var0002 = UI_update_last_created(var0001->get_object_position());
					var0001->remove_item();
				}
			}
			var0003 = find_nearby(0x037F, 0x001E, MASK_EGG);
			for (var0001 in var0003 with var0010 to var0011) {
				var0001->remove_item();
			}
			var0003 = find_nearby(0x00A8, 0x001E, MASK_NONE);
			for (var0001 in var0003 with var0012 to var0013) {
				var0001->remove_item();
			}
			var0003 = find_nearby(0x0190, 0x000A, MASK_NONE);
			for (var0001 in var0003 with var0014 to var0015) {
				if (var0001->get_item_frame() == 0x001D) {
					Func08E6(var0001);
				}
			}
			var0003 = find_nearby(0x0113, 0x0000, MASK_EGG);
			for (var0001 in var0003 with var0016 to var0017) {
				if (var0001->get_item_frame() == 0x0000) {
					var0001->remove_item();
				}
			}
			var0003 = find_nearby(0x009A, 0x0001, MASK_NPC2);
			for (var0001 in var0003 with var0018 to var0019) {
				Func08E6(var0001);
			}
			remove_item();
		}
	}
	if (event == SCRIPTED) {
		if (get_item_shape() == 0x009A) {
			var001A = get_object_position() & (0x00C8 & 0x0006);
			var0003 = var001A->find_nearby(0x0113, 0x0014, MASK_EGG);
			if (var0003) {
				for (var0001 in var0003 with var001B to var001C) {
					var001A = var0001->get_object_position() & (QUALITY_ANY & 0x0000);
					var001D = var001A->find_nearby(0x0113, 0x0000, MASK_EGG);
					for (var0020 in var001D with var001E to var001F) {
						var0002 = script var0020 {
							finish;
							hatch;
						};
						var0002 = script AVATAR {
							nohalt;
							finish;
							call Func070A;
						};
					}
				}
			}
		}
		if ((get_item_shape() == 0x02D1) || (get_item_shape() == 0x03DD)) {
			var0001 = AVATAR->find_nearby(0x0162, 0x001E, MASK_NPC2);
			if (var0001) {
				var0021 = var0001->get_object_position();
				UI_sprite_effect(ANIMATION_DEATH_VORTEX, (var0021[0x0001] - 0x0002), (var0021[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_sprite_effect(ANIMATION_TELEPORT, (var0021[0x0001] - 0x0002), (var0021[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_play_sound_effect(0x0034);
				var0001->set_item_frame(0x0013);
				var0002 = script var0001 {
					face south;
					wait 5;
					call Func070A;
				};
			} else {
				var001A = var0001->get_object_position() & (QUALITY_ANY & 0x0006);
				var0003 = var0001->find_nearby(0x0113, 0x0000, MASK_EGG);
				for (var0001 in var0003 with var0022 to var0023) {
					var0002 = script var0001 {
						finish;
						hatch;
					};
					var0002 = script AVATAR {
						nohalt;
						finish;
						call Func070A;
					};
				}
			}
		}
		if (AVATAR->get_item_flag(DEAD)) {
			abort;
		}
		if (get_item_shape() == 0x0162) {
			var0024 = get_distance(AVATAR->get_npc_object());
			if ((var0024 < 0x0014) && AVATAR->get_npc_object()->get_item_flag(IN_DUNGEON)) {
				var0021 = get_object_position();
				UI_sprite_effect(ANIMATION_LIGHTNING, (var0021[0x0001] + 0x0003), (var0021[0x0002] + 0x0003), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				var0025 = UI_get_party_list();
				for (var0028 in var0025 with var0026 to var0027) {
					var0029 = "";
					var002A = UI_die_roll(0x0000, 0x0008);
					if (var002A == 0x0000) {
						var002B = new script {
							actor frame kneeling;
							actor frame bowing;
							actor frame standing;
						};
						var0029 = [var0029, var002B];
					}
					if (var002A == 0x0001) {
						var002B = new script {
							actor frame kneeling;
							actor frame standing;
							actor frame standing;
						};
						var0029 = [var0029, var002B];
					}
					if (var002A == 0x0002) {
						var002B = new script {
							actor frame bowing;
							actor frame sleeping;
							actor frame standing;
						};
						var0029 = [var0029, var002B];
					}
					if (var002A == 0x0003) {
						var002B = new script {
							actor frame standing;
							actor frame standing;
							actor frame standing;
						};
						var0029 = [var0029, var002B];
					}
					if (var002A == 0x0004) {
						var002B = new script {
							actor frame kneeling;
							actor frame ready;
							actor frame standing;
						};
						var0029 = [var0029, var002B];
					}
					if (var002A == 0x0005) {
						var002B = new script {
							actor frame ready;
							actor frame kneeling;
							actor frame standing;
						};
						var0029 = [var0029, var002B];
					}
					if (var002A == 0x0006) {
						var002C = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
						var002B = new script {
							face var002C;
							actor frame bowing;
							actor frame standing;
						};
						var0029 = [var0029, var002B];
					}
					if (var002A == 0x0007) {
						var002C = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
						var002B = new script {
							face var002C;
							actor frame kneeling;
							actor frame standing;
						};
						var0029 = [var0029, var002B];
					}
					if (var002A == 0x0008) {
						var002C = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
						var002B = new script {
							face var002C;
							actor frame ready;
							actor frame standing;
						};
						var0029 = [var0029, var002B];
					}
					var0028->halt_scheduled();
					var0002 = var0028->run_script(var0029);
				}
				UI_earthquake(0x0003);
				var002D = UI_die_roll(0x0005, 0x0014);
				var0002 = script item {
					actor frame ready;
					wait var002D;
					actor frame bowing;
					wait 1;
					actor frame kneeling;
					wait 2;
					actor frame bowing;
					wait 1;
					actor frame cast_up;
					wait 1;
					call Func070A;
				};
			} else {
				var002D = UI_die_roll(0x0005, 0x000F);
				var0002 = script item {
					actor frame ready;
					wait var002D;
					wait 10;
					call Func070A;
				};
			}
		}
	}
}

extern var Func0944 0x944 (var var0000);
extern var Func08E9 0x8E9 (var var0000);
extern var Func08EA 0x8EA (var var0000);

void Func070B object#(0x70B) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (!Func0944(item)) {
		var0000 = get_object_position();
		var0001 = false;
		var0002 = set_last_created();
		while (!AVATAR->get_npc_object()->give_last_created()) {
			var0002 = UI_update_last_created(var0000);
			var0003 = AVATAR->get_npc_object()->get_cont_items(ANY_SHAPE, QUALITY_ANY, FRAME_ANY);
			for (var0006 in var0003 with var0004 to var0005) {
				if (var0001 == 0x0000) {
					if (Func08E9(var0006)) {
						var0002 = var0006->set_last_created();
						var0007 = AVATAR->get_npc_object()->get_object_position();
						var0002 = UI_update_last_created(var0007);
					}
				}
				if (var0001 == 0x0001) {
					if (Func08EA(var0006)) {
						var0002 = var0006->set_last_created();
						var0007 = AVATAR->get_npc_object()->get_object_position();
						var0002 = UI_update_last_created(var0007);
					}
				}
				if (var0001 == 0x0002) {
					if (var0006->get_container() == AVATAR->get_npc_object()) {
						var0002 = var0006->set_last_created();
						var0007 = AVATAR->get_npc_object()->get_object_position();
						var0002 = UI_update_last_created(var0007);
					}
				}
			}
			var0001 += 0x0001;
			var0002 = set_last_created();
		}
	}
	var0008 = script item {
		finish;
		nohalt;
		call Func070B;
	};
}

void Func070C object#(0x70C) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0000 = find_nearest(0x025C, 0x0001);
	if (var0000) {
		var0001 = find_nearest(0x02D9, 0x0008);
		if (var0001) {
			var0002 = var0001->get_item_quality();
			if (var0002 == 0x0007) {
				var0003 = var0001->get_object_position();
				var0001->remove_item();
				var0000->remove_item();
				var0004 = UI_create_new_object(0x0281);
				var0004->set_item_frame(0x001E);
				var0005 = var0004->set_item_quality(0x0042);
				var0005 = UI_update_last_created(var0003);
				UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var0003[0x0001] - 0x0001), (var0003[0x0002] - 0x0002), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
				UI_play_sound_effect(0x0025);
			}
		}
	}
}

void Func070D object#(0x70D) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	var0000 = find_nearby(0x03A8, 0x0014, MASK_NONE);
	var0001 = find_nearby(0x012F, 0x0014, MASK_NONE);
	var0002 = get_item_quality();
	if (var0002) {
		var0003 = find_nearest(0x017F, 0x0000);
		var0004 = find_nearest(0x021D, 0x0000);
		if (var0003) {
			gflags[0x033E] = true;
			for (var0007 in var0001 with var0005 to var0006) {
				if (var0007->get_item_quality() == 0x000C) {
					var0008 = script var0007 {
						frame 4;
						sfx 33;
						repeat 3 {
							previous frame cycle;
						};
						call Func03A8;
					};
				}
			}
		} else {
			gflags[0x033E] = false;
			for (var0007 in var0000 with var0009 to var000A) {
				if (var0007->get_item_quality() == 0x000C) {
					var0008 = script var0007 {
						call Func012F;
						sfx 32;
						repeat 3 {
							next frame cycle;
						};
					};
				}
			}
			if (var0004) {
				UI_play_sound_effect(0x001C);
			} else {
				UI_play_sound_effect(0x001C);
			}
		}
	} else {
		var0004 = find_nearest(0x021D, 0x0000);
		var0003 = find_nearest(0x017F, 0x0000);
		if (var0004) {
			gflags[0x033D] = true;
			for (var0007 in var0001 with var000B to var000C) {
				if (var0007->get_item_quality() == 0x000B) {
					var0008 = script var0007 {
						frame 4;
						sfx 33;
						repeat 3 {
							previous frame cycle;
						};
						call Func03A8;
					};
				}
			}
		} else {
			gflags[0x033D] = false;
			for (var0007 in var0000 with var000D to var000E) {
				if (var0007->get_item_quality() == 0x000B) {
					var0008 = script var0007 {
						call Func012F;
						sfx 32;
						repeat 3 {
							next frame cycle;
						};
					};
				}
			}
			if (var0003) {
				UI_play_sound_effect(0x001C);
			} else {
				UI_play_sound_effect(0x001C);
			}
		}
	}
}

void Func070E object#(0x70E) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	var0000 = find_nearby(0x03A8, 0x0001, MASK_NONE);
	var0001 = find_nearby(0x012F, 0x0001, MASK_NONE);
	if (gflags[0x033D] && gflags[0x033E]) {
		for (var0004 in var0001 with var0002 to var0003) {
			var0005 = var0004->get_object_position();
			var0006 = var0004->get_item_quality();
			var0004->remove_item();
			var0007 = UI_create_new_object(0x03A8);
			var0007->set_item_frame(0x0000);
			var0008 = var0007->set_item_quality(var0006);
			var0008 = UI_update_last_created(var0005);
			return;
		}
	} else {
		if (gflags[0x033D]) {
			for (var0004 in var0001 with var0009 to var000A) {
				var0006 = var0004->get_item_quality();
				if (var0006 == 0x000B) {
					var0005 = var0004->get_object_position();
					var0004->remove_item();
					var0007 = UI_create_new_object(0x03A8);
					var0007->set_item_frame(0x0000);
					var0008 = var0007->set_item_quality(var0006);
					var0008 = UI_update_last_created(var0005);
				}
			}
			for (var0004 in var0000 with var000B to var000C) {
				var0006 = var0004->get_item_quality();
				if (var0006 == 0x000C) {
					var0005 = var0004->get_object_position();
					var0004->remove_item();
					var0007 = UI_create_new_object(0x012F);
					var0007->set_item_frame(0x0004);
					var0008 = var0007->set_item_quality(var0006);
					var0008 = UI_update_last_created(var0005);
					return;
				}
			}
		}
		if (gflags[0x033E]) {
			for (var0004 in var0001 with var000D to var000E) {
				var0006 = var0004->get_item_quality();
				if (var0006 == 0x000C) {
					var0005 = var0004->get_object_position();
					var0004->remove_item();
					var0007 = UI_create_new_object(0x03A8);
					var0007->set_item_frame(0x0000);
					var0008 = var0007->set_item_quality(var0006);
					var0008 = UI_update_last_created(var0005);
				}
			}
			for (var0004 in var0000 with var000F to var0010) {
				var0006 = var0004->get_item_quality();
				if (var0006 == 0x000B) {
					var0005 = var0004->get_object_position();
					var0004->remove_item();
					var0007 = UI_create_new_object(0x012F);
					var0007->set_item_frame(0x0004);
					var0008 = var0007->set_item_quality(var0006);
					var0008 = UI_update_last_created(var0005);
					// Bug? Maybe this should not be here.
					return;
				}
			}
		}
		for (var0004 in var0000 with var0011 to var0012) {
			var0005 = var0004->get_object_position();
			var0006 = var0004->get_item_quality();
			var0004->remove_item();
			var0007 = UI_create_new_object(0x012F);
			var0007->set_item_frame(0x0004);
			var0008 = var0007->set_item_quality(var0006);
			var0008 = UI_update_last_created(var0005);
			// Bug? Maybe this should not be here.
			break;
		}
	}
}

extern void Func08E6 0x8E6 (var var0000);
extern void Func06F7 object#(0x6F7) ();

void Func070F object#(0x70F) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;

	var0000 = get_item_shape();
	if (var0000 == 0x01D2) {
		var0001 = AVATAR->get_npc_object()->get_object_position();
		UI_sprite_effect(ANIMATION_LIGHTNING, var0001[0x0001], var0001[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_play_sound_effect(0x003E);
		var0002 = AVATAR->get_npc_object()->find_nearby(ANY_SHAPE, 0x0050, MASK_NPC2);
		for (var0005 in var0002 with var0003 to var0004) {
			var0006 = var0005->get_item_shape();
			if (!((var0006 == 0x02D1) || (var0006 == 0x03DD))) {
				if (var0005->get_alignment() == NEUTRAL) {
					var0005->set_alignment(EVIL);
					var0005->set_schedule_type(IN_COMBAT);
				}
			}
		}
		var0007 = get_object_position();
		var0008 = UI_create_new_object(0x019E);
		var0008->set_item_frame_rot(get_item_frame_rot());
		var0008->set_item_frame(0x001E);
		LORD_BRITISH->remove_npc();
		var0009 = UI_update_last_created(var0007);
		var000A = UI_create_new_object(0x031D);
		var000A->set_item_frame(0x0000);
		var0009 = var000A->set_item_quality(0x002B);
		var0009 = var0008->give_last_created();
		var000B = script var0008 {
			wait 5;
			frame 31;
			wait 2;
			frame 12;
		};
	} else {
		var000C = get_alignment();
		UI_play_sound_effect(0x0004);
		if (!get_item_flag(TEMPORARY)) {
			kill_npc();
			remove_npc();
			var0002 = AVATAR->get_npc_object()->find_nearby(ANY_SHAPE, 0x0050, MASK_NPC2);
			for (var0005 in var0002 with var000D to var000E) {
				var0006 = var0005->get_item_shape();
				if (!((var0006 == 0x02D1) || (var0006 == 0x03DD))) {
					if (var0005->get_alignment() == var000C) {
						var0005->set_alignment(EVIL);
						var0005->set_schedule_type(IN_COMBAT);
					}
				}
			}
		} else {
			var000F = get_cont_items(0x031D, QUALITY_ANY, 0x0004);
			if (var000F) {
				var0010 = var000F->get_item_quality();
				var0011 = false;
				if (var0010 == 0x00F0) {
					gflags[0x02EE] = true;
					var0012 = get_object_position();
					var0011 = UI_create_new_object(0x02FA);
					var0011->set_item_frame_rot(get_item_frame_rot());
					var0011->set_item_frame(0x0016);
					Func08E6(item);
					var0009 = UI_update_last_created(var0012);
				}
				if (var0010 == 0x00F1) {
					gflags[0x02EF] = true;
					var0012 = get_object_position();
					var0011 = UI_create_new_object(0x030A);
					var0011->set_item_frame_rot(get_item_frame_rot());
					var0011->set_item_frame(0x0007);
					Func08E6(item);
					var0009 = UI_update_last_created(var0012);
				}
				var0013 = UI_create_new_object(0x031D);
				var0013->set_item_flag(TEMPORARY);
				var0009 = var0013->set_item_quality(var0010);
				var0013->set_item_frame(0x0004);
				var0009 = var0011->give_last_created();
				var0014 = script var0013 after 1 ticks {
					finish;
					nohalt;
					call Func06F7;
				};
				var0002 = AVATAR->get_npc_object()->find_nearby(ANY_SHAPE, 0x0050, MASK_NPC2);
				for (var0005 in var0002 with var0015 to var0016) {
					var0006 = var0005->get_item_shape();
					if (!((var0006 == 0x02D1) || (var0006 == 0x03DD))) {
						if (var0005->get_alignment() == var000C) {
							var0005->set_alignment(EVIL);
							var0005->set_schedule_type(IN_COMBAT);
						}
					}
				}
			} else {
				kill_npc();
				var0002 = AVATAR->get_npc_object()->find_nearby(ANY_SHAPE, 0x0050, MASK_NPC2);
				for (var0005 in var0002 with var0017 to var0018) {
					var0006 = var0005->get_item_shape();
					if (!((var0006 == 0x02D1) || (var0006 == 0x03DD))) {
						if (var0005->get_alignment() == var000C) {
							var0005->set_alignment(EVIL);
							var0005->set_schedule_type(IN_COMBAT);
						}
					}
				}
			}
		}
	}
}

extern void Func08FE 0x8FE (var var0000);
extern var Func0814 0x814 ();
extern void Func08E6 0x8E6 (var var0000);
extern void Func08FF 0x8FF (var var0000);
extern void Func0714 object#(0x714) ();

void Func0710 object#(0x710) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;

	if (event == DOUBLECLICK) {
		UI_close_gumps();
		var0000 = find_nearby(0x03F7, 0x0028, MASK_NPC2);
		var0001 = false;
		var0002 = false;
		for (var0005 in var0000 with var0003 to var0004) {
			if (var0005->get_cont_items(0x031D, 0x00F3, 0x0004)) {
				var0001 = var0005;
			}
			if (var0005->get_cont_items(0x031D, 0x00F4, 0x0004)) {
				var0002 = var0005;
			}
		}
		if (gflags[0x031B] && (!gflags[0x031C])) {
			Func08FE("@All the golems are alive now.@");
			say("*");
			abort;
		}
		var0006 = false;
		var0007 = Func0814();
		if (!var0007) {
			Func08FE(["@The golem must be centered", "in the pentacle of stones.@"]);
		} else {
			var0000 = UI_find_nearby([0x09B7, 0x06C8, 0x0000], 0x014B, 0x000A, MASK_NONE);
			var0008 = 0x0000;
			for (var000B in var0000 with var0009 to var000A) {
				var000C = var000B->get_item_frame();
				if ((var000C >= 0x0000) && ((var000C <= 0x000A) && var000B->find_nearby(0x0390, 0x0002, MASK_ALL_UNSEEN))) {
					var0008 += 0x0001;
				}
			}
			if (var0008 >= 0x0005) {
				var0006 = true;
			}
			if (!var0006) {
				if ((var0008 > 0x0000) && (var0008 < 0x0005)) {
					var000D = " rock is";
					if (var0008 > 0x0001) {
						var000D = " rocks are";
					}
					var000E = (("@Only " + var0008) + var000D) + " covered.@";
					Func08FE(var000E);
				} else {
					Func08FE("@Blood must cover the rocks.@");
				}
			}
		}
		UI_play_sound_effect2(0x000E, item);
		book_mode();
		say("     Vas Flam Uus~~");
		say("This scroll will permit thee to perform the ritual necessary to either create, or reconstruct, stone creatures and instill within them the power of thought. First, gather the materials discussed in the previous chapters. After thou hast performed said task, thou shouldst refer back to this scroll and begin...");
		if (var0006 && var0007) {
			var000F = script AVATAR {
				nohalt;
				call Func0714;
				nop2;
			};
		}
	}
	if (event == SCRIPTED) {
		gflags[0x031C] = true;
		var0010 = get_object_position();
		Func08E6(item);
		var0011 = UI_create_new_object(0x019E);
		var0011->set_item_frame(0x0005);
		var0012 = UI_update_last_created(var0010);
		var0013 = UI_create_new_object(0x031D);
		var0012 = var0013->set_item_quality(0x00F4);
		var0013->set_item_frame(0x0004);
		var0012 = var0011->give_last_created();
		var0014 = UI_create_new_object(0x00CB);
		var0014->set_item_frame(0x000A);
		var0010[0x0001] += 0x0004;
		var0010[0x0002] -= 0x0001;
		var0010[0x0003] += 0x0002;
		var0012 = UI_update_last_created(var0010);
		Func08FF("@He gave up his heart... so that Adjhar may live!* Well, not to be morbid, but I suppose the incantation should work now.@");
		AVATAR->halt_scheduled();
	}
}

extern void Func08E6 0x8E6 (var var0000);

void Func0712 object#(0x712) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (event == EGG) {
		var0000 = UI_find_nearby_avatar(0x01F9);
		var0000 &= UI_find_nearby_avatar(0x03CA);
		if (var0000) {
			for (var0003 in var0000 with var0001 to var0002) {
				Func08E6(var0003);
			}
			remove_item();
		}
	}
}

void Func0713 object#(0x713) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0000 = item;
	if (event == SCRIPTED) {
		var0001 = var0000->get_object_position();
		UI_sprite_effect(ANIMATION_FIREWORKS, var0001[0x0001], var0001[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_play_sound_effect(0x003E);
		if (var0000->get_item_frame() == 0x0003) {
			var0000->set_item_frame(0x0002);
		}
		var0002 = var0000->find_nearby(0x0390, 0x0014, MASK_ALL_UNSEEN);
		for (var0005 in var0002 with var0003 to var0004) {
			UI_sprite_effect(ANIMATION_FIREWORKS, var0001[0x0001], var0001[0x0002], 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			UI_play_sound_effect(0x003E);
			var0005->remove_item();
		}
	}
}

extern var Func0814 0x814 ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func08FF 0x8FF (var var0000);
extern void Func0904 0x904 (var var0000, var var0001);
extern var Func092D 0x92D (var var0000);

void Func0714 object#(0x714) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	var0000 = find_nearby(0x03F7, 0x0028, MASK_NPC2);
	var0001 = false;
	var0002 = false;
	for (var0005 in var0000 with var0003 to var0004) {
		if (var0005->get_cont_items(0x031D, 0x00F3, 0x0004)) {
			var0001 = var0005;
			var0006 = var0001;
		}
		if (var0005->get_cont_items(0x031D, 0x00F4, 0x0004)) {
			var0002 = var0005;
			var0006 = var0002;
		}
	}
	if (event == SCRIPTED) {
		var0007 = false;
		var0008 = Func0814();
		for (var000B in var0008 with var0009 to var000A) {
			var0007 = var000B->get_cont_items(0x00CB, QUALITY_ANY, 0x000A);
			if (var0007) {
				break;
			}
		}
		if (!var0007) {
			var000C = AVATAR->get_object_position() & (QUALITY_ANY & 0x000A);
			var0000 = var000C->find_nearby(0x00CB, 0x001E, MASK_NONE);
			if (var0000 || Func0931(PARTY, 0x0001, 0x00CB, QUALITY_ANY, 0x000A)) {
				Func08FF("@The heart must be placed in the body.@");
				abort;
			}
			Func08FF("@According to the tome, a `heart' will be necessary to perform this ritual.@");
			if (!gflags[0x031C]) {
				0xFEDF->say("\"I will give him mine!\"");
				0xFEDF->hide();
				var000D = script AVATAR {
					wait 500;
				};
				var0000 = find_nearby(0x019E, 0x0050, MASK_NONE);
				for (var0005 in var0000 with var000E to var000F) {
					if (var0005->get_cont_items(0x031D, 0x00F3, 0x0004)) {
						0xFEDF->say("You watch in stunned horror as Bollux pierces his chest open with his fingers.");
						0xFEDF->hide();
						var0010 = var0002->direction_from(var0005);
						0xFEDF->say("He pulls forth a heart-shape stone and, with a final flurry of action, drops the stone upon Adjhar's chest as he falls dead to the ground.");
						0xFEDF->hide();
						var0011 = script var0002 {
							face var0010;
							wait 2;
							actor frame kneeling;
							wait 2;
							actor frame cast_up;
							wait 2;
							actor frame sleeping;
							wait 1;
							call Func0710;
						};
						return;
					}
				}
			}
			abort;
		}
		Func0904(AVATAR, ["@In Ylem...@", "@In Grav...@", "@In Mani...@", "@Kal Por...@", "@Vas Flam Uus...@"]);
		var0010 = Func092D(var0007);
		var0012 = script AVATAR {
			face var0010;
			wait 1;
			repeat 1 {
				actor frame kneeling;
				wait 3;
				actor frame standing;
				wait 3;
				actor frame cast_out;
				wait 3;
				actor frame standing;
				wait 2;
				actor frame kneeling;
				wait 3;
				actor frame standing;
				wait 3;
				actor frame cast_up;
				wait 3;
				actor frame standing;
				wait 2;
			};
			actor frame cast_up;
			wait 2;
			actor frame strike_1h;
			wait 1;
			actor frame bowing;
			wait 1;
			actor frame standing;
		};
		var0012 = script var0007 after 76 ticks {
			call Func062C;
			nop2;
		};
	}
}

void Func0715 object#(0x715) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	var0000 = AVATAR->find_nearby(0x03F7, 0x0028, MASK_NPC2);
	var0001 = false;
	for (var0004 in var0000 with var0002 to var0003) {
		if (var0004->get_cont_items(0x031D, 0x00F3, 0x0004)) {
			var0001 = var0004;
		}
		if (var0004->get_cont_items(0x031D, 0x00F4, 0x0004)) {
			var0001 = var0004;
		}
	}
	if (var0001) {
		var0005 = script var0001 {
			wait 3;
			face FACE_SOUTH;
			actor frame kneeling;
			wait 2;
			actor frame standing;
		};
		var0006 = var0001->get_object_position();
		UI_sprite_effect(ANIMATION_LIGHTNING, var0006[0x0001], var0006[0x0002], 0x0000, 0x0000, 0x0000, 0x0001);
		UI_play_sound_effect(0x003E);
		UI_lightning();
	}
	var0000 = AVATAR->find_nearby(0x0390, 0x0028, MASK_ALL_UNSEEN);
	for (var0009 in var0000 with var0007 to var0008) {
		var000A = var0009->get_object_position();
		var000B = UI_create_new_object(0x037F);
		var000C = UI_update_last_created(var000A);
		var0009->remove_item();
		var0005 = script var000B after UI_die_roll(0x0032, 0x0096) ticks {
			nohalt;
			finish;
			remove;
		};
	}
	var0001->set_schedule_type(WAIT);
}

void Func0716 object#(0x716) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	gflags[0x0326] = false;
	var0000 = AVATAR->find_nearby(0x03F7, 0x0028, MASK_NPC2);
	var0001 = false;
	for (var0004 in var0000 with var0002 to var0003) {
		if (var0004->get_cont_items(0x031D, 0x00F3, 0x0004)) {
			var0001 = var0004;
		}
		if (var0004->get_cont_items(0x031D, 0x00F4, 0x0004)) {
			var0001 = var0004;
		}
	}
	if (var0001) {
		var0001->set_item_frame(0x001D);
	}
	var0005 = script AVATAR after 10 ticks {
		nohalt;
		call Func0715;
	};
}

extern void Func0838 0x838 (var var0000);

void Func0717 object#(0x717) () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (get_item_shape() == 0x029C) {
		var0000 = get_object_position();
		var0001 = set_last_created();
		if (!AVATAR->get_npc_object()->give_last_created()) {
			if (UI_update_last_created(var0000)) {
				UI_flash_mouse(CURSOR_WONT_FIT);
			}
		}
	} else {
		var0002 = get_cont_items(0x029C, QUALITY_ANY, FRAME_ANY);
		var0003 = var0002->get_container();
		var0001 = var0002->set_last_created();
		if (!AVATAR->get_npc_object()->give_last_created()) {
			if (var0003->give_last_created()) {
				UI_flash_mouse(CURSOR_WONT_FIT);
			}
		}
	}
	Func0838(item);
}

extern var Func0900 0x900 ();
extern var Func0801 0x801 (var var0000);
extern void Func0624 object#(0x624) ();
extern var Func093C 0x93C (var var0000, var var0001);

void Func0800 0x800 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_close_gumps();
	gflags[0x02E8] = false;
	var0001 = Func0900();
	if (UI_in_combat()) {
		var0001->show_npc_face(0x0000);
		var0002 = var0001->get_npc_name();
		if (var0001 == AVATAR) {
			say("\"This is no time to sleep! Look alive!\"");
		} else {
			say(var0002,
				" glares. \"This is no time to sleep! Look alive!\"");
		}
		if (Func0801(var0000)) {
			var0000->Func0624();
		}
		var0001->hide();
	} else {
		var0003 = var0000->get_item_frame();
		var0004 = var0000->get_item_shape();
		if ((var0003 > 0x0003) && (!Func0801(var0000))) {
			var0005 = var0000->get_object_position();
			var0006 = var0000->find_nearby(var0004, 0x0002, MASK_NONE);
			for (var0009 in var0006 with var0007 to var0008) {
				if (var0009->get_item_frame() <= 0x0002) {
					var000A = var0009->get_object_position();
					if ((var000A[0x0001] == var0005[0x0001]) && ((var000A[0x0002] == var0005[0x0002]) && ((var000A[0x0003] + 0x0001) == var0005[0x0003]))) {
						var0000 = var0009;
					}
				}
			}
		}
		if (Func0801(item)) {
			var000B = script AVATAR {
				nohalt;
				music 30, 0;
			};
		}
		var000C = Func093C(AVATAR->get_npc_object(), UI_get_party_list());
		AVATAR->set_schedule_type(SLEEP);
		var0000->nap_time();
	}
}

var Func0801 0x801 (var var0000) {
	var var0001;
	var var0002;

	var0001 = var0000->get_item_frame();
	var0002 = var0000->get_item_shape();
	if ((var0001 == 0x0011) && (var0002 == 0x03F3)) {
		return true;
	}
	return false;
}

var Func0802 0x802 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = [];
	for (var0005 in var0001 with var0003 to var0004) {
		if (!(var0005 == var0000)) {
			var0002 &= var0005;
		}
	}
	return var0002;
}

extern void Func0808 0x808 ();
extern void Func0804 0x804 (var var0000, var var0001, var var0002);

void Func0803 0x803 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0001 = var0000->find_nearby(0x00E6, 0x0028, MASK_NONE);
	if (var0001->get_item_flag(ASLEEP)) {
		var0001 = 0x0000;
	}
	if ((!gflags[0x0003]) && (!var0001)) {
		var0000->set_item_shape(0x03D5);
		gflags[0x0003] = true;
		var0002 = [0x0AB7, 0x0375, 0x0000];
		var0000->move_object(var0002);
		var0002[0x0002] += 0x0002;
		AVATAR->move_object(var0002);
		Func0808();
		var0003 = 0x00C8;
		var0004 = 0x0001;
		var0005 = QUALITY_ANY;
		Func0804(var0003, var0004, var0005);
		var0006 = script AVATAR after 8 ticks {
			nohalt;
			call Func061E;
		};
	}
}

void Func0804 0x804 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	var0003 = AVATAR->find_nearby(var0000, 0x001E, MASK_EGG);
	var0004 = 0x0000;
	for (var0007 in var0003 with var0005 to var0006) {
		var0008 = var0007->get_item_frame();
		var0009 = var0007->get_item_quality();
		if ((var0008 == var0001) && ((var0009 == var0002) || (var0002 == QUALITY_ANY))) {
			var0004 = var0007;
		}
	}
	if (var0004) {
		var0004->remove_item();
	}
}

extern void Func0808 0x808 ();

void Func0805 0x805 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (!gflags[0x0004]) {
		var0000->set_item_shape(0x03D5);
		var0001 = [0x0217, 0x0460, 0x0000];
		var0000->move_object(var0001);
		var0001[0x0002] += 0x0002;
		AVATAR->move_object(var0001);
		Func0808();
		var0002 = AVATAR->find_nearby(0x0308, 0x000A, MASK_EGG);
		for (var0005 in var0002 with var0003 to var0004) {
			var0005->remove_item();
		}
		var0006 = script AVATAR after 8 ticks {
			nohalt;
			call Func061B;
		};
		gflags[0x0004] = true;
	}
}

void Func0806 0x806 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	var0002 = var0001->get_object_position();
	var0003 = var0002->find_nearby(var0000, 0x0014, MASK_ALL_UNSEEN);
	var0003 &= var0002->find_nearby(var0000 + 0x0001, 0x0014, MASK_ALL_UNSEEN);
	var0003 &= var0002->find_nearby(var0000 + 0x0002, 0x0014, MASK_ALL_UNSEEN);
	var0003 &= var0002->find_nearby(var0000 + 0x0003, 0x0014, MASK_ALL_UNSEEN);
	for (var0006 in var0003 with var0004 to var0005) {
		var0007 = script var0006 {
			repeat 6 {
				next frame cycle;
			};
			call Func03C8;
		};
	}
	UI_earthquake(0x0007);
}

extern void Func0808 0x808 ();

void Func0807 0x807 (var var0000) {
	var var0001;
	var var0002;

	if (!gflags[0x0005]) {
		var0000->set_item_shape(0x03D5);
		var0001 = [0x06E7, 0x0AE0, 0x0000];
		var0000->move_object(var0001);
		var0001[0x0002] += 0x0002;
		AVATAR->move_object(var0001);
		Func0808();
		var0002 = script AVATAR after 8 ticks {
			nohalt;
			call Func061D;
		};
		gflags[0x0005] = true;
	}
}

extern var Func093C 0x93C (var var0000, var var0001);

void Func0808 0x808 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = Func093C(AVATAR->get_npc_object(), UI_get_party_list());
	var0001 = AVATAR->get_npc_object()->get_schedule_type();
	for (var0004 in var0000 with var0002 to var0003) {
		gflags[0x0039] = false;
		var0004->set_schedule_type(var0001);
	}
}

extern void Func0904 0x904 (var var0000, var var0001);
extern var Func080D 0x80D ();
extern var Func08B3 0x8B3 (var var0000);
extern void Func08FF 0x8FF (var var0000);

void Func0809 0x809 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0001 = var0000->get_barge();
	if (var0001) {
		if (var0000->get_item_flag(ON_MOVING_BARGE)) {
			var0000->clear_item_flag(ON_MOVING_BARGE);
			var0000->clear_item_flag(ACTIVE_BARGE);
			Func0904(AVATAR, "@Whoa!@");
		} else {
			var0002 = var0000->find_nearby(0x031C, 0x0010, MASK_NONE);
			if (var0002) {
				var0003 = PARTY->count_objects(0x031D, var0002->get_item_quality(), FRAME_ANY);
				if (var0003) {
					if (Func080D()) {
						var0000->set_item_flag(ON_MOVING_BARGE);
						var0001->set_item_flag(ACTIVE_BARGE);
						Func0904(AVATAR, "@Giddy-up!@");
					} else {
						var0004 = Func08B3(var0000);
					}
				} else if (UI_get_array_size(UI_get_party_list()) == 0x0001) {
					Func08FF("@The title for this cart must first be purchased.@");
				} else {
					Func08FF("@We must first purchase the title for this cart.@");
				}
			}
		}
	}
}

void Func080A 0x80A (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;

	var0002 = [];
	var0003 = AVATAR->find_nearby(var0001, 0x000F, MASK_NONE);
	for (var0006 in var0003 with var0004 to var0005) {
		var0007 = 0x0000;
		var0008 = 0x270F;
		for (var000B in var0003 with var0009 to var000A) {
			var0007 += 0x0001;
			if ((var000B != 0x0000) && (var000B != var0000)) {
				var000C = var0000->get_distance(var000B);
				if (var000C < var0008) {
					var0008 = var000C;
					var000D = var0007;
				}
			}
		}
		var0002 &= var0003[var000D];
		var0003[var000D] = 0x0000;
	}
	AVATAR->sit_down(var0000);
	var000E = UI_get_array_size(var0002);
	var000F = UI_get_party_list();
	var0007 = 0x0002;
	for (var0012 in var000F with var0010 to var0011) {
		if ((var0007 - 0x0001) > var000E) {
			break;
		}
		if (!(var0012->get_schedule_type() == MAJOR_SIT)) {
			var0013 = var0007 - 0x0001;
			var0012->sit_down(var0002[var0013]);
		}
		var0007 += 0x0001;
	}
}

var Func080B 0x80B (var var0000) {
	if (var0000 < 0x0005) {
		var0000 += 0x0002;
		return var0000;
	}
	if (var0000 == 0x0005) {
		if (gflags[0x02E7]) {
			var0000 = 0x0007;
		} else {
			var0000 = 0x0001;
		}
		return var0000;
	}
	if (var0000 > 0x0005) {
		var0000 = 0x0001;
		return var0000;
	}
	return 0;
}

var Func080C 0x80C (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	var0001 = find_nearby(SHAPE_ANY, 0x0002, MASK_NONE);
	var0002 = [0x0348];
	var0003 = [0x031C, 0x028C, 0x0294, 0x0305, 0x0306, 0x02F5, 0x012D];
	for (var0006 in var0001 with var0004 to var0005) {
		var0007 = var0006->get_item_shape();
		if (var0007 in var0002) {
			return 0x0348;
		}
		if (var0007 in var0003) {
			return 0x028C;
		}
	}
	return 0x00C7;
}

var Func080D 0x80D () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = UI_get_party_list();
	for (var0003 in var0000 with var0001 to var0002) {
		var0004 = var0003->get_item_frame();
		if ((!(var0004 == 0x000A)) && (!(var0004 == 0x001A))) {
			return false;
		}
	}
	return true;
}

extern void Func08FF 0x8FF (var var0000);

var Func080E 0x80E (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	for (var0003 in var0000 with var0001 to var0002) {
		if (var0003->get_item_shape() == 0x0366) {
			var0004 = var0003->get_object_position();
			var0005 = var0004[0x0001];
			var0006 = var0004[0x0002];
			var0007 = var0004[0x0003];
			var0008 = var0003->find_nearby(SHAPE_ANY, 0x000A, MASK_NONE);
			for (var000B in var0008 with var0009 to var000A) {
				var0004 = var000B->get_object_position();
				if (var0004[0x0003] > var0007) {
					if ((var0004[0x0001] <= var0005) && (var0004[0x0001] >= (var0005 - 0x0003))) {
						if ((var0004[0x0002] <= var0006) && (var0004[0x0002] >= (var0006 - 0x0006))) {
							Func08FF("I believe the bridge is blocked.");
							return false;
						}
					}
				}
			}
		}
	}
	for (var0003 in var0000 with var000C to var000D) {
		if (var0003->get_item_shape() == 0x0366) {
			var000E = script var0003 {
				frame 0;
				continue;
				sfx 34;
				frame 1;
				continue;
				sfx 34;
				call Func0611;
				continue;
				frame 0;
				continue;
				sfx 34;
			};
		} else {
			var000E = script var0003 {
				frame 0;
				continue;
				sfx 34;
				call Func0611;
				continue;
				frame 1;
				continue;
				sfx 34;
				frame 0;
				continue;
				sfx 34;
			};
		}
	}
	if (UI_get_array_size(var0000) == 0x0000) {
		return false;
	}
	return true;
}

void Func080F 0x80F () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	if (event == EGG) {
		var0000 = find_nearby(0x0363, 0x000F, MASK_NONE);
		var0001 = find_nearby(0x0152, 0x000F, MASK_NONE);
		var0002 = find_nearby(0x0150, 0x000F, MASK_NONE);
		var0003 = find_nearby(0x032A, 0x000F, MASK_ALL_UNSEEN);
		var0004 = find_nearby(0x0390, 0x000F, MASK_TRANSLUCENT);
		var0005 = find_nearby(0x027C, 0x000F, MASK_NONE);
		var0006 = find_nearby(0x00A8, 0x000F, MASK_ALL_UNSEEN);
		var0007 = [var0000, var0001, var0002, var0003, var0004, var0005, var0006];
		for (var000A in var0007 with var0008 to var0009) {
			var000A->remove_item();
		}
	}
}

void Func0810 0x810 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	if (var0000 == 0x0000) {
		var0000 = 0x0170;
		var0002 = 0x0008;
	} else {
		var0000 = 0x0171;
		var0002 = 0x0005;
	}
	var0003 = get_object_position();
	var0003 &= [get_item_quality(), 0x0006];
	var0004 = var0003->find_nearby(0x0113, 0x0050, MASK_EGG);
	var0005 = 0x0000;
	for (var0008 in var0004 with var0006 to var0007) {
		var0005 += 0x0001;
		var0003 = var0008->get_object_position();
		var0009 = var0003->find_nearby(var0000, 0x0001, MASK_NONE);
		if (var0001 == 0x0001) {
			if (var0009) {
				var000A = var0009->set_last_created();
				var000A = UI_update_last_created(FLAG_DESTROY);
				UI_play_sound_effect(0x000A);
			}
		} else if (var0009 == 0x0000) {
			var000B = UI_create_new_object(var0000);
			var000B->set_item_frame(var0002);
			var000A = UI_update_last_created(var0003);
			var000A = var0009->set_last_created();
			var000A = UI_update_last_created(FLAG_DESTROY);
			UI_play_sound_effect(0x0053);
		}
	}
}

extern var Func093C 0x93C (var var0000, var var0001);

void Func0811 0x811 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = Func093C(AVATAR->get_npc_object(), UI_get_party_list());
	for (var0003 in var0000 with var0001 to var0002) {
		gflags[0x0039] = true;
		var0003->set_schedule_type(WAIT);
	}
}

void Func0812 0x812 (var var0000) {
	var var0001;
	var var0002;
	var var0003;

	var0001 = AVATAR->get_barge();
	if (UI_on_barge()) {
		var0002 = var0000->get_object_position();
		var0003 = script var0000 {
			repeat 15 {
				rise;
				nop;
			};
		};
		UI_play_music(0x0019, 0x0000);
		0x0002->set_item_flag(ON_MOVING_BARGE);
		var0001->set_item_flag(ACTIVE_BARGE);
	}
}

extern void Func08FA 0x8FA (var var0000);
extern void Func0925 0x925 (var var0000);
extern var Func0937 0x937 (var var0000);

void Func0813 0x813 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	var0003 = UI_click_on_item();
	var0004 = UI_get_party_list();
	if ((var0003 in var0004) && ((!var0003->get_item_flag(ASLEEP)) && ((!var0003->get_item_flag(PARALYZED)) && (!var0003->get_item_flag(DEAD))))) {
		var0005 = var0003->get_npc_prop(FOODLEVEL);
		var0006 = var0005 + var0001;
		if (var0005 > 24) {
			var0007 = "@No, thank thee.@";
		} else {
			Func08FA(var0000);
			UI_play_sound_effect2(var0002, item);
			Func0925(var0000);
			var0008 = UI_die_roll(0x0001, 0x000A);
			if (var0005 <= 0x0004) {
				if (var0006 <= 0x0004) {
					var0007 = "@More!@";
					if (var0008 < 0x0006) {
						var0007 = "@I must have more!@";
					}
				} else if (var0006 < 0x000A) {
					var0007 = "@I am still hungry.@";
					if (var0008 < 0x0006) {
						if (!(var0003 == AVATAR->get_npc_object())) {
							var0007 = "@May I have some more?@";
						}
					}
				} else if (var0006 < 0x0014) {
					if (var0000->get_item_shape() == 0x034A) {
						var0007 = "@Yum, garlic!@";
					} else {
						var0007 = "@Ah yes, much better.@";
					}
				} else {
					var0007 = "@That hit the spot!@";
					if (var0008 < 0x0006) {
						var0007 = "@Burp@";
					}
				}
			} else if (var0005 < 0x0014) {
				if (var0000->get_item_shape() == 0x034A) {
					var0007 = "@Yum, garlic!@";
				}
				var0007 = "@Ahh, very tasty.@";
				if ((var0006 > 0x0018) && (var0008 < 0x0003)) {
					var0007 = "@Belch@";
				}
			} else if (gflags[0x009B] && (var0008 < 0x0002)) {
				var0007 = "@I'll soon be plump.@";
			} else if (var0008 < 0x0005) {
				var0007 = "@I'll soon be plump.@";
			}
		}
		if (!(var0007 == "")) {
			if (Func0937(var0003)) {
				var0003->item_say(var0007);
			}
		}
		var0009 = var0003->set_npc_prop(FOODLEVEL, var0001);
	}
}

var Func0814 0x814 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0000 = [];
	var0001 = AVATAR->find_nearby(0x019E, 0x0028, MASK_NONE);
	for (var0004 in var0001 with var0002 to var0003) {
		var0005 = var0004->get_object_position();
		if ((var0005[0x0001] >= (0x09B7 - 0x0008)) && (var0005[0x0001] <= (0x09B7 + 0x0008))) {
			if ((var0005[0x0002] >= (0x06C8 - 0x0008)) && ((var0005[0x0002] <= (0x06C8 + 0x0008)) && ((var0004->get_item_frame() == 0x0004) || (var0004->get_item_frame() == 0x0005)))) {
				var0000 &= var0004;
			}
		}
	}
	return var0000;
}

extern var Func081B 0x81B (var var0000);
extern void Func08FF 0x8FF (var var0000);
extern void Func081C 0x81C (var var0000, var var0001);

void Func0815 0x815 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0001 = Func081B(var0000);
	var0002 = get_item_quality();
	var0003 = -1;
	if (var0001 == 0x0000) {
		if (var0002 == 0x00E4) {
			gflags[0x02E1] = false;
		}
		if (var0002 == 0x00F7) {
			gflags[0x02E2] = false;
		}
		var0003 = 2;
	}
	if (var0001 == 0x0001) {
		var0004 = "@Excuse me, the door is already open. " + "Is it not rather futile to lock it now?@";
		Func08FF(var0004);
	}
	if (var0001 == 0x0002) {
		if (var0002 == 0x00E4) {
			gflags[0x02E1] = true;
		}
		if (var0002 == 0x00F7) {
			gflags[0x02E2] = true;
		}
		var0003 = 0;
	}
	if (var0001 == 0x0003) {
		if (UI_die_roll(0x0001, 0x000A) == 0x0001) {
			var0004 = "@Excuse me, the door appears magically locked. " + "Is it not rather difficult to unlock it with a key?@";
			Func08FF(var0004);
		}
	}
	if (var0003 != -1) {
		Func081C(var0000, var0003);
	}
}

extern var Func0820 0x820 (var var0000);
extern var Func081F 0x81F (var var0000);
extern void Func0817 0x817 (var var0000);
extern void Func010E shape#(0x10E) ();

void Func0816 0x816 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;
	var var001F;
	var var0020;
	var var0021;

	var0001 = false;
	var0002 = var0000->get_item_quality();
	if (var0002 == 0x0000) {
		var0003 = UI_find_nearby_avatar(0x020E);
		for (var0006 in var0003 with var0004 to var0005) {
			var0006->set_item_shape(0x0379);
			var0007 = var0006->find_nearby(0x01B8, 0x000A, MASK_TRANSLUCENT);
			var0008 = var0006->get_object_position();
			var0009 = [(var0008[0x0001] + 0x0003), (var0008[0x0002] + 0x0003), var0008[0x0003]];
			for (var000C in var0007 with var000A to var000B) {
				var000D = var000C->get_object_position();
				if (var0009[0x0001] == var000D[0x0001]) {
					if (var0009[0x0002] == var000D[0x0002]) {
						var000C->remove_item();
					}
				}
			}
		}
		var0003 = UI_find_nearby_avatar(0x0379);
		for (var0006 in var0003 with var000E to var000F) {
			var0006->set_item_shape(0x020E);
			var0007 = UI_create_new_object(0x01B8);
			if (var0007) {
				var0008 = var0006->get_object_position();
				var0001 = UI_update_last_created([(var0008[0x0001] + 0x0003), (var0008[0x0002] + 0x0003), var0008[0x0003]]);
			}
		}
		var0001 = true;
	}
	if ((var0002 >= 0x0001) && (var0002 < 0x00FB)) {
		var0010 = var0000->find_nearby(0x034D, 0x0050, MASK_NONE) & var0000->find_nearby(0x033C, 0x0050, MASK_NONE);
		for (var0013 in var0010 with var0011 to var0012) {
			if (var0002 == var0013->get_item_quality()) {
				if (var0013->get_item_shape() == 0x034D) {
					var0001 = Func0820(var0013);
				} else {
					var0001 = Func081F(var0013);
				}
			}
		}
	}
	if (var0002 == 0x00FB) {
		if (gflags[0x02E4]) {
			var0014 = [0x0000, 0x0001, 0x0000];
		}
		if (gflags[0x02E5]) {
			var0014 = [0x0000, 0x0000, 0x0001];
		}
		if (gflags[0x02E6]) {
			var0014 = [0x0001, 0x0000, 0x0000];
		}
		if ((!gflags[0x02E4]) && ((!gflags[0x02E5]) && (!gflags[0x02E6]))) {
			var0014 = [0x0000, 0x0000, 0x0001];
		}
		Func0817(var0014);
		var0001 = true;
	}
	if (var0002 == 0x00FD) {
		if (gflags[0x02E4]) {
			var0014 = [0x0000, 0x0000, 0x0001];
		}
		if (gflags[0x02E5]) {
			var0014 = [0x0001, 0x0000, 0x0000];
		}
		if (gflags[0x02E6]) {
			var0014 = [0x0000, 0x0001, 0x0000];
		}
		if ((!gflags[0x02E4]) && ((!gflags[0x02E5]) && (!gflags[0x02E6]))) {
			var0014 = [0x0001, 0x0000, 0x0000];
		}
		Func0817(var0014);
		var0001 = true;
	}
	if (var0002 == 0x00FC) {
		var0001 = false;
		var0015 = 0x0000;
		if (gflags[0x02E4]) {
			var0015 = 0x00E6;
		}
		if (gflags[0x02E5]) {
			var0015 = 0x00DC;
		}
		if (gflags[0x02E6]) {
			var0015 = 0x00D2;
		}
		var0010 = UI_find_nearby(var0000->get_object_position(), 0x033C, 0x003C, MASK_NONE);
		for (var0013 in var0010 with var0016 to var0017) {
			var0018 = var0013->get_item_quality();
			if (((var0018 == 0x00E6) || ((var0018 == 0x00DC) || (var0018 == 0x00D2))) && (!(var0018 == var0015))) {
				var0001 = Func081F(var0013);
			}
		}
		var0019 = var0000->get_object_position();
		var0010 = var0019->find_nearby(0x034D, 0x003C, MASK_NONE);
		var001A = var0019->find_nearby(0x03B5, 0x003C, MASK_NONE);
		for (var0013 in var0010 with var001B to var001C) {
			if (var0013->get_item_quality() == var0015) {
				var0001 = Func0820(var0013);
			}
		}
		for (var001F in var001A with var001D to var001E) {
			if (var001F->get_item_quality() == var0015) {
				var0001 = script var001F {
					sfx 32;
					frame 1;
					repeat 6 {
						next frame cycle;
					};
				};
				var0001 = true;
			}
		}
		var0020 = UI_find_nearby(var0000->get_object_position(), 0x010E, 0x000C, MASK_NONE);
		if (!(var0020 == 0x0000)) {
			var0020->Func010E();
		}
	}
	if (var0001) {
		var0021 = var0000->get_item_frame();
		if ((var0021 % 0x0002) == 0x0000) {
			var0000->set_item_frame(var0021 + 0x0001);
		} else {
			var0000->set_item_frame(var0021 - 0x0001);
		}
		UI_play_sound_effect2(0x001C, item);
	} else {
		UI_flash_mouse(CURSOR_HAND);
	}
}

void Func0817 0x817 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	gflags[0x02E4] = var0000[0x0001];
	gflags[0x02E5] = var0000[0x0002];
	gflags[0x02E6] = var0000[0x0003];
	var0001 = AVATAR->find_nearby(0x03B5, 0x000F, MASK_NONE);
	if (gflags[0x02E4]) {
		var0002 = 0x00E6;
	}
	if (gflags[0x02E5]) {
		var0002 = 0x00DC;
	}
	if (gflags[0x02E6]) {
		var0002 = 0x00D2;
	}
	for (var0005 in var0001 with var0003 to var0004) {
		if (var0005->get_item_quality() == var0002) {
			var0006 = script var0005 {
				frame 1;
				continue;
				nohalt;
				sfx 16;
				nop;
				frame 0;
			};
		}
	}
}

extern void Func08FF 0x8FF (var var0000);

void Func0818 0x818 () {
	Func08FF("@The door appears blocked.@");
}

void Func0819 0x819 (var var0000) {
	var0000->item_say("Locked");
}

void Func081A 0x81A (var var0000) {
	var0000->item_say("Magically Locked");
}

var Func081B 0x81B (var var0000) {
	return (var0000->get_item_frame() % 0x0004);
}

void Func081C 0x81C (var var0000, var var0001) {
	var var0002;
	var var0003;

	var0002 = var0000->get_item_frame();
	var0003 = var0002 % 0x0004;
	var0000->set_item_frame((var0002 - var0003) + var0001);
}

extern void Func081C 0x81C (var var0000, var var0001);

var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005) {
	var var0006;
	var var0007;

	Func081C(var0000, var0002);
	var0000->set_item_shape(var0001);
	var0006 = var0000->get_object_position();
	var0006[0x0001] += var0003;
	var0006[0x0002] += var0004;
	if (var0000->set_last_created()) {
		var0007 = UI_update_last_created(var0006);
	}
	return true;
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);

void Func081E 0x81E (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006, var var0007, var var0008) {
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	var0009 = var0000->get_object_position();
	var000A = var0009[var0003];
	var000B = var0000->find_nearby(var0001, 0x0007, MASK_NONE);
	var000C = false;
	for (var000F in var000B with var000D to var000E) {
		if ((Func081B(var000F) == var0002) && (var0009[var0003] == var000A)) {
			var000C = true;
			break;
		}
	}
	if (var000C) {
		var000C = Func081D(var000F, var0004, var0005, var0006, var0007, var0008);
	}
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func0818 0x818 ();

var Func081F 0x81F (var var0000) {
	var var0001;

	var0001 = Func081B(var0000);
	if (var0001 == 0x0001) {
		if (Func081D(var0000, 0x034D, 0x0000, 0x0000, 0x0000, 0x0007)) {
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
			return false;
		}
	}
	if (var0001 == 0x0000) {
		if (Func081D(var0000, 0x034D, 0x0001, 0x0000, 0x0000, 0x0007)) {
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
			return false;
		}
	}
	return true;
}

extern var Func081B 0x81B (var var0000);
extern var Func081D 0x81D (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005);
extern void Func0818 0x818 ();

var Func0820 0x820 (var var0000) {
	var var0001;

	var0001 = Func081B(var0000);
	if (var0001 == 0x0001) {
		if (Func081D(var0000, 0x033C, 0x0000, 0x0000, 0x0000, 0x0007)) {
			UI_play_sound_effect2(0x001F, item);
		} else {
			Func0818();
			return false;
		}
	}
	if (var0001 == 0x0000) {
		if (Func081D(var0000, 0x033C, 0x0001, 0x0000, 0x0000, 0x0007)) {
			UI_play_sound_effect2(0x001E, item);
		} else {
			Func0818();
			return false;
		}
	}
	return true;
}

void Func0821 0x821 (var var0000) {
	var var0001;

	var0001 = script var0000 {
		finish;
		frame 4;
		repeat 3 {
			previous frame cycle;
		};
		remove;
	};
}

var Func0822 0x822 (var var0000) {
	var var0001;

	var0001[0x0001] = var0000[0x0002];
	var0001[0x0002] = var0000[0x0003];
	var0001[0x0003] = var0000[0x0004];
	return var0001;
}

var Func0823 0x823 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0001 = [0x04CF, 0x0105, 0x0207, 0x073F, 0x03FF, 0x087F, 0x0237, 0x0B67, 0x0B3F];
	var0002 = [0x0522, 0x0B0A, 0x01EB, 0x0192, 0x0983, 0x0922, 0x0649, 0x0962, 0x0712];
	var0003 = [0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0000, 0x0000, 0x0002, 0x0000];
	var0004 = var0000->get_item_quality() + 0x0001;
	if ((!gflags[0x0134]) && (var0004 == 0x0008)) {
		var0004 = 0x0009;
	}
	var0005[0x0001] = var0001[var0004];
	var0005[0x0002] = var0002[var0004];
	var0005[0x0003] = var0003[var0004];
	return var0005;
}

extern var Func0825 0x825 (var var0000, var var0001, var var0002);
extern var Func0823 0x823 (var var0000);

void Func0824 0x824 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if ((UI_die_roll(0x0001, 0x0003) == 0x0001) && (!(var0000->get_item_quality() == 0x0008))) {
		AVATAR->reduce_health(0x0003, ETHEREAL_DAMAGE);
		UI_play_sound_effect2(0x003E, item);
		var0001 = AVATAR->get_object_position();
		var0002 = var0000->get_object_position();
		var0003 = var0000->get_item_shape();
		if ((var0003 == 0x0308) || ((var0003 == 0x0309) || (var0003 == 0x030B))) {
			var0001 = Func0825(var0001, var0002, 0x0002);
		}
		if (var0003 == 0x009D) {
			var0001 = Func0825(var0001, var0002, 0x0001);
		}
		AVATAR->move_object(var0001);
	} else {
		UI_fade_palette(0x000C, 0x0001, 0x0000);
		UI_play_sound_effect2(0x000B, item);
		PARTY->move_object(Func0823(var0000));
		var0004 = script AVATAR {
			nohalt;
			call Func0636;
		};
	}
}

var Func0825 0x825 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	if (var0000[var0002] >= var0001[var0002]) {
		if (var0002 == 0x0001) {
			var0003 = FACE_WEST;
			var0004 = FACE_EAST;
		}
		if (var0002 == 0x0002) {
			var0003 = FACE_NORTH;
			var0004 = FACE_SOUTH;
		}
		if (var0000[var0002] == var0001[var0002]) {
			var0005 = 4;
		} else {
			var0005 = 3;
		}
	} else {
		if (var0002 == 0x0001) {
			var0003 = FACE_EAST;
			var0004 = FACE_WEST;
		}
		if (var0002 == 0x0002) {
			var0003 = FACE_SOUTH;
			var0004 = FACE_NORTH;
		}
		var0005 = -3;
	}
	var0000[var0002] += var0005;
	if (AVATAR->get_npc_prop(HEALTH) > 0) {
		var0006 = script AVATAR {
			face var0004;
			actor frame sleeping;
			wait 3;
			actor frame kneeling;
			wait 1;
		};
	}
	return var0000;
}

var Func0826 0x826 (var var0000) {
	var var0001;

	var0001 = [0x030B, 0x009D];
	if (var0000->get_item_shape() in var0001) {
		return true;
	}
	return false;
}

var Func0827 0x827 (var var0000, var var0001) {
	return var0000->find_direction(var0001);
}

void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006) {
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	if (var0000->get_container()) {
		UI_flash_mouse(CURSOR_HAND);
		abort;
	}
	AVATAR->halt_scheduled();
	var0007 = var0000->get_object_position();
	if ((var0001 < 0x0000) && (UI_get_array_size(var0001) == 0x0001)) {
		var0008 = var0003;
		while (var0008 <= var0007[0x0003]) {
			var0009[0x0003] = var0007[0x0003] + var0008;
			var000A = -1 * var0001;
			while (var000A >= var0001) {
				var0009[0x0001] = var0007[0x0001] + var000A;
				var000B = -1 * var0002;
				while (var000B >= var0002) {
					var0009[0x0002] = var0007[0x0002] + var000B;
					if (UI_path_run_usecode(var0009, var0004, var0005, var0006)) {
						return;
					}
					var000B -= 0x0001;
				}
				var000A -= 0x0001;
			}
			var0008 += 0x0001;
		}
	} else {
		var000C = 0x0000;
		for (var000A in var0001 with var000D to var000E) {
			var000C += 0x0001;
			var000B = var0002[var000C];
			var0008 = var0003[var000C];
			var0009[0x0001] = var0007[0x0001] + var000A;
			var0009[0x0002] = var0007[0x0002] + var000B;
			if (var0003 < -1) {
				var0008 = 0x0000;
				while (var0008 >= var0003) {
					var0009[0x0003] = var0007[0x0003] + var0008;
					if (UI_path_run_usecode(var0009, var0004, var0005, var0006)) {
						return;
					}
					var0008 -= 0x0001;
				}
			} else {
				if (var0003 == -1) {
					var0009[0x0003] = var0007[0x0003];
				} else {
					var0009[0x0003] = var0007[0x0003] + var0008;
				}
				if (UI_path_run_usecode(var0009, var0004, var0005, var0006)) {
					return;
				}
			}
		}
		UI_flash_mouse(CURSOR_HAND);
		abort;
	}
}

extern var Func082C 0x82C (var var0000, var var0001, var var0002, var var0003);
extern var Func082D 0x82D (var var0000, var var0001, var var0002);

var Func0829 0x829 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	var0001 = [-3,  0,  1,  0];
	var0002 = [ 0, -3,  0,  1];
	var0003 = [0x0096, 0x0096, 0x030D, 0x030D];
	var0004 = [0x02A8];
	var0005 = var0000->get_item_shape();
	var0006 = var0000->get_item_frame();
	var0007 = var0000->get_object_position();
	var0008 = var0003[(var0006 + 0x0001)];
	var0009[0x0001] = var0001[(var0006 + 0x0001)];
	var0009[0x0002] = var0002[(var0006 + 0x0001)];
	var0009[0x0003] = 0x0001;
	if (var0005 == var0008) {
		if (Func082C(var0000, var0007, -3, var0004)) {
			return false;
		}
		var0007 = Func082D(var0007, var0009, var0005);
	} else {
		var0007 = Func082D(var0007, var0009, var0005);
		if (Func082C(var0000, var0007, -3, var0004)) {
			return false;
		}
	}
	if (var0005 == 0x0096) {
		var0000->set_item_shape(0x030D);
	} else {
		var0000->set_item_shape(0x0096);
	}
	var000A = var0000->set_last_created();
	if (var000A) {
		var000A = UI_update_last_created(var0007);
		return true;
	}
	return false;
}

var Func082A 0x82A (var var0000, var var0001, var var0002) {
	var var0003;

	var0003 = 0x0000;
	do {
		var0003 += 0x0001;
		var0000[var0003] += var0001[var0003];
	} while (!(var0003 == var0002));
	return var0000;
}

var Func082B 0x82B (var var0000, var var0001) {
	var var0002;

	var0002 = 0x0000;
	do {
		var0002 += 1;
		var0000[var0002] *= -1;
	} while (!(var0002 == var0001));
	return var0000;
}

extern var Func0932 0x932 (var var0000);

var Func082C 0x82C (var var0000, var var0001, var var0002, var var0003) {
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	var0004 = var0000->find_nearby(SHAPE_ANY, Func0932(var0002), MASK_INVISIBLE);
	for (var0007 in var0004 with var0005 to var0006) {
		var0008 = var0007->get_object_position();
		if ((var0008[0x0001] <= var0001[0x0001]) && ((var0008[0x0001] >= (var0001[0x0001] + var0002)) && ((var0008[0x0002] <= var0001[0x0002]) && ((var0008[0x0002] >= (var0001[0x0002] + var0002)) && ((var0008[0x0003] <= 0x0002) && ((!(var0007 == var0000)) && ((!(var0007->get_item_shape() in var0003)) && var0000->get_item_flag(IS_SOLID)))))))) {
			return true;
		}
	}
	return false;
}

extern var Func082B 0x82B (var var0000, var var0001);
extern var Func082A 0x82A (var var0000, var var0001, var var0002);

var Func082D 0x82D (var var0000, var var0001, var var0002) {
	if (var0002 == 0x030D) {
		var0001 = Func082B(var0001, 0x0003);
		var0000 = Func082A(var0000, var0001, 0x0003);
	}
	if (var0002 == 0x0096) {
		var0000 = Func082A(var0000, var0001, 0x0003);
	}
	return var0000;
}

extern void Func0940 0x940 (var var0000);

var Func082E 0x82E (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	UI_close_gumps();
	var0001 = find_nearby(0x00A8, 0x0014, MASK_NONE);
	if (var0001) {
		var0002 = find_nearby(0x0241, 0x0014, MASK_NONE);
		var0003 = 0x0000;
		for (var0006 in var0002 with var0004 to var0005) {
			var0007 = var0006->get_object_position();
			var0008 = var0006->find_nearest(0x03D5, 0x0001);
			var0009 = var0008->get_object_position();
			if ((var0009[0x0001] == var0007[0x0001]) && ((var0009[0x0002] == var0007[0x0002]) && ((var0009[0x0003] == (var0007[0x0003] + 0x0002)) && (var0006->get_item_frame() == var0008->get_item_frame())))) {
				var0003 += 1;
				if (var0008 == var0000) {
					var000A = var0008->get_object_position();
					UI_sprite_effect(ANIMATION_TELEPORT, var000A[0x0001], var000A[0x0002], -1, -1, 2, LOOP_ONCE);
				}
			}
		}
		if (var0003 == 0x0003) {
			for (var000D in var0001 with var000B to var000C) {
				var000D->remove_item();
			}
			if (var000D) {
				Func0940(0x000E);
			}
		} else {
			for (var000D in var0001 with var000E to var000F) {
				var000D->set_item_frame((var000D->get_item_frame() % 0x0008) + (var0003 * 0x0008));
			}
		}
	}
	return 0;
}

void Func082F 0x82F () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;
	var var001F;

	var0000 = UI_find_nearby_avatar(0x02FB);
	var0001 = UI_find_nearby_avatar(0x02FC);
	if (UI_get_array_size(var0001) == 0x0004) {
		if (UI_get_array_size(var0000) == 0x0002) {
			var0002 = UI_die_roll(0x0001, 0x0004);
			var0003 = var0000[0x0001]->get_object_position();
			var0004 = var0000[0x0001]->find_nearby(0x0284, 0x000A, MASK_NONE);
			var0005 = get_object_position();
			if ((UI_game_hour() >= 0x000F) || (UI_game_hour() <= 0x0003)) {
				for (var0008 in var0004 with var0006 to var0007) {
					var0009 = var0008->get_object_position();
					if ((var0009[0x0001] <= var0003[0x0001]) && ((var0009[0x0001] >= (var0003[0x0001] - 0x0005)) && ((var0009[0x0002] <= (var0003[0x0002] + 0x0008)) && (var0009[0x0002] >= (var0003[0x0002] - 0x0008))))) {
						var0008->clear_item_flag(OKAY_TO_TAKE);
					}
				}
			}
			var000A = new script {
				call Func060C;
			};
			var000B = new script {
				frame 0;
				wait 2;
				repeat 28 {
					next frame;
				};
				var000A;
			};
			var000C = new script {
				frame 0;
				wait 1;
				repeat 28 {
					next frame;
				};
				wait 1;
				var000A;
			};
			var000D = new script {
				frame 0;
				wait 1;
				repeat 14 {
					next frame;
				};
				wait 1;
				repeat 14 {
					next frame;
				};
				var000A;
			};
			var000E = new script {
				frame 0;
				wait 1;
				repeat 28 {
					next frame;
				};
				var000A;
			};
			var000F = new script {
				frame 0;
				repeat 28 {
					next frame;
				};
				wait 2;
				var000A;
			};
			var0010 = new script {
				wait 2;
				var000B;
			};
			var0011 = new script {
				frame 0;
				repeat 14 {
					next frame;
					wait 2;
					next frame;
				};
				var000A;
			};
			var0012 = new script {
				frame 0;
				repeat 15 {
					next frame;
				};
				wait 7;
				repeat 14 {
					next frame;
				};
				var000A;
			};
			var0013 = new script {
				wait 1;
				var000C;
			};
			var0014 = new script {
				wait 1;
				var000D;
			};
			var0015 = new script {
				wait 1;
				var000E;
			};
			var0016 = new script {
				wait 1;
				var000F;
			};
			var0017 = new script {
				frame 0;
				wait 1;
				repeat 28 {
					next frame;
				};
				wait 1;
				repeat 2 {
					previous frame cycle;
				};
				repeat 2 {
					next frame cycle;
				};
				var000A;
			};
			var0018 = 0x0000;
			for (var001B in var0001 with var0019 to var001A) {
				var0018 += 0x0001;
				if (var0002 == var0018) {
					var001C = UI_die_roll(0x0001, 0x0003);
					if (var001C == 0x0001) {
						var001D = var000B;
					}
					if (var001C == 0x0002) {
						var001D = var000C;
					}
					if (var001C == 0x0003) {
						var001D = var000D;
					}
					if (var001C == 0x0004) {
						var001D = var000E;
					}
					if (var001C == 0x0005) {
						var001D = var000F;
					}
				} else {
					var001E = UI_die_roll(0x0001, 0x0008);
					if (var001E == 0x0001) {
						var001D = var0010;
					}
					if (var001E == 0x0002) {
						var001D = var0011;
					}
					if (var001E == 0x0003) {
						var001D = var0012;
					}
					if (var001E == 0x0004) {
						var001D = var0013;
					}
					if (var001E == 0x0005) {
						var001D = var0014;
					}
					if (var001E == 0x0006) {
						var001D = var0015;
					}
					if (var001E == 0x0007) {
						var001D = var0016;
					}
					if (var001E == 0x0008) {
						var001D = var0017;
					}
				}
				var001B->halt_scheduled();
				var001F = var001B->run_script(var001D);
			}
		}
	}
}

void Func0830 0x830 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	if (var0001 == 0x0001) {
		var0002 = -4;
		var0003 = 0x0058;
		var0004 = var0000[0x0001]->find_nearby(0x00C7, 0x0019, MASK_NONE);
		var0005 = script var0004 {
			music 21, 0;
		};
	}
	if (var0001 == 0x0000) {
		var0002 =  4;
		var0003 = 0x0057;
	}
	for (var0008 in var0000 with var0006 to var0007) {
		var0009 = var0008->get_item_frame_rot();
		var0008->set_item_frame_rot(var0009 + var0002);
	}
	UI_play_sound_effect(var0003);
}

extern var Func0829 0x829 (var var0000);
extern void Func08FF 0x8FF (var var0000);
extern void Func0830 0x830 (var var0000, var var0001);

void Func0831 0x831 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0001 = var0000->get_object_position();
	var0001 &= var0000->get_item_quality();
	var0001 &= FRAME_ANY;
	var0002 = var0001->find_nearby(0x0096, 0x000C, MASK_NONE);
	for (var0005 in var0002 with var0003 to var0004) {
		if (!Func0829(var0005)) {
			Func08FF("@One of the gangplanks seems to be blocked. It must be lowered to sail.@");
			return;
		}
	}
	var0006 = var0001->find_nearby(0x00FB, 0x0012, MASK_NONE);
	Func0830(var0006, 0x0001);
	AVATAR->clear_item_flag(ACTIVE_SAILOR);
	var0000->set_item_flag(ON_MOVING_BARGE);
	AVATAR->get_barge()->set_item_flag(ACTIVE_BARGE);
}

void Func0832 0x832 (var var0000, var var0001) {
	var var0002;

	var0002 = script var0000 {
		frame 4;
		repeat 3 {
			previous frame cycle;
			sfx 32;
		};
		call var0001;
		sfx 33;
	};
}

void Func0833 0x833 (var var0000, var var0001) {
	var var0002;

	var0002 = script var0000 {
		call var0001;
		repeat 3 {
			next frame cycle;
			sfx 32;
		};
		sfx 33;
	};
}

var Func0834 0x834 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;

	if (gflags[0x0057] == false) {
		gflags[0x0057] = true;
	}
	var0000 = AVATAR->find_nearby(0x0114, 0x0019, MASK_NONE) & AVATAR->find_nearby(0x0115, 0x0019, MASK_NONE);
	var0001 = AVATAR->find_nearby(0x010F, 0x0019, MASK_NONE) & AVATAR->find_nearby(0x0110, 0x0019, MASK_NONE);
	for (var0004 in var0001 with var0002 to var0003) {
		var0005 = var0004->get_lift();
		if (var0005 == 0x0000) {
			var0006 = script var0004 {
				repeat 3 {
					sfx 32;
					call Func0607;
					frame 0;
				};
			};
			for (var0009 in var0000 with var0007 to var0008) {
				var0006 = script var0009 {
					frame 1;
					frame 2;
					frame 3;
				};
			}
		}
		if (var0005 == 0x0001) {
			var0006 = script var0004 {
				nohalt;
				repeat 2 {
					sfx 32;
					call Func0607;
					frame 1;
				};
			};
			for (var0009 in var0000 with var000A to var000B) {
				var0006 = script var0009 {
					frame 2;
					frame 3;
				};
			}
		}
		if (var0005 == 0x0002) {
			var0006 = script var0004 {
				repeat 1 {
					sfx 32;
					call Func0607;
					frame 2;
				};
			};
			for (var0009 in var0000 with var000C to var000D) {
				var0006 = script var0009 {
					frame 3;
				};
			}
		}
		if (var0005 == 0x0003) {
			var0006 = script var0004 {
				sfx 32;
				call Func0607;
				frame 2;
			};
			for (var0009 in var0000 with var000E to var000F) {
				var0006 = script var0009 {
					frame 3;
				};
			}
		}
		if (var0005 == 0x0004) {
			var0006 = script var0004 {
				repeat 3 {
					sfx 32;
					call Func0609;
					frame 3;
				};
			};
		}
		for (var0009 in var0000 with var0010 to var0011) {
			var0006 = script var0009 {
				frame 2;
				frame 1;
				frame 0;
			};
		}
	}
	return true;
}

void Func0835 0x835 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;

	var0003 = var0000->get_npc_prop(var0001);
	var0004 = var0000->set_npc_prop(var0001, var0002 - var0003);
}

extern void Func0832 0x832 (var var0000, var var0001);
extern void Func0833 0x833 (var var0000, var var0001);
extern void Func012F shape#(0x12F) ();
extern void Func036C shape#(0x36C) ();
extern void Func03A7 shape#(0x3A7) ();
extern void Func03A8 shape#(0x3A8) ();

void Func0836 0x836 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	var0002 = var0000->get_item_quality();
	var0003 = [];
	if ((var0001 == 0x0001) || (var0001 == SHAPE_ANY)) {
		var0003 &= UI_find_nearby_avatar(0x012F);
		var0003 &= UI_find_nearby_avatar(0x036C);
	}
	if ((var0001 == 0x0000) || (var0001 == SHAPE_ANY)) {
		var0003 &= UI_find_nearby_avatar(0x03A8);
		var0003 &= UI_find_nearby_avatar(0x03A7);
	}
	if (var0003) {
		for (var0006 in var0003 with var0004 to var0005) {
			if (var0006->get_item_quality() == var0002) {
				var0007 = var0006->get_item_shape();
				if (var0007 == 0x012F) {
					var0007 = Func03A8;
					Func0832(var0006, var0007);
				} else if (var0007 == 0x036C) {
					var0007 = Func03A7;
					Func0832(var0006, var0007);
				} else if (var0007 == 0x03A8) {
					var0007 = Func012F;
					Func0833(var0006, var0007);
				} else if (var0007 == 0x03A7) {
					var0007 = Func036C;
					Func0833(var0006, var0007);
				}
			}
		}
	}
}

var Func0837 0x837 (var var0000, var var0001, var var0002, var var0003, var var0004) {
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	var0005 = var0001->get_object_position();
	var0005[0x0001] += var0002;
	var0005[0x0002] += var0003;
	var0005[0x0003] += var0004;
	var0006 = get_container();
	var0007 = get_object_position();
	var0008 = set_last_created();
	if (UI_is_not_blocked(var0005, get_item_shape(), get_item_frame())) {
		if (UI_update_last_created(var0005)) {
			UI_play_sound_effect(0x0049);
			return 0x0001;
		}
	} else {
		UI_flash_mouse(CURSOR_WONT_FIT);
		if (var0006) {
			if (var0006->give_last_created()) {
				return 0x0000;
			}
		} else if (UI_update_last_created(var0007)) {
			return 0x0000;
		}
	}
	return 0;
}

void Func0838 0x838 (var var0000) {
	var var0001;
	var var0002;

	var0001 = get_item_frame();
	if (var0001 == 0x0008) {
		var0002 = script item {
			wait 2;
			frame 8;
			wait 25;
			call Func068F;
		};
	}
	if (var0001 == 0x0009) {
		var0002 = script item {
			wait 2;
			frame 9;
			wait 25;
			frame 8;
			wait 25;
			call Func068F;
		};
	}
	if (var0001 == 0x000A) {
		var0002 = script item {
			wait 2;
			frame 10;
			wait 25;
			frame 9;
			wait 25;
			frame 8;
			wait 25;
			call Func068F;
		};
	}
	if (var0001 == 0x000B) {
		var0002 = script item {
			wait 2;
			frame 11;
			wait 25;
			frame 10;
			wait 25;
			frame 9;
			wait 25;
			frame 8;
			wait 25;
			call Func068F;
		};
	}
	if (var0001 == 0x000C) {
		var0002 = script item {
			wait 2;
			frame 12;
			wait 25;
			frame 11;
			wait 25;
			frame 10;
			wait 25;
			frame 9;
			wait 25;
			frame 8;
			wait 25;
			call Func068F;
		};
	}
}

void Func0839 0x839 (var var0000, var var0001, var var0002) {
	if ((var0002 == 0x0001) || (var0002 == 0x0002)) {
		var0000->set_item_shape(var0001);
		var0000->halt_scheduled();
		UI_play_sound_effect(0x002E);
		set_light(true);
	}
	if (var0002 == 0x0007) {
		var0000->set_item_shape(var0001);
		var0000->halt_scheduled();
		UI_play_sound_effect(0x002E);
		set_light(true);
	}
	if (var0002 == 0x0005) {
		set_light(true);
	}
	if (var0002 == 0x0006) {
		set_light(false);
	}
}

var Func083A 0x83A () {
	var var0000;
	var var0001;

	var0000 = UI_find_nearby_avatar(0x032E);
	var0001 = var0000[0x0001]->get_object_position();
	var0001 &= var0000[0x0001];
	return var0001;
}

var Func083B 0x83B () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	var0000 = 0x0000;
	var0001 = 0x0000;
	var0002 = 0x0000;
	var0003 = 0x0001;
	var0004 = UI_find_nearby_avatar(0x0329);
	var0003 = [];
	for (var0007 in var0004 with var0005 to var0006) {
		var0008 = var0007->get_item_frame();
		var0009 = (var0008 / 0x0008) + 0x0001;
		var0003 &= var0009;
		if (var0009 == 0x0001) {
			var0000 += 0x0001;
		}
		if (var0009 == 0x0002) {
			var0001 += 0x0001;
		}
		if (var0009 == 0x0003) {
			var0002 += 0x0001;
		}
	}
	var000A = (var0003[0x0001] + var0003[0x0002]) + var0003[0x0003];
	if ((var0000 == 0x0003) || ((var0001 == 0x0003) || (var0002 == 0x0003))) {
		var000B = true;
	} else {
		var000B = false;
	}
	return [var000A, var000B];
}

var Func083C 0x83C (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0001 = [];
	var0002 = var0000[0x0004]->find_nearby(0x0284, 0x000A, MASK_NONE);
	for (var0005 in var0002 with var0003 to var0004) {
		var0006 = var0005->get_object_position();
		if (((var0006[0x0001] <= var0000[0x0001]) && (var0006[0x0001] >= (var0000[0x0001] - 0x000A))) && ((var0006[0x0002] <= var0000[0x0002]) && (var0006[0x0002] >= (var0000[0x0002] - 0x0005)))) {
			var0001 &= var0005;
		}
	}
	return var0001;
}

extern var Func083A 0x83A ();
extern var Func083B 0x83B ();
extern var Func083C 0x83C (var var0000);
extern void Func0933 0x933 (var var0000, var var0001, var var0002);

void Func083D 0x83D () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;

	if (SMITHY->get_schedule_type() == HOUND) {
		SMITHY->set_schedule_type(STANDTHERE);
	}
	var0000 = Func083A();
	var0001 = Func083B();
	var0002 = var0001[0x0001];
	var0003 = var0001[0x0002];
	var0004 = Func083C(var0000);
	if (!SMITHY->npc_nearby()) {
		for (var0007 in var0004 with var0005 to var0006) {
			var0007->set_item_flag(OKAY_TO_TAKE);
		}
		return;
	}
	var0008 = "@Too bad...@";
	if (UI_get_array_size(var0004) == 0x0000) {
		Func0933(SMITHY, var0008, 0x0000);
	}
	if (var0002 == 0x0006) {
		if (var0003) {
			var0009 = [0x0005, 0x0005, 0x0005];
			var000A = [0x0001, 0x0002, 0x0003];
			var000B = 0x001B;
			var0008 = "@Triples! On the two!@";
		} else {
			var0009 = [0x0003, 0x0003, 0x0003];
			var000A = [0x0001, 0x0002, 0x0003];
			var000B = 0x0004;
			var0008 = "@Full wheel!@";
		}
	}
	if (var0002 == 0x0009) {
		var0009 = [0x0007, 0x0007, 0x0007];
		var000A = [0x0001, 0x0002, 0x0003];
		var000B = 0x001B;
		var0008 = "@Triples! On the three!@";
	}
	if (var0002 == 0x0003) {
		var0009 = [0x0001, 0x0001, 0x0001];
		var000A = [0x0001, 0x0002, 0x0003];
		var000B = 0x001B;
		var0008 = "@Triples! On the one!@";
	}
	if (var0003) {
		var0009 &= [0x0004, 0x0004, 0x0004];
		var000A &= [0x0001, 0x0002, 0x0003];
	}
	if (var0002 == 0x0004) {
		var0009 = 0x0002;
		var000A = 0x0003;
		var000B = 0x0008;
		var0008 = "@Sum of 4!@";
	}
	if (var0002 == 0x0005) {
		var0009 = 0x0002;
		var000A = 0x0001;
		var000B = 0x0004;
		var0008 = "@Sum of 5!@";
	}
	if (var0002 == 0x0007) {
		var0009 = 0x0006;
		var000A = 0x0003;
		var000B = 0x0003;
		var0008 = "@Seven!@";
	}
	if (var0002 == 0x0008) {
		var0009 = 0x0006;
		var000A = 0x0001;
		var000B = 0x0008;
		var0008 = "@Big eight!@";
	}
	if (gflags[0x0006]) {
		var000B *= 0x0002;
	}
	for (var0007 in var0004 with var000C to var000D) {
		var000E = 0x0000;
		var000F = false;
		for (var0012 in var0009 with var0010 to var0011) {
			var000E += 0x0001;
			var0013 = var0007->get_object_position();
			if (var0013[0x0001] == ((var0000[0x0001] - var0009[var000E]) + 0x0001)) {
				if (var0013[0x0002] == ((var0000[0x0002] - var000A[var000E]) + 0x0001)) {
					var0014 = var0007->get_item_quantity(0x0009);
					var0014 *= var000B;
					while (var0014 > 0x0064) {
						var0015 = UI_create_new_object(0x0284);
						if (var0015) {
							var0016 = var0015->set_item_quantity(0x0064);
							var0016 = UI_update_last_created(var0013);
						}
						var0014 -= 0x0064;
					}
					var0015 = UI_create_new_object(0x0284);
					if (var0015) {
						var0016 = var0015->set_item_quantity(var0014);
						var0016 = UI_update_last_created(var0013);
					}
					var000F = true;
				}
			}
		}
		var0007->remove_item();
	}
	Func0933(SMITHY, var0008, 0x0000);
}

extern void Func0828 0x828 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);
extern var Func080E 0x80E (var var0000);
extern void Func083F 0x83F (var var0000, var var0001);
extern void Func0631 object#(0x0631) ();

void Func083E 0x83E (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	if (var0001 == 0x0001) {
		if (var0000->in_usecode()) {
			return;
		}
		Func0828(var0000, -2, -2, -1, Func0631, var0000, BG_PATH_SUCCESS);
	}
	if (var0001 == 0x0002) {
		var0002 = get_item_quality();
		var0003 = find_nearby(0x0366, 0x000F, MASK_NONE);
		var0004 = find_nearby(0x0203, 0x000F, MASK_NONE);
		var0003 &= var0004;
		var0004 = [];
		for (var0007 in var0003 with var0005 to var0006) {
			if (var0007->get_item_quality() == var0002) {
				var0004 &= var0007;
			}
		}
		if (Func080E(var0004)) {
			var0008 = script item {
				frame 1;
				repeat 4 {
					next frame cycle;
				};
			};
			return;
		}
		if (gflags[0x003D]) {
			Func083F(item, false);
		}
	}
}

extern var Func0834 0x834 ();

void Func083F 0x83F (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	var0002 = UI_find_nearby_avatar(0x010F) & UI_find_nearby_avatar(0x0110);
	var0003 = false;
	for (var0006 in var0002 with var0004 to var0005) {
		if (var0006->get_item_quality() == var0000->get_item_quality()) {
			var0007 = Func0834();
			var0007 = script var0000 {
				frame 1;
				repeat 6 {
					next frame cycle;
				};
			};
			var0003 = true;
		}
	}
	if (var0003 && var0001) {
		var0007 = script AVATAR {
			face west;
			continue;
			repeat 4 {
				actor frame bowing;
				actor frame standing;
			};
		};
	}
}

extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();

void Func0840 0x840 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	UI_push_answers();
	var0000 = Func090B(["Be Good", "No Answers", "Strive for Unity", "Have Faith", "I don't know"]);
	if (var0000 == "No Answers") {
		say("The sage smiles. \"Thou hast begun thy journey on the road to enlightenment. As thou hast heard, all is not what one has been taught by one's teachers. 'Tis a pity. Now I suppose thou dost want to borrow the notebook?\"");
		var0001 = Func090A();
		if (var0001) {
			say("\"Very well. Dost thou promise to return my notebook?\"");
			var0002 = Func090A();
			if (var0002) {
				if (PARTY->count_objects(0x0281, 0x00FE, FRAME_ANY)) {
					say("\"Then go find it! Thou hast the key!\"");
				} else {
					var0003 = UI_add_party_items(0x0001, 0x0281, 0x00FE, FRAME_ANY, false);
					if (var0003) {
						say("\"Very well. I am counting on thee to return it to me personally. No telling what misfortune may befall thee if thou dost fail to do so. And as further incentive, I just might give thee something else which will help thee in thy quest if thou dost return it to me safely.~~\"Here is the key to my storeroom, the first building to the south of here.\" He grins slyly. \"Thou must determine how to find the notebook thyself!\"");
					} else {
						say("\"Thou hast not enough room to take my key! Unload thy belongings and we shall try all of this again!\"*");
					}
				}
				abort;
			}
			say("\"Then I cannot let thee borrow the notebook!\"");
			abort;
		}
		say("\"Oh. Very well, then.\"*");
		abort;
	}
	say("The sage frowns. \"That is not correct. Go and seek the true answer.\"*");
	abort;
	// Dead code
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0841 0x841 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "mutton rations", "cake", "ham", "wine", "ale"];
	var0002 = [0x0000, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268];
	var0003 = [FRAME_ANY, 0x000F, 0x0005, 0x000B, 0x0005, 0x0003];
	var0004 = [0x0000, 0x000E, 0x0005, 0x000A, 0x0009, 0x0002, 0x0001];
	var0005 = "";
	var0006 = [0x0000, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000];
	var0007 = ["", " for 10 pieces", " per portion", " per slice", " per bottle", " per bottle"];
	var0008 = [0x0000, 0x000A, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"To make what purchase?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"To be all right.\"");
			var0000 = false;
		} else {
			var000A = Func091C(var0005, var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" To be an acceptable price?\"");
			var000C = Func090A();
			if (var000C) {
				if (var0002 == 0x0268) {
					var000B = Func08F8(var0002[var0009], var0003[var0009], var0008[var0009], var0004[var0009], 0x0000, 0x0001, true);
				} else {
					say("\"To want how many?\"");
					var000B = Func08F8(var0002[var0009], var0003[var0009], var0008[var0009], var0004[var0009], 0x0014, 0x0001, true);
				}
			}
			if (var000B == 0x0001) {
				say("\"To be agreed!\"");
			} else if (var000B == 0x0002) {
				say("\"To have not the ability to carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"To be without enough gold!\"");
			}
			say("\"To want another item?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0842 0x842 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	UI_push_answers();
	var0000 = Func0909();
	var0001 = UI_is_pc_female();
	var0002 = true;
	var0003 = ["nothing", "mutton", "bread", "mead", "flounder", "Silverleaf", "cake", "wine", "ale"];
	var0004 = [0x0000, 0x0179, 0x0179, 0x0268, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268];
	var0005 = [FRAME_ANY, 0x0008, 0x0000, 0x0000, 0x000D, 0x001F, 0x0004, 0x0005, 0x0003];
	var0006 = [0x0000, 0x0003, 0x0002, 0x0007, 0x0003, 0x001E, 0x0002, 0x0003, 0x0002];
	var0007 = "";
	var0008 = 0x0000;
	var0009 = ["", " for one portion", " for one loaf", " for one bottle", " for one portion", " for one portion", " for one portion", " per bottle", " per bottle"];
	var000A = 0x0001;
	say("\"What wouldst thou like?\"");
	while (var0002) {
		var000B = Func090C(var0003);
		if (var000B == 0x0001) {
			say("\"Nothing at all? Well, alright.\"");
			if (!var0001) {
				say("She bats her eyelashes at you and grins.");
			}
			var0002 = false;
			continue;
		}
		do {
			if (var000B == 0x0006) {
				if (gflags[0x012B]) {
					say("\"I have none to sell thee, ",
						var0000,
						", for the logger will no longer supply it.\"");
					break;
				}
			}
			var000C = Func091B(var0007, var0003[var000B], var0008, var0006[var000B], var0009[var000B]);
			var000D = 0x0000;
			say("\"^",
				var000C,
				" Is that price all right?\"");
			var000E = Func090A();
			if (var000E) {
				if (var0004[var000B] == 0x0179) {
					say("\"How many wouldst thou like?\"");
					var000D = Func08F8(var0004[var000B], var0005[var000B], var000A, var0006[var000B], 0x0014, 0x0001, true);
				} else {
					var000D = Func08F8(var0004[var000B], var0005[var000B], var000A, var0006[var000B], 0x0000, 0x0001, true);
				}
			}
			if (var000D == 0x0001) {
				say("\"'Tis thine!\"");
			} else if (var000D == 0x0002) {
				say("\"Thou cannot possibly carry that much, ",
					var0000,
					"!\"");
			} else if (var000D == 0x0003) {
				say("\"Hmmm. Thou dost not have enough gold!\"");
			}
		} while (false);
		say("\"Wouldst thou like something else?\"");
		var0002 = Func090A();
	}
	UI_pop_answers();
}

void Func0843 0x843 () {
	var var0000;

	0xFEDE->hide();
	var0000 = script item {
		frame 8;
		sfx 67;
		continue;
		repeat 4 {
			previous frame cycle;
			wait 4;
		};
	};
	abort;
}

var Func0844 0x844 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	for (var0003 in var0000 with var0001 to var0002) {
		var0004 = var0003->get_item_frame();
		if (var0004 == 0x000C) {
			return var0003;
		}
	}
	return 0x0000;
}

void Func0845 0x845 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0001 = AVATAR->get_npc_object()->get_npc_prop(MANA);
	var0002 = AVATAR->get_npc_object()->get_npc_prop(MAX_MANA);
	if (!var0000) {
		var0003 = "the gem";
	} else {
		var0003 = "the blade";
	}
	if (var0001 == var0002) {
		say("\"Thy power needs no replenishing, master.\" The daemon sounds a bit put out.");
	} else {
		var0004 = AVATAR->get_npc_object()->set_npc_prop(MANA, var0002);
		if (var0004) {
			say("Energy courses from ",
				var0003,
				" into you, restoring your magical reserves, \"It is done, master.\"");
		} else {
			say("\"I fear something is amiss, master.\" The daemon sounds almost worried.");
		}
	}
}

var Func0846 0x846 () {
	if (!AVATAR->get_npc_object()->is_readied(BG_WEAPON_HAND, 0x029C, 0x000F)) {
		if (!AVATAR->get_npc_object()->is_readied(BG_SHIELD_HAND, 0x029C, 0x000F)) {
			return 0x0000;
		}
	}
	if (!AVATAR->get_npc_object()->is_readied(BG_WEAPON_HAND, 0x02F8, 0x000D)) {
		if (!AVATAR->get_npc_object()->is_readied(BG_SHIELD_HAND, 0x02F8, 0x000D)) {
			return 0x0000;
		}
	}
	return 0x0001;
}

var Func0847 0x847 (var var0000) {
	if (var0000 == 0x0190) {
		return 0x0001;
	}
	if (var0000 == 0x019E) {
		return 0x0001;
	}
	if (var0000 == 0x037C) {
		return 0x0001;
	}
	if (var0000 == 0x02FA) {
		return 0x0001;
	}
	if (var0000 == 0x030A) {
		return 0x0001;
	}
	if (var0000 == 0x01FB) {
		return 0x0001;
	}
	return 0x0000;
}

var Func0848 0x848 (var var0000) {
	if (var0000 == 0x01F8) {
		return 0x0001;
	}
	if (var0000 == 0x01F9) {
		return 0x0001;
	}
	if (var0000 == 0x00E6) {
		return 0x0001;
	}
	if (var0000 == 0x017D) {
		return 0x0001;
	}
	if (var0000 == 0x0177) {
		return 0x0001;
	}
	if (var0000 == 0x017E) {
		return 0x0001;
	}
	if (var0000 == 0x0216) {
		return 0x0001;
	}
	if (var0000 == 0x01F5) {
		return 0x0001;
	}
	if (var0000 == 0x017C) {
		return 0x0001;
	}
	if (var0000 == 0x01E0) {
		return 0x0001;
	}
	if (var0000 == 0x01D1) {
		return 0x0001;
	}
	if (var0000 == 0x01E7) {
		return 0x0001;
	}
	if (var0000 == 0x01E8) {
		return 0x0001;
	}
	if (var0000 == 0x01E9) {
		return 0x0001;
	}
	if (var0000 == 0x01FA) {
		return 0x0001;
	}
	if (var0000 == 0x01BD) {
		return 0x0001;
	}
	if (var0000 == 0x01BE) {
		return 0x0001;
	}
	if (var0000 == 0x009A) {
		return 0x0001;
	}
	return 0x0000;
}

var Func0849 0x849 (var var0000) {
	if (var0000 == 0x0207) {
		return 0x0001;
	}
	if (var0000 == 0x0162) {
		return 0x0001;
	}
	if (var0000 == 0x0210) {
		return 0x0001;
	}
	if (var0000 == 0x0151) {
		return 0x0001;
	}
	if (var0000 == 0x013D) {
		return 0x0001;
	}
	if (var0000 == 0x012B) {
		return 0x0001;
	}
	return 0x0000;
}

void Func084A 0x84A () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = 0x0001;
	var0001 = [0x0193, 0x0193, 0x0193, 0x0193, 0x019B, 0x019B, 0x019B, 0x019B];
	var0002 = [0x0132, 0x0135, 0x013B, 0x013E, 0x0132, 0x0135, 0x013B, 0x013E];
	var0003 = [0x0002, 0x0002, 0x0002, 0x0002, 0x0000, 0x0000, 0x0000, 0x0000];
	var0004 = UI_get_party_list();
	for (var0007 in var0004 with var0005 to var0006) {
		var0008 = var0001[var0000];
		var0008 &= var0002[var0000];
		var0008 &= var0003[var0000];
		var0000 += 0x0001;
		var0009 = var0007->get_cont_items(SHAPE_ANY, QUALITY_ANY, FRAME_ANY);
		for (var000C in var0009 with var000A to var000B) {
			var000D = var000C->set_last_created();
			if (var000D) {
				var000D = UI_update_last_created(var0008);
			}
		}
	}
}

var Func084B 0x84B (var var0000) {
	var var0001;
	var var0002;

	var0001 = UI_input_numeric_value(0x0000, var0000, 0x0001, (var0000 / 0x0002));
	if ((var0001 >= 0x0032) && (var0001 >= (var0000 / 0x0002))) {
		var0002 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		return true;
	}
	return false;
}

extern var Func090C 0x90C (var var0000);
extern var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func084C 0x84C () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "torch", "oil flasks", "shovel", "powder keg", "bucket", "jar", "cloth"];
	var0002 = [0x0000, 0x0253, 0x030E, 0x0271, 0x02C0, 0x032A, 0x0338, 0x0353];
	var0003 = [FRAME_ANY, FRAME_ANY, FRAME_ANY, FRAME_ANY, FRAME_ANY, 0x0000, 0x0000, FRAME_ANY];
	var0004 = [0x0000, 0x0004, 0x003C, 0x000C, 0x0019, 0x0004, 0x0002, 0x0003];
	var0005 = ["", "a ", "an ", "a ", "a ", "a ", "a ", ""];
	var0006 = ["", "", " for a dozen", "", "", "", "", " per bolt"];
	var0007 = [0x0000, 0x0001, 0x000C, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"To purchase what item?\"");
	while (var0000) {
		var0008 = Func090C(var0001);
		if (var0008 == 0x0001) {
			say("\"To be fine.\"");
			var0000 = false;
		} else {
			var0009 = 0x0001;
			var000A = 0x0001;
			var000B = Func091C(var0005[var0008], var0001[var0008], var0009, var0004[var0008], var0006[var0008]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				". To be acceptable?\"");
			var000D = Func090A();
			if (var000D) {
				if ((var0002[var0008] == 0x0253) || (var0002[var0008] == 0x030E)) {
					if (var0002[var0008] == 0x030E) {
						say("\"To want to buy how many sets of twelve?\"");
					} else {
						say("\"To want to buy how many?\"");
					}
					// BUG: This should be var0003[var0008] instead of var0003
					var000C = Func08F8(var0002[var0008], var0003, var0007[var0008], var0004[var0008], 0x0014, 0x0001, true);
				} else {
					// BUG: This should be var0003[var0008] instead of var0003
					var000C = Func08F8(var0002[var0008], var0003, var0007[var0008], var0004[var0008], 0x0000, 0x0001, false);
				}
			}
			if (var000C == 0x0001) {
				say("\"To be done!\"");
			} else if (var000C == 0x0002) {
				say("\"To be unable to carry that much, human.\"");
			} else if (var000C == 0x0003) {
				say("\"To have not the right amount of gold!\"");
			}
			say("\"To buy something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090A 0x90A ();
extern void Func084F 0x84F ();
extern void Func084E 0x84E ();

void Func084D 0x84D () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = UI_part_of_day();
	if (gflags[0x0096] && gflags[0x0097]) {
		say("\"Well, thou didst certainly attempt to complete the quest. I cannot understand why the chest in Destard was empty. But we shall forget it, shall we?");
		say("\"Now that thou hast worked a little for The Fellowship, and hast learned what we stand for, dost thou still wish to join?\"");
		var0001 = Func090A();
		if (var0001) {
			gflags[0x008D] = true;
			say("\"Then thou art most welcome to The Fellowship. ");
			if (!(var0000 == NIGHT)) {
				say("\"Thou wilt officially be inducted during our nightly meeting this evening. Please come, and thou shalt receive thy medallion then. Once again, we thank thee, Avatar.\"*");
				abort;
			}
			say("\"The Ceremony shall begin.\"");
			Func084F();
			remove("join");
		} else {
			say("\"I can see that thou art not yet ready to take such a courageous step in thy thinking and in thy life. But do remember what we spoke of today, my friend! Perhaps in time thou wilt become ready.\"*");
			abort;
		}
	} else {
		say("\"Ah, but first things first. I recommend that thou takest our Examination to determine if thou art truly in need of The Fellowship's teachings. Dost thou want to take the test?\"");
		var0002 = Func090A();
		if (var0002) {
			UI_push_answers();
			Func084E();
			UI_pop_answers();
		} else {
			say("\"Perhaps another time, then.\"*");
			abort;
		}
	}
}

extern var Func0908 0x908 ();
extern var Func090B 0x90B (var var0000);
extern void Func0851 0x851 ();

void Func084E 0x84E () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	BATLIN->show_npc_face(0x0000);
	var0000 = Func0908();
	say("\"These questions are all hypothetical. Do not let them confuse or upset thee.~~\"Question One: Thou art feeling depressed right now. Is it more likely because -~A: Thou hast disappointed a friend, or~B: A friend has disappointed thee?\"");
	var0001 = Func090B(["A: I disappointed a friend", "B: Friend has disappointed me"]);
	if (var0001 == "A: I disappointed a friend") {
		say("\"I can tell from thine answer that thou art a person who takes their responsibilities to others very seriously, and perhaps tends to put too much pressure on oneself to please others.\" Batlin smiles and nods.");
	} else {
		say("\"I can tell from thine answer thou art a person who tends to trust people and is often willing to give people another chance - even after ample demonstration that they are not worthy of one.\" Batlin smiles and nods.");
	}
	UI_clear_answers();
	say("\"Question Two: Thou art at a feast hosted by a very high-ranking local official. Thou dost believe the food he has ordered to be served is little more than swill, and thou dost notice that the other guests certainly think so. When thine host asks if thou dost like the food, dost thou~A: tell the truth, or~B: lie to him?\"");
	var0002 = Func090B(["A: Tell the truth", "B: Lie to him"]);
	if (var0002 == "A: Tell the truth") {
		say("\"Thy response shows thou art a bluntly honest person, who mayest occasionally say things that people may not like hearing, but thine intentions are noble ones.\" Batlin makes a sweeping gesture with his hand.");
	} else {
		say("\"Thy response shows thou art a person who is deeply concerned with the feelings of others, a person to whom manners and graciousness are of the highest import.\" Batlin makes a sweeping gesture with his hand.");
	}
	UI_clear_answers();
	say("\"Question Three: Thou hast taken the last room available at an inn. Upon entering it thou dost find that it is filthy. It is the middle of the night, there is no one to clean it and there is nowhere else to stay. Dost thou~A: clean up the room thyself, at least somewhat, before reposing in it, or~B: dost thou just go to sleep, letting the room remain as thou hast found it?\"");
	var0003 = Func090B(["A: Clean the room myself", "B: Leave the room as is"]);
	if (var0003 == "A: Clean the room myself") {
		say("\"Thou hast revealed that thou art a person who instinctively believes they are responsible for anything that goes wrong and that it falls to thee to put the whole world right.\" Batlin sighs.");
	} else {
		say("\"Thou hast revealed that thou art a person who tends to accept their fate complacently whenever life appears to be unfair. Thou dost naturally assume that life will be unkind as a protection against when it is.\" Batlin sighs.");
	}
	UI_clear_answers();
	say("\"Question Four: At a festive gathering thou dost tell a humorous anecdote, and thou dost tell it very well, creating much amusement. Didst thou tell this comedic story because~A: thou didst enjoy the response that thou didst receive from thine audience, or~B: because thou didst want to please thy friends?\"");
	var0004 = Func090B(["A: I enjoyed the response", "B: I wanted to please friends"]);
	if (var0004 == "A: I enjoyed the response") {
		say("\"Thine answer shows thou art a person who instinctively sees friends as tools to be used for thine own gratification.\" Batlin frowns slightly.");
	} else {
		say("\"Thine answer shows thou art a person who instinctively feels unworthy of having friends. Thou must continuously buy their attentions by amusing them.\" Batlin frowns slightly.");
	}
	UI_clear_answers();
	say("\"Question Five: If thou wert to become a person of leisure, one who had amassed a fantastic fortune of wealth, would it most likely be because~A: thou hadst discovered an infallible method of stealing the money of others, or~B: thou hadst discovered an infallible method of illicitly duplicating the coin of the realm?\"");
	var0005 = Func090B(["A: I stole the money", "B: I duplicated the coin"]);
	if (var0005 == "A: I stole the money") {
		say("\"From Question Five we learn that thou art a person who instinctively believes that they are incapable of achieving success, someone who feels that they can only profit through the exploitation of others.\" Batlin slowly shakes his head.");
	} else {
		say("\"From Question Five we learn that thou art a person who instinctively believes that they are incapable of achieving success, at best only presenting the illusion of success.\" Batlin slowly shakes his head.");
	}
	UI_clear_answers();
	say("\"Question Six: While travelling thou dost find a man in terrible pain. His arm has been grievously injured. A healer tending to him tells thee that the man's arm will have to be removed and that he will require thine assistance to do it. The man says he will recover from his injury and asks thee not to let the healer amputate his arm. Dost thou~A: heed the words of the healer, or~B: respect the wishes of the injured man?\"");
	var0006 = Func090B(["A: Heed the healer", "B: Respect the man"]);
	if (var0006 == "A: Heed the healer") {
		say("\"By thine answer thou art a person who believes in mercy even when it is not an easy thing, and a person who tries to have the courage of thy convictions.\" Batlin gives thee a knowing look.");
	} else {
		say("\"By thine answer thou art a person who deeply believes in the value of human life and who has a strong sense of faith in the possibilities that life continuously gives us.\" Batlin gives thee a knowing look.");
	}
	UI_clear_answers();
	say("\"Question Seven: Thou hast just killed a small dog by throwing a rock at it. Is it more likely that thou hast done this because~A: the dog was going to attack thee, or~B: the dog was going to attack someone else?\"");
	var0007 = Func090B(["A: It was to attack me", "B: It was to attack another"]);
	if (var0007 == "A: It was to attack me") {
		say("\"This question tells us that thou art an overly defensive person. Thou dost need to stop assuming that the world around thee exists only to bring thee potential harm.\" Batlin strokes his chin thoughtfully.");
	} else {
		say("\"This question tells is that thou art an overly aggressive person. Thou dost need to stop trying to solve all of thy problems through violence.\" Batlin strokes his chin thoughtfully.");
	}
	UI_clear_answers();
	say("\"Question Eight: Thou art in a boat with thy betrothed and thy mother. The boat capsizes. In the choppy waters thou canst only save thyself and one other person. Who dost thou save from drowning,~A: thy betrothed, or~B: thy mother?\"");
	var0008 = Func090B(["A: My betrothed", "B: My mother"]);
	if (var0008 == "A: My betrothed") {
		say("\"While risking thy life to save the life of thy betrothed is admirable, I cannot help but wonder what suppressed hostility thou dost have towards thy mother as thou wouldst simply let her drown.\" Batlin shrugs.");
	} else {
		say("\"While risking thy life to save the life of thy mother is admirable, I cannot help but wonder if thou mightest have a problem getting along with the opposite gender as thou wouldst simply let thy betrothed drown.\" Batlin shrugs.");
	}
	UI_clear_answers();
	say("\"Thou art a person of strong character, Avatar, but one who is troubled by deep personal problems that prevent thee from achieving thy true potential for greatness. In short, thou art precisely the type of person for which The Fellowship was created.");
	say("\"I welcome thee to our fold. Know that the path of the Triad is not an easy one but its rewards are bountiful. I will, of course, waive the usual sabbatical of study that is required before one achieves membership. Thou art, after all, the Avatar.");
	say("\"However, as one of our tenets prescribes, Worthiness Precedes Reward. Thou must embark on a task or two for The Fellowship before thou can be properly inducted and receive thy medallion.\"");
	gflags[0x0096] = true;
	Func0851();
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();
extern void Func0852 0x852 ();
extern void Func0911 0x911 (var var0000);

void Func084F 0x84F () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;

	BATLIN->show_npc_face(0x0000);
	var0000 = Func0908();
	var0001 = Func0909();
	say("The ceremony begins as Batlin stands before the gathered members of The Fellowship in Britain. He begins his sermon. \"My friends, I originally created The Fellowship to help ready Britannia and its people for the future. Today one of the greatest symbols of its past has come here to join our Fellowship. This is a great day, for as our past and present intertwine we shall send a message which shall be heard throughout Britannia. Soon all of its peoples will strive together for unity.\" The gathering breaks into loud cheers. \"When they hear that the Avatar has become a member of The Fellowship those who were at first distrustful of us will come to see the truth of what we stand for. Then we may bring about a day when all of Britannia is worthy of the ample rewards it shall receive.\"");
	var0002 = Func08F7(IOLO);
	if (var0002) {
		IOLO->say("Iolo whispers to you. \"Art thou quite certain, ",
			var0000,
			", that thou dost wish to join with these people?\"");
		var0003 = Func090A();
		if (var0003) {
			say("\"I am not certain if thou art brave or simply foolish.\"*");
		} else {
			say("\"It is a relief to me to hear that thou art not certain! Allow me to remind thee that it is not too late to refuse their offer! Let us leave, and quickly!\"*");
			abort;
		}
		IOLO->hide();
	}
	BATLIN->say("\"Now is the time when our members give their testimonials of how they have been applying the Triad of Inner Strength to their lives. Who shall be the first?\"");
	var0004 = Func08F7(GAYE);
	if (var0004) {
		GAYE->say("\"The Fellowship has taught me to live with the shortcomings of others,\" says Gaye.");
		GAYE->hide();
	}
	var0005 = Func08F7(CANDICE);
	if (var0005) {
		CANDICE->say("\"I had lost all enthusiasm for life before I joined The Fellowship,\" says Candice.*");
		BATLIN->say("\"Thank thee for sharing, Candice.\"*");
		CANDICE->hide();
	}
	var0006 = Func08F7(PATTERSON);
	if (var0006) {
		PATTERSON->say("\"The Fellowship helps me to be more honest with people,\" says Patterson.*");
		PATTERSON->hide();
	}
	var0007 = Func08F7(FIGG);
	if (var0007) {
		FIGG->say("\"The Fellowship has taught me not to let others push me around,\" says Figg.*");
		FIGG->hide();
	}
	var0008 = Func08F7(GRAYSON);
	if (var0008) {
		GRAYSON->say("\"The Triad of Inner Strength has helped me to improve my skills and build better weapons,\" says Grayson.*");
		GRAYSON->hide();
	}
	var0009 = Func08F7(GORDON);
	if (var0009) {
		GORDON->say("\"The Fellowship has put me back on the path to prosperity,\" says Gordon.*");
		BATLIN->say("\"Yes! Thank thee for sharing, brother!\"*");
		GORDON->hide();
	}
	var000A = Func08F7(SEAN);
	if (var000A) {
		SEAN->say("\"The Fellowship has taught me not to be afraid of success,\" says Sean.*");
		SEAN->hide();
	}
	var000B = Func08F7(MILLIE);
	if (var000B) {
		MILLIE->say("\"The Fellowship has given my life a whole new purpose. Just today I have recruited two more potential members!\" says Millie.*");
		MILLIE->hide();
	}
	var000C = Func08F7(NANNA);
	if (var000C) {
		NANNA->say("\"The Fellowship has taught me about the evils of the class structure,\" says Nanna.*");
		NANNA->hide();
	}
	var0002 = Func08F7(IOLO);
	var000D = Func08F7(SHAMINO);
	if (var000D && var0002) {
		IOLO->say("You notice Iolo is whispering to Shamino. \"I do not think that ",
			var0000,
			" doth realize the significance of the situation. ",
			var0001,
			" cannot be dissuaded. Perhaps thou shouldst give it a try.\"");
		IOLO->hide();
		SHAMINO->say("\"All right, I shall give it a try.\" He nudges you and whispers. \"Perhaps we should get out of here, ",
			var0001,
			", before one of us does something they may later regret? Let us leave these premises, all right?\"");
		var000E = Func090A();
		if (var000E) {
			say("\"I am glad thou dost see it my way. We can leave whenever thou art ready.\"*");
			abort;
		}
		say("\"Then I guess it is too late for I already regret coming here.\"*");
		SHAMINO->hide();
	}
	BATLIN->say("\"Now is the time to welcome the newest member of The Fellowship to sit at our table.\" Batlin beckons you to join him at the podium.");
	say("He pours a glass of wine into a crystal goblet and takes a sip.");
	say("The goblet is passed around the hall, each member respectively taking a sip. Finally, the goblet is handed to you. You look at it thoughtfully as you feel all eyes in the room upon you.");
	if (var000D) {
		var000F = Func08F7(DUPRE);
		var0010 = UI_is_pc_female();
		if (var0010) {
			var0011 = "she";
		} else {
			var0011 = "he";
		}
		if (var000F) {
			SHAMINO->say("You hear Shamino desperately whispering to Dupre as they stand behind you. \"Dupre, we are having no success in showing the Avatar the mistake ",
				var0011,
				" must surely be making. Thou art our last hope.\"");
			SHAMINO->hide();
			DUPRE->say("You feel a tapping on your shoulder and you turn to see Dupre as he whispers in your ear. \"I know a much better place to get a drink than this one. Perhaps thou wouldst like to join thy comrades there?\"");
			var0012 = Func090A();
			if (var0012) {
				say("\"Then let us be off. Now!\"*");
				abort;
			}
			say("\"Then I hope this game amuses thee, for it makes thy comrades sorely worried.\"*");
			DUPRE->hide();
		}
	}
	BATLIN->say("\"Now there remains but one more test of thy loyalty to The Fellowship. I presume thou hast read the Book of Fellowship by now. I must ask you two questions. The answers may be found within the book.\" Batlin smiles modestly. \"I am the author, didst thou know? Well, never mind. Here we go.\"");
	Func0852();
	if (!gflags[0x0038]) {
		say("\"Excellent, Avatar!\"");
		say("Fighting a tremble of hesitation you take a long deep drink from the goblet. Batlin steps up to you. \"May the news spread far and wide that our newest member is none other than the Avatar!\"");
		say("The other Fellowship members cheer with pleasure.");
		var0013 = UI_add_party_items(0x0001, 0x03BB, QUALITY_ANY, 0x0001, false);
		gflags[0x0091] = true;
		gflags[0x0006] = true;
		Func0911(0x01F4);
		if (var0013) {
			say("\"Allow me to present thee with thy Fellowship medallion.\" Batlin gives you the medallion. \"Please -- wear thy medallion at all times for it shall be a symbol to all who see it that thou dost walk with the Fellowship. Ready it to thy neck immediately! Oh, and... welcome to The Fellowship, Avatar.\"*");
			gflags[0x0090] = true;
		} else {
			say("\"Thou art too encumbered to receive thy Fellowship medallion. Thou must lighten thy load.\"*");
		}
		abort;
	}
	say("\"My dear Avatar. Thou must realize that thou must know everything there is to know about The Fellowship before I can induct thee. Please study thy Book of Fellowship and return to me.\"");
	say("Your mind seems unclear. I would not be surprised if thou dost not understand\tanother soul with whom thou dost speak.\"");
	abort;
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func0850 0x850 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	BATLIN->show_npc_face(0x0000);
	var0000 = Func0908();
	var0001 = Func0909();
	say("The ceremony begins as Batlin stands before the gathered Fellowship members. The hall fills with thunderous cheers. They look at him with a mixture of awe and sheer adoration. Batlin stands and basks in the warm reception for a moment, a triumphant smile on his face. With a slight gesture of his hand the crowd becomes quiet.");
	say("\"It is good to see you here this evening!\" Batlin says. \"Surely you make me feel proud to be part of what we lovingly call The Fellowship.\" There is another eruption of applause.");
	say("\"In thine heart be glad for thou dost walk with The Fellowship! The people of Britannia live in a fevered state of illusory thoughts and emotions. But those whom I look upon here tonight are seekers of what is good and true in the world! They walk the path which leads to becoming truly cognizant. But how dost thou find thy way? Ask any Fellowship member and they will tell thee! The path to complete awareness is easy to find. One must apply to one's life the Triad of Inner Strength.");
	say("\"The Triad of Inner Strength is a series of three values that can bring the mind to a perfect state of sanguine cognition. The first value is Strive For Unity. When the totality of the people of the world want to accomplish something, then it becomes done. Thus once the people of the world all strive towards the same ends there is nothing that is impossible. Just think of it! A world where any dream can be fulfilled, any good can be achieved. But as thou canst see plainly by looking at our own sad society, when the people of the world are disunited, it is a miracle that anything gets accomplished!");
	say("\"The second value is Trust Thy Brother. Thou must surrender thy fear, prejudice and suspicion. Look to thine own self! Before thou dost question anything, question thyself! The world is a place where the balances of nature are at work to protect thee every second without thee even realizing it! What canst thou accomplish in this world if thou dost spend all thy time questioning thy brother?! Is he working as hard as I? What are his true motivations? As thou dost waste thine energies wondering, he sees thee and starts wondering these same things about thee. Thus is the world diminished!");
	say("\"The third value is Worthiness Precedes Reward. There is not one among us who is without desire. Much of the misery in the world can be traced to unfulfilled desires. But one moment! Why dost thou deserve what thou dost desire? Most people get what they are worthy of in this life. If thou art not worthy of thy desire then thou shouldst not be surprised if thy desires are unfulfilled. If thou dost become worthy only then hast thou become open to fulfilling thy desires. Desire is a strange thing. Many long for things they do not really want. What they really desire is worthiness itself!");
	say("\"I have just told thee all that thou dost need to follow the Triad Of Inner Strength. The lessons are simple. The true measure of thine understanding comes in how absolutely thou wilt apply them to thy life. Thou now knowest all thou wilt ever need. Thou dost not need the arcane knowledge of the dying art of magic. Thou dost not need the unsure hand of the healer and his limited knowledge. All that thou wilt ever need is to continuously seek out the best in thyself and to live amongst those that would do the same. Only then art thou truly walking with The Fellowship.");
	say("\"Now I think would be a good time to hear the words of our fellow members. To hear them share with us how The Fellowship has been bringing positive change to their lives.\"");
	var0002 = Func08F7(CANDICE);
	if (var0002) {
		CANDICE->say("\"The Fellowship has shown me that I was afraid of myself and that I had to open myself up to life's experiences,\" says Candice.*");
		CANDICE->hide();
	}
	var0003 = Func08F7(PATTERSON);
	if (var0003) {
		PATTERSON->say("\"The Fellowship helps me be more honest with people,\" says Patterson.*");
		BATLIN->say("\"Thank thee for sharing, Patterson.\"*");
		PATTERSON->hide();
	}
	var0004 = Func08F7(FIGG);
	if (var0004) {
		FIGG->say("\"The Fellowship has taught me how to better perform my duties as the Caretaker of the Royal Orchards,\" says Figg.*");
		FIGG->hide();
	}
	var0005 = Func08F7(GAYE);
	if (var0005) {
		GAYE->say("\"The Fellowship has taught me to, first and foremost, treat people with respect,\" says Gaye.*");
		GAYE->hide();
	}
	var0006 = Func08F7(GRAYSON);
	if (var0006) {
		GRAYSON->say("\"After joining The Fellowship I learned how to be a man's man,\" says Grayson.*");
		GRAYSON->hide();
	}
	var0007 = Func08F7(GORDON);
	if (var0007) {
		GORDON->say("\"The Fellowship is helping me back from the brink of personal and financial oblivion,\" says Gordon.*");
		BATLIN->say("\"Right thou art, brother!\"*");
		GORDON->hide();
	}
	var0008 = Func08F7(SEAN);
	if (var0008) {
		SEAN->say("\"The Fellowship has freed me from the illusory appeals of mediocrity,\" says Sean.*");
		SEAN->hide();
	}
	var0009 = Func08F7(MILLIE);
	if (var0009) {
		MILLIE->say("\"In The Fellowship I am learning that I need to devote my life to a special purpose,\" says Millie.*");
		MILLIE->hide();
	}
	var000A = Func08F7(SPARK);
	if (var000A) {
		SPARK->say("\"This whole ceremony and everyone in it doth give me the willies!\"*");
		SPARK->hide();
	}
	var000B = Func08F7(IOLO);
	if (var000B) {
		IOLO->say("\"'Tis a sad thing to see so many people who have nothing else better in their lives than blindly following this dubious spiritual leader.\"*");
		IOLO->hide();
	}
	var000C = Func08F7(SHAMINO);
	if (var000C) {
		SHAMINO->say("\"'Tis a sad thing that Britannia has fallen so far as to leave itself open to a group like this Fellowship.\"*");
		SHAMINO->hide();
	}
	var000D = Func08F7(DUPRE);
	if (var000D) {
		DUPRE->say("\"'Tis a sad thing when I cannot even keep my eyes open from the boredom of this Fellowship ceremony!\"*");
		DUPRE->hide();
	}
	BATLIN->say("From watching Batlin and the others you get the feeling that the Fellowship ceremony is going to last long into the night. Now would be a good moment to slip away without drawing much attention to yourself...*");
	abort;
}

extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func0851 0x851 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	if (!gflags[0x00D6]) {
		say("\"I need thee to deliver this sealed package unopened to Elynor, the leader of our Fellowship branch in Minoc. Elynor will reward thee upon receiving it, thou dost have my word. May I trust thee to do it?\"");
	} else {
		say("\"Hast thou reconsidered thy task? Wilt thou deliver the package to Elynor in Minoc?\"");
	}
	var0000 = Func090A();
	if (var0000) {
		var0001 = BATLIN->find_object(0x031E, QUALITY_ANY, FRAME_ANY);
		var0002 = var0001->set_last_created();
		var0003 = AVATAR->give_last_created();
		if (var0003) {
			say("\"Excellent! Here it is. Thou must now be on thy way!\"*");
			gflags[0x008F] = true;
			Func0911(0x00C8);
			abort;
		}
		var0003 = BATLIN->give_last_created();
		say("\"Zounds! Thine hands are too full to take the box. Please divest thyself of some of thy belongings.\"*");
		gflags[0x00D7] = true;
		abort;
	}
	say("\"Avatar, I know that thou hast gone on many quests. The quest for the spiritual is often the most fearsome and elusive one of all, as we both know. Do not be afraid of thyself, Avatar, for that is what prevents us from doing that which we must do. We shall speak of this again once thou hast reconsidered. Ask me about the package again tomorrow.\"*");
	gflags[0x00D6] = true;
	abort;
}

void Func0852 0x852 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;

	var0000 = [0x0000, 0x0000];
	var0001 = [0x0001, 0x0002];
	var0002 = false;
	if ((!gflags[0x0032]) && ((!gflags[0x0033]) && ((!gflags[0x0034]) && ((!gflags[0x0035]) && ((!gflags[0x0036]) && (!gflags[0x0037])))))) {
		for (var0005 in var0001 with var0003 to var0004) {
			do {
				var0006 = UI_die_roll(0x0001, 0x0006);
			} while (var0006 in var0000);
			var0000[var0005] = var0006;
		}
		for (var0005 in var0001 with var0007 to var0008) {
			if (var0000[var0005] == 0x0001) {
				gflags[0x0032] = true;
			}
		}
		for (var0005 in var0001 with var0009 to var000A) {
			if (var0000[var0005] == 0x0002) {
				gflags[0x0033] = true;
			}
		}
		for (var0005 in var0001 with var000B to var000C) {
			if (var0000[var0005] == 0x0003) {
				gflags[0x0034] = true;
			}
		}
		for (var0005 in var0001 with var000D to var000E) {
			if (var0000[var0005] == 0x0004) {
				gflags[0x0035] = true;
			}
		}
		for (var0005 in var0001 with var000F to var0010) {
			if (var0000[var0005] == 0x0005) {
				gflags[0x0036] = true;
			}
		}
		for (var0005 in var0001 with var0011 to var0012) {
			if (var0000[var0005] == 0x0006) {
				gflags[0x0037] = true;
			}
		}
	} else {
		for (var0005 in var0001 with var0013 to var0014) {
			if (gflags[0x0032] && (!(0x0001 in var0000))) {
				var0000[var0005] = 0x0001;
			}
			if (gflags[0x0033] && (!(0x0002 in var0000))) {
				var0000[var0005] = 0x0002;
			}
			if (gflags[0x0034] && (!(0x0003 in var0000))) {
				var0000[var0005] = 0x0003;
			}
			if (gflags[0x0035] && (!(0x0004 in var0000))) {
				var0000[var0005] = 0x0004;
			}
			if (gflags[0x0036] && (!(0x0005 in var0000))) {
				var0000[var0005] = 0x0005;
			}
			if (gflags[0x0037] && (!(0x0006 in var0000))) {
				var0000[var0005] = 0x0006;
			}
		}
	}
	var0015 = ["According to the Book of Archaic Knowledge, how many times must ginseng be reboiled in order for it to be properly used as a magical reagent?", "How many runes are in the archaic script of the outdated Britannian language?", "According to the Book of Archaic Knowledge, how many places may the Mandrake Root naturally be found?", "In the Book of Fellowship, how many bandits can be seen surrounding on the old man in the illustration on page three?", "According to the Traveller's Companion, how many parts of the body should one wish to protect with armour?", "According to the Book of Archaic Knowledge, fewer than how many pearls in 10,000 are black?"];
	var0016 = [0x0028, 0x001F, 0x0002, 0x0006, 0x0006, 0x0001];
	for (var0005 in var0001 with var0017 to var0018) {
		var0019 = var0015[var0000[var0005]];
		say("\"",
			var0019,
			"\"");
		var001A = UI_input_numeric_value(0x0000, 0x003C, 0x0001, 0x0000);
		if (!(var001A == var0016[var0000[var0005]])) {
			var0002 = true;
		}
	}
	if (var0002) {
		set_item_flag(CONFUSED);
		gflags[0x0038] = true;
	} else {
		clear_item_flag(CONFUSED);
		gflags[0x0038] = false;
	}
}

extern var Func090C 0x90C (var var0000);
extern var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0853 0x853 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "torch", "oil flasks", "bag", "shovel", "powder keg", "bucket", "jar", "jug", "wing scratcher", "nail file", "horn polish"];
	var0002 = [0x0000, 0x0253, 0x030E, 0x0322, 0x0271, 0x02C0, 0x032A, 0x02A9, 0x0006, 0x03A9, 0x03A9, 0x03A9];
	var0003 = [0x0000, 0x0004, 0x0048, 0x0006, 0x000E, 0x0023, 0x0003, 0x0003, 0x0002, 0x0005, 0x0005, 0x0002];
	var0004 = ["", "a ", "", "a ", "a ", "a ", "a ", "a ", "a ", "a ", "a ", ""];
	var0005 = 0x0001;
	var0006 = ["", "", " per dozen", "", "", "", "", "", "", "", "", " per application"];
	var0007 = [0x0000, FRAME_ANY, FRAME_ANY, FRAME_ANY, FRAME_ANY, FRAME_ANY, FRAME_ANY, FRAME_ANY, FRAME_ANY, 0x0000, 0x0001, 0x0003];
	var0008 = [0x0000, 0x0001, 0x000C, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"To make what purchase?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"To be acceptable.\"");
			var0000 = false;
		} else {
			var000A = Func091C(var0004[var0009], var0001[var0009], var0005, var0003[var0009], var0006[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				". To be an acceptable price?\"");
			var000C = Func090A();
			if (var000C) {
				if ((var0002[var0009] == 0x0253) || (var0002[var0009] == 0x030E)) {
					if (var0002[var0009] == 0x030E) {
						say("\"To want how many sets of twelve?\"");
					} else {
						say("\"To want how many?\"");
					}
					// BUG: This should be var0007[var0009] instead of var0007
					var000B = Func08F8(var0002[var0009], var0007, var0008[var0009], var0003[var0009], 0x0014, 0x0001, false);
				} else {
					// BUG: This should be var0007[var0009] instead of var0007
					var000B = Func08F8(var0002[var0009], var0007, var0008[var0009], var0003[var0009], 0x0000, 0x0001, false);
				}
			}
			if (var000B == 0x0001) {
				say("\"To accept!\"");
			} else if (var000B == 0x0002) {
				say("\"To be unable to travel with that much weight!\"");
			} else if (var000B == 0x0003) {
				say("\"To have not the money for that!\"");
			}
			say("\"To make another purchase?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0909 0x909 ();

void Func0854 0x854 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0000 = Func0909();
	do {
		say("\"How many portions wouldst thou wish to sell?\"");
		var0001 = UI_input_numeric_value(0x0000, 0x000A, 0x0001, 0x0000);
		if (var0001 == 0x0000) {
			say("\"Oh, my. We truly do need the meat. Well, perhaps next time.\"");
			return;
		}
		var0002 = PARTY->count_objects(0x0179, QUALITY_ANY, 0x0008);
		if (var0002 >= var0001) {
			break;
		}
		say("\"Thou cannot sell me what thou dost not have! Now, truly...!\"");
	} while (true);
	say("\"Excellent! I accept the trade, ",
		var0000,
		". Here is thy gold.\"");
	var0003 = var0001 * 0x0005;
	var0004 = UI_add_party_items(var0003, 0x0284, QUALITY_ANY, FRAME_ANY, true);
	if (!var0004) {
		say("\"Oh, dear. Thou cannot possibly carry this much gold! Perhaps thou mayest return when thou hast dropped something else.\"");
	} else {
		var0005 = UI_remove_party_items(var0001, 0x0179, QUALITY_ANY, 0x0008, true);
	}
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0855 0x855 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "jerky", "mead", "fish", "ale", "wine"];
	var0003 = [0x0000, 0x0179, 0x0268, 0x0179, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x000F, 0x0000, 0x000C, 0x0003, 0x0005];
	var0005 = [0x0000, 0x000C, 0x0005, 0x0005, 0x0002, 0x0001];
	var0006 = "";
	var0007 = 0x0000;
	var0008 = ["", " for ten pieces", " for a bottle", " for one", " for a bottle", " for a bottle"];
	var0009 = [0x0000, 0x000A, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What dost thou want for thy refreshment?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Fine.\"");
			var0001 = false;
		} else {
			var000B = Func091B(var0006, var0002[var000A], var0007, var0005[var000A], var0008[var000A]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Art thou still interested?\"");
			var000D = Func090A();
			if (var000D) {
				if (var0003[var000A] == 0x0179) {
					var000B = "How many ";
					if (var0009[var000A] > 0x0001) {
						var000B += "packets ";
					}
					var000B += "wouldst thou like?";
					say("\"^",
						var000B,
						"\"");
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009[var000A], var0005[var000A], 0x0014, 0x0001, true);
				} else {
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009[var000A], var0005[var000A], 0x0000, 0x0001, true);
				}
			}
			if (var000C == 0x0001) {
				say("\"It is thine!\"");
			} else if (var000C == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou dost not have enough gold, ",
					var0000,
					".\"");
			}
			say("\"Wouldst thou care for something else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0915 0x915 (var var0000, var var0001);

void Func0856 0x856 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	var0002 = Func0920();
	var0003 = var0002->get_npc_name();
	if (var0002 == AVATAR) {
		var0003 = "you";
	}
	if (var0002 != 0x0000) {
		if ((var0002 == IOLO) || (var0002 == TSERAMED)) {
			var0001 /= 0x0002;
			say("\"I cannot charge a master such as thyself full price.\"");
		}
		var0004 = 0x0002;
		var0005 = Func0922(var0000, var0001, var0002, var0004);
		if (var0005 == 0x0000) {
			say("After a bit of target practice, he says, \"I am sorry to say this, but thou dost need more practice before I will be able to train thee. Perhaps at a later time thou wilt be in a better position to receive mine instruction.\"");
			return;
		}
		if (var0005 == 0x0001) {
			var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			say("You gather your gold and count it, finding that you have ",
				var0006,
				" gold altogether.");
			if (var0006 < var0001) {
				say("\"Thou hast not the gold to train.\"");
				return;
			}
		}
		if (var0005 == 0x0002) {
			say("After a few target shots, he exclaims, \"Thou art already as proficient as I! I can do nothing to improve thy coordination of hand and eye!\"");
			return;
		}
		var0007 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		say("You pay ",
			var0001,
			" gold, and the training session begins.");
		if (var0002 == AVATAR) {
			var0008 = "You";
		} else {
			var0008 = var0003;
		}
		if (var0002 == AVATAR) {
			var0009 = "you";
		} else {
			var0009 = var0003;
		}
		if (var0002 == AVATAR) {
			var000A = "";
		} else {
			var000A = "s";
		}
		say(var0008,
			" and Bradman spend some time taking target practice with the bow. Shortly, ",
			var0009,
			" notice",
			var000A,
			" a significant increase in hand-eye coordination.");
		var000B = Func0910(var0002, DEXTERITY);
		if (var000B < 0x001E) {
			Func0915(var0002, 0x0002);
		}
	}
}

extern var Func090A 0x90A ();

void Func0857 0x857 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	UI_push_answers();
	var0000 = 0x0001;
	var0001 = 0x0001;
	say("\"Excellent! Hast thou brought some pumpkins for me?\"");
	var0002 = Func090A();
	if (var0002) {
		say("\"Very good! Let me see how many thou dost have...\"");
		var0003 = PARTY->count_objects(0x0179, QUALITY_ANY, 0x0014);
		var0004 = PARTY->count_objects(0x0179, QUALITY_ANY, 0x0015);
		var0005 = var0003 + var0004;
		if (var0005 == 0x0000) {
			say("\"But thou dost not have a single one in thy possession! Thou art as looney as Mack!\"*");
			abort;
		}
		var0006 = (var0005 / var0001) * var0000;
		say("\"Lovely! ",
			var0005,
			"! That means I owe thee ",
			var0006,
			" gold. Here thou art! I shall take the pumpkins from thee now!\"");
		var0007 = UI_add_party_items(var0006, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		if (var0007) {
			var0008 = UI_remove_party_items(var0003, 0x0179, QUALITY_ANY, 0x0014, true);
			var0008 = UI_remove_party_items(var0004, 0x0179, QUALITY_ANY, 0x0015, true);
			say("\"Come back and work for me at any time!\"*");
			abort;
		}
		say("\"If thou wouldst travel in a lighter fashion, thou wouldst have hands to take my gold!\"");
	} else {
		say("\"No? What hast thou been doing in my field? Thou art as worthless as most of the workers one finds!\"");
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0858 0x858 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "club", "dagger", "bow", "sword", "halberd", "arrows", "bolts"];
	var0002 = [0x0000, 0x024E, 0x0252, 0x0255, 0x0257, 0x025B, 0x02D2, 0x02D3];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x0014, 0x0014, 0x0028, 0x0064, 0x00FA, 0x0019, 0x001E];
	var0005 = ["", "a ", "a ", "a ", "a ", "a ", "", ""];
	var0006 = [0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0001];
	var0007 = ["", "", "", "", "", "", " per dozen", " per dozen"];
	var0008 = [0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x000C, 0x000C];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Tsk tsk... I am broken-hearted...\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Art thou still interested?\"");
			var000C = Func090A();
			if (var000C) {
				if ((var0002[var0009] == 0x02D2) || (var0002[var0009] == 0x02D3)) {
					say("\"How many dozen wouldst thou like?\"");
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0005, 0x0001, true);
				} else {
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0000, 0x0001, false);
				}
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0859 0x859 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "great helm", "plate armour", "plate leggings", "gorget", "scale armour", "gauntlets"];
	var0002 = [0x0000, 0x021D, 0x023D, 0x0240, 0x024A, 0x023A, 0x0244];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x00C8, 0x0145, 0x00C8, 0x0028, 0x0064, 0x0019];
	var0005 = ["", "a ", "", "", "a ", "", ""];
	var0006 = [0x0000, 0x0000, 0x0000, 0x0001, 0x0000, 0x0000, 0x0001];
	var0007 = ["", "", "", " for a pair", "", "", " for a pair"];
	var0008 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Tsk tsk... I am broken-hearted...\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Is that acceptable?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0003, var0008, var0004[var0009], 0x0000, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func085A 0x85A () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	if (gflags[0x02B6]) {
		var0001 = ["nothing", "torch", "lockpick"];
		var0002 = [0x0000, 0x0253, 0x0273];
		var0003 = [FRAME_ANY, FRAME_ANY, FRAME_ANY];
		var0004 = [0x0000, 0x0005, 0x0001];
		var0005 = ["", "a ", "a "];
		var0006 = 0x0000;
		var0007 = "";
		var0008 = 0x0001;
	} else {
		var0001 = ["Nothing", "Torch", "Lockpick"];
		var0002 = [0x0000, 0x0253, 0x0273];
		var0003 = [FRAME_ANY, FRAME_ANY, FRAME_ANY];
		var0004 = [0x0000, 0x0005, 0x000A];
		var0005 = ["", "a ", "a "];
		var0006 = 0x0000;
		var0007 = "";
		var0008 = 0x0001;
	}
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Tsk tsk... I am broken-hearted...\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006, var0004[var0009], var0007);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Art thou still interested?\"");
			var000C = Func090A();
			if (var000C) {
				if ((var0002[var0009] == 0x0273) || (var0002[var0009] == 0x0253)) {
					say("\"How many wouldst thou like?\"");
					var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0005, 0x0001, true);
				} else {
					var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0000, 0x0001, false);
				}
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

void Func085B 0x85B () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = 0xFF0C->get_npc_object();
	var0001 = var0000->get_schedule_type();
	var0002 = "";
	var0003 = UI_die_roll(0x0001, 0x0004);
	if (var0001 == LOITER) {
		if (var0003 == 0x0001) {
			var0002 = "@We'll never find it!@";
		}
		if (var0003 == 0x0002) {
			var0002 = "@Love. Hah!@";
		}
		if (var0003 == 0x0003) {
			var0002 = "@I thought thou had it!@";
		}
		if (var0003 == 0x0004) {
			var0002 = "@Why me?@";
		}
	}
	var0000->item_say(var0002);
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func085C 0x85C () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "heavy cloak", "tunic", "pants", "dress", "hood"];
	var0002 = [0x0000, 0x011D, 0x00F9, 0x02E2, 0x00F9, 0x01BC];
	var0003 = [0x0000, 0x0032, 0x001E, 0x001E, 0x002D, 0x000A];
	var0004 = ["", "a ", "a ", "", "a ", "a "];
	var0005 = [0x0000, 0x0000, 0x0000, 0x0001, 0x0000, 0x0000];
	var0006 = ["", "", "", " per pair", "", ""];
	var0007 = [FRAME_ANY, 0x0001, 0x0000, 0x0001, 0x0001, 0x0001];
	var0008 = 0x0001;
	say("\"What article wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine!\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0004[var0009], var0001[var0009], var0005[var0009], var0003[var0009], var0006[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Art thou willing to pay my price?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0007[var0009], var0008, var0003[var0009], 0x0000, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"Excellent choice!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou must put away one of thine other items before thou canst take this fine piece of clothing.\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for my fine apparel. Perhaps in the near future.\"");
			}
			say("\"Is there something else thou wouldst like to see?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func085D 0x85D () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "mutton rations", "trout", "Silverleaf", "cake", "ham"];
	var0003 = [0x0000, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179];
	var0004 = [FRAME_ANY, 0x000F, 0x000C, 0x001F, 0x0005, 0x000B];
	var0005 = [0x0000, 0x000C, 0x0002, 0x0019, 0x0002, 0x000A];
	var0006 = "";
	var0007 = [0x0000, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000];
	var0008 = ["", " for ten portions", " for one portion", " for one portion", " per piece", " for a slice"];
	var0009 = [0x0000, 0x000A, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What wouldst thou like to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Very well, ",
				var0000,
				".\"");
			var0001 = false;
			continue;
		}
		do {
			if (var000A == 0x0004) {
				if (gflags[0x012B]) {
					say("\"Phearcy has said that we can no longer sell Silverleaf because we have no more and cannot again acquire the meal. I am truly sorry. Perhaps thou wouldst be interested in something else.\"");
					break;
				}
			}
			var000B = Func091B(var0006, var0002[var000A], var0007[var000A], var0005[var000A], var0008[var000A]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Dost thou accept my price?\"");
			var000D = Func090A();
			if (var000D) {
				var000B = "How many ";
				if (var0004[var000A] == 0x000F) {
					var000B += "sets ";
				}
				var000B += "dost thou want?";
				say("\"",
					var000B,
					"\"");
				var000C = Func08F8(var0003[var000A], var0004[var000A], var0009[var000A], var0005[var000A], 0x0014, 0x0001, true);
			}
			if (var000C == 0x0001) {
				say("\"Agreed.\"");
			} else if (var000C == 0x0002) {
				say("\"Thou cannot carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou hast not the gold for that!\"");
			}
		} while (false);
		say("\"Wouldst thou like something else?\"");
		var0001 = Func090A();
	}
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func085E 0x85E () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "wine", "ale"];
	var0003 = [0x0000, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x0005, 0x0003];
	var0005 = [0x0000, 0x0004, 0x0003];
	var0006 = "";
	var0007 = 0x0000;
	var0008 = " per bottle";
	var0009 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Very well, ",
				var0000,
				".\"");
			var0001 = false;
		} else {
			var000B = Func091B(var0006, var0002[var000A], var0007, var0005[var000A], var0008);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Dost thou accept my price?\"");
			var000D = Func090A();
			if (var000D) {
				var000C = Func08F8(var0003[var000A], var0004[var000A], var0009, var0005[var000A], 0x0000, 0x0001, true);
			}
			if (var000C == 0x0001) {
				say("\"Agreed.\"");
			} else if (var000C == 0x0002) {
				say("\"Thou cannot carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou hast not the gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0908 0x908 ();
extern var Func0909 0x909 ();
extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);
extern void Func0915 0x915 (var var0000, var var0001);

void Func085F 0x85F (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	var0002 = Func0908();
	var0003 = Func0909();
	var0004 = "the Avatar";
	if (gflags[0x01F1]) {
		var0005 = var0002;
	}
	if (gflags[0x01F3]) {
		var0005 = var0004;
	}
	if (gflags[0x01F2]) {
		var0005 = var0003;
	}
	var0006 = Func0920();
	var0007 = var0006->get_npc_name();
	if (var0006 != 0x0000) {
		var0008 = 0x0003;
		var0009 = Func0922(var0000, var0001, var0006, var0008);
		if (var0009 == 0x0000) {
			say("\"It seems that thou dost need a little more time to hone thy reflexes. If thou dost wish to return later, when thou hast more experience, I would be most happy to train thee.\"");
			return;
		}
		if (var0009 == 0x0001) {
			var000A = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			say("You gather your gold and count it, finding that you have ",
				var000A,
				" gold altogether.");
			if (var000A < var0001) {
				say("\"Thou hast not enough gold to pay me. I am sorry but I cannot train thee now.\"");
				return;
			}
		}
		if (var0009 == 0x0002) {
			say("\"Zounds! Thou art quick. Too quick, in fact, for me to be able to help thee become faster. I am sorry, ",
				var0005,
				".\"");
		} else {
			var000B = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("You pay ",
				var0001,
				" gold, and the training session begins.");
			if (var0006 == AVATAR) {
				var000C = "You";
			} else {
				var000C = var0007;
			}
			if (var0006 == AVATAR) {
				var000D = "you";
			} else {
				var000D = var0007;
			}
			say(var000C,
				" and Chad spar for a few minutes. He teaches ",
				var000D,
				" several expert maneuvers that better utilize speed and agility in combat.");
			var000E = Func0910(var0006, DEXTERITY);
			if (var000E < 30) {
				Func0917(var0006, 1);
			}
			var000F = Func0910(var0006, COMBAT);
			if (var000F < 30) {
				Func0915(var0006, 2);
			}
		}
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func090E 0x90E ();
extern void Func091D 0x91D (var var0000, var var0001);
extern void Func091E 0x91E (var var0000, var var0001);
extern void Func091F 0x91F (var var0000, var var0001);

void Func0860 0x860 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0003 = Func0909();
	say("\"I am able to heal, cure poison, and resurrect. Art thou in need of one of these services?\"");
	UI_push_answers();
	var0004 = Func090A();
	do {
		if (var0004) {
			say("\"Which of my services dost thou need?\"");
			var0005 = ["heal", "cure poison", "resurrect"];
			var0006 = Func090B(var0005);
			if ((var0006 == "heal") || (var0006 == "cure poison")) {
				if (var0006 == "heal") {
					var0007 = "healed";
					var0008 = var0000;
				}
				if (var0006 == "cure poison") {
					var0007 = "cured of poison";
					var0008 = var0001;
				}
				say("\"Who dost thou wish to be ",
					var0007,
					"?\"");
				var0009 = Func090E();
				if (var0009 == 0x0000) {
					say("\"So thou art healthy? 'Tis good news. If thou dost need my services in the future, do not hesitate to return.\"");
					break;
				}
			}
			if (var0006 == "resurrect") {
				var000A = UI_get_avatar_ref();
				var000B = var000A->find_nearest(0x0190, 0x0019);
				if (var000B == 0x0000) {
					var000B = var000A->find_nearest(0x019E, 0x0019);
					if (var000B == 0x0000) {
						say("\"I apologize, ",
							var0003,
							", but I do not see anyone who is in need of resurrection. I must be able to see the body to save the spirit. If thou art carrying thy misfortunate friend, pray lay them on the ground so that I may return them to this world.\"");
						abort;
					}
				}
				say("\"Indeed, thy friend has departed this life. I will attempt to restore them to this world.\"");
				var0008 = var0002;
			}
			say("\"My price is ",
				var0008,
				" gold. Is this satisfactory?\"");
			var000C = Func090A();
			if (var000C) {
				var000D = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var000D >= var0008) {
					if (var0006 == "heal") {
						Func091D(var0009, var0008);
					} else if (var0006 == "cure poison") {
						Func091E(var0009, var0008);
					} else if (var0006 == "resurrect") {
						Func091F(var000B, var0008);
					}
				} else {
					say("\"Thou dost not have any gold. I am truly sorry. I cannot help thee until thou canst provide the proper fee.\" Chantu bows respectfully.");
				}
			} else {
				say("\"Then I am truly sorry. I must charge what I must charge. We do not live in prosperous times.\"");
			}
		} else {
			say("\"Well, if thou dost decide that my services are needed, I am always here.\"");
		}
	} while (false);
	UI_pop_answers();
}

void Func0861 0x861 () {
	say("\"Thou didst just break the rule of The Game! Thou had best learn it!\"*");
	abort;
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func090B 0x90B (var var0000);
extern void Func0861 0x861 ();
extern void Func0911 0x911 (var var0000);

void Func0862 0x862 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0000 = Func08F7(IOLO);
	var0001 = false;
	var0002 = false;
	var0003 = false;
	var0004 = false;
	say("\"Then prove it. Talk to me.\"");
	UI_clear_answers();
	var0005 = Func090B(["Hello, Chuckles", "Hello, Fool", "Hi, Chuckles", "Hi, Chuck"]);
	if (var0005 == "Hi, Chuck") {
		say("\"Hi there! What is on thy mind?\"");
		var0001 = true;
		UI_clear_answers();
	} else {
		Func0861();
	}
	if (var0001 == true) {
		var0005 = Func090B(["trouble", "too much", "many problems", "I need answers"]);
		if (var0005 == "too much") {
			say("\"Ah, I do know what thou dost mean! Thou dost need help, yes?\"");
			var0002 = true;
			UI_clear_answers();
		} else {
			Func0861();
		}
	}
	if (var0002 == true) {
		var0005 = Func090B(["Yes, I do", "Absolutely", "Canst thou help?", "Most assuredly"]);
		if ((var0005 == "Yes, I do") || (var0005 == "Canst thou help?")) {
			say("\"Hmmm. I might could give thee a clue.\"");
			if (var0000) {
				IOLO->say("\"I would like to give Chuckles a black eye!\"");
				IOLO->hide();
				CHUCKLES->show_npc_face(0x0000);
			}
			var0003 = true;
			UI_clear_answers();
		} else {
			Func0861();
		}
	}
	if (var0003 == true) {
		var0005 = Func090B(["That would be big of thee", "I need it immediately", "That would be worthwhile", "I wish thou wouldst"]);
		if ((var0005 == "That would be big of thee") || (var0005 == "I wish thou wouldst")) {
			say("\"What wilt thou give me for a clue?\"");
			var0004 = true;
			UI_clear_answers();
		} else {
			Func0861();
		}
	}
	if (var0004 == true) {
		var0005 = Func090B(["I shan't murder thee", "gold", "my friendship", "a smile", "nothing"]);
		if (var0005 == "gold") {
			say("Chuckles holds his hand up. \"'Tis not right. I give thee a clue for free. 'Tis here in this scroll.\"");
			var0006 = UI_add_party_items(0x0001, 0x031D, 0x0001, FRAME_ANY, false);
			if (var0006) {
				gflags[0x006F] = true;
				Func0911(0x0032);
				UI_clear_answers();
				say("\"So long, my friend! Do not forg... I mean, do not lose how to play The Game!\"*");
				abort;
			}
			say("\"Oh! Thou dost not have room for the scroll! Put down thy things and I shall give it to thee!\"*");
			abort;
		}
		if (var0005 == "a smile") {
			say("\"How nice! All right! I shall give thee a clue. 'Tis here in this scroll.\"");
			var0006 = UI_add_party_items(0x0001, 0x031D, 0x0001, FRAME_ANY, false);
			if (var0006) {
				gflags[0x006F] = true;
				Func0911(0x0032);
				UI_clear_answers();
				say("\"So long, my friend! Do not forg... I mean, do not lose how to play The Game!\"*");
				abort;
			}
			say("\"Oh! Thou dost not have room for the scroll! Put down some of thy things and I can give it to thee!\"*");
			abort;
		}
		if ((var0005 == "I shan't murder thee") || ((var0005 == "my friendship") || (var0005 == "nothing"))) {
			Func0861();
		}
	}
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0863 0x863 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "bow", "crossbow", "triple crossbow", "arrows", "bolts"];
	var0002 = [0x0000, 0x0255, 0x0256, 0x0287, 0x02D2, 0x02D3];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x0028, 0x007D, 0x0190, 0x0019, 0x001E];
	var0005 = ["", "a ", "a ", "a ", "", ""];
	var0006 = [0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0001];
	var0007 = ["", "", "", "", " for a dozen", " for a dozen"];
	var0008 = [0x0000, 0x0001, 0x0001, 0x0001, 0x000C, 0x000C];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Wouldst thou still like to buy?\"");
			var000C = Func090A();
			if (var000C) {
				if ((var0002[var0009] == 0x02D2) || (var0002[var0009] == 0x02D3)) {
					say("\"How many dozen wouldst thou like?\"");
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0014, 0x0001, true);
				} else {
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0000, 0x0001, false);
				}
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

void Func0864 0x864 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = 0xFF03->get_npc_object();
	var0001 = var0000->get_schedule_type();
	var0002 = "";
	var0003 = UI_die_roll(0x0001, 0x0004);
	if (var0001 == LOITER) {
		if (var0003 == 0x0001) {
			var0002 = "@It should not be much longer!@";
		}
		if (var0003 == 0x0002) {
			var0002 = "@Love will show the way.@";
		}
		if (var0003 == 0x0003) {
			var0002 = "@Me? Thou brought it!@";
		}
		if (var0003 == 0x0004) {
			var0002 = "@I am sorry, truly!@";
		}
	}
	var0000->item_say(var0002);
}

var Func0865 0x865 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = "soup" & ("*" & ("eruption" & ("*" & ("quagmire" & ("*" & ("bureaucracy" & ("bureaucracies" & ("tractor" & "*"))))))));
	var0000 &= "Socialism" & ("*" & ("Capitalism" & ("*" & ("hammer" & ("*" & ("sickle" & ("*" & ("imperialism" & "*"))))))));
	var0000 &= "crankshaft" & ("*" & ("carbuerator" & ("*" & ("Gump" & ("*" & ("lenticular cloud" & ("*" & ("clock" & ("*" & ("sloop" & ("*" & ("barge" & "*"))))))))))));
	var0001 = UI_die_roll(0x0001, (UI_get_array_size(var0000) / 0x0002));
	var0002 = var0000[((var0001 * 0x0002) - 0x0001)];
	var0003 = var0000[(var0001 * 0x0002)];
	if (var0003 == "*") {
		var0003 = var0002 + "s";
	}
	return [var0002, var0003];
}

var Func0866 0x866 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = "batting cage" & ("*" & ("flagstaff" & ("*" & ("digit" & ("*" & ("nail" & ("*" & ("epaphite" & ("*" & ("sycophant" & ("*" & ("demagouge" & "*"))))))))))));
	var0000 &= "prophet" & ("*" & ("profit" & ("*" & ("pus" & ("pus" & ("mulch" & ("mulch" & ("Garden Gnome" & "*"))))))));
	var0000 &= "personal crisis" & ("personal crises" & ("wit" & ("*" & ("bathysphere" & ("*" & ("jello-flavoring" & ("*" & ("origami ball" & ("*" & ("communion wafer" & ("*" & ("armageddon" & ("*" & ("baloon payment" & "*"))))))))))))));
	var0001 = UI_die_roll(0x0001, (UI_get_array_size(var0000) / 0x0002));
	var0002 = var0000[((var0001 * 0x0002) - 0x0001)];
	var0003 = var0000[(var0001 * 0x0002)];
	if (var0003 == "*") {
		var0003 = var0002 + "s";
	}
	return [var0002, var0003];
}

var Func0867 0x867 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = "constipated" & ("fractal" & ("dysfuctional" & ("dyslexic" & ("diurectic" & ("glandular" & ("hormonal" & ("obtuse" & ("obese" & ("partisan" & "bilateral")))))))));
	var0000 &= "symmetrical" & ("frontal" & ("superfluous" & ("super-saturated" & ("molar" & ("low-pressure" & ("diagnostic" & ("acidic" & ("empirical" & ("basic" & ("suicidal" & ("comforting" & "passive")))))))))));
	var0000 &= "hedonisitic" & ("pagan" & ("philanthropic" & ("operatic" & ("staged" & ("affected" & ("grotesque" & ("orgasmic" & ("organic" & ("pedantic" & ("imperialist" & ("Gumpy" & "co-dependent")))))))))));
	var0001 = UI_die_roll(0x0001, UI_get_array_size(var0000));
	var0002 = var0000[var0001];
	var0001 = UI_die_roll(0x0001, UI_get_array_size(var0000));
	var0003 = var0000[var0001];
	return [var0002, var0003];
}

var Func0868 0x868 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = "lactate" & ("lactated" & ("lactating" & ("grovel" & ("grovelled" & ("grovelling" & ("brew" & ("*" & ("*" & ("digest" & ("*" & ("*" & ("complain" & ("*" & "*")))))))))))));
	var0000 &= "gump" & ("*" & ("*" & ("guffaw" & ("*" & ("*" & ("loiter" & ("*" & ("*" & ("solicit" & ("*" & "*"))))))))));
	var0000 &= "represent" & ("*" & ("*" & ("conjugate" & ("*" & ("*" & ("sink" & ("sank" & ("*" & ("harvest" & ("*" & ("*" & ("gossip" & ("*" & ("*" & ("falsify" & ("falsified" & ("*" & ("sue" & ("sued" & "suing")))))))))))))))))));
	var0000 &= "gyrate" & ("gyreated" & ("gyrating" & ("outstrech" & ("*" & ("*" & ("deflower" & ("*" & "*")))))));
	var0001 = UI_die_roll(0x0001, (UI_get_array_size(var0000) / 0x0003));
	var0002 = var0000[((var0001 * 0x0003) - 0x0002)];
	var0003 = var0000[((var0001 * 0x0003) - 0x0001)];
	var0004 = var0000[(var0001 * 0x0003)];
	if (var0003 == "*") {
		var0003 = var0002 + "ed";
	}
	if (var0004 == "*") {
		var0004 = var0002 + "ing";
	}
	return [var0002, var0003, var0004];
}

var Func0869 0x869 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = "collate" & ("collated" & ("collating" & ("sear" & ("*" & ("*" & ("croak" & ("*" & ("*" & ("power-nap" & ("power-napped" & ("power-napping" & ("network" & ("*" & ("*" & ("conjure" & ("conjured" & "conjuring"))))))))))))))));
	var0000 &= "campaign" & ("*" & ("*" & ("protest" & ("*" & ("*" & ("spew" & ("*" & ("*" & ("inhabit" & ("*" & ("*" & ("censor" & ("*" & "*")))))))))))));
	var0000 &= "lay off" & ("laid off" & ("laying off" & ("irradiate" & ("irradiated" & ("irradiating" & ("martinize" & ("martinized" & "martinizing")))))));
	var0001 = UI_die_roll(0x0001, (UI_get_array_size(var0000) / 0x0003));
	var0002 = var0000[((var0001 * 0x0003) - 0x0002)];
	var0003 = var0000[((var0001 * 0x0003) - 0x0001)];
	var0004 = var0000[(var0001 * 0x0003)];
	if (var0003 == "*") {
		var0003 = var0002 + "ed";
	}
	if (var0004 == "*") {
		var0004 = var0002 + "ing";
	}
	return [var0002, var0003, var0004];
}

var Func086A 0x86A () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = "between the sheets" & ("with a melon" & ("assuredly" & ("above your house" & "below the ground")));
	var0000 &= "with much consternation" & ("Gumpily" & ("fiscally" & ("similarilly" & "throughout the universe")));
	var0001 = UI_die_roll(0x0001, UI_get_array_size(var0000));
	var0002 = var0000[var0001];
	return var0002;
}

var Func086B 0x86B () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = "without my knowledge" & ("without the proper documentation" & ("though the ages" & "against all odds"));
	var0000 &= "with your mother" & ("in a roundabout manner" & ("implicitly" & ("explicitly" & "anxiously")));
	var0001 = UI_die_roll(0x0001, UI_get_array_size(var0000));
	var0002 = var0000[var0001];
	return var0002;
}

var Func086C 0x86C () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = "armadillo" & ("*" & ("octopus" & ("octopi" & ("ungulate" & ("*" & ("cockatoo" & ("*" & ("ferret" & ("*" & ("weasel" & ("*" & ("bassalope" & "*"))))))))))));
	var0000 &= "platypus" & ("platypuses" & ("no-see-um" & ("*" & ("alpaca" & ("*" & ("mooncow" & ("*" & ("thundermoose" & ("*" & ("llama" & "*"))))))))));
	var0000 &= "iguana" & ("*" & ("reptile" & ("*" & ("amphibian" & ("*" & ("mammal" & ("*" & ("invertebrate" & "*"))))))));
	var0001 = UI_die_roll(0x0001, (UI_get_array_size(var0000) / 0x0002));
	var0002 = var0000[((var0001 * 0x0002) - 0x0001)];
	var0003 = var0000[(var0001 * 0x0002)];
	if (var0003 == "*") {
		var0003 = var0002 + "s";
	}
	return [var0002, var0003];
}

var Func086D 0x86D () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = "dicot" & ("*" & ("conifer" & ("*" & ("slug" & ("*" & ("sloth" & ("*" & ("mole-person" & ("mole-people" & ("pod-person" & ("pod-people" & ("Canadian" & ("*" & ("Dominican" & ("*" & ("Basque" & "*"))))))))))))))));
	var0000 &= "Gypsy" & ("Gypsies" & ("Serb" & ("*" & ("Croat" & ("*" & ("Mongol" & ("*" & ("Slav" & ("*" & ("Hindu" & ("*" & ("Christian" & ("*" & ("Christian Scientist" & ("*" & ("cephalopod" & ("*" & ("rock critic" & "*"))))))))))))))))));
	var0001 = UI_die_roll(0x0001, (UI_get_array_size(var0000) / 0x0002));
	var0002 = var0000[((var0001 * 0x0002) - 0x0001)];
	var0003 = var0000[(var0001 * 0x0002)];
	if (var0003 == "*") {
		var0003 = var0002 + "s";
	}
	return [var0002, var0003];
}

var Func086E 0x86E () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = "studmuffin" & ("creampuff" & ("homeboy" & ("homes" & ("whitey" & ("four-eyes" & ("goofball" & ("foreskin" & ("shmuck" & ("prepuce" & ("smegma-breath" & ("Comrade" & ("badycakes" & ("smart-guy" & ("oinker" & ("smartypants" & "Spankamiah")))))))))))))));
	var0001 = UI_die_roll(0x0001, UI_get_array_size(var0000));
	var0002 = var0000[var0001];
	return var0002;
}

extern var Func0865 0x865 ();
extern var Func0866 0x866 ();
extern var Func086C 0x86C ();
extern var Func086D 0x86D ();
extern var Func0867 0x867 ();
extern var Func0868 0x868 ();
extern var Func0869 0x869 ();
extern var Func086A 0x86A ();
extern var Func086B 0x86B ();
extern var Func086E 0x86E ();

var Func086F 0x86F () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;

	if (UI_die_roll(0x0000, 0x0003)) {
		if (UI_die_roll(0x0000, 0x0001)) {
			var0000 = Func0865();
		} else {
			var0000 = Func0866();
		}
	} else if (UI_die_roll(0x0000, 0x0001)) {
		var0000 = Func086C();
	} else {
		var0000 = Func086D();
	}
	var0001 = var0000[0x0001];
	var0002 = var0000[0x0002];
	if (UI_die_roll(0x0000, 0x0001)) {
		var0003 = Func0865();
	} else {
		var0003 = Func0866();
	}
	if (UI_die_roll(0x0000, 0x0001)) {
		var0004 = Func0865();
	} else {
		var0004 = Func0866();
	}
	if (UI_die_roll(0x0000, 0x0001)) {
		var0005 = Func0865();
	} else {
		var0005 = Func0866();
	}
	var0005 = var0005[0x0002];
	var0000 = Func0867();
	var0006 = var0000[0x0001];
	var0007 = var0000[0x0002];
	if (UI_die_roll(0x0000, 0x0001)) {
		var0000 = Func0868();
	} else {
		var0000 = Func0869();
	}
	var0008 = var0000[0x0001];
	var0009 = var0000[0x0002];
	var000A = var0000[0x0003];
	if (UI_die_roll(0x0000, 0x0001)) {
		var000B = Func086A();
	} else {
		var000B = Func086B();
	}
	if (UI_die_roll(0x0000, 0x0001)) {
		var0000 = Func086C();
	} else {
		var0000 = Func086D();
	}
	var000C = var0000[0x0001];
	var000D = var0000[0x0002];
	var000E = Func086E();
	var0000 = UI_die_roll(0x0000, 0x0024);
	if (var0000 == 0x0000) {
		var000F = ((("I'll show you my " + var0006) + " ") + var0001) + " if you show me yours.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((((("All of my " + var0006) + " ") + var0002) + " are ") + var000A) + " ") + var000B) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("Stop " + var000A) + " my ") + var0006) + " ") + var0001) + ", please.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("Have you seen my " + var0001) + "? It's ") + var000A) + " ") + var000B) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((("There is no " + var0001) + " for you today, little ") + var000C) + ", only death.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var0010 = UI_a_or_an(var0006);
		var000F = ((((("Am I having " + var0010) + " ") + var0006) + " ") + var0001) + " yet?";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var0010 = UI_a_or_an(var0006);
		var000F = ((((("Where is my attorney? I need " + var0010) + " ") + var0006) + " ") + var0001) + " right away.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((((("You saved my " + var0006) + " ") + var000C) + " from ") + var0001) + ", ") + var000E) + ". How can I ever repay you?";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var0010 = UI_a_or_an(var0001);
		var000F = ((((((((((("^" + var0010) + " ") + var0001) + ", ") + var0010) + " ") + var0001) + ", my kingdom for ") + var0010) + " ") + var0001) + "!";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var0010 = UI_a_or_an(var0001);
		var000F = ((("Frankly, my dear, I don't give " + var0010) + " ") + var0001) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((("As " + var0002) + " are my witness, I'll never go ") + var0006) + " again.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ("Oh my, " + var000E) + ", I don't think we're in Kansas anymore.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("May I borrow your " + var0001) + "? Mine seems to be ") + var0006) + " ") + var000B) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("My " + var000D) + " are ") + var000A) + " ") + var000B) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("You shall know the " + var0001) + " and the ") + var0001) + " shall make you ") + var0006) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var0010 = UI_a_or_an(var000C);
		var000F = ((((((("Thou shalt not " + var0008) + " to ") + var0010) + " ") + var000C) + ", ") + var000E) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((("Honor thy father and thy " + var0001) + ", ") + var000E) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((("Thou shalt not covet thy neighbor's " + var0001) + ", ") + var000E) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var0010 = UI_a_or_an(var0001);
		var000F = ((("Neither a borrower nor " + var0010) + " ") + var0001) + " be.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("Never " + var0008) + " a gift ") + var000C) + " in the ") + var0001) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((("A fool and his " + var0001) + " are soon ") + var0006) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((("Workers of the world, " + var0008) + "! You have nothing to lose but your ") + var0002) + "!";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ("Ich bin ein " + var0001) + "er.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((("Damn the " + var0002) + "! ^") + var0006) + " speed ahead!";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((((("Ask not what your " + var0006) + " ") + var0001) + " can do for you, but what you can do for your ") + var0006) + " ") + var0001) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("^" + var000E) + "! ") + var000E) + "! You damn ") + var000C) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("Let me just remind you that the " + var0002) + " of ") + var0003) + " may be more ") + var0006) + " than they appear.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("Destroy your " + var0006) + " and ") + var0007) + " life before it is too late, ") + var000E) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var0010 = UI_a_or_an(var0006);
		var0011 = UI_a_or_an(var0001);
		var000F = ((((((("My head feels like " + var0010) + " ") + var0006) + " with ") + var0011) + " ") + var0001) + " pointed at it.";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ((((("Beautiful, " + var000E) + ", I'll have my ") + var0001) + " call your ") + var0001) + ".";
	}
	var0000 -= 0x0001;
	if (var0000 == 0x0000) {
		var000F = ("No thank you, I'm watching my " + var0001) + " intake.";
	}
	var0000 -= 0x0001;
	if (var0000 >= 0x0000) {
		var0010 = UI_a_or_an(var0006);
		var0012 = ((((("Ode to " + var0010) + " ") + var0006) + " ") + var0001) + ". ";
		if (var0000 == 0x0000) {
			var000F = ((((((((((("O how the " + var000D) + " of ") + var0001) + " ") + var0008) + " ") + var000B) + " amidst the ") + var0006) + " ") + var0003) + ".";
		}
		var0000 -= 0x0001;
		if (var0000 == 0x0000) {
			var0010 = UI_a_or_an(var0006);
			var000F = ((((((("Shall I compare thee to " + var0010) + " ") + var0006) + " ") + var0001) + "? Thou art far more ") + var0007) + ".";
		}
		var0000 -= 0x0001;
		if (var0000 == 0x0000) {
			var0013 = UI_a_or_an(var0001);
			var000F = ((((((((((((((((("To be " + var0013) + " ") + var0001) + " or not to be. That is the ") + var0003) + ". Whether tis nobler in the ") + var0004) + " to ") + var0008) + " the ") + var0002) + " and ") + var0005) + " of ") + var0006) + " ") + var0003) + " or...";
		}
		var0000 -= 0x0001;
		if (var0000 == 0x0000) {
			var000F = (((((((((("This morning I saw a small " + var0001) + " ") + var000A) + " ") + var000B) + ". How the seasons of ") + var0006) + " ") + var0003) + " come and go.") + " Death falls upon us all.";
		}
		var0000 -= 0x0001;
		if (var0000 == 0x0000) {
			var000F = ((("Rage, rage against the " + var000A) + " of the ") + var0001) + ".";
		}
		var0000 -= 0x0001;
		if (var0000 == 0x0000) {
			var000F = ((((((((((((((("Love in the turning " + var0001) + ". The small ") + var000D) + " ") + var0008) + " ") + var000B) + ".  The ") + var0006) + " ") + var0005) + " whisper their ") + var0007) + " muses. Oh, the turning ") + var0001) + ".";
		}
		var0000 -= 0x0001;
	}
	return (var0012 + var000F);
}

extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func090E 0x90E ();
extern void Func091D 0x91D (var var0000, var var0001);
extern void Func091E 0x91E (var var0000, var var0001);
extern void Func091F 0x91F (var var0000, var var0001);

void Func0870 0x870 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	say("\"I am qualified to heal, cure poison, and resurrect. Art thou interested in one of these services?\"");
	UI_push_answers();
	var0003 = Func090A();
	do {
		if (var0003) {
			say("\"Which of my services dost thou have need of?\"");
			var0004 = ["heal", "cure poison", "resurrect"];
			var0005 = Func090B(var0004);
			if ((var0005 == "heal") || (var0005 == "cure poison")) {
				if (var0005 == "heal") {
					var0006 = "healed";
					var0007 = var0000;
				}
				if (var0005 == "cure poison") {
					var0006 = "cured of poison";
					var0007 = var0001;
				}
				say("\"Who dost thou wish to be ",
					var0006,
					"?\"");
				var0008 = Func090E();
				if (var0008 == 0x0000) {
					say("\"Very well. It pleases me that thou art healthy.\"");
					break;
				}
			}
			if (var0005 == "resurrect") {
				var0009 = UI_get_avatar_ref();
				var000A = var0009->find_nearest(0x0190, 0x0019);
				if (var000A == 0x0000) {
					var000A = var0009->find_nearest(0x019E, 0x0019);
					if (var000A == 0x0000) {
						say("\"I do not see anyone who needs resurrecting. I must be able to see the body to resurrect. If thou art carrying thy friend, pray lay them on the ground so that I may attend to them.\"");
						abort;
					}
				}
				say("\"Thy friend is badly wounded. I will attempt to restore them.\"");
				var0007 = var0002;
			}
			say("\"My price is ",
				var0007,
				" gold. Is this price agreeable?\"");
			var000B = Func090A();
			if (var000B) {
				var000C = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var000C >= var0007) {
					if (var0005 == "heal") {
						Func091D(var0008, var0007);
					} else if (var0005 == "cure poison") {
						Func091E(var0008, var0007);
					} else if (var0005 == "resurrect") {
						Func091F(var000A, var0007);
					}
				} else {
					say("\"Tsk, tsk. Thou dost not have enough gold for the service. I do hope I may help thee another day.\"");
				}
			} else {
				say("\"Then thou must look elsewhere for that service.\"");
			}
		} else {
			say("\"If thou hast need of my services later, I will be here.\"");
		}
	} while (false);
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0871 0x871 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "jerky", "mead", "fish", "ham", "silverleaf", "ale", "wine"];
	var0003 = [0x0000, 0x0179, 0x0268, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x000F, 0x0000, 0x000D, 0x000B, 0x001F, 0x0003, 0x0005];
	var0005 = [0x0000, 0x0019, 0x0005, 0x0003, 0x000A, 0x0014, 0x0002, 0x0002];
	var0006 = "";
	var0007 = 0x0000;
	var0008 = ["", " for ten pieces", " for a bottle", " each", " for one slice", " for a plateful", " for a bottle", " for a bottle"];
	var0009 = [0x0000, 0x000A, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What wouldst thou like?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Very well.\"");
			var0001 = false;
			continue;
		}
		do {
			if (var000A == 0x0006) {
				if (gflags[0x012B]) {
					say("\"I have no more. For some reason, no one is sending Silverleaf to us, so I cannot make a meal from it.\"");
					break;
				}
			}
			var000B = Func091B(var0006, var0002[var000A], var0007, var0005[var000A], var0008[var000A]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Is that all right?\"");
			var000D = Func090A();
			if (var000D) {
				if (var0003[var000A] == 0x0268) {
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009[var000A], var0005[var000A], 0x0000, 0x0001, true);
				} else {
					var000B = "How many ";
					if (var0009[var000A] > 0x0001) {
						var000B += "sets ";
					}
					var000B += "wouldst thou like?";
					say("\"^",
						var000B,
						"\"");
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009[var000A], var0005[var000A], 0x0014, 0x0001, true);
				}
			}
			if (var000C == 0x0001) {
				say("\"Done!\"");
			} else if (var000C == 0x0002) {
				say("\"But, ",
					var0000,
					", thou cannot possibly carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"I am sorry, ",
					var0000,
					", thou hast not enough gold for that.\"");
			}
		} while (false);
		say("\"Wouldst thou like something else?\"");
		var0001 = Func090A();
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0872 0x872 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "dagger", "mace", "sword", "2-handed hammer", "2-handed sword", "club", "sling", "bow", "arrows", "bolts"];
	var0002 = [0x0000, 0x0252, 0x0293, 0x0257, 0x0258, 0x025A, 0x024E, 0x01DA, 0x0255, 0x02D2, 0x02D3];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x000A, 0x000F, 0x0032, 0x003C, 0x0050, 0x000F, 0x000A, 0x001E, 0x000A, 0x000F];
	var0005 = ["", "a ", "a ", "a ", "a ", "a ", "a ", "a ", "a ", "", ""];
	var0006 = [0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0001];
	var0007 = ["", "", "", "", "", "", "", "", "", " for a dozen", " for a dozen"];
	var0008 = [0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x000C, 0x000C];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Is that acceptable?\"");
			if ((var0002[var0009] == 0x02D2) || (var0002[var0009] == 0x02D3)) {
				var000C = Func090A();
				if (var000C) {
					say("\"How many sets wouldst thou like?\"");
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0014, 0x0001, true);
				}
			} else {
				var000D = Func090A();
				if (var000D) {
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0000, 0x0001, false);
				}
			}
			if (var000B == 0x0001) {
				say("\"Very good. At last we are getting somewhere!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou hast thine hands full, idiot!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou hast a lot of gall attempting to buy something from my shop without enough gold in thy possession!\"");
			}
			say("\"Anything else for thee today?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0873 0x873 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "leather helm", "wooden shield", "leather leggings", "chain leggings", "leather armour"];
	var0002 = [0x0000, 0x03EC, 0x023C, 0x023E, 0x023F, 0x0239];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x0019, 0x000F, 0x0019, 0x0046, 0x0028];
	var0005 = ["", "a ", "a ", "", "", ""];
	var0006 = [0x0000, 0x0000, 0x0000, 0x0001, 0x0001, 0x0000];
	var0007 = ["", "", "", " for a pair", " for a pair", ""];
	var0008 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Is that acceptable?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0003, var0008, var0004[var0009], 0x0000, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"Very good. At last we are getting somewhere!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou hast thine hands full, idiot!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou hast a lot of gall attempting to buy something from my shop without enough gold in thy possession!\"");
			}
			say("\"Anything else for thee today?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0874 0x874 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "torch", "backpack", "lockpicks", "bucket", "swamp boots", "bedroll"];
	var0002 = [0x0000, 0x0253, 0x0321, 0x0273, 0x032A, 0x024C, 0x0247];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x0004, 0x000C, 0x0008, 0x0002, 0x0028, 0x000F];
	var0005 = ["a ", "a ", "a ", "some ", "a ", "a pair of ", "a "];
	var0006 = [0x0000, 0x0000, 0x0000, 0x0001, 0x0000, 0x0001, 0x0000];
	var0007 = "";
	var0008 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Is that acceptable?\"");
			if ((var0002[var0009] == 0x0273) || (var0002[var0009] == 0x0253)) {
				var000C = Func090A();
				if (var000C) {
					say("\"How many wouldst thou like?\"");
					var000B = Func08F8(var0002[var0009], var0003, var0008, var0004[var0009], 0x0005, 0x0001, true);
				}
			} else {
				var000D = Func090A();
				if (var000D) {
					var000B = Func08F8(var0002[var0009], var0003, var0008, var0004[var0009], 0x0000, 0x0001, false);
				}
			}
			if (var000B == 0x0001) {
				say("\"Very good. At last we are getting somewhere!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou hast thine hands full, idiot!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou hast a lot of gall attempting to buy something from my shop without enough gold in thy possession!\"");
			}
			say("\"Anything else for thee today?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
	UI_pop_answers();
}

extern var Func0920 0x920 ();
extern var Func090F 0x90F (var var0000);
extern var Func0908 0x908 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0915 0x915 (var var0000, var var0001);
extern void Func0916 0x916 (var var0000, var var0001);
extern void Func0918 0x918 (var var0000, var var0001);

void Func0875 0x875 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;

	var0002 = Func0920();
	var0003 = Func090F(var0002);
	var0004 = Func0908();
	if (var0003 == var0004) {
		var0003 = "you";
	}
	if (var0002 != 0x0000) {
		var0005 = 0x0003;
		var0006 = Func0922(var0000, var0001, var0002, var0005);
		if (var0006 == 0x0000) {
			say("\"I am sorry, but thou dost not have enough practical experience to train at this time. If thou couldst return at a later date, I would be most happy to train thee.\"");
			return;
		}
		if (var0006 == 0x0001) {
			var0007 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			say("You gather your gold and count it, finding that you have ",
				var0007,
				" gold altogether.");
			if (var0007 < var0001) {
				say("\"I regret that thou dost not seem to have enough gold to train here. Mayhaps at another time, when thy fortunes are more prosperous...\"");
				return;
			}
		}
		if (var0006 == 0x0002) {
			say("\"Thou art already as proficient as I! I am afraid that thou cannot be trained further in this.\"");
			return;
		}
		var0008 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		say("You pay ",
			var0001,
			" gold, and the training session begins.");
		if (var0003 == "you") {
			var0009 = "complete";
			var000A = "feel";
			var000B = "your";
			var000C = "spend";
			var000D = "you";
		} else {
			var0009 = "completes";
			var000A = "feels";
			var000B = "their";
			var000C = "spends";
			var000D = "them";
		}
		say("Denby hands ",
			var0003,
			" a chart with runes printed on it. \"Study these runes and memorize them,\" he says. After ",
			var0003,
			" ",
			var0009,
			" this task, ",
			var0003,
			" ",
			var000A,
			" that there is a bit of knowledge in ",
			var000B,
			" mind that was not there earlier.~~\"Now we shall exercise. Practice what I teach thee at least twice a day. Then thou shalt become more agile and limber.\" ^",
			var0003,
			" ",
			var000C,
			" a while mimicking the movements which Denby shows ",
			var000D,
			". Finally, Denby teaches ",
			var000D,
			" a few magic words to intone for meditational purposes. When the training session is complete, ",
			var0003,
			" ",
			var000A,
			" much more energized and ready for anything that might come ",
			var000B,
			" way...*");
		var000E = Func0910(var0002, DEXTERITY);
		var000F = Func0910(var0002, INTELLIGENCE);
		var0010 = Func0910(var0002, MAX_MANA);
		if (var000E < 30) {
			Func0915(var0002, 1);
		}
		if (var000F < 30) {
			Func0916(var0002, 1);
		}
		if (var0010 < 30) {
			Func0918(var0002, 1);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0876 0x876 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "mutton rations", "bread", "trout", "ham", "cake", "grapes", "cheese", "mead", "wine", "ale", "milk"];
	var0003 = [0x0000, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x000F, 0x0000, 0x000C, 0x000B, 0x0005, 0x0013, 0x001A, 0x0000, 0x0005, 0x0003, 0x0007];
	var0005 = [0x0000, 0x0010, 0x0006, 0x0003, 0x000F, 0x0001, 0x0003, 0x0003, 0x000A, 0x0005, 0x0002, 0x0004];
	var0006 = [0x0000, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000];
	var0007 = ["", " for 10 pieces", " for one loaf", " for one portion", " for one slice", " for one piece", " for a bunch", " for a hunk", " for a bottle", " for a bottle", " for a bottle", " for a bottle"];
	var0008 = [0x0000, 0x000A, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What wouldst thou choose to buy, ",
		var0000,
		"?\"");
	while (var0001) {
		var0009 = Func090C(var0002);
		if (var0009 == 0x0001) {
			say("\"Very well, ",
				var0000,
				".\"");
			var0001 = false;
		} else {
			var000A = "";
			var000B = 0x0000;
			var000C = Func091B(var000A, var0002[var0009], var0006[var0009], var0005[var0009], var0007[var0009]);
			say("\"^",
				var000C,
				". Dost thou find the price acceptable?\"");
			var000D = Func090A();
			if (var000D) {
				if (var0003[var0009] == 0x0268) {
					var000B = Func08F8(var0003[var0009], var0004[var0009], var0008[var0009], var0005[var0009], 0x0000, 0x0001, true);
				} else {
					say("\"How many dost thou want to purchase?\"");
					var000B = Func08F8(var0003[var0009], var0004[var0009], var0008[var0009], var0005[var0009], 0x0014, 0x0001, true);
				}
			}
			if (var000B == 0x0001) {
				say("\"Very good, ",
					var0000,
					".\"");
			} else if (var000B == 0x0002) {
				say("\"I believe thou cannot carry that much, ",
					var0000,
					".\"");
			} else if (var000B == 0x0003) {
				say("\"It would appear thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou care to buy something else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
}

void Func0877 0x877 () {
	say("\"I shall tell thee the story of the only unhappy person in Cove -- Nastassia. She is the only person in town without a lover. Not that she does not have suitors -- she is quite beautiful! All she thinks about is the Shrine of Compassion, which is where thou wouldst probably find her at this moment.\"~~De Maria strums his lute and sings:~~");
	say("\"There once was a maid Ariana~ Who held the shrine so dear.~ She asked that her offspring do likewise~ And keep it so year after year.");
	say("\"Her son Mikhail became mayor~ With a goal to keep in fashion~ The towne's old, belov'd reputation~ As the city of love and passion!");
	say("\"Mikhail's oldest child was Magda;~ She built Lovers' Walk, a fine park,~ Where Cove's lovers, both young and old,~ Could court outdoors in the dark!");
	say("Ah, but the clouds of misfortune do hide~ Where the sun's brightness seemeth most fair.~ And poor Nadia, Magda's daughter,~ Of misfortune had more than her share!");
	say("\"It began when Nadia did wed one day~ To Julius, a not-so-wealthy young lad.~ He left her with child and went far away.~ As for Nadia's poor heart, 'twas sad.");
	say("\"One day from Yew the fateful news came~ That Julius by a beast was killed;~ The child came early, 'twas a difficult birth;~ And Nadia's soul became chilled.");
	say("\"With dagger in hand and child in arm~ To the Shrine did Nadia run.~ She plunged the dagger into her own breast;~ Never again would she see the sun.");
	say("\"Nastassia grew up an orphan, you see,~ Unloved and unwanted by all;~ Today she walks cloaked in solitude~ Awaiting her destiny's call.");
	say("\"And that is poor Nastassia's tale. Perhaps thou canst cheer her. Find her, I beseech thee!\"*");
	gflags[0x00E0] = true;
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func090F 0x90F (var var0000);
extern var Func0908 0x908 ();
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);

void Func0878 0x878 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	var0002 = Func0920();
	if (var0002 != 0x0000) {
		var0003 = 0x0002;
		var0004 = Func0922(var0000, var0001, var0002, var0003);
		if (var0004 == 0x0000) {
			say("\"Thou dost not have enough practical experience to study fighting with me at this time!\" he scoffs.");
			return;
		}
		if (var0004 == 0x0001) {
			var0005 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			say("You gather your gold and count it, finding that you have ",
				var0005,
				" gold altogether.");
			if (var0005 < var0001) {
				say("\"Hmmm... it appears thou art without the necessary amount of gold. When thy coffers are more full, I might be able to help thee.\" He smirks.");
				return;
			}
		}
		if (var0004 == 0x0002) {
			say("\"Thou art already close in skill to me! Thou hast peaked in thine own potential. There is nothing further I can do for thee.\"");
			return;
		}
		var0006 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		say("You pay ",
			var0001,
			" gold, and the training session begins.");
		var0007 = Func090F(var0002);
		var0008 = Func0908();
		if (var0007 == var0008) {
			var0007 = "you";
		}
		say("The session, which consists of various techniques involving sleight of hand and strike feints, takes a fairly short amount of time.~ De Snel straightens suddenly and sheathes his blade. \"That is all for now. If thou dost wish more training, thou couldst most assuredly benefit from mine experience.\" He looks ",
			var0007,
			" up and down insolently. \"Thou seemest to be an apt pupil. Thou mayest return at a later time and advance thy training.\"");
		var0009 = Func0910(var0002, COMBAT);
		if (var0009 < 30) {
			Func0917(var0002, 2);
		}
	}
}

extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func090D 0x90D ();
extern void Func091D 0x91D (var var0000, var var0001);
extern void Func091E 0x91E (var var0000, var var0001);
extern void Func091F 0x91F (var var0000, var var0001);

void Func0879 0x879 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	say("\"Art thou in need of healing, curing, or resurrection?\"");
	UI_push_answers();
	var0003 = Func090A();
	do {
		if (var0003) {
			say("\"Which of my services dost thou have need of?\"");
			var0004 = ["heal", "cure poison", "resurrect"];
			var0005 = Func090B(var0004);
			if ((var0005 == "heal") || (var0005 == "cure poison")) {
				if (var0005 == "heal") {
					var0006 = "healed";
					var0007 = var0000;
				}
				if (var0005 == "cure poison") {
					var0006 = "cured of poison";
					var0007 = var0001;
				}
				say("\"Whom dost thou wish to have ",
					var0006,
					"?\"");
				var0008 = Func090D();
				if (var0008 == 0x0000) {
					say("\"Though I want thy business, I am pleased to see my services are not needed!\"");
					break;
				}
			}
			if (var0005 == "resurrect") {
				var0009 = UI_get_avatar_ref();
				var000A = var0009->find_nearest(0x0190, 0x0019);
				if (var000A == 0x0000) {
					var000A = var0009->find_nearest(0x019E, 0x0019);
				}
				if (var000A == 0x0000) {
					say("\"Well, I do not seem to see anyone who needs mine assistance. Unless thou art carrying someone in thy packs....\" He laughs.*");
					break;
				}
				var0007 = var0002;
			}
			say("\"My price is ",
				var0007,
				" gold. Dost thou agree?\"");
			var000B = Func090A();
			if (var000B) {
				var000C = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var000C >= var0007) {
					if (var0005 == "heal") {
						Func091D(var0008, var0007);
					} else if (var0005 == "cure poison") {
						Func091E(var0008, var0007);
					} else if (var0005 == "resurrect") {
						Func091F(var000A, var0007);
					}
				} else {
					say("\"Thou dost not have that much gold! Mayhaps thou couldst return with more and purchase the service then.\"");
				}
			} else {
				say("\"Then thou must look elsewhere for that service.\"");
			}
		} else {
			say("\"Very well. If thou hast need of my services later, I will be available.\"");
		}
	} while (false);
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func087A 0x87A () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "torch", "oil flasks", "backpack", "bag", "shovel", "hoe", "powder keg", "pick", "bedroll"];
	var0002 = [0x0000, 0x0253, 0x030E, 0x0321, 0x0322, 0x0271, 0x0272, 0x02C0, 0x0270, 0x0247];
	var0003 = [0x0000, 0x0003, 0x0030, 0x000A, 0x0003, 0x000A, 0x000A, 0x001E, 0x000C, 0x0010];
	var0004 = ["", "a ", "", "a ", "a ", "a ", "a ", "a ", "a ", "a "];
	var0005 = 0x0000;
	var0006 = ["", "", " for a dozen", "", "", "", "", "", "", ""];
	var0007 = FRAME_ANY;
	var0008 = [0x0000, 0x0001, 0x000C, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What can I sell to thee?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Very good.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0004[var0009], var0001[var0009], var0005, var0003[var0009], var0006);
			var000B = 0x0000;
			say("\"^",
				var000A,
				". Is that acceptable?\"");
			var000C = Func090A();
			if (var000C) {
				if ((var0002[var0009] == 0x0253) || (var0002[var0009] == 0x030E)) {
					if (var0002[var0009] == 0x030E) {
						say("\"How many sets of twelve wouldst thou like?\"");
					} else {
						say("\"How many wouldst thou like?\"");
					}
					var000B = Func08F8(var0002[var0009], var0007, var0008, var0003[var0009], 0x0014, 0x0001, true);
				} else {
					var000B = Func08F8(var0002[var0009], var0007, var0008, var0003[var0009], 0x0000, 0x0001, false);
				}
			}
			if (var000B == 0x0001) {
				say("\"Very good!\"");
			} else if (var000B == 0x0002) {
				say("\"I am sorry, but thou cannot possibly carry that much weight!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that,\" he says, shaking his head.~~\"Too many birds in the hand is worth a bush.\"");
			}
			say("\"Wouldst thou care to purchase something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func08F7 0x8F7 (var var0000);

void Func087B 0x87B () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	say("With Elynor standing before the gathered members of The Fellowship, the ceremony begins. \"My brothers in The Fellowship, I greet you on this occasion and thank you for your attendance. The events which have transpired in this town threaten to drive us apart. I do not need to remind you that the first value of the Triad of Inner Strength states that we must Strive For Unity. Now is the time when all those who hate and fear us may be conspiring against us.\"");
	say("\"There are those who fear awareness for it illuminates their own limitations. There are those who despise change for the better because they have spent their whole lives teaching themselves to love the mediocrity with which they have surrounded themselves. These are the people who perceive our Fellowship as a threat.\"");
	say("\"And there are those who are very uncertain about the merits of our Fellowship. Those who have heard the words of those who are against us but who see with their own eyes the substantial good that The Fellowship does and the difference it makes in the lives of its members every single day. Those undecided may still be brought into our family. We must Trust Our Brothers-yet-to-be. But most importantly, we must keep our enemies from spreading their prejudices against us. To do that we must show their beliefs to be untrue.\"");
	say("\"We must prove ourselves worthy of the trust we would have our fellow citizens\tplace in us. Once we have sufficiently displayed this worthiness, it will only be a matter of time before we receive our reward of trust. It is as inevitable as night following day. As our enemies will one day receive their own inevitable reward for which they have made themselves worthy.\"");
	say("\"Now I would like to hear from our members who have gathered here this evening. Share with us how The Fellowship has helped thee!\"");
	var0000 = Func08F7(GREGOR);
	if (var0000) {
		GREGOR->say("\"The Fellowship has improved mine ability to run my business,\" says Gregor.*");
		GREGOR->hide();
	}
	var0001 = Func08F7(OWEN);
	if (var0001) {
		OWEN->say("\"The Fellowship has taught me how to face mine own potential for greatness unquestioningly,\" says Owen.*");
		ELYNOR->say("\"Thank thee for sharing, brother!\"*");
		OWEN->hide();
	}
	var0002 = Func08F7(BURNSIDE);
	if (var0002) {
		BURNSIDE->say("You notice that Burnside has apparently nodded off. After a nudge from the person next to him, his eyes pop open. \"Umm... what was that question again...?\" he asks sheepishly.*");
		BURNSIDE->hide();
	}
	var0003 = Func08F7(WILLIAM);
	if (var0003) {
		WILLIAM->say("\"The Fellowship has helped me to have more courage to deal with the unexpected terrors of life,\" says William.*");
		WILLIAM->hide();
	}
	var0004 = Func08F7(MIKOS);
	if (var0004) {
		MIKOS->say("\"The Fellowship has helped me to have the firm hand that is necessary as the supervisor of the mine,\" says Mikos.*");
		MIKOS->hide();
	}
	var0005 = Func08F7(SPARK);
	if (var0005) {
		SPARK->say("\"Everything about this Fellowship gives me the creeps!\" says Spark.*");
		SPARK->hide();
	}
	var0006 = Func08F7(IOLO);
	if (var0006) {
		IOLO->say("\"Elynor is certainly going out of her way to make them feel like they are persecuted,\" says Iolo.*");
		IOLO->hide();
	}
	var0007 = Func08F7(SHAMINO);
	if (var0007) {
		SHAMINO->say("\"These Fellowship members seem fixated upon their own personal gain and very little else,\" says Shamino.*");
		SHAMINO->hide();
	}
	var0008 = Func08F7(DUPRE);
	if (var0008) {
		DUPRE->say("\"Why are these people so fascinated by The Fellowship anyway? I do not understand it.\"*");
		DUPRE->hide();
	}
	ELYNOR->say("With that Elynor is once again the center of attention of the meeting. \"Let us now begin our evening's meditations.\" After a few minutes of silence you begin to realize\tthat this meditation is going to continue for quite some time and that now might be a good time to leave inconspicuously.*");
	abort;
}

extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func087C 0x87C () {
	var var0000;
	var var0001;

	0xFEE5->show_npc_face(0x0000);
	if (!gflags[0x0154]) {
		say("The ape-like creature slowly and cautiously walks up to you. He, or she, sniffs for a moment, and then points to the honey you are carrying.");
	}
	converse (["Want honey?", "Go away!"]) {
		case "Want honey?":
			say("\"Honey will be given by you to me?\"");
			var0000 = Func090A();
			if (var0000) {
				var0001 = UI_remove_party_items(0x0001, 0x0304, QUALITY_ANY, FRAME_ANY, true);
				say("\"You are thanked.\"");
				if (!gflags[0x0154]) {
					Func0911(0x000A);
					gflags[0x0154] = true;
				}
			} else if (gflags[0x0154]) {
				say("The Emp appears very disappointed.\"");
			} else {
				say("\"`Goodbye' is said to you.\"*");
				abort;
			}
			fallthrough;

		case "Go away!":
			say("It does.*");
			abort;

		always:
			remove(["Want honey?", "Go away!"]);
	}
}

void Func087D 0x87D () {
	var var0000;
	var var0001;
	var var0002;

	AVATAR->get_npc_object()->set_item_flag(DONT_RENDER);
	var0000 = UI_create_new_object(0x0356);
	if (!UI_is_pc_female()) {
		if (AVATAR->get_npc_object()->get_item_frame() < 0x0010) {
			var0000->set_item_frame(0x0012);
		} else {
			var0000->set_item_frame(0x0013);
		}
	} else if (AVATAR->get_npc_object()->get_item_frame() < 0x0010) {
		var0000->set_item_frame(0x0014);
	} else {
		var0000->set_item_frame(0x0015);
	}
	var0001 = AVATAR->get_npc_object()->get_object_position();
	var0002 = UI_update_last_created(var0001);
}

extern void Func087F 0x87F (var var0000);
extern void Func0880 0x880 (var var0000, var var0001);

void Func087E 0x87E (var var0000, var var0001, var var0002, var var0003) {
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	var0004 = var0003->find_nearby(ANY_SHAPE, var0001, MASK_NONE);
	for (var0007 in var0004 with var0005 to var0006) {
		var0008 = var0007->get_item_shape();
		var0009 = var0007->get_object_position();
		if (var0009[0x0001] <= var0002[0x0001]) {
			if (var0009[0x0001] >= var0000[0x0001]) {
				if (var0009[0x0002] <= var0002[0x0002]) {
					if (var0009[0x0002] >= var0000[0x0002]) {
						if (var0009[0x0003] < 0x0005) {
							if (!(var0008 == 0x00BD)) {
								if (!var0007->is_npc()) {
									Func087F(var0007);
								} else {
									Func0880(var0007, var0002);
								}
							}
						}
					}
				}
			}
		}
	}
}

void Func087F 0x87F (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;

	var0001 = find_nearby(0x0113, 0x000F, MASK_EGG);
	for (var0004 in var0001 with var0002 to var0003) {
		var0005 = var0004->get_item_quality();
		var0006 = var0004->get_item_frame();
		var0007 = var0004->get_object_position();
		if ((var0005 == 0x000A) && (var0006 == 0x0006)) {
			var0008 = var0004->find_nearby(ANY_SHAPE, 0x0001, MASK_NONE);
			var0009 = 0x0000;
			if (var0008) {
				for (var000C in var0008 with var000A to var000B) {
					var000D = var000C->get_item_shape();
					if (var000D == 0x0320) {
						var000E = var000C->get_object_position();
						if ((var000E[0x0001] == var0007[0x0001]) && (var000E[0x0002] == var0007[0x0002])) {
							var0009 = var000C;
							var000F = var0009->set_item_quality(0x0064);
						}
					}
				}
				if (!var0009) {
					var0009 = UI_create_new_object(0x0320);
					var000F = var0009->set_item_quality(0x0064);
					var0009->set_item_frame(0x0000);
					var000F = UI_update_last_created(var0007);
				}
				for (var000C in var0008 with var0010 to var0011) {
					var000D = var000C->get_item_shape();
					var0012 = var000C->get_object_position();
					if (var0012[0x0003] < 0x0005) {
						if (!(var000C == var0009)) {
							if (var000D == 0x0152) {
								var0013 = var000C->get_item_quality();
								var0014 = var000C->get_item_frame();
								var000C->remove_item();
								var000C = UI_create_new_object(0x0150);
								var000F = var000C->set_item_quality(var0013);
								var000C->set_item_frame(var0014);
							}
							var000F = var000C->set_last_created();
							var000F = var0009->give_last_created();
						}
					}
				}
			} else {
				var0009 = UI_create_new_object(0x0320);
				var000F = var0009->set_item_quality(0x0064);
				var0009->set_item_frame(0x0000);
				var000F = UI_update_last_created(var0007);
			}
			var000E = var0009->get_object_position();
			UI_sprite_effect(ANIMATION_GREEN_BUBBLES, (var000E[0x0001] - 0x0001), (var000E[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
			var0015 = var0000->get_item_shape();
			if (var0015 == 0x0152) {
				var0013 = var0000->get_item_quality();
				var0014 = var0000->get_item_frame();
				var0000->remove_item();
				var0000 = UI_create_new_object(0x0150);
				var000F = var0000->set_item_quality(var0013);
				var0000->set_item_frame(var0014);
			}
			var000F = var0000->set_last_created();
			var000F = var0009->give_last_created();
		}
	}
}

void Func0880 0x880 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;

	var0002 = var0000->get_item_shape();
	var0003 = var0000->get_item_frame();
	var0004 = var0001;
	var0004[0x0001] = var0001[0x0001] + 0x0001;
	var0004[0x0002] = var0001[0x0002] + 0x0001;
	if (!UI_is_not_blocked(var0004, var0002, var0003)) {
		var0004[0x0001] = var0001[0x0001] + 0x0001;
		var0004[0x0002] = var0001[0x0002];
		if (!UI_is_not_blocked(var0004, var0002, var0003)) {
			var0004[0x0001] = var0001[0x0001];
			var0004[0x0002] = var0001[0x0002] + 0x0001;
			if (!UI_is_not_blocked(var0004, var0002, var0003)) {
				var0004[0x0001] = var0001[0x0001] + 0x0001;
				var0004[0x0002] = var0001[0x0002] - 0x0001;
				if (!UI_is_not_blocked(var0004, var0002, var0003)) {
					var0004[0x0001] = var0001[0x0001] - 0x0001;
					var0004[0x0002] = var0001[0x0002] + 0x0001;
					if (!UI_is_not_blocked(var0004, var0002, var0003)) {
						var0004[0x0001] = var0001[0x0001] + 0x0001;
						var0004[0x0002] = var0001[0x0002] - 0x0002;
						if (!UI_is_not_blocked(var0004, var0002, var0003)) {
							var0004[0x0001] = var0001[0x0001] - 0x0002;
							var0004[0x0002] = var0001[0x0002] + 0x0001;
							if (!UI_is_not_blocked(var0004, var0002, var0003)) {
								var0004[0x0001] = var0001[0x0001] + 0x0001;
								var0004[0x0002] = var0001[0x0002] - 0x0003;
								if (!UI_is_not_blocked(var0004, var0002, var0003)) {
									var0004[0x0001] = var0001[0x0001] - 0x0003;
									var0004[0x0002] = var0001[0x0002] + 0x0001;
									if (!UI_is_not_blocked(var0004, var0002, var0003)) {
										var0004[0x0001] = var0001[0x0001] + 0x0001;
										var0004[0x0002] = var0001[0x0002] - 0x0004;
										if (!UI_is_not_blocked(var0004, var0002, var0003)) {
											var0004[0x0001] = var0001[0x0001] - 0x0004;
											var0004[0x0002] = var0001[0x0002] + 0x0001;
											if (!UI_is_not_blocked(var0004, var0002, var0003)) {
												var0004[0x0001] = var0001[0x0001] + 0x0001;
												var0004[0x0002] = var0001[0x0002] + 0x0001;
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	var0000->move_object(var0004);
}

var Func0881 0x881 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = AVATAR->get_npc_object()->find_nearby(0x0356, 0x0000, MASK_NONE);
	for (var0003 in var0000 with var0001 to var0002) {
		if ((var0003->get_item_frame() >= 0x0012) && (var0003->get_item_frame() <= 0x0015)) {
			return var0003;
		}
	}
	return 0x0000;
}

extern var Func080D 0x80D ();
extern void Func061C object#(0x61C) ();
extern var Func08B3 0x8B3 (var var0000);

void Func0882 0x882 (var var0000) {
	var var0001;
	var var0002;
	var var0003;

	if (var0000->get_barge()) {
		var0001 = var0000->find_nearby(0x03C1, 0x000A, MASK_EGG);
		if (var0001) {
			if (Func080D() && AVATAR->get_barge()) {
				var0001->Func061C();
			} else {
				var0002 = Func08B3(var0000);
				AVATAR->clear_item_flag(ON_MOVING_BARGE);
				var0003 = AVATAR->find_nearby(0x009B, 0x0019, MASK_NONE);
				if (var0003) {
					var0003->set_item_flag(ACTIVE_SAILOR);
				}
			}
			abort;
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func0885 0x885 ();

void Func0883 0x883 () {
	var var0000;

	FINNIGAN->show_npc_face(0x0000);
	var0000 = Func08F7(PETRE);
	if (var0000) {
		say("\"Petre here knows something about all of this.\"*");
		PETRE->say("The peasant interjects. \"I discovered poor Christopher and the Gargoyle Inamo early this morning.\"*");
		PETRE->hide();
	} else {
		FINNIGAN->say("\"Petre the stables caretaker discovered poor Christopher and Inamo early this morning.\"");
	}
	FINNIGAN->say("The Mayor continues. \"Hast thou searched the stables?\"");
	Func0885();
}

extern var Func0909 0x909 ();
extern var Func090B 0x90B (var var0000);
extern var Func090A 0x90A ();
extern var Func0886 0x886 ();
extern void Func0911 0x911 (var var0000);

void Func0884 0x884 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0000 = Func0909();
	UI_clear_answers();
	if (!gflags[0x005E]) {
		say("\"Very well. What was Christopher's occupation?\"");
		var0001 = Func090B(["tailor", "blacksmith", "provisioner", "barkeep"]);
		if (var0001 == "blacksmith") {
			gflags[0x005E] = true;
		} else {
			say("\"That is not right. Thou shouldst do some more work.\"*");
			abort;
		}
	}
	if (!gflags[0x005F]) {
		UI_clear_answers();
		say("\"What didst thou find at the murder site?\"");
		var0001 = Func090B(["nothing", "a body", "a key", "a bucket"]);
		if (var0001 == "a key") {
			gflags[0x005F] = true;
		}
		if (var0001 == "a body") {
			say("\"I know that! What ELSE didst thou find? Thou shouldst look again, Avatar!\"*");
			abort;
		}
		if (var0001 == "a bucket") {
			say("\"Yes, obviously it is filled with poor Christopher's own blood. But surely there was something else that might point us in the direction of the killer or killers - thou shouldst look again, Avatar.\"*");
			abort;
		}
		if (var0001 == "nothing") {
			say("\"Thou shouldst look again, 'Avatar'!\"*");
			abort;
		}
	}
	if (!gflags[0x0060]) {
		UI_clear_answers();
		say("\"What did the key open?\"");
		var0001 = Func090B(["a book", "a door", "a trap door", "a chest"]);
		if (var0001 == "a chest") {
			gflags[0x0060] = true;
		} else {
			say("\"I do not think that is correct.\"*");
			abort;
		}
	}
	if (!gflags[0x0061]) {
		UI_clear_answers();
		say("\"What didst thou find in the chest?\"");
		var0001 = Func090B(["gold", "a medallion", "a scroll", "none of these", "all of these"]);
		if (var0001 == "all of these") {
			UI_clear_answers();
			say("\"Dost thou have a suspect?\"");
			if (Func090A()) {
				gflags[0x0061] = true;
			} else {
				say("\"Well, continue to gather information until thou dost have one.\"*");
				abort;
			}
		}
		if ((var0001 == "gold") || ((var0001 == "a medallion") || (var0001 == "a scroll"))) {
			say("\"Hmmm. I cannot believe that was all. Perhaps thou shouldst search again.\"*");
			abort;
		}
		if (var0001 == "none of these") {
			say("\"I do not believe thou hast searched properly.\"*");
			abort;
		}
	}
	if (!gflags[0x0062]) {
		UI_clear_answers();
		say("\"What dost this villain look like?\"");
		var0002 = ["I don't know", "scar", "pegleg", "eyepatch"];
		if (gflags[0x0043]) {
			var0002 &= "hook";
		}
		var0003 = Func090B(var0002);
		if (var0003 == "hook") {
			gflags[0x0062] = true;
		} else {
			say("\"That is not satisfactory. Thou must needs continue thy search, Avatar.\"*");
			abort;
		}
	}
	if (!gflags[0x0063]) {
		UI_clear_answers();
		say("\"Hmmm. Any leads on finding this villain?\"");
		var0002 = ["I don't know", "Could be anywhere", "No one saw him"];
		if (gflags[0x0040]) {
			var0002 &= "Crown Jewel";
		}
		var0004 = Func090B(var0002);
		if (var0004 == "Crown Jewel") {
			gflags[0x0063] = true;
			say("The Mayor is pleased.~~\"It seems that thou art pursuing thine investigation with genuine fervor. Methinks thou shouldst go to Britain and see if thou canst find this Man with a Hook.\"");
			if (!gflags[0x0044]) {
				say("\"Here is half of thy reward money. Thou wilt receive the rest when thou dost prove that the killer hath been brought to justice!\"");
				var0005 = UI_add_party_items(0x0064, 0x0284, QUALITY_ANY, FRAME_ANY, true);
				if (!var0005) {
					say("\"Thou dost not have enough companions to carry thy reward! Thou must return to me later, and I will give thee thy gold.\"");
					gflags[0x0045] = true;
				} else {
					say("The Mayor hands you 100 gold coins.");
					gflags[0x0044] = true;
					gflags[0x0045] = false;
				}
			}
			say("\"Dost thou need the password?\"");
			gflags[0x0042] = true;
			if (Func090A()) {
				if (Func0886()) {
					say("\"Excellent! I have no doubt now that thou art the one true Avatar!\"");
					say("\"Oh-- I almost forgot! The password to leave or enter the town is `Blackbird'!\"*");
					gflags[0x003D] = true;
					Func0911(0x0064);
					abort;
				}
				say("\"Hmmm. I am afraid that I still have my doubts about thou being the Avatar. My public duty disallows me to give thee the password. I am sorry.\"");
				abort;
			}
			say("\"All right then. Thou dost know that thou must have the password to leave or enter our town? I ask again -- dost thou wish to know the password?\"");
			if (Func090A()) {
				if (Func0886()) {
					say("\"Excellent! I have no doubt now that thou art the one true Avatar!\"");
					say("\"Oh-- I almost forgot! The password to leave or enter the town is `Blackbird'!\"*");
					gflags[0x003D] = true;
					Func0911(0x0064);
					abort;
				}
				say("\"Hmmm. I am afraid that I still have my doubts about thou being the Avatar. My public duty disallows me to give thee the password. I am sorry.\"");
				abort;
			}
			say("\"All right, ",
				var0000,
				". I thank thee for all thine help.\"*");
			abort;
		}
		say("\"Hmmm. Methinks thou shouldst continue the investigation. Be sure to talk with Gilberto and Johnson. Question them closely.\"*");
		abort;
	}
}

extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);

void Func0885 0x885 () {
	var var0000;
	var var0001;

	if (Func090A()) {
		say("\"What didst thou find?\"");
		UI_clear_answers();
		var0000 = ["nothing", "a bucket", "a body"];
		if (gflags[0x003C]) {
			var0000 &= "a key";
		}
		var0001 = Func090B(var0000);
		if (var0001 == "a key") {
			say("\"Hmmm, a key. Perhaps if thou dost ask Christopher's son about it, he may know what it is for.\"");
			gflags[0x0048] = true;
		}
		if (var0001 == "a body") {
			say("\"I know that! What -else- didst thou find? Thou shouldst look again, Avatar!\"*");
			gflags[0x005A] = true;
			abort;
		}
		if (var0001 == "a bucket") {
			say("\"Yes, obviously it is filled with poor Christopher's own blood. But surely there was something else that might point us in the direction of the killer or killers - thou shouldst look again, Avatar.\"*");
			gflags[0x005A] = true;
			abort;
		}
		if (var0001 == "nothing") {
			say("\"Thou shouldst look again, `Avatar'!\"*");
			gflags[0x005A] = true;
			abort;
		}
	} else {
		say("\"Then I suggest that thou lookest inside and talkest to me again.\"*");
		gflags[0x005A] = true;
		abort;
	}
}

var Func0886 0x886 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;
	var var0018;
	var var0019;
	var var001A;
	var var001B;
	var var001C;
	var var001D;
	var var001E;

	var0000 = [0x0000, 0x0000, 0x0000];
	var0001 = [0x0001, 0x0002, 0x0003];
	var0002 = false;
	if ((!gflags[0x002A]) && ((!gflags[0x002B]) && ((!gflags[0x002C]) && ((!gflags[0x002D]) && ((!gflags[0x002E]) && ((!gflags[0x002F]) && ((!gflags[0x0030]) && (!gflags[0x0031])))))))) {
		for (var0005 in var0001 with var0003 to var0004) {
			do {
				var0006 = UI_die_roll(0x0001, 0x0008);
			} while (var0006 in var0000);
			var0000[var0005] = var0006;
		}
		for (var0005 in var0001 with var0007 to var0008) {
			if (var0000[var0005] == 0x0001) {
				gflags[0x002A] = true;
			}
		}
		for (var0005 in var0001 with var0009 to var000A) {
			if (var0000[var0005] == 0x0002) {
				gflags[0x002B] = true;
			}
		}
		for (var0005 in var0001 with var000B to var000C) {
			if (var0000[var0005] == 0x0003) {
				gflags[0x002C] = true;
			}
		}
		for (var0005 in var0001 with var000D to var000E) {
			if (var0000[var0005] == 0x0004) {
				gflags[0x002D] = true;
			}
		}
		for (var0005 in var0001 with var000F to var0010) {
			if (var0000[var0005] == 0x0005) {
				gflags[0x002E] = true;
			}
		}
		for (var0005 in var0001 with var0011 to var0012) {
			if (var0000[var0005] == 0x0006) {
				gflags[0x002F] = true;
			}
		}
		for (var0005 in var0001 with var0013 to var0014) {
			if (var0000[var0005] == 0x0007) {
				gflags[0x0030] = true;
			}
		}
		for (var0005 in var0001 with var0015 to var0016) {
			if (var0000[var0005] == 0x0008) {
				gflags[0x0031] = true;
			}
		}
	} else {
		for (var0005 in var0001 with var0017 to var0018) {
			if (gflags[0x002A] && (!(0x0001 in var0000))) {
				var0000[var0005] = 0x0001;
			}
			if (gflags[0x002B] && (!(0x0002 in var0000))) {
				var0000[var0005] = 0x0002;
			}
			if (gflags[0x002C] && (!(0x0003 in var0000))) {
				var0000[var0005] = 0x0003;
			}
			if (gflags[0x002D] && (!(0x0004 in var0000))) {
				var0000[var0005] = 0x0004;
			}
			if (gflags[0x002E] && (!(0x0005 in var0000))) {
				var0000[var0005] = 0x0005;
			}
			if (gflags[0x002F] && (!(0x0006 in var0000))) {
				var0000[var0005] = 0x0006;
			}
			if (gflags[0x0030] && (!(0x0007 in var0000))) {
				var0000[var0005] = 0x0007;
			}
			if (gflags[0x0031] && (!(0x0008 in var0000))) {
				var0000[var0005] = 0x0008;
			}
		}
	}
	var0019 = ["What is the latitude of the northern-most point of the island Spektran?", "What longitude runs through the center of the island Buccaneer's Den?", "What longitude runs through the center of the island Terfin?", "What latitude runs through the center of Dagger Isle?", "What latitude runs through the center of Skara Brae?", "What latitude runs through the center of the Deep Forest?", "What latitude runs through the center of Buccaneer's Den?", "What longitude runs through the center of Skara Brae?"];
	var001A = [0x0078, 0x003C, 0x0078, 0x0000, 0x001E, 0x003C, 0x003C, 0x003C];
	say("\"Before I give thee the password, I must admit I have had my doubts about thou truly being the Avatar. I must ask thee to indulge me in order to satisfy my somewhat suspicious nature. I shall ask thee a few questions regarding the geography of Britannia. Please answer with the number of the longitude or latitude from thy cloth map. Remember-- longitude refers to the lines that run north-south. They are determined by the numbers at the bottom of the map. Latitude refers to the lines that run east-west. They are determined by the numbers on the left side of thy map. If these questions are answered correctly, then I will cast aside all my doubts.\"");
	for (var0005 in var0001 with var001B to var001C) {
		var001D = var0019[var0000[var0005]];
		say("\"",
			var001D,
			"\"");
		var001E = UI_input_numeric_value(0x0000, 0x00D2, 0x0005, 0x0000);
		if (!(var001E == var001A[var0000[var0005]])) {
			var0002 = true;
		}
	}
	if (var0002) {
		return false;
	}
	return true;
}

extern void Func0888 0x888 (var var0000);
extern void Func0708 object#(0x708) ();

var Func0887 0x887 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	var0003 = false;
	var0004 = false;
	var0005 = false;
	var0006 = false;
	var0007 = false;
	var0008 = false;
	var0009 = false;
	var000A = false;
	var000B = false;
	if (!(var0001[0x0001] == var0000[0x0001])) {
		if (var0001[0x0001] < var0000[0x0001]) {
			var0000[0x0001] -= 0x0001;
			var0004 = true;
		} else {
			var0000[0x0001] += 0x0001;
			var0005 = true;
		}
	} else {
		var0003 = true;
	}
	if (!(var0001[0x0002] == var0000[0x0002])) {
		if (var0001[0x0002] < var0000[0x0002]) {
			var0000[0x0002] -= 0x0001;
			if (var0004) {
				var0008 = true;
				var0004 = false;
			} else if (var0005) {
				var000A = true;
				var0005 = false;
			} else {
				var0006 = true;
			}
		} else {
			var0000[0x0002] += 0x0001;
			if (var0004) {
				var0009 = true;
				var0004 = false;
			} else if (var0005) {
				var000B = true;
				var0005 = false;
			} else {
				var0007 = true;
			}
		}
	} else if (var0003) {
		UI_sprite_effect(ANIMATION_MEDIUM_BLAST, (var0000[0x0001] - 0x0001), (var0000[0x0002] - 0x0001), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
		UI_play_sound_effect(0x0009);
		var000C = UI_create_new_object(0x0113);
		var000C->set_item_frame(0x0006);
		var000C->set_item_flag(TEMPORARY);
		var000D = var000C->set_item_quality(0x0097);
		var000D = UI_update_last_created(var0000);
		Func0888(var000C);
		var000C->remove_item();
		var0002->remove_item();
		halt_scheduled();
		var000E = script item {
			nohalt;
			call Func0708;
		};
		return 0x0000;
	}
	if (var0004 || var0005) {
		var000F = UI_die_roll(-1, 1);
		var0000[0x0002] += var000F;
	}
	if (var0006 || var0007) {
		var000F = UI_die_roll(-1, 1);
		var0000[0x0001] += var000F;
	}
	var000F = UI_die_roll(0x0001, 0x0003);
	if (var000A) {
		if (var000F == 0x0001) {
			var0000[0x0002] += 0x0001;
		}
		if (var000F == 0x0002) {
			var0000[0x0001] -= 0x0001;
		}
	}
	if (var0008) {
		if (var000F == 0x0001) {
			var0000[0x0002] += 0x0001;
		}
		if (var000F == 0x0002) {
			var0000[0x0001] += 0x0001;
		}
	}
	if (var000B) {
		if (var000F == 0x0001) {
			var0000[0x0002] -= 0x0001;
		}
		if (var000F == 0x0002) {
			var0000[0x0001] -= 0x0001;
		}
	}
	if (var0009) {
		if (var000F == 0x0001) {
			var0000[0x0002] -= 0x0001;
		}
		if (var000F == 0x0002) {
			var0000[0x0001] += 0x0001;
		}
	}
	return var0000;
}

void Func0888 0x888 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;

	var0001 = false;
	var0002 = false;
	var0003 = false;
	var0004 = var0000->find_nearby(ANY_SHAPE, 0x0005, MASK_NPC2);
	for (var0007 in var0004 with var0005 to var0006) {
		var0008 = UI_die_roll(0x000F, 0x0014);
		var0009 = UI_apply_damage(var0007->get_npc_prop(STRENGTH), var0008, MAGIC_DAMAGE, var0007);
		var000A = var0007->get_alignment();
		if (var000A == EVIL) {
			var0001 = true;
		}
		if (var000A == CHAOTIC) {
			var0002 = true;
		}
		if (var000A == NEUTRAL) {
			var0003 = true;
		}
	}
	var0004 = var0000->find_nearby(ANY_SHAPE, 0x0050, MASK_NPC2);
	if (var0001 || var0002) {
		for (var0007 in var0004 with var000B to var000C) {
			var000D = var0007->get_item_shape();
			if (!((var000D == 0x02D1) || (var000D == 0x03DD))) {
				var0007->set_schedule_type(IN_COMBAT);
			}
		}
	}
	if (var0003) {
		for (var0007 in var0004 with var000E to var000F) {
			var000D = var0007->get_item_shape();
			if (!((var000D == 0x02D1) || (var000D == 0x03DD))) {
				var0007->set_alignment(EVIL);
				var0007->set_schedule_type(IN_COMBAT);
			}
		}
	}
	var0010 = var0000->find_nearby(0x010E, 0x0005, MASK_NONE);
	for (var0013 in var0010 with var0011 to var0012) {
		var0014 = var0013->get_object_position();
		if (var0014[0x0001] == 0x0AF9) {
			if (var0014[0x0002] == 0x013F) {
				if (var0014[0x0003] == 0x0000) {
					var0013->remove_item();
				}
			}
		}
	}
}

extern var Func090C 0x90C (var var0000);
extern var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0889 0x889 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "jerky", "flounder", "ham", "bread", "cheese", "grapes", "milk", "mead", "ale", "wine"];
	var0002 = [0x0000, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268, 0x0268, 0x0268];
	var0003 = [FRAME_ANY, 0x000F, 0x000D, 0x000B, 0x0000, 0x001B, 0x0013, 0x0007, 0x0000, 0x0003, 0x0005];
	var0004 = [0x0000, 0x000C, 0x0002, 0x0009, 0x0001, 0x0003, 0x0001, 0x0003, 0x0007, 0x0001, 0x0002];
	var0005 = ["", "", "", "", "", "", "", "", "", "", ""];
	var0006 = [0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	var0007 = ["", " for ten pieces", " for one portion", " for a slice", " for a loaf", " per wedge", " for a bunch", " for a bottle", " for a bottle", " for a bottle", " for a bottle"];
	var0008 = [0x0000, 0x000A, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"To desire what item?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"To understand.\"");
			var0000 = false;
		} else {
			var000A = Func091C(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" To agree to the price?\"");
			var000C = Func090A();
			if (var000C) {
				if (var0002 == 0x0268) {
					var000B = Func08F8(var0002[var0009], var0003[var0009], var0008[var0009], var0004[var0009], 0x0000, 0x0001, true);
				} else {
					say("\"To request how many?\"");
					var000B = Func08F8(var0002[var0009], var0003[var0009], var0008[var0009], var0004[var0009], 0x0014, 0x0001, true);
				}
			}
			if (var000B == 0x0001) {
				say("\"To be done!\"");
			} else if (var000B == 0x0002) {
				say("\"To carry too much already!\"");
			} else if (var000B == 0x0003) {
				say("\"To be without enough gold!\"");
			}
			say("\"To request something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0909 0x909 ();

void Func088A 0x88A () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	var0000 = Func0909();
	say("After learning that none of the townsfolk are willing to sacrifice themselves for a greater good, an odd light comes into Forsythe's eyes. His chin firms and his shoulders square.~~\"Well, then. It has got to be done! And since no other brave soul will do it, perhaps I shall have to show them all what real courage is.\" He strides forward like a lord and plants his feet. \"Please be kind enough to lead me to the well, ",
		var0000,
		".\"*");
	remove("sacrifice");
	var0001 = 0x0000;
	var0002 = UI_get_party_list();
	var0003 = JULIA->get_npc_object();
	var0004 = KATRINA->get_npc_object();
	for (var0007 in var0002 with var0005 to var0006) {
		var0001 += 0x0001;
	}
	if (var0001 < 0x0008) {
		say("He steps in line and motions for you to lead on.*");
		FORSYTHE->add_to_party();
		gflags[0x0198] = false;
		abort;
	}
	say("\"Thou hast so many companions that I may not follow thee at this time.\"");
	abort;
}

void Func088B 0x88B () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	var0000 = AVATAR->find_nearby(0x02EC, 0x000A, MASK_NONE);
	var0001 = 0x000F;
	var0002 = -3;
	var0003 = -3;
	UI_earthquake(var0001);
	var0004 = var0000->get_object_position();
	UI_sprite_effect(ANIMATION_BIG_BLAST, (var0004[0x0001] + var0002), (var0004[0x0002] + var0003), 0x0000, 0x0000, 0x0000, LOOP_ONCE);
	var0005 = script var0000 after var0001 ticks {
		frame 0;
	};
	FORSYTHE->remove_from_party();
	FORSYTHE->set_schedule_type(WAIT);
	var0006 = [FORSYTHE, MORDRA, TRENT, ROWENA, MARKHAM, QUENTON, PAULETTE];
	for (var0009 in var0006 with var0007 to var0008) {
		var0009->remove_npc();
	}
	gflags[0x01A3] = true;
	abort;
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func088C 0x88C () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "mutton", "beef", "fowl", "ham", "trout", "flounder", "meat on a spit", "dried meat"];
	var0002 = 0x0179;
	var0003 = [FRAME_ANY, 0x0008, 0x0009, 0x000A, 0x000B, 0x000C, 0x000D, 0x000E, 0x000F];
	var0004 = [0x0000, 0x0003, 0x0014, 0x0003, 0x0014, 0x0005, 0x0007, 0x0003, 0x0002];
	var0005 = "";
	var0006 = 0x0000;
	var0007 = ["", " for one portion", " for one portion", " for one", " for one slice", " for one", " for one", " for one portion", " for ten portions"];
	var0008 = [0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x000A];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005, var0001[var0009], var0006, var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Does that sound like a fair price?\"");
			var000C = Func090A();
			if (var000C) {
				var000A = "How many ";
				if (var0008[var0009] > 0x0001) {
					var000A += "sets ";
				}
				var000A += "wouldst thou like?";
				say("\"",
					var000A,
					"\"");
				var000B = Func08F8(var0002, var0003[var0009], var0008[var0009], var0004[var0009], 0x0014, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func08F7 0x8F7 (var var0000);

void Func088D 0x88D () {
	var var0000;
	var var0001;

	var0000 = Func08F7(IOLO);
	if (var0000) {
		IOLO->say("\"Feeling all right, man?\"*");
		GARGAN->say("Gargan coughs, wheezes, and then lights his pipe. On inhaling, he has a coughing spasm until he finally catches his breath.");
		say("\"Never felt better.\"*");
		IOLO->hide();
		GARGAN->show_npc_face(0x0000);
		var0001 = 0x0000;
	}
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func088E 0x88E () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "shoes", "kidney belt", "leather boots", "tunic", "dress", "pants", "swamp boots"];
	var0002 = [0x0000, 0x0249, 0x0248, 0x024B, 0x00F9, 0x00F9, 0x02E2, 0x024C];
	var0003 = [FRAME_ANY, FRAME_ANY, FRAME_ANY, FRAME_ANY, 0x0000, 0x0001, 0x0000, FRAME_ANY];
	var0004 = [0x0000, 0x0014, 0x0014, 0x0028, 0x001E, 0x001E, 0x001E, 0x0032];
	var0005 = ["", "", "a ", "", "a ", "a ", "", ""];
	var0006 = [0x0000, 0x0001, 0x0000, 0x0001, 0x0000, 0x0000, 0x0001, 0x0001];
	var0007 = ["", " for one pair", "", " for one pair", "", "", " for one pair", " for one pair"];
	var0008 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			say("\"^",
				var000A,
				" Is that acceptable?\"");
			var000B = 0x0000;
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0000, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func088F 0x88F () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "wine", "ale"];
	var0002 = [0x0000, 0x0268, 0x0268];
	var0003 = [FRAME_ANY, 0x0005, 0x0003];
	var0004 = [0x0000, 0x0005, 0x0005];
	var0005 = "";
	var0006 = 0x0000;
	var0007 = ["", " for a bottle", " for a tankard"];
	var0008 = 0x0001;
	say("\"What wouldst thou like to whet thy palate?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine choice.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005, var0001[var0009], var0006, var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Dost thou think it worth the cost?\"");
			var000C = Func090A();
			if (var000C) {
				say("\"Thou art correct!\"");
				var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0000, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0891 0x891 ();

void Func0890 0x890 () {
	var var0000;

	0xFEE0->show_npc_face(0x0000);
	if (!gflags[0x0314]) {
		add(["Don't know", "sacrificed", "bye"]);
		gflags[0x0314] = true;
	} else {
		add(["name", "job", "bye"]);
	}
	if (gflags[0x031E]) {
		add("what next");
	}
	converse (0) {
		case "Don't know":
			say("He kneels over the body and inspects the other golem. As his fingers trace around the gaping hole in Bollux's chest, an expression of understanding fills his visage.~\"H-his heart is gone!\"~ He stares down at his own chest. \"He sacrificed himself by giving me his heart... the fool!\" His words are insulting but his tone is affectionate.");
			remove(["Don't know", "sacrificed"]);
			say("\"I must help him, as he helped me! Wilt thou assist?\"");
			if (Func090A()) {
				say("\"Very good,\" he says, noticeably relieved. \"I thank thee in advance.\"");
				gflags[0x031E] = true;
				add(["name", "job", "fool"]);
			} else {
				say("\"Then I must go this one myself,\" he says angrily. \"'Tis no more than one friend would do for another... no more than Bollux did for me!\"");
				say("He looks at you carefully. His stoney features do nothing to hide the suspicion on his face, or in his voice.~\"It is quite obvious to me thou art but a lost traveler and certainly not the Avatar for whom I mistook thee.\"*");
				abort;
			}
			fallthrough;

		case "sacrificed":
			say("You quickly relate the details of Bollux's death as he pulled the object from his chest and placed it in the other golem's.~\"He sacrificed himself by giving me his heart... the fool!\" His words are insulting but his tone is affectionate.");
			remove(["Don't know", "sacrificed"]);
			say("\"I must help him, as he helped me! Wilt thou assist?\"");
			if (Func090A()) {
				say("\"Very good,\" he says, notably relieved. \"I thank thee in advance.\"");
				gflags[0x031E] = true;
				add(["name", "job", "fool"]);
			} else {
				say("\"Then I must go this one myself,\" he says angrily. \"'Tis no more than one friend would do for another... no more than Bollux did for me!\"");
				say("He looks at you carefully. His stoney features do nothing to hide the suspicion on his face, or in his voice.~\"It is quite obvious to me thou art but a lost traveler and certainly not the Avatar for whom I mistook thee.\"*");
				abort;
			}
			fallthrough;

		case "name" (remove):
			say("\"I am the golem called Adjhar, at thy service.\"");
			fallthrough;

		case "job":
			say("\"I am one of the guardians of the Shrines of the Principles. That was exactly what Bollux and I were doing when the wall fell and crushed me.\"");
			add(["Bollux", "Shrines", "wall"]);
			fallthrough;

		case "Shrines" (remove):
			say("\"Surely thou hast heard of the Shrines of the Three Principles: Truth, Love, and Courage! We golems were fabricated to protect the Shrines, for only an Avatar -- -the- Avatar -- may utilize the awesome power they can convey.\"");
			fallthrough;

		case "wall" (remove):
			say("\"I do not remember the incident clearly. However, I will relate what I can recall. Bollux and I were standing guard in the Shrine Room of the Principles when we detected an intrusion into the the castle. I remember nothing more than being aware of great heat, and then part of the wall crumbling atop me, crushing my legs. I suppose Bollux was more forunate. Was it he who carried me here?\"");
			if (Func090A()) {
				say("\"Then it is imperative that we find a way to bring him back! If nothing else, I owe him my gratitude.\"");
			} else {
				say("\"Strange,\" he says, puzzled. \"I am at a loss then to explain my arrival here.~Regardless, I -must- find a way to restore life to him!\"");
			}
			fallthrough;

		case "Bollux":
			say("\"Hast thou not already met him? He is my older brother, and my friend.\"");
			remove("Bollux");
			add("older");
			fallthrough;

		case "older":
			say("\"Master Astelleron -- we actually called him our father -- created him before he did me. And he instilled Bollux with a personality first.\"");
			remove("older");
			fallthrough;

		case "what next" (remove):
			say("\"Dost thou have the book entitled, `The Stone of Castambre?'\"");
			if (Func090A()) {
				var0000 = Func0931(PARTY, 0x0001, 0x0282, 0x0090, FRAME_ANY);
				if (var0000) {
					say("His eyes reveal his hope. As he takes the book from you, it almost appears as if he is smiling.\"");
					Func0891();
				} else {
					say("\"I must see the book the book to use it. Perhaps thou hast mislaid it about somewhere.\" He stares directly at you. \"'Tis vital that I have that tome. I beg thee, retrieve it for me!\"");
					gflags[0x031F] = true;
				}
			} else {
				say("\"Please go and recover it then. I believe it contains information that may help my companion.\"");
				gflags[0x031F] = true;
			}
			fallthrough;

		case "fool" (remove):
			say("\"Poor Bollux did not know of the Stone of Castambre. His sacrifice was, perhaps, unnecessary. Hast thou, perchance, come across MacCuth's \"The Stone of Castambre?\"");
			if (Func090A()) {
				say("\"Dost thou have it with thee?\"");
				if (Func090A()) {
					var0000 = Func0931(PARTY, 0x0001, 0x0282, 0x0090, FRAME_ANY);
					if (var0000) {
						say("His eyes reveal his hope. As he takes the book from you, it almost appears as if he is smiling.\"");
						Func0891();
					} else {
						say("\"I must see the book the book to use it. Perhaps thou hast mislaid it about somewhere.\" He stares directly at you. \"'Tis vital that I have that tome. I beg thee, retrieve it for me!\"");
						gflags[0x031F] = true;
					}
				} else {
					say("\"Please go and recover it then. I believe it contains information that may help my companion.\"");
					gflags[0x031F] = true;
				}
			} else {
				say("\"Then I recommend thou dost search within my master's chambers for it. The pages contain words which may help my companion.\"");
			}
			fallthrough;

		case "bye":
			say("\"I can offer nothing more for thine assistance than my deepest appreciation. Please journey in peace.\"*");
			abort;
	}
}

extern void Func08FF 0x8FF (var var0000);

void Func0891 0x891 () {
	gflags[0x0322] = true;
	say("\"'Tis as I suspected. Bollux thought he must sacrifice his own heart to return my life.\"~If you were to believe it possible, you would feel positive you had just seen a drop of water fall from the golem's right eye.~\"The poor fool gave his life for mine. I can only hope I would have done the same.~\"Doing so now, however, would help nothing, for once I was gone Bollux would simply repeat his act.\" You hear a sigh come from the golem.");
	0xFEE0->hide();
	Func08FF("I don't mean to be irreverent, but did the matter not involve death, 'twould be a humorous sight: the two golems popping up and down as each one passed the `heart' to the other...@");
	0xFEE0->say("\"However,\" smiles Adjhar, \"'tis not necessary, for had Bollux known what is covered by this smudge, he could have told thee that a new heart may be cut from the Tree of Life. Look here,\" he says, pointing to a line in the tome smeared with dried mud. \"I remember this from before. Thou canst take the very same pick with which thou didst collect the blood and procure a `heart' for Bollux. Of course, after thou dost place the heart upon Bollux's body, thou must again perform the same ritual of blood.\"");
	gflags[0x0321] = true;
}

extern var Func090A 0x90A ();
extern var Func0907 0x907 (var var0000);
extern void Func06F9 object#(0x6F9) ();

void Func0892 0x892 () {
	var var0000;
	var var0001;

	0xFEE0->say("Adjhar appears to have resumed the stance of a more traditional golem guardian -- staunch and unmoving. However, it is impossible to miss the glimmer of intelligence in his eyes.");
	add(["name", "job", "bye"]);
	var0000 = false;
	converse (0) {
		case "name":
			say("\"As thou must know by now, my creator chose to call me Adjhar.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"I was created to be one of many protectors to the Shrines of the Three Principles. However,\" he pauses, \"my duty also included being the keeper of the Talisman of Love.\"");
			remove("job");
			add("Talisman");
			fallthrough;

		case "Talisman":
			say("\"Dost thou want the Talisman of Love?\"");
			remove("Talisman");
			if (Func090A()) {
				say("\"I was put here to protect the Shrines and prevent any from acquiring the Talisman. Any except the Avatar who demonstrated knowledge and understanding of Love. The Talisman is thine, Avatar.\"~He brings his stone hand to his heart and opens a panel on the front of his chest. Reaching inside with his other hand, he brings forth a beautiful yellow talisman.");
				var0000 = UI_create_new_object(0x03BB);
				var0000->set_item_frame(0x000A);
				var0001 = Func0907(AVATAR->get_npc_object());
				if (var0001) {
					say("He places the Talisman in your palm. ~\"Thou hast earned this and the honors and powers associated with it. Thou art truly an Avatar.\"");
					gflags[0x0328] = true;
					goto labelFunc0892_00CA;
				} else {
					say("\"I am sorry, but thou must be less burdened to receive this one of three greatest of all blessings.\"");
				}
			} else {
				say("\"Thou art truly deserving of such an artifact. But if thou dost not wish to utilize the Shrines, I must respect thy wishes.\"");
			}
			fallthrough;

		case "bye":
			say("\"I bid thee farewell.\"*");
			if (gflags[0x0328]) {
				say("\"Mark the wisdom of the Shrine of Love well, Avatar.\"*");
			}
			abort;
	}
labelFunc0892_00CA:
	if (gflags[0x0328] && (!gflags[0x0327])) {
		event = BG_PATH_SUCCESS;
		var0000->Func06F9();
		abort;
	}
}

void Func0893 0x893 () {
	0xFEE0->say("Adjhar appears to have resumed the stance of a more traditional golem guardian -- staunch and distant. However, it is impossible to miss the glimmer of intelligence in his eyes.");
	converse (["name", "job", "bye"]) {
		case "name":
			say("\"I am and always will be the one called Adjhar.\"");
			remove("name");
			fallthrough;

		case "job":
			say("\"Now that thou hast mastered the Principle of Love, I no longer serve a function.\"");
			remove("job");
			fallthrough;

		case "bye":
			say("\"Goodbye, Avatar. As always I thank thee for thy kindness in assisting two brothers in need. Forget not the lessons taught by the Shrines.\"*");
			abort;
	}
}

extern void Func0896 0x896 ();
extern void Func0895 0x895 ();
extern void Func08FF 0x8FF (var var0000);

void Func0894 0x894 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	if (gflags[0x031B]) {
		var0000->set_schedule_type(LOITER);
	}
	if (event == DOUBLECLICK) {
		0xFEDF->show_npc_face(0x0000);
		if (gflags[0x0324] && (!gflags[0x031C])) {
			say("\"I -must- return his life to him. He -will- have a new heart!\" The determination is quite evident by his forceful glare and stance.");
		}
		if (gflags[0x0328]) {
			Func0896();
		}
		if (gflags[0x031B]) {
			Func0895();
		}
		if (!gflags[0x0315]) {
			gflags[0x0315] = true;
			say("The stone statue stands with a lowered head. Despite its granite features, a downcast look is apparent on its face. Surprisingly, it turns to speak with you.");
			Func08FF("@Why, by the stars, I believe it \r\n\t\t\t\tis a creature!@");
			say("Slowly, as if with great effort, it raises it head.");
			0xFEDF->show_npc_face(0x0000);
			var0001 = AVATAR->find_nearest(0x019E, 0x0028)->get_item_frame();
			if (!((var0001 == 0x0004) || (var0001 == 0x0005))) {
				say("\"What dost thou... want?\" it asks slowly.");
			} else {
				say("\"Help him?\" it asks carefully, pointing to the fallen statue lying beside it.");
				add("help");
			}
			add("Creature?");
		} else {
			say("\"In what way may I assist thee?\"");
		}
		add(["name", "job", "bye"]);
		var0002 = false;
		var0003 = false;
		converse (0) {
			0xFEDF->show_npc_face(0x0000);
			case "name" (remove):
				if (gflags[0x031D]) {
					say("He tilts his head and stares at you quizzicaly.~ \"I apologize. Did I not already tell thee my master called me Bollux?\"");
				} else {
					say("\"My master named me Bollux.");
					gflags[0x031D] = true;
				}
				if (!var0003) {
					add("master");
				}
				fallthrough;

			case "job":
				say("\"I am a guardian of the Shrines of the Principles.\"");
				add("guardian");
				fallthrough;

			case "guardian" (remove):
				say("\"We were... created to protect the Shrines of the Principles. Only the... Avatar should use their power. Adjhar and I were... keeping watch... when the wall fell on Adjhar. And the loud noise came...  I carried him here so that I could restore him, but I do not... know how.\"");
				fallthrough;

			case "Creature?" (remove):
				say("\"We are called stone golems... because we are made out of stone and rock.\"");
				if (!var0002) {
					add("made");
					var0002 = true;
				}
				add("stone");
				fallthrough;

			case "master", "Astelleron":
				remove(["Astelleron", "master"]);
				var0003 = true;
				say("\"Astelleron made us. He is our master.\"");
				if (!var0002) {
					add("made");
					var0002 = true;
				}
				fallthrough;

			case "stone" (remove):
				say("\"We were... fashioned... out of the rock from the quarry on this small island.\"");
				fallthrough;

			case "made":
				var0002 = true;
				remove("made");
				say("\"I know nothing about the process, but Astelleron once told me he used something called... magic to give us life and... animation.\" The golem pauses, obviously conscious of his next thought.~\"He did not like his... solitude. He said he was... lonely.\"");
				add(["magic", "lonely"]);
				if (!var0003) {
					add("Astelleron");
				}
				fallthrough;

			case "magic" (remove):
				say("\"I do not know what... it is, but there are many books in his house. Perhaps... there is something there about... magic.\"");
				add("books");
				fallthrough;

			case "books" (remove):
				if (!gflags[0x0323]) {
					say("\"I have a book here that Adjhar said told about... our... creation. This might help bring Adjhar back.\"");
					var0004 = UI_add_party_items(0x0001, 0x0282, 0x0090, FRAME_ANY, false);
					if (var0004) {
						say("He hands to you a very old tome. It is evident the book has seen much use, for the leather covering is wearing away to reveal the wood beneath and the pages are quite dog-earred.~\"I already put rocks down,\" he adds, \"just like the... book said to.\"");
						gflags[0x0323] = true;
					} else {
						say("Thou art... carrying too much. Put something down and I can give this to you.\"");
					}
				} else {
					say("\"There are several... more books lying about the house. I do not... know what they are about.  Adjhar read them.\"");
				}
				fallthrough;

			case "lonely" (remove):
				say("\"Astelleron said it was how... a person feels when no one is around. He told us how... happy he felt after we were... born.~ He called me... a son.\"");
				fallthrough;

			case "help" (remove):
				say("\"My companion... Adjhar... He is dying. Thou must help repair him. Please, I beg... thee.\"");
				if (!gflags[0x0323]) {
					say("\"I have a book here that Adjhar said told about... our... creation. This might help bring him back.\"");
					var0004 = UI_add_party_items(0x0001, 0x0282, 0x0090, FRAME_ANY, false);
					if (var0004) {
						say("He hands to you a very old tome. It is evident the book has seen much use, for the leather covering is wearing away to reveal the wood beneath and the pages are quite dog-earred. \"I have already set up five... rocks to mark a spot for the... blood.\"");
						add("blood");
						gflags[0x0323] = true;
					} else {
						say("Thou art... carrying too much. Put something down and I can give this to you.\"");
					}
				}
				add("Adjhar");
				fallthrough;

			case "Adjhar" (remove):
				say("\"He is my brother... and my friend. We protected the... Shrines together. We cannot let him... stay like that. Help me... assist him.\"");
				fallthrough;

			case "blood" (remove):
				say("\"I did not... understand the book, but I remember... blood...\"");
				fallthrough;

			case "bye":
				say("\"Good... bye.\"*");
				abort;
		}
	}
}

void Func0895 0x895 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	0xFEDF->say("Bollux stares ahead, almost vacantly. Despite his features and lack of motion, it is apparent by his expression that some of Castambre's magic still resides within.");
	var0000 = find_nearby(0x03F7, 0x0028, MASK_NONE);
	for (var0003 in var0000 with var0001 to var0002) {
		if (get_cont_items(0x031D, 0x00F3, 0x0004) || (find_nearby(0x031D, 0x0001, MASK_ALL_UNSEEN)->get_item_quality() == 0x00F3)) {
			say("\"Bollux turns to see Adjar standing nearby, quite alive. Instantly, Bollux's expression changes detectably.");
			0xFEDF->hide();
			0xFEDF->show_npc_face(0x0001);
			0xFEE0->say("Adjhar simply smiles.~\"Greetings, brother.\"");
		}
	}
	converse (["name", "job", "bye"]) {
		case "name" (remove):
			if (gflags[0x031D]) {
				remove("name");
				say("He tilts his head and stares at you quizzicaly.~ \"I apologize. Did I not already tell thee my master called me Bollux?\"");
			} else {
				say("\"My master named me Bollux.");
				gflags[0x031D] = true;
			}
			fallthrough;

		case "job":
			say("\"I am here... to guard the Shrine... of Love.\"");
			fallthrough;

		case "bye":
			say("\"Fare thee... well.\"*");
			abort;
	}
}

void Func0896 0x896 () {
	0xFEDF->say("The golem seems to have regained his staid composure. However, life is still evident within his gem-like eyes.");
	converse (["name", "job", "bye"]) {
		case "name" (remove):
			if (gflags[0x031D]) {
				say("He tilts his head and stares at you quizzicaly.~ \"I apologize. Did I not already tell thee my master called me Bollux?\"");
			} else {
				say("\"My master named me Bollux.");
				gflags[0x031D] = true;
			}
			fallthrough;

		case "job":
			say("\"I am here to guard....\" He pauses, obviously deep in thought.\"I am without a duty now.\"");
			remove("job");
			fallthrough;

		case "bye":
			say("\"Good... bye.\"*");
			abort;
	}
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0897 0x897 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "crested helm", "spiked shield", "leather armour", "chain armour", "plate armour", "leather gloves"];
	var0002 = [0x0000, 0x021E, 0x0242, 0x0239, 0x023B, 0x023D, 0x0243];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x004B, 0x003C, 0x0032, 0x0096, 0x012C, 0x0014];
	var0005 = ["", "a ", "a ", "", "", "", ""];
	var0006 = [0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001];
	var0007 = ["", "", "", "", "", "", " for a pair"];
	var0008 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" A fair price, yes?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0003, var0008, var0004[var0009], 0x0000, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0898 0x898 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "sling", "dagger", "spear", "mace", "sword", "throwing axe", "2-handed axe", "2-handed sword"];
	var0002 = [0x0000, 0x01DA, 0x0252, 0x0250, 0x0293, 0x0257, 0x0251, 0x0259, 0x025A];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x0014, 0x0014, 0x0019, 0x0014, 0x0064, 0x0019, 0x0064, 0x00FA];
	var0005 = ["", "a ", "a ", "a ", "a ", "a ", "a ", "a ", "a "];
	var0006 = [0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0001];
	var0007 = ["", "", "", "", "", "", "", "", ""];
	var0008 = [0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" A fair price, yes?\"");
			var000C = Func090A();
			if (var000C) {
				if ((var0002[var0009] == 0x02D2) || (var0002[var0009] == 0x02D3)) {
					say("\"How many dozen wouldst thou like?\"");
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0005, 0x0001, true);
				} else {
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0000, 0x0001, false);
				}
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0899 0x899 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "torch", "oil flasks", "backpack", "bag", "shovel", "powder keg", "lockpick", "hoe", "bucket"];
	var0002 = [0x0000, 0x0253, 0x030E, 0x0321, 0x0322, 0x0271, 0x02C0, 0x0273, 0x0272, 0x032A];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x0005, 0x0048, 0x000F, 0x0008, 0x0014, 0x0023, 0x000A, 0x0014, 0x0008];
	var0005 = ["", "a ", "", "a ", "a ", "a ", "a ", "a ", "a ", "a "];
	var0006 = [0x0000, 0x0000, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000];
	var0007 = ["", "", " for a dozen", "", "", "", "", "", "", ""];
	var0008 = [0x0000, 0x0001, 0x000C, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" That is a fair price, is it not?\"");
			var000C = Func090A();
			if (var000C) {
				if ((var0002[var0009] == 0x030E) || ((var0002[var0009] == 0x0253) || (var0002[var0009] == 0x0273))) {
					if (var0002[var0009] == 0x030E) {
						say("\"How many sets of twelve wouldst thou like?\"");
					} else {
						say("\"How many wouldst thou like?\"");
					}
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0014, 0x0001, true);
				} else {
					var000B = Func08F8(var0002[var0009], var0003, var0008[var0009], var0004[var0009], 0x0000, 0x0001, false);
				}
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0916 0x916 (var var0000, var var0001);
extern void Func0918 0x918 (var var0000, var var0001);

void Func089A 0x89A (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	var0002 = Func0920();
	var0003 = var0002->get_npc_name();
	if (var0002 != 0x0000) {
		var0004 = 0x0003;
		var0005 = Func0922(var0000, var0001, var0002, var0004);
		if (var0005 == 0x0000) {
			say("\"To see you need more experience to train at this time.\"");
			return;
		}
		if (var0005 == 0x0001) {
			var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			say("You gather your gold and count it, finding that you have ",
				var0006,
				" gold altogether.");
			if (var0006 < var0001) {
				say("\"To have not enough gold to train here.\"");
				return;
			}
		}
		if (var0005 == 0x0002) {
			say("After asking a few questions, he exclaims, \"To be already as well-educated as I. To apologize for my inability to increase your knowledge, but there is nothing I can do.\"");
		} else {
			var0007 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("You pay ",
				var0001,
				" gold, and the training session begins.");
			if (var0002 == AVATAR) {
				var0008 = "you begin";
			} else {
				var0008 = var0003 + "begins";
			}
			say("The gargoyle begins with some intense memorization exercises which eventually lead to concepts of spell theory. At the end, ",
				var0008,
				" to notice a change in mental capabilities and thought reaction speed.");
			var0009 = Func0910(var0002, INTELLIGENCE);
			if (var0009 < 30) {
				Func0916(var0002, 2);
			}
			var000A = Func0910(var0002, MAX_MANA);
			if (var000A < 30) {
				Func0918(var0002, 1);
			}
		}
	}
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0914 0x914 (var var0000, var var0001);
extern void Func0915 0x915 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);

void Func089B 0x89B (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	var0002 = Func0920();
	var0003 = var0002->get_npc_name();
	if (var0002 == AVATAR) {
		var0004 = "your";
	} else {
		var0004 = "their";
	}
	if (var0002 != 0x0000) {
		var0005 = 0x0003;
		var0006 = Func0922(var0000, var0001, var0002, var0005);
		if (var0006 == 0x0000) {
			say("\"To be without the practical experience required to train at this time.\"");
			return;
		}
		if (var0006 == 0x0001) {
			var0007 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			say("You gather your gold and count it, finding that you have ",
				var0007,
				" gold altogether.");
			if (var0007 < var0001) {
				say("\"To need more gold than you have. To need 50 gold.\"");
				return;
			}
		}
		if (var0006 == 0x0002) {
			say("After examining ",
				var0004,
				" muscles, he says, \"To be stronger than I. To need no further training in combat.\"");
		} else {
			var0008 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("You pay ",
				var0001,
				" gold, and the training session begins.");
			if (var0002 == AVATAR) {
				var0009 = "you begin";
			} else {
				var0009 = var0003 + "begins";
			}
			say("The gargoyle begins with some intense weight-lifting which eventually leads to target practice with throwing axes. At the end, ",
				var0009,
				" to notice a change in physical prowess and hand-eye coordination.");
			var000A = Func0910(var0002, STRENGTH);
			if (var000A < 30) {
				Func0914(var0002, 1);
			}
			var000B = Func0910(var0002, DEXTERITY);
			if (var000B < 30) {
				Func0915(var0002, 1);
			}
			var000C = Func0910(var0002, COMBAT);
			if (var000C < 30) {
				Func0917(var0002, 1);
			}
		}
	}
}

extern var Func090C 0x90C (var var0000);
extern var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func089C 0x89C () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "throwing axe", "two-handed axe", "boomerang"];
	var0002 = [0x0000, 0x0251, 0x0259, 0x025D];
	var0003 = FRAME_ANY;
	var0004 = [0x0000, 0x0012, 0x0032, 0x000C];
	var0005 = "a ";
	var0006 = 0x0001;
	var0007 = "";
	var0008 = 0x0001;
	say("\"To purchase what item?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"To be accepted.\"");
			var0000 = false;
		} else {
			var000A = Func091C(var0005, var0001[var0009], var0006, var0004[var0009], var0007);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" To be agreeable?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0003, var0008, var0004[var0009], 0x0000, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"To be agreed.\"");
			} else if (var000B == 0x0002) {
				say("\"To be without the ability to carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"To have less than enough gold for that.\"");
			}
			say("\"To want something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func090E 0x90E ();
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0912 0x912 (var var0000, var var0001, var var0002);

void Func089D 0x89D (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	say("\"To be able to heal, cure poison, and resurrect. To be interested in one of these services?\"");
	UI_push_answers();
	var0003 = Func090A();
	do {
		if (var0003) {
			say("\"To need which of my services?\"");
			var0004 = ["heal", "cure poison", "resurrect"];
			var0005 = Func090B(var0004);
			if ((var0005 == "heal") || (var0005 == "cure poison")) {
				if (var0005 == "heal") {
					var0006 = "healed";
					var0007 = var0000;
				}
				if (var0005 == "cure poison") {
					var0006 = "cured of poison";
					var0007 = var0001;
				}
				say("\"To want to ",
					var0006,
					" whom?\"");
				var0008 = Func090E();
				if (var0008 == 0x0000) {
					say("\"To have no need for my healing.\"");
					break;
				}
			}
			if (var0005 == "resurrect") {
				var0009 = UI_get_avatar_ref();
				var000A = var0009->find_nearest(0x0190, 0x0019);
				if (var000A == 0x0000) {
					var000A = var0009->find_nearest(0x019E, 0x0019);
					if (var000A == 0x0000) {
						say("\"To not see anyone who is in need of resurrection. To have to see the body to save the spirit. To lay your companion on the ground so that I may return them to this world.\"*");
						break;
					}
				}
				say("\"To be sorely wounded. To attempt to restore them to this world.\"");
				var0007 = var0002;
			}
			say("\"To charge ",
				var0007,
				" gold. To still want my services?\"");
			var000B = Func090A();
			if (var000B) {
				var000C = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var000C >= var0007) {
					if (var0005 == "heal") {
						var000D = Func0910(var0008, STRENGTH);
						var000E = Func0910(var0008, HEALTH);
						if (var000D > var000E) {
							var000F = var000D - var000E;
							Func0912(var0008, HEALTH, var000F);
							var0010 = UI_remove_party_items(var0007, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							say("\"To have healed the wounds.\"");
						} else if (var0008 == AVATAR) {
							say("\"To seem quite healthy!\"");
						} else {
							say("\"To be already healthy!\"");
						}
					} else if (var0005 == "cure poison") {
						var0011 = var0008->get_npc_object();
						if (var0011->get_item_flag(POISONED)) {
							var0011->clear_item_flag(POISONED);
							var0010 = UI_remove_party_items(var0007, 0x0284, QUALITY_ANY, FRAME_ANY, true);
							say("\"To have healed the wounds.\"");
						} else {
							say("\"To not need curing!\"");
						}
					} else if (var0005 == "resurrect") {
						var0012 = var000A->resurrect();
						if (var0012 == 0x0000) {
							say("\"To not be able to save them. To give them a proper burial    for you.\"");
						} else {
							say("\"To breathe again. To be alive!\"");
							var0010 = UI_remove_party_items(var0007, 0x0284, QUALITY_ANY, FRAME_ANY, true);
						}
					}
				} else {
					say("\"To have not that much gold! To perhaps return with more and purchase the service then.\"");
				}
			} else {
				say("\"Sorry. To look elsewhere for that service then.\"");
			}
		} else {
			say("\"To be here later if you need me.\"");
		}
	} while (false);
	UI_pop_answers();
}

extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func090C 0x90C (var var0000);
extern void Func091D 0x91D (var var0000, var var0001);
extern void Func091E 0x91E (var var0000, var var0001);
extern void Func091F 0x91F (var var0000, var var0001);

void Func089E 0x89E (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;
	var var0015;
	var var0016;
	var var0017;

	var0003 = JAANA->get_npc_object();
	var0004 = UI_get_party_list();
	say("\"I am able to heal, cure poison, and resurrect. Art thou interested in one of these services?\"");
	UI_push_answers();
	var0005 = Func090A();
	do {
		if (var0005) {
			say("\"Which of my services dost thou have need of?\"");
			var0006 = ["heal", "cure poison", "resurrect"];
			var0007 = Func090B(var0006);
			if ((var0007 == "heal") || (var0007 == "cure poison")) {
				if (var0007 == "heal") {
					var0008 = "healed";
					var0009 = var0000;
				}
				if (var0007 == "cure poison") {
					var0008 = "cured of poison";
					var0009 = var0001;
				}
				say("\"Who dost thou wish to be ",
					var0008,
					"?\"");
				var000A = UI_get_party_list2()->get_npc_name();
				var000B = UI_get_party_list2();
				var000C = [];
				var000D = [];
				for (var0010 in var000B with var000E to var000F) {
					if (var0010 != JAANA->get_npc_object()) {
						var000C &= var0010->get_npc_name();
						var000D &= var0010;
					}
				}
				var0011 = [INVALID_NPC, var000D];
				var0012 = Func090C(["Nobody", var000C]);
				var0013 = var0011[var0012];
				if (var0013 == 0x0000) {
					var0014 = 0x0000;
				} else {
					var0014 = var0013->get_npc_number();
				}
				if (var0014 == 0x0000) {
					say("\"Avatar! Thou dost tell me to prepare to heal and then thou dost tell me 'Nobody'! Is this thine idea of a joke? Healing is a serious business!\"");
					break;
				}
			}
			if (var0007 == "resurrect") {
				var0015 = UI_get_avatar_ref();
				var0016 = var0015->find_nearest(0x0190, 0x0019);
				if (var0016 == 0x0000) {
					var0016 = var0015->find_nearest(0x019E, 0x0019);
					if (var0016 == 0x0000) {
						say("\"I do believe I am going blind. I do not see anyone who is in need of resurrection. Art thou fooling me again, or art thou hiding the injured one? I must be able to see the person to help them. If thou art carrying thy friend in thy pack, pray lay them on the ground so that I may perform my duties as thou hast requested.\"");
						abort;
					}
				}
				say("\"Indeed, thy friend is grievously wounded. Make room here, and I will heal them to the best of mine abilities.\"");
				if (var0003 in var0004) {
					var0002 = 0x0000;
				} else {
					var0002 = 0x0190;
				}
				var0009 = var0002;
			}
			if (var0003 in var0004) {
				say("\"Since I am travelling in thy group, I shall waive my fee.\"");
				if (var0007 == "heal") {
					Func091D(var0014, var0009);
					gflags[0x0029] = true;
					UI_set_timer(0x000A);
				} else if (var0007 == "cure poison") {
					Func091E(var0014, var0009);
					gflags[0x0029] = true;
					UI_set_timer(0x000A);
				} else if (var0007 == "resurrect") {
					Func091F(var0016, var0009);
					gflags[0x0029] = true;
					UI_set_timer(0x000A);
				}
			} else {
				say("\"My price is ",
					var0009,
					" gold. Is this price agreeable?\"");
				var0005 = Func090A();
				if (var0005) {
					var0017 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
					if (var0017 >= var0009) {
						if (var0007 == "heal") {
							Func091D(var0014, var0009);
						} else if (var0007 == "cure poison") {
							Func091E(var0014, var0009);
						} else if (var0007 == "resurrect") {
							Func091F(var0016, var0009);
						}
					} else {
						say("\"Thou dost not have that much gold! Mayhaps thou couldst return with more and purchase the service then.\"");
					}
				} else {
					say("\"Then thou must look elsewhere for that service.\"");
				}
			}
		} else {
			say("\"If thou hast need of my services later, I will be here.\"");
		}
	} while (false);
	UI_pop_answers();
}

extern var Func0920 0x920 ();
extern var Func090F 0x90F (var var0000);
extern var Func0908 0x908 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0916 0x916 (var var0000, var var0001);
extern void Func0914 0x914 (var var0000, var var0001);

void Func089F 0x89F (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	var0002 = Func0920();
	var0003 = Func090F(var0002);
	var0004 = Func0908();
	if (var0003 == var0004) {
		var0003 = "you";
	}
	do {
		if (var0002 != 0x0000) {
			var0005 = 0x0002;
			var0006 = Func0922(var0000, var0001, var0002, var0005);
			if (var0006 == 0x0000) {
				say("Jakher looks into your eyes, sizing you up intellectually. \"Thou dost need to learn more on the field of battle. If we spoke now I would be wasting my breath. Thou wouldst not understand a word I said.\"");
				break;
			}
			if (var0006 == 0x0001) {
				var0007 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				say("You gather your gold and count it, finding that you have ",
					var0007,
					" gold altogether.");
				if (var0007 < var0001) {
					say("\"Thou dost not seem to have as much gold as I require to train here. Mayhaps at another time, when thy fortunes are more prosperous...\"");
					break;
				}
			}
			if (var0006 == 0x0002) {
				say("\"Thou art already well-versed in the tactics of the battlefield. I am afraid that I am unable to train thee further in this.\"");
			} else {
				var0008 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
				say("You pay ",
					var0001,
					" gold, and the training session begins.");
				say("Jakher's eyes glow bright as he begins to explain some of the strategies used by great military leaders in awesome battles fought in ages past. He whispers to ",
					var0003,
					" conspiratorially as he draws maps in the dirt. After some time, ",
					var0003,
					" can practically feel some of his shrewdness starting to be absorbed.");
				var0009 = Func0910(var0002, INTELLIGENCE);
				var000A = Func0910(var0002, STRENGTH);
				if (var0009 < 30) {
					Func0916(var0002, 1);
				}
				if (var000A < 30) {
					Func0914(var0002, 1);
				}
			}
		}
	} while (false);
	say("\"I look forward to thy return.\"");
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08A0 0x8A0 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "mutton", "beef", "mead", "trout", "ham", "Silverleaf", "bread", "cake", "ale", "wine"];
	var0003 = [0x0000, 0x0179, 0x0179, 0x0268, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x0008, 0x0009, 0x0000, 0x000C, 0x000B, 0x001F, 0x0000, 0x0004, 0x0003, 0x0005];
	var0005 = [0x0000, 0x0005, 0x0012, 0x000C, 0x0004, 0x0012, 0x002D, 0x0003, 0x0002, 0x0004, 0x0004];
	var0006 = "";
	var0007 = 0x0000;
	var0008 = ["", " for one portion", " for a rack", " for a bottle", " for one portion", " for one slice", " for one portion", " for a loaf", " for one piece", " for a bottle", " for a bottle"];
	var0009 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Fine.\"");
			var0001 = false;
			continue;
		}
		do {
			if (var000A == 0x0007) {
				if (gflags[0x012B]) {
					say("\"'Tis all gone, ",
						var0000,
						". And the logger will cut down no more Silverleaf trees. I expect it will become even more of a delicacy, and more expensive, if I can ever get any more to sell.\"");
					break;
				}
			}
			var000B = Func091B(var0006, var0002[var000A], var0007, var0005[var000A], var0008[var000A]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Does that sound like a fair price?\"");
			var000D = Func090A();
			if (var000D) {
				if (var0003[var000A] == 0x0179) {
					say("\"How many wouldst thou like?\"");
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009, var0005[var000A], 0x0014, 0x0001, true);
				} else {
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009, var0005[var000A], 0x0000, 0x0001, true);
				}
			}
			if (var000C == 0x0001) {
				say("\"Done!\"");
			} else if (var000C == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
		} while (false);
		say("\"Wouldst thou like something else?\"");
		var0001 = Func090A();
	}
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08A1 0x8A1 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "torch", "oil flasks", "backpack", "lockpick", "powder keg", "jug", "cannon balls"];
	var0003 = [0x0000, 0x0253, 0x030E, 0x0321, 0x0273, 0x02C0, 0x0006, 0x02BF];
	var0004 = [0x0000, 0x0004, 0x003C, 0x000D, 0x000A, 0x001E, 0x0003, 0x000A];
	var0005 = ["", "a ", "", "a ", "a ", "a ", "a ", ""];
	var0006 = [0x0000, 0x0000, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001];
	var0007 = ["", "", " for a dozen", "", "", "", "", " each"];
	var0008 = FRAME_ANY;
	var0009 = 0x0001;
	say("\"What dost thou want to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Fine, ",
				var0000,
				".\"");
			var0001 = false;
		} else {
			var000B = Func091B(var0005[var000A], var0002[var000A], var0006[var000A], var0004[var000A], var0007[var000A]);
			var000C = 0x0000;
			if ((var0003[var000A] == 0x030E) || ((var0003[var000A] == 0x0253) || (var0003[var000A] == 0x0273))) {
				say("\"^",
					var000B,
					" Dost thou agree?\"");
				var000D = Func090A();
				if (var000D) {
					if (var0003[var000A] == 0x030E) {
						say("\"How many sets of twelve wouldst thou like?\"");
					} else {
						say("\"How many wouldst thou like?\"");
					}
					var000C = Func08F8(var0003[var000A], var0008, var0009, var0004[var000A], 0x0014, 0x0001, true);
				}
			} else {
				say("\"^",
					var000B,
					". Is that acceptable?\"");
				var000E = Func090A();
				if (var000E) {
					var000C = Func08F8(var0003[var000A], var0008, var0009, var0004[var000A], 0x0000, 0x0001, true);
				}
			}
			if (var000C == 0x0001) {
				say("\"Very good, ",
					var0000,
					".\"");
			} else if (var000C == 0x0002) {
				say("\"But, ",
					var0000,
					", thou cannot possibly carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"I am sorry, but thou hast not enough gold for that!\"");
			}
			say("\"Wouldst thou care to purchase something else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0918 0x918 (var var0000, var var0001);
extern void Func0916 0x916 (var var0000, var var0001);

void Func08A2 0x8A2 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	var0002 = Func0920();
	var0003 = var0002->get_npc_name();
	if (var0002 != 0x0000) {
		var0004 = 0x0002;
		var0005 = Func0922(var0000, var0001, var0002, var0004);
		if (var0005 == 0x0000) {
			say("\"I am sorry, but it appears thou dost not have enough knowledge of elementary studies to train at this time. If thou couldst return at a future date, I could instruct thee then.\"");
			return;
		}
		if (var0005 == 0x0001) {
			var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			say("You gather your gold and count it, finding that you have ",
				var0006,
				" gold altogether.");
			if (var0006 < var0001) {
				say("\"I am sorry, but thou dost not seem to have enough gold to train now.\"");
				return;
			}
		}
		if (var0005 == 0x0002) {
			say("After giving a few test questions, she exclaims, \"Thou art easily as well educated as I! There is nothing I have that could help thee.\"");
		} else {
			var0007 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("You pay ",
				var0001,
				" gold, and the training session begins.");
			if (var0002 == AVATAR) {
				var0008 = "You";
				var0009 = "you";
				var000A = "";
			} else {
				var0008 = var0003;
				var0009 = var0003;
				var000A = "s";
			}
			say(var0008,
				" and Jillian study for some time. In addition, she teaches a little on the theory of magic. Afterwards, ",
				var0009,
				" notice",
				var000A,
				" an increase in knowledge and magical understanding.");
			var000B = Func0910(var0002, MAX_MANA);
			if (var000B < 30) {
				Func0918(var0002, 1);
			}
			var000C = Func0910(var0002, INTELLIGENCE);
			if (var000C < 30) {
				Func0916(var0002, 1);
			}
		}
	}
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08A3 0x8A3 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "arrows", "bolts"];
	var0003 = [0x0000, 0x02D2, 0x02D3];
	var0004 = FRAME_ANY;
	var0005 = 0x0014;
	var0006 = "";
	var0007 = 0x0001;
	var0008 = " for a dozen";
	var0009 = 0x000C;
	say("\"What dost thou wish to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"All right.\"");
			var0001 = false;
		} else {
			var000B = Func091B(var0006, var0002[var000A], var0007, var0005, var0008);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Is that agreeable?\"");
			var000D = Func090A();
			if (var000D) {
				say("\"How many dozen wouldst thou like?\"");
				var000C = Func08F8(var0003[var000A], var0004, var0009, var0005, 0x0014, 0x0001, true);
			}
			if (var000C == 0x0001) {
				say("\"Very good, ",
					var0000,
					".\"");
			} else if (var000C == 0x0002) {
				say("\"Thou cannot travel with that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou dost not have the gold for that!\"");
			}
			say("\"Wouldst thou like to buy something else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08A4 0x8A4 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "bow", "crossbow", "triple crossbow", "magic bow"];
	var0003 = [0x0000, 0x0255, 0x0256, 0x0287, 0x025E];
	var0004 = FRAME_ANY;
	var0005 = [0x0000, 0x0023, 0x006E, 0x015E, 0x0190];
	var0006 = "a ";
	var0007 = 0x0000;
	var0008 = "";
	var0009 = 0x0001;
	say("\"What dost thou wish to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"All right.\"");
			var0001 = false;
		} else {
			var000B = Func091B(var0006, var0002[var000A], var0007, var0005[var000A], var0008);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Is that agreeable?\"");
			var000D = Func090A();
			if (var000D) {
				var000C = Func08F8(var0003[var000A], var0004, var0009, var0005[var000A], 0x0000, 0x0001, false);
			}
			if (var000C == 0x0001) {
				say("\"Very good, ",
					var0000,
					".\"");
			} else if (var000C == 0x0002) {
				say("\"Thou cannot travel with that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou dost not have the gold for that!\"");
			}
			say("\"Wouldst thou like to buy something else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
	UI_pop_answers();
}

void Func08A5 0x8A5 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	var0000 = 0xFF04->get_npc_object();
	var0001 = var0000->get_schedule_type();
	var0002 = "";
	var0003 = UI_die_roll(0x0001, 0x0004);
	if (var0001 == LOITER) {
		if (var0003 == 0x0001) {
			var0002 = "@To wonder about love.@";
		}
		if (var0003 == 0x0002) {
			var0002 = "@To have found it yet?@";
		}
		if (var0003 == 0x0003) {
			var0002 = "@To have no torch.@";
		}
		if (var0003 == 0x0004) {
			var0002 = "@To be glad to help.@";
		}
	}
	var0000->item_say(var0002);
}

extern var Func0920 0x920 ();
extern var Func0908 0x908 ();
extern var Func090F 0x90F (var var0000);
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0915 0x915 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);

void Func08A6 0x8A6 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0002 = Func0920();
	var0003 = Func0908();
	if (var0002 != 0x0000) {
		var0004 = Func090F(var0002);
		if (var0004 == var0003) {
			var0004 = "you";
			var0005 = "you";
			var0006 = "your";
			var0007 = "find";
		} else {
			var0007 = "finds";
			if ((var0002 == JAANA) || ((var0002 == JULIA) || (var0002 == KATRINA))) {
				var0005 = "she";
				var0006 = "her";
			} else {
				var0005 = "he";
				var0006 = "his";
			}
		}
		var0008 = 0x0003;
		var0009 = Func0922(var0000, var0001, var0002, var0008);
		if (var0009 == 0x0000) {
			say("Karenna looks at ",
				var0004,
				" and gives a small laugh. \"Thou art not without skill, but thou art not ready yet.\"");
			return;
		}
		if (var0009 == 0x0001) {
			var000A = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			say("You gather your gold and count it, finding that you have ",
				var000A,
				" gold altogether.");
			if (var000A < var0001) {
				say("Karenna gives you a cross look. \"I am not running a charity. Come back when thou dost have more money!\"");
				return;
			}
		}
		if (var0009 == 0x0002) {
			say("Karenna glares at ",
				var0004,
				". \"Thou dost but waste my time. Thou art as swift and cunning as I, and I would wager that thou didst know it. I have not the time for such as thee.\"");
			return;
		}
		var000B = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		say("You pay ",
			var0001,
			" gold, and the training session begins.");
		say("Karenna leaps like a panther around the padded mat of the training ring. Her movements are so fast, they are a blur. She attacks. At first she lands her blows at will, causing stings of pain that send ",
			var0004,
			" reeling, but as the session progresses, ",
			var0005,
			" ",
			var0007,
			" ",
			var0006,
			" reflexes have been sharpened noticeably.");
		say("\"I thank thee for a fine practice session. Thou wilt be back.\" She grins confidently.");
		var000C = Func0910(var0002, DEXTERITY);
		var000D = Func0910(var0002, COMBAT);
		if (var000C < 30) {
			Func0915(var0002, 2);
		}
		if (var000D < 30) {
			Func0917(var0002, 1);
		}
	}
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08A7 0x8A7 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "eggs", "apple", "banana", "carrot", "pumpkin", "grapes"];
	var0002 = [0x0000, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179];
	var0003 = [FRAME_ANY, 0x0018, 0x0010, 0x0011, 0x0012, 0x0015, 0x0013];
	var0004 = [0x0000, 0x000C, 0x0003, 0x0003, 0x0003, 0x0004, 0x0003];
	var0005 = ["", "", "an ", "a ", "a ", "a ", ""];
	var0006 = [0x0000, 0x000C, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001];
	var0007 = ["", " for one dozen", "", "", "", "", " for a bunch"];
	var0008 = [0x0000, 0x000C, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Wilt thou pay my price?\"");
			var000C = Func090A();
			if (var000C) {
				var000A = "How many ";
				if (var0008[var0009] > 0x0001) {
					var000A += "dozen ";
				}
				var000A += "wouldst thou like?";
				say("\"",
					var000A,
					"\"");
				var000B = Func08F8(var0002[var0009], var0003[var0009], var0008[var0009], var0004[var0009], 0x0014, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Thou wilt indeed be pleased with thy purchase. We have only the finest produce.\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough coin to pay for that!\"");
			}
			say("\"Wouldst thou like to purchase something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08A8 0x8A8 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "poison", "curative", "illumination", "sleep", "protection", "invisibility", "healing", "awakening"];
	var0002 = 0x0154;
	var0003 = [FRAME_ANY, 0x0003, 0x0002, 0x0006, 0x0000, 0x0005, 0x0007, 0x0001, 0x0004];
	var0004 = [0x0000, 0x000F, 0x0096, 0x0032, 0x000F, 0x0096, 0x0064, 0x0096, 0x001E];
	var0005 = ["", "a ", "a ", "an ", "a ", "a ", "an ", "a ", "an "];
	var0006 = 0x0000;
	var0007 = " for one potion";
	var0008 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006, var0004[var0009], var0007);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Dost thou still wish to trade?\"");
			var000C = Func090A();
			if (var000C) {
				say("\"How many wouldst thou like?\"");
				var000B = Func08F8(var0002, var0003[var0009], var0008, var0004[var0009], 0x0014, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08A9 0x8A9 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "club", "main gauche", "dagger", "mace", "morning star", "sword", "halberd"];
	var0002 = [0x0000, 0x024E, 0x024F, 0x0252, 0x0293, 0x0254, 0x0257, 0x025B];
	var0003 = [0x0000, 0x0005, 0x0014, 0x000A, 0x000F, 0x000F, 0x003C, 0x0096];
	var0004 = ["", "a ", "a ", "a ", "a ", "a ", "a ", "a "];
	var0005 = [0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000];
	var0006 = ["", "", "", "", "", "", "", ""];
	var0007 = [0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	var0008 = FRAME_ANY;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0004[var0009], var0001[var0009], var0005[var0009], var0003[var0009], var0006[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Is that acceptable?\"");
			var000C = Func090A();
			if (var000C) {
				if (var0002[var0009] == 0x02D3) {
					say("\"How many dozen dost thou want?\"");
					var000B = Func08F8(var0002[var0009], var0008, var0007[var0009], var0003[var0009], 0x0014, 0x0001, true);
				} else {
					var000B = Func08F8(var0002[var0009], var0008, var0007[var0009], var0003[var0009], 0x0000, 0x0001, true);
				}
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08AA 0x8AA () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "crested helm", "scale armour", "gorget"];
	var0002 = [0x0000, 0x021E, 0x023A, 0x024A];
	var0003 = [0x0000, 0x0096, 0x0078, 0x001E];
	var0004 = ["", "a ", "", "a "];
	var0005 = 0x0000;
	var0006 = "";
	var0007 = 0x0001;
	var0008 = FRAME_ANY;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0004[var0009], var0001[var0009], var0005, var0003[var0009], var0006);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Is that acceptable?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0008, var0007, var0003[var0009], 0x0000, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
	UI_pop_answers();
}

extern var Func08F7 0x8F7 (var var0000);

void Func08AB 0x8AB () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0000 = Func08F7(JOHNSON);
	var0001 = Func08F7(ELLEN);
	var0002 = Func08F7(DELL);
	var0003 = Func08F7(CAROLINE);
	var0004 = Func08F7(IOLO);
	var0005 = Func08F7(SPARK);
	KLOG->say("Klog is leading the town members in a Fellowship meeting.");
	say("\"Thank you, Fellowship members of Trinsic, for attending our meeting this evening.~~\"I am certain you are all sorely aware of the crimes that have been committed in our city. Now is a time to mourn those whom we have lost. We will always remember Christopher, our blacksmith, as a valuable citizen of our town as well as a dear friend. Inamo was an amiable and hard-working gargoyle. As their deaths show us, Britannia needs The Fellowship now more than ever.");
	say("\"The Fellowship was created to advance a philosophy, a method of applying an optimistic order of thought to one's life. How dost thou follow this method? By applying the Triad of Inner Strength to thy life. The Triad is composed of three principles that, when applied in unison to thy life, can soothe the fever of a society that teaches thee to accept failure and banishes the destructive illusory thoughts and feelings from thy spirit.");
	say("\"The first principle is to Strive For Unity. This means that we should reject divisiveness, put aside our differences and work together for the good of us all.");
	say("\"The second principle is to Trust Thy Brother. Trust is essential, for what will you accomplish if you must be divided by constantly watching each other?");
	say("\"The third and final principle is Worthiness Precedes Reward. One must strive to be worthy of the rewards each of us seeks, for if one is not worthy of reward, why should you believe they should receive it?");
	say("\"We must spread the philosophy to everyone who can hear it. For who is there to lift the disunited, mistrustful, and unworthy Britannia up from its sad state but we of The Fellowship?");
	say("\"And now is the time we ask each of our members to give testimonial aloud, and tell how walking with The Fellowship has affected their life.\"*");
	if (var0001) {
		ELLEN->say("\"The Fellowship has enabled me to reach out and help people where before I have been too preoccupied.\"*");
		ELLEN->hide();
	}
	if (var0000) {
		JOHNSON->say("\"The Fellowship has made me more alert and thorough in the execution of my job as a Trinsic guard.\"*");
		JOHNSON->hide();
	}
	if (var0002) {
		DELL->say("\"The Fellowship has made me a happier, more agreeable person.\"*");
		KLOG->say("\"Thank thee for sharing, brother!\"*");
		DELL->hide();
	}
	if (var0003) {
		CAROLINE->say("\"As a Fellowship member, I feel as if I am doing some good for Britannia.\"*");
		CAROLINE->hide();
	}
	if (var0005) {
		SPARK->say("Spark whispers to no one in particular, \"This is the most boring pile of horse manure in which I have ever had the pleasure to wallow!\"*");
		SPARK->hide();
	}
	if (var0004) {
		IOLO->say("Iolo slaps his own cheek to keep himself from dozing off. ~~\"Avatar, I do believe that we have heard enough of this.\"*");
		IOLO->hide();
	}
	KLOG->say("It is apparent that the meeting will be continuing for some time... You decide you have more important matters to attend to.*");
	abort;
}

extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func090E 0x90E ();
extern void Func091D 0x91D (var var0000, var var0001);
extern void Func091E 0x91E (var var0000, var var0001);
extern void Func091F 0x91F (var var0000, var var0001);

void Func08AC 0x8AC (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	say("\"I am qualified to heal, cure poison, and resurrect. Art thou interested in one of these services?\"");
	UI_push_answers();
	var0003 = Func090A();
	do {
		if (var0003) {
			say("\"Which of my services dost thou have need of?\"");
			var0004 = ["heal", "cure poison", "resurrect"];
			var0005 = Func090B(var0004);
			if ((var0005 == "heal") || (var0005 == "cure poison")) {
				if (var0005 == "heal") {
					var0006 = "healed";
					var0007 = var0000;
				}
				if (var0005 == "cure poison") {
					var0006 = "cured of poison";
					var0007 = var0001;
				}
				say("\"Who dost thou wish to have ",
					var0006,
					"?\"");
				var0008 = Func090E();
				if (var0008 == 0x0000) {
					say("\"Excellent, thou art uninjured!\"");
					break;
				}
			}
			if (var0005 == "resurrect") {
				var0009 = UI_get_avatar_ref();
				var000A = var0009->find_nearest(0x0190, 0x0019);
				if (var000A == 0x0000) {
					var000A = var0009->find_nearest(0x019E, 0x0019);
					if (var000A == 0x0000) {
						say("\"There seems to be no one who needs such assistance. Perhaps, if I have overlooked anyone, thou couldst set him or her before me.\"*");
						break;
					}
				}
				var0007 = var0002;
				say("\"Indeed, this individual needs restoration!\"");
			}
			say("\"My price is ",
				var0007,
				" gold. Art thou interested?\"");
			var000B = Func090A();
			if (var000B) {
				var000C = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var000C >= var0007) {
					if (var0005 == "heal") {
						Func091D(var0008, var0007);
					} else if (var0005 == "cure poison") {
						Func091E(var0008, var0007);
					} else if (var0005 == "resurrect") {
						Func091F(var000A, var0007);
					}
				} else {
					say("\"Thou dost not have enough gold! Mayhaps thou couldst return when thou hast more.\"");
				}
			} else {
				say("\"Then thou must go elsewhere.\"");
			}
		} else {
			say("\"If thou needest my services later, I will be here.\"");
		}
	} while (false);
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();
extern void Func08AE 0x8AE (var var0000);
extern void Func08AF 0x8AF ();

void Func08AD 0x8AD () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	HORANCE->show_npc_face(0x0001);
	var0000 = Func0909();
	var0001 = Func0908();
	if (!gflags[0x01AD]) {
		gflags[0x01AD] = true;
		say("\"I thank thee, ",
			var0000,
			". That dark spirit had suppressed my will for so long that I was not sure I had one left. Thou hast done a great deed for Skara Brae, for myself and, indeed, all of Britannia, but then I suppose this is merely a matter of course for one such as thee. My gratitude is thine.\" He bows deeply to you.");
		if (!gflags[0x0003]) {
			say("\"But now, I fear that all is still not right with the world. The ether stirs chaotically outside of this Dark Tower. Were it not for some property within the walls, I fear my mind would suffer the ravages of its force.\"");
		}
	} else {
		if (gflags[0x01D1]) {
			var0002 = "Hast thou reconsidered my request?";
		} else {
			var0002 = "";
		}
		say("\"It is good to see thee again, ",
			var0001,
			".",
			var0002,
			"\"");
	}
	if (gflags[0x01D1]) {
		var0003 = "Ah, I see. No matter";
		Func08AE(var0003);
	}
	if (!gflags[0x01AC]) {
		if (!gflags[0x01D1]) {
			say("\"Now, ",
				var0000,
				". I must ask this favor of thee. The Well of Souls, at the bottom of this tower, holds many tormented souls within it and binds the spirits of Skara Brae to this island. It must be destroyed.\" Horance looks at you intently.~ \"I can only hope that thou wilt try to free them.\"");
			say("\"Well, wilt thou?\" He looks at you expectantly.");
			var0003 = "I understand. Fear not";
			Func08AE(var0003);
		}
	}
	if (!gflags[0x01AE]) {
		say("Horance thinks for a moment then, \"When the well is destroyed, the souls within will be released to float aimlessly upon the ether for a time. I have badly wronged the Lady Rowena and her husband, I would see this wrong mended. Please, lead her out of this dark place and see that she is reunited with Trent. That way they will remain together when they are released. I will know when you've accomplished this task, and then we can continue with the destruction of the well.\"");
		gflags[0x01AE] = true;
	} else if (!gflags[0x01A6]) {
		say("\"But please, ",
			var0000,
			", I beg thee make haste. Take Rowena to Trent! Time is short! Talk to her and take her to her husband! The souls in the well are constantly in pain, and some become so drained that they are snuffed out of existence like the flame of a candle.\" He looks as if he feels the pain himself.");
	} else if (gflags[0x0198]) {
		Func08AF();
	} else {
		say("\"Good, now we can get on with freeing the rest of Skara Brae. The destruction of the Well of Souls can only be brought about by the selfless sacrifice of a spirit. A living being will not do, because the soul is tied to the body.~~\"Go out into the town and find a spirit willing to make the sacrifice for the sake of all Skara Brae. I suggest that thou shouldst ask Mayor Forsythe first, as it is his right to be considered before the others.\" He strokes his chin thoughtfully as you leave.");
		gflags[0x0198] = true;
	}
	abort;
}

extern var Func090A 0x90A ();

void Func08AE 0x8AE (var var0000) {
	var var0001;

	var0001 = Func090A();
	if (!var0001) {
		say("\"",
			var0000,
			", I am sure that some brave soul will eventually come this way. After all, most of the spirits can wait for all eternity if need be, even if they are in excruciating pain.\" He looks a little disappointed as he says his goodbye. However, gratitude is still apparent in his eyes.*");
		gflags[0x01D1] = true;
		abort;
	}
	say("Horance looks as if he expected your response. \"I knew that one so virtuous as thou wouldst never turn aside while others suffer. Thy generosity seems to have no bounds.\"");
	gflags[0x01AC] = true;
	gflags[0x01D1] = false;
}

extern var Func090A 0x90A ();
extern var Func08F7 0x8F7 (var var0000);
extern void Func08B1 0x8B1 ();
extern void Func08B2 0x8B2 ();

void Func08AF 0x8AF () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	HORANCE->show_npc_face(0x0001);
	var0000 = UI_get_party_list();
	if (!(FORSYTHE->get_npc_object() in var0000)) {
		say("\"Is there a problem? Art thou confounded by thy task?\"");
		var0001 = Func090A();
		if (!var0001) {
			say("\"Well then, I suggest that thou hasten to finish thy task, lest the souls of the well perish before thou art done.*\"");
			abort;
		}
		say("\"Canst thou not find the spirits of the town?\"");
		var0002 = Func090A();
		if (var0002) {
			say("\"Well then, I suggest that thou make haste, lest the souls of the well perish.\"*");
			abort;
		}
		say("\"Ah, then it is good that thou hast returned. The Mayor knows most of the townsfolk and can tell thee of them.\"*");
		abort;
	}
	if (!gflags[0x01A3]) {
		say("\"Very good, now thou shalt take the Mayor to the well and he must enter it of his own free will. When he does that, the souls of the island and the well will be free to go on to their destiny. Unfortunately, Mayor Forsythe will be lost for all time.\"");
		var0003 = Func08F7(FORSYTHE);
		if (var0003) {
			say(" He looks sadly at the ghostly gentleman.");
		}
		say("*");
		abort;
	}
	if (!gflags[0x01AB]) {
		Func08B1();
	} else {
		Func08B2();
	}
}

void Func08B0 0x8B0 () {
	if (!gflags[0x01C5]) {
		say("Before you is the vile form of a liche. It remains motionless and its eyes stare straight ahead.*");
		abort;
	}
	say("The Liche remains motionless and seemingly unaware of your presence.*");
	abort;
}

extern var Func0908 0x908 ();
extern var Func0907 0x907 (var var0000);

void Func08B1 0x8B1 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;

	HORANCE->show_npc_face(0x0001);
	var0000 = Func0908();
	say("\"Once again, Avatar, thou hast proven that thou art ever the defender of Britannia and the innocent. I cannot adequately express my gratitude; however, please take this small token of my thanks. I hope it will help thee in thy quest.\"");
	var0001 = UI_create_new_object(0x0229);
	if (var0001) {
		var0002 = var0001->set_item_quality(0x0064);
		if (Func0907(AVATAR->get_npc_object())) {
			say("He hands you his personal staff. It appears to be magical.");
		} else {
			var0003 = UI_update_last_created(AVATAR->get_object_position());
			say("He places his personal staff on the ground. It appears to be magical.~\"I have something for thee, Avatar, but I see that thou canst not carry it now. I will set it here upon the floor for thee.\"");
		}
		gflags[0x01AB] = true;
	}
	say("For a moment Horance looks downcast. \"I feel that some of the responsibility for what happened in this town is upon my shoulders. For, in my search to uncover the truths of the universe, I unwittingly released that foul spirit which destroyed this town. I will spend the rest of my days in the attempt to restore this once lovely town.~~\"I will make it into a shining example of Spirituality, a shrine where people of good heart may live in peace and harmony. And again, I thank thee for giving me this chance. Goodbye, ",
		var0000,
		".\"*");
	abort;
}

extern var Func0908 0x908 ();

void Func08B2 0x8B2 () {
	var var0000;

	HORANCE->show_npc_face(0x0001);
	var0000 = Func0908();
	say("Horance looks at you curiously, \"Thy task is done here in Skara Brae. Thou hast my respect and lifelong gratitude.\"");
	if (gflags[0x017C]) {
		say("But...,\" he hesitates here as if unsure how to proceed, \"...shouldst thou not return to the quest which brought thee here?\"");
		add("quest");
	}
	converse (["Skara Brae", "bye"]) {
		case "quest":
			if (!gflags[0x01B0]) {
				say("\"Why, yes. I sense that the spirit of Caine has not left the island yet. Is he not waiting for thy return?\"");
			} else {
				say("\"Thou wert brought to Britannia for a reason, I surmise. If thou dost not know what it is, shouldst thou not seek it out?\"");
			}
			remove("quest");
			fallthrough;

		case "Skara Brae":
			say("\"I intend to restore this town and furthermore, make it a place of beauty and renown. I enjoin thee to return in future times to see if my boast doth come to pass.\"");
			remove("Skara Brae");
			fallthrough;

		case "bye":
			say("\"Goodbye, ",
				var0000,
				". I hope that thou farest well in thy quest.\" He turns away.*");
			abort;
	}
	if (event == PROXIMITY) {
		abort;
	}
}

extern var Func093C 0x93C (var var0000, var var0001);
extern var Func093D 0x93D (var var0000, var var0001);

var Func08B3 0x8B3 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	var0001 = 0x0001;
	var0002 = 0x0000;
	var0003 = false;
	var0004 = UI_get_party_list();
	var0005 = var0000->get_barge();
	var0006 = var0000->find_nearby(0x0124, 0x001E, MASK_NONE);
	var0007 = [];
	var0008 = [];
	for (var000B in var0006 with var0009 to var000A) {
		if (var000B->get_barge() == var0005) {
			if ((!var0003) && (var000B->get_item_quality() == 0x00FF)) {
				AVATAR->sit_down(var000B);
				var0004 = Func093C(AVATAR->get_npc_object(), var0004);
				var0003 = true;
			} else {
				var0008 &= var000B->get_distance(AVATAR);
				var0007 &= var000B;
			}
		}
	}
	var000C = UI_get_array_size(var0004);
	var0007 = Func093D(var0007, var0008);
	for (var000B in var0007 with var000D to var000E) {
		if (var000C >= var0001) {
			var0004[var0001]->sit_down(var000B);
			var0001 += 0x0001;
		} else {
			return true;
		}
	}
	return false;
}

extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func090E 0x90E ();
extern var Func0908 0x908 ();
extern void Func091D 0x91D (var var0000, var var0001);
extern void Func091E 0x91E (var var0000, var var0001);
extern void Func091F 0x91F (var var0000, var var0001);

void Func08B4 0x8B4 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	say("\"I can still heal, cure poison, and sometimes resurrect. Art thou in need of one of these?\"");
	UI_push_answers();
	var0003 = Func090A();
	do {
		if (var0003) {
			say("\"Of which service dost thou have need?\"");
			var0004 = ["heal", "cure poison", "resurrect"];
			var0005 = Func090B(var0004);
			if ((var0005 == "heal") || (var0005 == "cure poison")) {
				if (var0005 == "heal") {
					var0006 = "healed";
					var0007 = var0000;
				}
				if (var0005 == "cure poison") {
					var0006 = "cured of poison";
					var0007 = var0001;
				}
				say("\"Who dost thou wish to be ",
					var0006,
					"?\"");
				var0008 = Func090E();
				if (var0008 == 0x0000) {
					say("\"'Tis good to hear that thou art well. Do not hesitate to come and see me if thou dost need healing of any kind.\"");
					break;
				}
			}
			if (var0005 == "resurrect") {
				var0009 = Func0908();
				var000A = UI_get_avatar_ref();
				var000B = var000A->find_nearest(0x0190, 0x0019);
				if (var000B == 0x0000) {
					var000B = var000A->find_nearest(0x019E, 0x0019);
				}
				if (var000B == 0x0000) {
					say("\"I do apologize, ",
						var0009,
						", but I do not see anyone who must be resurrected. I must be able to see the body. If thou art carrying thine unlucky companion, please lay them on the ground.\"");
					break;
				}
			}
			// Bug: this should be in the if above.
			say("\"Indeed, this person is badly wounded. I will attempt to return them to health.\"");
			var0007 = var0002;
		}
		say("\"Of course, it will never cost thee anything to use mine healing services.\"");
		if (var0005 == "heal") {
			Func091D(var0008, var0007);
			say("\"Done!\"");
		} else if (var0005 == "cure poison") {
			Func091E(var0008, var0007);
			say("\"Done!\"");
		} else if (var0005 == "resurrect") {
			Func091F(var000B, var0007);
			say("\"Done!\"");
		} else {
			say("\"If thou hast need of my services later, I will be here.\"");
		}
	} while (false);
	UI_pop_answers();
}

void Func08B5 0x8B5 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	say("\"If thou wishest to seek out this isle, thou mayest use my ship. It now sits upon the southern shore of Vesper and is called the Golden Ankh. Please, feel free to use it for as long as thou hast need of it.\"");
	var0000 = UI_create_new_object(0x031D);
	var0000->set_item_frame(0x0001);
	var0001 = var0000->set_item_quality(0x002C);
	var0002 = AVATAR->get_npc_object()->give_last_created();
	var0003 = false;
	if (var0002) {
		say("Lord British hands you the deed to the ship.");
	} else {
		var0002 = UI_update_last_created(AVATAR->get_object_position());
		say("Lord British hands you the deed to the ship, but it slips from your hands and falls to the floor.");
		var0003 = true;
	}
	say("\"I have also focused a magical crystal to the entrance of the Castle of Fire which I refurbished after thy battle with Exodus. Here, take it. Perhaps it will give thee some insight. Although, be warned, it is not at all stable and might be prone to shatter the nearer thou findest thyself to the location to which it is tuned.\"");
	var0004 = UI_create_new_object(0x02F8);
	var0004->set_item_frame(0x000E);
	var0005 = AVATAR->get_npc_object()->give_last_created();
	if (var0005) {
		say("Lord British gives you the crystal.");
	} else {
		var0005 = UI_update_last_created(AVATAR->get_object_position());
		if (!var0003) {
			say("Lord British gives you the crystal, but it slips from your hands and falls to the floor. Luckily, it remains intact.");
		} else {
			say("Lord British gives you the crystal, and once again your overloaded condition makes you clumsy. Luckily, it remains intact after its little fall.");
		}
	}
	gflags[0x02FE] = true;
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0916 0x916 (var var0000, var var0001);

void Func08B6 0x8B6 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	var0002 = Func0920();
	if (var0002 != 0x0000) {
		var0003 = 0x0001;
		var0004 = Func0922(var0000, var0001, var0002, var0003);
		if (var0004 == 0x0000) {
			say("\"Ah! But thou hast not the practical experience to train with me at this time! Go and experience life and return later.\"");
			return;
		}
		if (var0004 == 0x0001) {
			var0005 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
			say("You gather your gold and count it, finding that you have ",
				var0005,
				" gold altogether.");
			if (var0005 < var0001) {
				say("\"Hmm. Thou art a little short on gold. Perhaps thou couldst visit the House of Games, win some booty, then return!\"");
				return;
			}
		}
		if (var0004 == 0x0002) {
			say("\"Thou art already as talented as I! Thou hast no need of my services!\"");
			return;
		}
		var0006 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		say("You pay ",
			var0001,
			" gold, and the training session begins.");
		say("Lucky produces a deck of cards, three sea shells and a rock, and a pair of dice. In turn, the pirate takes each item and begins to show various methods of utilizing them. He shows how to deal cards from the bottom of the deck, and how to do a false shuffle. With the shells and rock, he shows lightning-fast maneuvers which hide the rock under one of the shells, the one it couldn't possibly be under. Finally, he shows how to use saliva to weight the dice so that they always turn up lucky.");
		if (var0002 == AVATAR) {
			var0007 = Func0931(PARTY, 0x0001, 0x03BB, QUALITY_ANY, 0x0000);
			if (var0007) {
				var0008 = "happily hands you back your Ankh, which had ";
				var0009 = "managed to slip from around your neck during ";
				var000A = "the session.";
			} else {
				var0008 = "happily holds out his hand to shake yours, ";
				var0009 = "but pulls it away quickly when you proceed ";
				var000A = "to do so.";
			}
			say("When the training session is over, Lucky ",
				var0008,
				"",
				var0009,
				" ",
				var000A,
				"");
		}
		var000B = Func0910(var0002, INTELLIGENCE);
		if (var000B < 30) {
			Func0916(var0002, 1);
		}
	}
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08B7 0x8B7 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "mutton", "beef", "mead", "trout", "ham", "Silverleaf", "bread", "cake", "ale", "wine"];
	var0003 = [0x0000, 0x0179, 0x0179, 0x0268, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x0008, 0x0009, 0x0000, 0x000C, 0x000B, 0x001F, 0x0000, 0x0004, 0x0003, 0x0005];
	var0005 = [0x0000, 0x0006, 0x0014, 0x000F, 0x0005, 0x0014, 0x0032, 0x0004, 0x0003, 0x0005, 0x0005];
	var0006 = "";
	var0007 = 0x0000;
	var0008 = ["", " for one portion", " for a rack", " for a bottle", " for one portion", " for one slice", " for one portion", " for a loaf", " for one piece", " for a bottle", " for a bottle"];
	var0009 = 0x0001;
	var000A = LUCY;
	say("\"What wouldst thou like to buy?\"");
	while (var0001) {
		var000B = Func090C(var0002);
		if (var000B == 0x0001) {
			say("\"Fine.\"");
			var0001 = false;
			continue;
		}
		do {
			if (var000B == 0x0007) {
				if (gflags[0x012B]) {
					say("\"Oh, I am so terribly sorry, ",
						var0000,
						", but there is no more. The logger in Yew refuses to chop down any more Silverleaf trees. I, personally, thinks it is a dreadful decision.\"");
					break;
				}
			}
			var000C = Func091B(var0006, var0002[var000B], var0007, var0005[var000B], var0008[var000B]);
			var000D = 0x0000;
			say("\"^",
				var000C,
				" Dost thou still want it?\"");
			var000E = Func090A();
			if (var000E) {
				if (var0003[var000B] == 0x0179) {
					say("\"How many wouldst thou like?\"");
					var000D = Func08F8(var0003[var000B], var0004[var000B], var0009, var0005[var000B], 0x0014, 0x0001, true);
				} else {
					var000D = Func08F8(var0003[var000B], var0004[var000B], var0009, var0005[var000B], 0x0000, 0x0001, true);
				}
			}
			if (var000D == 0x0001) {
				say("\"Done!\"");
			} else if (var000D == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000D == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
		} while (false);
		say("\"Wouldst thou like something else?\"");
		var0001 = Func090A();
	}
	UI_pop_answers();
}

extern var Func090A 0x90A ();

void Func08B8 0x8B8 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	UI_push_answers();
	var0000 = 0x0001;
	var0001 = 0x0001;
	say("\"Excellent! Dost thou have some eggs for me?\"");
	var0002 = Func090A();
	if (var0002) {
		say("\"Very good! Let me see how many thou dost have...\"");
		var0003 = PARTY->count_objects(0x0179, QUALITY_ANY, 0x0018);
		if (var0003 == 0x0000) {
			say("\"But thou dost not have a single one in thy possession! Thou dost waste my time!\"*");
			abort;
		}
		var0004 = (var0003 / var0001) * var0000;
		say("\"Lovely! ",
			var0003,
			"! That means I owe thee ",
			var0004,
			" gold. Here thou art! I shall take the eggs from thee now!\"");
		var0005 = UI_add_party_items(var0004, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		if (var0005) {
			var0006 = UI_remove_party_items(var0003, 0x0179, QUALITY_ANY, 0x0018, true);
			say("\"Come back and work for me at any time!\"*");
			abort;
		}
		say("\"If thou wouldst travel in a lighter fashion, thou wouldst have hands to take my gold!\"");
	} else {
		say("\"No? What hast thou been doing with my chickens? Art thou some kind of fowl pervert?\"");
	}
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08B9 0x8B9 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "mutton", "bread", "flounder", "Silverleaf", "wine", "ale"];
	var0003 = [0x0000, 0x0179, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x0008, 0x0001, 0x000D, 0x001F, 0x0005, 0x0003];
	var0005 = [0x0000, 0x0006, 0x0005, 0x0005, 0x0032, 0x0005, 0x0005];
	var0006 = "";
	var0007 = 0x0000;
	var0008 = ["", " for one portion", " for one loaf", " for one portion", " for one portion", " per bottle", " per bottle"];
	var0009 = 0x0001;
	say("\"What suits thy fancy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Mmmm. Thou wilt love it.\"");
			var0001 = false;
		} else {
			if (var000A == 0x0005) {
				if (gflags[0x012B]) {
					say("\"I have no more left, ",
						var0000,
						". Silverleaf trees are no longer being cut down and my supply has diminished.\"");
				}
			}
			var000B = Func091B(var0006, var0002[var000A], var0007, var0005[var000A], var0008[var000A]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Too rich for thy blood?\"");
			var000D = Func090A();
			if (!var000D) {
				if (var0003[var000A] == 0x0179) {
					say("\"How many wouldst thou like?\"");
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009, var0005[var000A], 0x0014, 0x0001, true);
				} else {
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009, var0005[var000A], 0x0000, 0x0001, true);
				}
			}
			if (var000C == 0x0001) {
				say("\"Done!\"");
			} else if (var000C == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func08BA 0x8BA () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = UI_is_pc_female();
	say("\"The fortune vill cost thee 20 gold. All right?\"");
	var0001 = Func090A();
	if (var0001) {
		var0002 = UI_remove_party_items(0x0014, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		if (var0002) {
			say("Margareta takes your money.");
		} else {
			say("\"Thou dost not have enough gold.\"");
			say("Margareta turns away from you.*");
			abort;
		}
	} else {
		say("\"Never mind, then.\"");
		say("Margareta turns away from you.*");
		abort;
	}
	UI_play_music(0x001F, 0x0000);
	say("The gypsy woman peers into her crystal ball.");
	if (!var0000) {
		if (gflags[0x00E2]) {
			say("\"I see a voman standing by a shrine. She is in love vith thee. I do not see more on this subject.");
		} else {
			say("\"I see a voman standing by a shrine. She vill play an important role in thy life.");
		}
	}
	say("\"Hmmm... The crystal ball is very murky...");
	if (!gflags[0x0006]) {
		say("\"I see that thou must join The Fellowship if thou vantest to learn more about them and discover their true nature.");
	} else {
		say("\"Now that thou art a Fellowship member, thou vilt learn more about them and discover their true nature in due time.");
	}
	say("\"It is not very clear... ah, yes... there is a new evil that threatens Britannia. I see that thou shalt have to reckon vith it in the future.");
	say("\"The crystal ball tells me that the ether ov the vorld -- the substance that controls magic -- has been affected by this new evil presence.");
	say("\"I see further that this evil presence vill gain greater power during an event in the near future. This event has something to do vith the planets. Seek out a man at the observatory in Moonglow to learn more about this. I see that he has a device which will be very useful to thee. See him soon, for this event is drawing near.\"");
	say("\"Vhat is this? I see... I see... thou dost seek a Man vith a Hook. He is not thy true adversary, but finding him vill be necessary to complete thine ultimate quest.");
	say("\"Vait! I see that thou must seek audience vith the Time Lord. He is in trouble, although I cannot see vhat that trouble is. The Time Lord knows much about this new evil, so do not fail to seek him out.");
	say("\"To find the Time Lord, thou must first meet the Visps who live in the forest ov Yew. They are thy best link to him. The monks ov Empath Abbey may know how to contact the Visps.");
	say("\"The ball has grown dark. I see no more.\"");
	say("Margareta looks up at you and says, \"Thou dost face many dangers ahead. Take care.\"");
	say("With those words, Margareta slumps and closes her eyes to rest. She is obviously exhausted.*");
	if (!gflags[0x0100]) {
		Func0911(0x0032);
	}
	gflags[0x0100] = true;
}

extern var Func090C 0x90C (var var0000);
extern var Func0923 0x923 (var var0000, var var0001);
extern var Func090A 0x90A ();

void Func08BB 0x8BB (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	UI_push_answers();
	var0001 = true;
	var0002 = [0x0014, 0x0028, 0x003C, 0x0050, 0x0064, 0x0082, 0x0096, 0x00B4];
	while (var0001) {
		say("\"Which circle art thou interested in?\"");
		var0003 = Func090C(["nothing", "First", "Second", "Third", "Fourth", "Fifth", "Sixth", "Seventh", "Eighth"]);
		var0003 -= 0x0001;
		if (var0003 == 0x0000) {
			break;
		}
		if (var0003 == 0x0001) {
			var0004 = ["nothing", "Light", "Create Food", "Cure", "Detect Trap"];
			var0005 = [SPELL_NONE, SPELL_LIGHT, SPELL_CREATE_FOOD, SPELL_CURE, SPELL_DETECT_TRAP];
		} else if (var0003 == 0x0002) {
			var0004 = ["nothing", "Wizard Eye", "Telekinesis", "Protection", "Destroy Trap"];
			var0005 = [SPELL_NONE, SPELL_WIZARD_EYE, SPELL_TELEKINESIS, SPELL_PROTECTION, SPELL_DESTROY_TRAP];
		} else if (var0003 == 0x0003) {
			var0004 = ["nothing", "Heal", "Peer", "Sleep", "Protect All"];
			var0005 = [SPELL_NONE, SPELL_HEAL, SPELL_PEER, SPELL_SLEEP, SPELL_PROTECT_ALL];
		} else if (var0003 == 0x0004) {
			var0004 = ["nothing", "Mark", "Recall", "Seance", "Unlock Magic"];
			var0005 = [SPELL_NONE, SPELL_MARK, SPELL_RECALL, SPELL_SEANCE, SPELL_UNLOCK_MAGIC];
		} else if (var0003 == 0x0005) {
			var0004 = ["nothing", "Invisibility", "Charm", "Fire Field", "Dance"];
			var0005 = [SPELL_NONE, SPELL_INVISIBILITY, SPELL_CHARM, SPELL_FIRE_FIELD, SPELL_DANCE];
		} else if (var0003 == 0x0006) {
			var0004 = ["nothing", "Clone", "Sleep Field", "Cause Fear", "Magic Storm"];
			var0005 = [SPELL_NONE, SPELL_CLONE, SPELL_SLEEP_FIELD, SPELL_CAUSE_FEAR, SPELL_MAGIC_STORM];
		} else if (var0003 == 0x0007) {
			var0004 = ["nothing", "Mass Might", "Energy Mist", "Restoration", "Energy Field"];
			var0005 = [SPELL_NONE, SPELL_MASS_MIGHT, SPELL_ENERGY_MIST, SPELL_RESTORATION, SPELL_ENERGY_FIELD];
		} else {
			var0004 = ["nothing", "Resurrect", "Time Stop", "Sword Strike", "Invisible All"];
			var0005 = [SPELL_NONE, SPELL_RESURRECT, SPELL_TIME_STOP, SPELL_SWORD_STRIKE, SPELL_INVISIBILITY_ALL];
		}
		say("\"What spell wouldst thou like to buy?\"");
		var0006 = Func090C(var0004);
		if (var0006 == 0x0001) {
			say("\"Fine.\"");
			break;
		}
		var0007 = var0005[var0006];
		var0008 = var0002[var0006];
		var0009 = var0004[var0006];
		say("\"The ",
			var0009,
			" spell will cost ",
			var0008,
			" gold.\"");
		var000A = Func0923(var0007, var0008);
		if (var000A == 0x0001) {
			say("\"Done!\"");
		} else if (var000A == 0x0002) {
			say("\"Thou dost not have a spellbook.\"");
			var0001 = false;
			break;
		} else if (var000A == 0x0003) {
			say("\"Thou dost not have enough gold for that!\"");
		} else if (var000A == 0x0004) {
			say("\"Thou dost already have that spell!\"");
		}
		say("\"Wouldst thou like another spell?\"");
		var0001 = Func090A();
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08BC 0x8BC (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	UI_push_answers();
	var0001 = true;
	if (var0000 == "Reagents") {
		var0002 = ["Nothing", "Garlic", "Ginseng", "Mandrake Root", "Nightshade", "Black Pearl"];
		var0003 = [0x0000, 0x034A, 0x034A, 0x034A, 0x034A, 0x034A];
		var0004 = [FRAME_ANY, 0x0004, 0x0005, 0x0003, 0x0002, 0x0000];
		var0005 = [0x0000, 0x0001, 0x0002, 0x0007, 0x0006, 0x0008];
		var0006 = "";
		var0007 = ["", " for one clove", " for one portion", " each", " for one button", " each"];
	} else {
		var0002 = ["nothing", "orange potion", "black potion"];
		var0003 = [0x0000, 0x0154, 0x0154];
		var0004 = [FRAME_ANY, 0x0004, 0x0007];
		var0005 = [0x0000, 0x000F, 0x005A];
		var0008 = ["", "a ", "a "];
		var0007 = ["", " for one vial", " for one vial"];
	}
	var0009 = 0x0000;
	var000A = 0x0001;
	var000B = MARIAH;
	say("\"What wouldst thou like to buy?\"");
	while (var0001) {
		var000C = Func090C(var0002);
		if (var000C == 0x0001) {
			say("\"Fine.\"");
			var0001 = false;
		} else {
			var000D = Func091B(var0006, var0002[var000C], var0009, var0005[var000C], var0007[var000C]);
			var000E = 0x0000;
			say("\"",
				var000D,
				" Dost thou like the price?\"");
			var000F = Func090A();
			if (var000F) {
				if (var0000 == "Reagents") {
					say("\"How many dost thou want?\"");
					var000E = Func08F8(var0003[var000C], var0004[var000C], var000A, var0005[var000C], 0x0014, 0x0001, false);
				} else {
					var000E = Func08F8(var0003[var000C], var0004[var000C], var000A, var0005[var000C], 0x0000, 0x0001, false);
				}
			}
			if (var000E == 0x0001) {
				say("\"Done!\"");
			} else if (var000E == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000E == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			} else {
			}
			say("\"Wouldst thou like something else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);

void Func08BD 0x8BD (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	var0002 = Func0920();
	var0003 = var0002->get_npc_name();
	do {
		if (var0002 != 0x0000) {
			if (var0002 == AVATAR) {
				var0004 = "you";
			} else {
				var0004 = var0003;
			}
			var0005 = 0x0001;
			var0006 = Func0922(var0000, var0001, var0002, var0005);
			if (var0006 == 0x0000) {
				say("\"I am afraid thou dost not have enough practical experience to train at this time. If thou couldst return at a later date, I would be most happy to provide thee with my services.\"");
				break;
			}
			if (var0006 == 0x0001) {
				var0007 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				say("You gather your gold and count it. You have ",
					var0007,
					" altogether.");
				if (var0007 < var0001) {
					say("Markus stretches. He shrugs and says, \"I regret that thou dost not have enough gold to meet my price. Perhaps later, when thou hast made thy fortune pillaging the land...\"");
					break;
				}
			}
			say("You pay ",
				var0001,
				" gold, and the training session begins.");
			if (var0006 == 0x0002) {
				say("Markus blinks and seems to come out of his boredom. \"Thou art already as proficient as I! Thou cannot be trained further here.\"~~Markus returns the gold.");
				break;
			}
			var0008 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("\"Very well,\" Markus says, stifling a yawn. \"Here we go.\"~~Markus wields his sword and faces ",
				var0004,
				". He gives ",
				var0004,
				" a few pointers in stance and balance, then demonstrates some sample thrusts.");
			say("Before long, ",
				var0004,
				" and the trainer are trading blows with weapons. He is obviously very good at what he does, and the experience is valuable to ",
				var0004,
				". When the session is over, it is felt that there has been a gain in combat ability.*");
			var0009 = Func0910(var0002, COMBAT);
			if (var0009 < 30) {
				Func0917(var0002, 1);
			}
		}
	} while (false);
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0914 0x914 (var var0000, var var0001);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);

void Func08BE 0x8BE (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	var0002 = Func0920();
	do {
		if (var0002 != 0x0000) {
			var0003 = 0x0003;
			var0004 = Func0922(var0000, var0001, var0002, var0003);
			if (var0004 == 0x0000) {
				say("\"I am sorry, but thou dost not have enough practical experience with weights to train at this time. Perhaps in the future, when thou art ready, I could train thee.\"");
				break;
			}
			if (var0004 == 0x0001) {
				var0005 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				say("You gather your gold and count it, finding that you have ",
					var0005,
					" gold altogether.");
				if (var0005 < var0001) {
					say("\"Thou dost not have enough gold to train here.\"");
					break;
				}
			}
			var0006 = var0002->get_npc_name();
			if (var0002 == AVATAR) {
				var0007 = "you begin";
				var0008 = "your";
			} else {
				var0007 = var0006 + " begins";
				var0008 = var0006 + "'s";
			}
			if (var0004 == 0x0002) {
				say("\"Thou art already as strong as I!\" he exclaims, noticing ",
					var0008,
					" muscles and build. \"Thou dost certainly know as much as I about building strong muscles.\"");
			} else {
				var0009 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
				say("You pay ",
					var0001,
					" gold, and the training session begins.");
				var0006 = var0002->get_npc_name();
				say("He begins with a short, but extensive, weight training program, followed by a sparring match with heavy weaponry. Shortly, ",
					var0007,
					" to feel stronger, and better able to utilize that strength in battle.");
				var000A = Func0910(var0002, STRENGTH);
				if (var000A < 30) {
					Func0914(var0002, 2);
				}
				var000B = Func0910(var0002, COMBAT);
				if (var000B < 30) {
					Func0917(var0002, 1);
				}
			}
		}
	} while (false);
}

extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0912 0x912 (var var0000, var var0001, var var0002);

void Func08BF 0x8BF (var var0000) {
	var var0001;
	var var0002;
	var var0003;

	var0001 = Func0910(var0000, STRENGTH);
	var0002 = Func0910(var0000, HEALTH);
	if (var0001 > var0002) {
		var0003 = var0001 - var0002;
		Func0912(var0000, HEALTH, var0003);
	}
}

void Func08C0 0x8C0 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0000 = false;
	var0001 = false;
	var0002 = false;
	var0003 = false;
	var0004 = false;
	var0005 = false;
	var0006 = false;
	UI_push_answers();
	if (gflags[0x01CC]) {
		add("Forsythe");
	}
	if (gflags[0x01C3]) {
		add("Ferryman");
	}
	if (gflags[0x01C4]) {
		add("Markham");
	}
	if (gflags[0x01CB]) {
		add("Quenton");
	}
	if (gflags[0x01C7]) {
		add("Trent");
	}
	if (gflags[0x01C2]) {
		add("Caine");
	}
	add("no one");
	say("\"Very well, then. Of whom wouldst thou speak?\"");
	converse (0) {
		case "Forsythe":
			say("She glowers at you for a moment. \"I have nothing to say about -that- bumbling clod!\"");
			remove("Forsythe");
			fallthrough;

		case "Ferryman":
			say("\"I know very little about that one. He's been here since the Liche called up the angry dead from their graves. I know one thing though: even shouldst thou defeat Horance, he will remain here under the geas he serves.\" She looks a little sad as she tells you this.");
			remove("Ferryman");
			add("angry dead");
			fallthrough;

		case "angry dead":
			say("\"The graves of our ancestors have spilled forth the dead of Skara Brae. Their minds and hearts are rotted and they care not for the living. Hence the name `Angry Dead.'\"");
			remove("angry dead");
			fallthrough;

		case "Markham":
			say("She gives you a cocked smile. \"That rascal opened one of the best pubs this side of Buccaneer's Den, or so he'd have thee believe. He's a bit rough around the edges, but he knows how to buy good wine, that is for sure. And his taste in bar maids isn't half bad, either,\" she wink. \"If thou hast met Paulette, thou dost know of what I speak.\"");
			remove("Markham");
			add("Paulette");
			fallthrough;

		case "Quenton":
			say("\"That poor man has had a life fraught with grief, the one ailment none of my magics seems to be able to do much about.~~\"His wife, Gwen, was taken by a rather nasty group of men several years after the birth of their daughter, Marney. I know what happened to her, but I have spared Quenton this knowledge out of pity.~~\"The men thought she was a noble lady due to her unsurpassed beauty. When they found out she was the wife of a lowly fisherman, they raped her brutally and sold her to a disreputable brothel. Fortunately she died not long after her arrival there.\" Mordra looks profoundly saddened.");
			remove("Quenton");
			add("Marney");
			var0000 = true;
			fallthrough;

		case "Marney":
			say("\"Yes, yes, a half-told tale is no tale at all.\" She continues with her account of Quenton's sad life.~~\"Marney took ill after her mother's abduction and lived with one foot in the grave for several years more. Finally, Quenton could take it no longer. He borrowed money from a violent man named Michael, who went by the moniker, Blade. When he could not repay the loan, Blade slew him.~~\"However, this is not the end of my piteous tale, for even after his death, Quenton's shade was forced to remain in the town of Spirituality, where he had to watch his beloved Marney grow more ill and eventually die.~~\"Yorl, the man who cared for Marney after her father's death, built a shrine for her earthly\tbody.\" She grows silent for a while, eyes downcast. ~~\"It is my sincere hope that thou shalt rid us of Horance so that Quenton\tmay join his loved ones, wherever they may be.\"");
			remove("Marney");
			add("Blade");
			fallthrough;

		case "Blade":
			say("Her face becomes passionless for the first time since you met her.~~\"The reason I know of this story is because my late brother, Rinaldo, sat on the bench at the High Court in Yew. He wrote to me about the capture of not only Blade, but also of the pirates who abducted Quenton's wife. The pirates spent the rest of their days in the lowest cells of a dungeon, and Blade met his fate upon the edge of a guillotine.~~\"A fitting death, dost thou not think?\"");
			remove("Blade");
			fallthrough;

		case "Paulette":
			say("\"She is quite a lovely girl, although a bit childlike in outlook. Her father was not of this world, I believe. He spoke with an odd inflection and his appearance was very unlike most other people of Britannia.~~\"But then thou well knowest that many people of other worlds come to this land. I've even heard it rumored that Lord British himself is an outworlder. Imagine that.\" A sly expression crosses her face.");
			remove("Paulette");
			fallthrough;

		case "Trent":
			if (gflags[0x01A6]) {
				say("\"It is wonderful that those two have been brought back together. I only hope that Quenton will share that same fate.\" Her voice is full of hope.");
				if (!var0000) {
					add("Quenton");
				}
			} else if (gflags[0x01A5]) {
				if (!gflags[0x01A8]) {
					say("\"Now that Trent has been brought out of himself, I believe it is time to have him construct the Soul Cage that will become the Liche's coffin.\" She smiles without humor.~~\"Go to him and assist him if thou wishest to free this town from Horance's grasp.\"");
					if (!var0004) {
						add("Horance the Liche");
					}
				} else if (gflags[0x01AA]) {
					say("\"I feel as if a great weight has been lifted from me. I cannot thank thee enough for what thou hast done. However, we will not be free of the Liche's power until the Well of Souls has been destroyed.\"");
					add("Well of Souls");
				} else {
					say("\"Thou must use his cage well to stop the liche.\"");
				}
			} else {
				say("\"Alas, I fear that his mind was broken by the loss of his wife, Rowena. He cannot break out of the hatred which consumes him. One day, he will be spent and his spirit will be lost forever. Perhaps, Rowena would know of something that could help... but no, she herself is in need of assistance.\" Mordra shakes her head.");
				if (!var0002) {
					add("Rowena");
				}
			}
			remove("Trent");
			var0001 = true;
			fallthrough;

		case "Rowena" (remove):
			if (gflags[0x01A6]) {
				say("\"It is wonderful that those two have been brought back together. I only hope that Quenton will share that same fate.\" Her voice is full of hope.");
				if (!var0000) {
					add("Quenton");
				}
			} else if (!gflags[0x01A9]) {
				say("\"Thou must find a way to bring her out of the Liche's ensorcelment, even if only for a brief moment. I am positive she holds the key to restoring Trent to his former self. Perhaps, if thou couldst find a personal article of hers -- something from Trent, perhaps -- and bring it to her. That might break the enchantment she is under.\"");
			} else {
				say("Mistress Mordra frowns a little. \"I hope that poor girl can hold out a little longer, until she can be taken away from that horrible place.\"");
			}
			remove("Rowena");
			var0002 = true;
			fallthrough;

		case "Caine":
			if (!gflags[0x01C0]) {
				say("\"He is a tortured spirit. He blames himself for the destruction of the town. In his delusion, he feels the flames of his death constantly. However, I believe his state gives him a certain purification and wisdom. It is said that he even knows the answers to life and death.\"~~She looks bemused. \"Regardless of that fact, it is from him that thou must get the magical concoction to destroy the Liche. However, I can give thee the list of ingredients.\"");
				add("ingredients");
				gflags[0x01C0] = true;
				if (!var0004) {
					add("Horance the Liche");
				}
				var0003 = true;
			} else if (!gflags[0x01AA]) {
				say("\"It is good that thou hast managed to create the magical\tformula; now must thou use it with the Soul Cage, to destroy Horance.\"");
				if (!var0004) {
					add("Horance the Liche");
				}
			} else {
				say("Her smile widens. \"Thou hast made excellent use of the formula. Now, we must find a way to destroy the Well of\tSouls, to free Skara Brae.\"");
				if (!var0005) {
					add("Well of Souls");
				}
			}
			remove("Caine");
			fallthrough;

		case "ingredients":
			say("\"If I tell thee, thou must be sure to get them right. Otherwise, what happened when I told that blasted mayor will happen again. And, while we here in Skara Brae have no more lives to lose, thou hast quite a valuable one! ~~\"The ingredients necessary to dissolve the liche are: a potion of invisibility, a potion of curing, and one vial of the essence of mandrake -- I have one somewhere in mine house. Remember, only -one-  vial!\"");
			remove("ingredients");
			fallthrough;

		case "Horance the Liche":
			say("\"He is the blasted liche I was trying to destroy when the fire happened. Horance the mage apparently decided one day that mortality was not something for him. So, he began to research ways to avoid death. Finally, he came upon the formula required to make himself an undead -- an immortal undead -- liche. Unfortunately, this transformation, compounded with his already obsessive behavior, changed him into the evil thing he is today!~~\"And 'tis his evil, Black Service that commands us all!\"");
			remove("Horance the Liche");
			add("Black Service");
			var0004 = true;
			fallthrough;

		case "Dark Tower":
			say("\"The Dark Tower lies on the northwestern point of Skara Brae. There is something odd about its construction, for I find it very hard to penetrate with my magical senses.~Within it,\" she says, \"thou wilt find the Well of Souls.\"");
			remove("Dark Tower");
			if (!var0005) {
				add("Well of Souls");
			}
			var0006 = true;
			fallthrough;

		case "Well of Souls":
			var0005 = true;
			say("\"The Well of Souls is a powerful artifact, located at the back of the Dark Tower, from which the Liche draws his power. The souls of the dead are incarcerated there, doomed to the torment of Horance's all-consuming appetite.\" An expression of pain shows in her features.");
			if (!var0004) {
				add("Horance the Liche");
			}
			remove("Well of Souls");
			var0005 = true;
			fallthrough;

		case "Black Service":
			if (!gflags[0x01AA]) {
				say("Angrily, Mordra says, \"Each night, at the stroke of midnight, the spirits of Skara Brae travel to the Dark Tower and are used to infuse Horance with power to continue his dark existence. None of the others are aware when this happens, but I feel it without being able to stop myself.\"");
				if (!var0006) {
					add("Dark Tower");
				}
			} else {
				say("\"Even though the Liche is gone, we are still drawn to the place of his Black Service. He must have bound us with a geas and tied it to the power of the Well of Souls. Oh, what a crafty villain he was.\" Grudging respect for a skilled mage is mixed with disgust in Mordra's expression.");
				if (!var0005) {
					add("Well of Souls");
				}
			}
			remove("Black Service");
			fallthrough;

		case "no one":
			say("\"I see. Of what wouldst thou speak, then?\"*");
			UI_clear_answers();
			UI_pop_answers();
			break;
	}
}

extern var Func0908 0x908 ();

void Func08C1 0x8C1 () {
	var var0000;

	var0000 = Func0908();
	say("\"Sweet Rowena, I am so happy to see thee out of that horrid tower.\" Mordra's eyes begin to fill with tears of joy.*");
	ROWENA->show_npc_face(0x0001);
	say("\"It was terrible, but the worst part was being away from mine husband. The whole time I was there with Horance, I felt like a hollow shell of a person. I must be with Trent to be whole again.\"*");
	ROWENA->hide();
	MORDRA->say("\"Yes, thou art quite right. ",
		var0000,
		", she must needs be taken to her husband, swiftly. I trust that thou wilt do so.\" She leaves the statement hanging and says her goodbyes to Rowena.*");
	abort;
}

extern var Func0909 0x909 ();
extern var Func0908 0x908 ();

void Func08C2 0x8C2 () {
	var var0000;
	var var0001;

	var0000 = Func0909();
	var0001 = Func0908();
	say("\"Well, hello, Mayor Forsythe. Thou has finally decided to assist in the salvation of our town.\" She gives him a pointed look.*");
	FORSYTHE->say("\"Look here, I wasn't the one who gave that fool recipe to Caine, now was I?\"*");
	FORSYTHE->hide();
	MORDRA->say("\"That fool recipe just got rid of Horance for us.\" Mistress Mordra speaks through clenched teeth.*");
	FORSYTHE->say("\"Hmmph. Thou hast taken thy sweet time, madam. And now I am off to jump in a well.\"*");
	FORSYTHE->hide();
	MORDRA->say("\"Ignorant fool!\"*");
	FORSYTHE->say("\"Old biddy!\"*");
	FORSYTHE->hide();
	MORDRA->say("\"Thou wilt regret that, Toad.\" Fire flares in the depths of her eyes and electricity crackles in her hair. She lifts her arms as if to cast some dreadful spell, but Forsythe whimpers and hides behind you. She sees the look on your face and slowly lowers her arms. The flames and lightning flicker, and die.~~\"Forgive my behavior, ",
		var0000,
		". What was that about a well.\" You explain that Forsythe has volunteered to sacrifice himself for the spirits of the others. She looks him in the eyes. He brushes himself off and stands up straight. \"I didst not think that thou had it in thee, Mayor. I am in thy debt.\"*");
	FORSYTHE->say("\"Yes, well. Thou art welcome, I guess.\" He looks as if his dignity has been somewhat replenished.*");
	FORSYTHE->hide();
	MORDRA->say("\"I suppose thou hadst better get thee hence, then. Fare thee well, Forsythe. 'Tis not all that bad, roaming the ether. At least not once thou becomest accustomed to it.\"~~She turns to you. \"Goodbye, ",
		var0001,
		". If thou art successful, I will not see thee again. May thy fortunes be good.*\"");
	abort;
}

extern var Func090C 0x90C (var var0000);
extern var Func0923 0x923 (var var0000, var var0001);
extern var Func090A 0x90A ();

void Func08C3 0x8C3 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	UI_push_answers();
	var0000 = true;
	var0001 = [0x0019, 0x002D, 0x0041, 0x0055, 0x0073, 0x0087, 0x009B, 0x00B9];
	while (var0000) {
		say("\"In which circle dost thou wish to study?\"");
		var0002 = Func090C(["none", "First", "Second", "Third", "Fourth", "Fifth", "Sixth", "Seventh", "Eighth"]);
		var0002 -= 0x0001;
		if (var0002 == 0x0000) {
			break;
		}
		if (var0002 == 0x0001) {
			var0003 = ["nothing", "Cure", "Detect Trap", "Great Ignite", "Locate"];
			var0004 = [SPELL_NONE, SPELL_CURE, SPELL_DETECT_TRAP, SPELL_GREAT_IGNITE, SPELL_LOCATE];
		} else if (var0002 == 0x0002) {
			var0003 = ["nothing", "Destroy Trap", "Enchant", "Protection", "Wizard Eye"];
			var0004 = [SPELL_NONE, SPELL_DESTROY_TRAP, SPELL_ENCHANT, SPELL_PROTECTION, SPELL_WIZARD_EYE];
		} else if (var0002 == 0x0003) {
			var0003 = ["nothing", "Swarm", "Paralyze", "Peer", "Poison"];
			var0004 = [SPELL_NONE, SPELL_SWARM, SPELL_PARALYZE, SPELL_PEER, SPELL_POISON];
		} else if (var0002 == 0x0004) {
			var0003 = ["nothing", "Mark", "Recall", "Seance", "Unlock Magic"];
			var0004 = [SPELL_NONE, SPELL_MARK, SPELL_RECALL, SPELL_SEANCE, SPELL_UNLOCK_MAGIC];
		} else if (var0002 == 0x0005) {
			var0003 = ["nothing", "Dispel Field", "Explosion", "Invisibility", "Mass Sleep"];
			var0004 = [SPELL_NONE, SPELL_DISPEL_FIELD, SPELL_EXPLOSION, SPELL_INVISIBILITY, SPELL_MASS_SLEEP];
		} else if (var0002 == 0x0006) {
			var0003 = ["nothing", "Fire Ring", "Magic Storm", "Poison Field", "Tremor"];
			var0004 = [SPELL_NONE, SPELL_FIRE_RING, SPELL_MAGIC_STORM, SPELL_POISON_FIELD, SPELL_TREMOR];
		} else if (var0002 == 0x0007) {
			var0003 = ["nothing", "Death Bolt", "Delayed Blast", "Energy Field", "Energy Mist"];
			var0004 = [SPELL_NONE, SPELL_DEATH_BOLT, SPELL_DELAYED_BLAST, SPELL_ENERGY_FIELD, SPELL_ENERGY_MIST];
		} else {
			var0003 = ["nothing", "Death Vortex", "Mass Death", "Summon", "Swordstrike"];
			var0004 = [SPELL_NONE, SPELL_DEATH_VORTEX, SPELL_MASS_DEATH, SPELL_SUMMON, SPELL_SWORD_STRIKE];
		}
		say("\"What spell wouldst thou like to buy?\"");
		var0005 = Func090C(var0003);
		if (var0005 == 0x0001) {
			say("\"Fine.\"");
			break;
		}
		var0006 = var0004[var0005];
		var0007 = var0001[var0002];
		var0008 = var0003[var0005];
		say("\"The ",
			var0008,
			" spell will cost ",
			var0007,
			" gold.\"");
		var0009 = Func0923(var0006, var0007);
		if (var0009 == 0x0001) {
			say("\"Done!\"");
		} else if (var0009 == 0x0002) {
			say("\"Thou dost not have a spellbook.\"");
			var0000 = false;
			break;
		} else if (var0009 == 0x0003) {
			say("\"Thou dost not have enough gold for that!\"");
		} else if (var0009 == 0x0004) {
			say("\"Thou dost already have that spell!\"");
		}
		say("\"Wouldst thou like another spell?\"");
		var0000 = Func090A();
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08C4 0x8C4 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "Garlic", "Blood Moss", "Spider Silk", "Mandrake Root", "Nightshade"];
	var0002 = [0x0000, 0x034A, 0x034A, 0x034A, 0x034A, 0x034A];
	var0003 = [FRAME_ANY, 0x0004, 0x0001, 0x0006, 0x0003, 0x0002];
	var0004 = [0x0000, 0x0002, 0x0003, 0x0003, 0x0005, 0x0005];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0005 = Func090C(var0001);
		if (var0005 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var0006 = "";
			var0007 = 0x0000;
			var0008 = "";
			var0009 = 0x0001;
			var000A = Func091B(var0006, var0001[var0005], var0007, var0004[var0005], var0008);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Okey-dokey?\"");
			var000C = Func090A();
			if (var000C) {
				say("\"How many wouldst thou like?\"");
				var000B = Func08F8(var0002[var0005], var0003[var0005], var0009, var0004[var0005], 0x0014, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func0923 0x923 (var var0000, var var0001);
extern var Func090A 0x90A ();

void Func08C5 0x8C5 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	UI_push_answers();
	var0000 = true;
	var0001 = [0x0023, 0x0037, 0x0055, 0x005F, 0x007D, 0x0091, 0x00A5, 0x00C3];
	while (var0000) {
		say("\"In which circle dost thou wish to study?\"");
		var0002 = Func090C(["none", "First", "Second", "Third", "Fourth", "Fifth", "Sixth", "Seventh", "Eighth"]);
		var0002 -= 0x0001;
		if (var0002 == 0x0000) {
			break;
		}
		if (var0002 == 0x0001) {
			var0003 = ["nothing", "Create Food", "Great Douse", "Light", "Locate"];
			var0004 = [SPELL_NONE, SPELL_CREATE_FOOD, SPELL_GREAT_DOUSE, SPELL_LIGHT, SPELL_LOCATE];
		} else if (var0002 == 0x0002) {
			var0003 = ["nothing", "Enchant", "Mass Cure", "Protection", "Telekinesis"];
			var0004 = [SPELL_NONE, SPELL_ENCHANT, SPELL_MASS_CURE, SPELL_PROTECTION, SPELL_TELEKINESIS];
		} else if (var0002 == 0x0003) {
			var0003 = ["nothing", "Heal", "Swarm", "Protect All", "Sleep"];
			var0004 = [SPELL_NONE, SPELL_HEAL, SPELL_SWARM, SPELL_PROTECT_ALL, SPELL_SLEEP];
		} else if (var0002 == 0x0004) {
			var0003 = ["nothing", "Conjure", "Mass Curse", "Reveal", "Unlock Magic"];
			var0004 = [SPELL_NONE, SPELL_CONJURE, SPELL_MASS_CURSE, SPELL_REVEAL, SPELL_UNLOCK_MAGIC];
		} else if (var0002 == 0x0005) {
			var0003 = ["nothing", "Dispel Field", "Great Heal", "Invisibility", "Fire Field"];
			var0004 = [SPELL_NONE, SPELL_DISPEL_FIELD, SPELL_GREAT_HEAL, SPELL_INVISIBILITY, SPELL_FIRE_FIELD];
		} else if (var0002 == 0x0006) {
			var0003 = ["nothing", "Cause Fear", "Fire Ring", "Flame Strike", "Sleep Field"];
			var0004 = [SPELL_NONE, SPELL_CAUSE_FEAR, SPELL_FIRE_RING, SPELL_FLAME_STRIKE, SPELL_SLEEP_FIELD];
		} else if (var0002 == 0x0007) {
			var0003 = ["nothing", "Death Bolt", "Energy Field", "Energy Mist", "Mass Might"];
			var0004 = [SPELL_NONE, SPELL_DEATH_BOLT, SPELL_ENERGY_FIELD, SPELL_ENERGY_MIST, SPELL_MASS_MIGHT];
		} else {
			var0003 = ["nothing", "Death Vortex", "Mass Death", "Invisible All", "Time Stop"];
			var0004 = [SPELL_NONE, SPELL_DEATH_VORTEX, SPELL_MASS_DEATH, SPELL_INVISIBILITY_ALL, SPELL_TIME_STOP];
		}
		say("\"What spell wouldst thou like to buy?\"");
		var0005 = Func090C(var0003);
		if (var0005 == 0x0001) {
			say("\"Fine.\"");
			break;
		}
		var0006 = var0004[var0005];
		var0007 = var0001[var0002];
		var0008 = var0003[var0005];
		say("\"The ",
			var0008,
			" spell will cost ",
			var0007,
			" gold.\"");
		var0009 = Func0923(var0006, var0007);
		if (var0009 == 0x0001) {
			say("\"Done!\"");
		} else if (var0009 == 0x0002) {
			say("\"Thou dost not have a spellbook.\"");
			var0000 = false;
			break;
		} else if (var0009 == 0x0003) {
			say("\"Thou dost not have enough gold for that!\"");
		} else if (var0009 == 0x0004) {
			say("\"Thou dost already have that spell!\"");
		}
		say("\"Would you like another spell?\"");
		var0000 = Func090A();
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08C6 0x8C6 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "Ginseng", "Blood Moss", "Sulfurous Ash", "Mandrake Root", "Black Pearl"];
	var0002 = [0x0000, 0x034A, 0x034A, 0x034A, 0x034A, 0x034A];
	var0003 = [FRAME_ANY, 0x0005, 0x0001, 0x0007, 0x0003, 0x0000];
	var0004 = [0x0000, 0x0004, 0x0006, 0x0008, 0x000A, 0x000A];
	var0005 = "";
	var0006 = 0x0000;
	var0007 = "";
	var0008 = 0x0001;
	say("\"What reagent wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005, var0001[var0009], var0006, var0004[var0009], var0007);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Art thou willing to pay that much?\"");
			var000C = Func090A();
			if (var000C) {
				say("\"How many wouldst thou like?\"");
				var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0014, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func08F7 0x8F7 (var var0000);

void Func08C7 0x8C7 () {
	var var0000;
	var var0001;

	PAUL->show_npc_face(0x0000);
	var0000 = Func08F7(IOLO);
	var0001 = Func08F7(SPARK);
	say("As the actors take their places and don masks, you settle down to watch the action.*");
	if (var0001) {
		SPARK->say("Spark whispers to you, \"I wish there was a confectioner that sold candied apples!\"*");
		SPARK->hide();
		PAUL->show_npc_face(0x0000);
	}
	say("The music starts the play, as Paul takes center stage and addresses the audience.");
	say("\"Welcome to Our Tale, ~A tale so true to life. ~'Tis a tale of tragedy ~A man has lost his wife.");
	say("\"But the story need not be sad ~When The Fellowship is here. ~The Triad of Inner Strength ~Gives one no cause to fear.\"*");
	PAUL->hide();
	DUSTIN->say("Dustin takes the stage as Paul moves away. Meryl lies on the ground in front of him and assumes a death-like pose.");
	say("\"'Tis doom! 'Tis despair! 'Tis death! ~My beloved wife is gone! ~Disease has taken her away ~And left me with but a song.\"");
	say("Dustin puts his head in his hands and mimes sobbing. As he sobs, Meryl rises from her \"death\" in a ghost-like fashion, then addresses Dustin.*");
	MERYL->say("\"Mine husband, my love! ~Do not despair! 'Tis not doom! ~Thou shalt rise above ~All this melancholy and gloom!\"*");
	DUSTIN->say("\"Who doth speak to me? ~Could it be she? ~Or have I indeed gone mad? ~But who else -could- it be?\"*");
	MERYL->say("\"Mine husband, thou must listen. ~Thou hast thy comfort within thy grip. ~Thou must only seek them out -- ~Those that can help -- The Fellowship!\"*");
	MERYL->hide();
	DUSTIN->say("Meryl drifts off stage, leaving Dustin alone.");
	say("\"The Fellowship, she said? ~But what do I need with it? ~I have mine eight virtues and mine healers ~With these nothing else will fit!\"*");
	PAUL->say("Paul enters the stage with Meryl, who now wears a different mask.");
	say("\"But that is where thou art wrong! ~The Fellowship exists to help thee! ~The Triad of Inner Strength is here ~To give thee a sense of unity!\"");
	say("\"Join us now and thou wilt see. ~Join thy brothers and our plan ~To promote the tenets of our group -- ~Thou wilt be a better man.\"");
	say("At this point, an elaborate mimed sequence reveals how Dustin joins The Fellowship, receives his medallion from a \"branch leader\", portrayed by Paul, and receives congratulations from Meryl.");
	say("\"Strive for Unity at all times, ~And Trust Thy Brother through all ill, ~For Worthiness Precedes thine own Reward ~Hark to our words -- it surely will!\"*");
	DUSTIN->say("\"I shall give half my wealth to thee! ~I shall do thy bidding and then wait. ~My reward shall come one day ~And free me from mine awful fate.\"");
	say("Dustin mimes giving Paul some money. Paul exits, then Dustin lies down on the stage and mimes going to sleep. After a moment, Meryl enters the stage, dances around Dustin's body, sprinkling some kind of sparkling dust on him.*");
	if (var0000) {
		PAUL->hide();
		IOLO->say("Iolo whispers to you. \"I am particularly enjoying the visual effects. The script is a little weak, dost thou not think?\"*");
		IOLO->hide();
		DUSTIN->show_npc_face(0x0000);
	}
	say("Meryl leaves the stage and Dustin 'wakes up'. Lo and behold, he finds a bag near his place of sleep. Upon opening it, he finds a bundle of gold!");
	say("\"By Lord British I declare! ~'Tis my reward! From the air! ~The voice I heard at night was right ~About my wretched life I will not care!");
	say("\"The voice came to me in a dream ~'Twas mine 'inner' voice, so fair. ~I now have a companion and provider, ~And a master about whom I care.\"");
	say("You are jarred by the actor's choice of words -- 'companion', 'provider', and 'master'. You realize you have heard them before.*");
	if (var0001) {
		SPARK->say("\"This is really awful.\"*");
		SPARK->hide();
		DUSTIN->show_npc_face(0x0000);
	}
	say("Paul and Meryl join Dustin on stage and they all hold hands.*");
	PAUL->say("\"The Fellowship can give thee purpose ~To join is thine only choice ~Commit thyself to our just cause ~And find thine inner voice.\"");
	say("At that point, the actors bow, and you realize it is the end. You give them polite applause.*");
	gflags[0x000A] = true;
	if (var0000) {
		PAUL->hide();
		IOLO->say("\"What do they mean about the voice? I am not sure I understand. 'Twas a confusing play. I did not like it at all. We have wasted our time and money! That is the last time that I let thee decide how best we entertain ourselves!\"*");
		IOLO->hide();
	}
	abort;
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0914 0x914 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);

void Func08C8 0x8C8 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	var0002 = Func0920();
	var0003 = var0002->get_npc_name();
	do {
		if (var0002 != 0x0000) {
			var0004 = 0x0002;
			var0005 = Func0922(var0000, var0001, var0002, var0004);
			if (var0005 == 0x0000) {
				say("\"I am sorry, but thou hast overextended thy muscles. If thou couldst return at a later date, I would be quite willing to train thee.\"");
				return;
			}
			if (var0005 == 0x0001) {
				var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				say("You gather your gold and count it, finding that you have ",
					var0006,
					" gold altogether.");
				if (var0006 < var0001) {
					say("\"I regret that thou dost not seem to have the right amount of gold to train here. Mayhaps, at another time, when thy purses are more full...\"");
					return;
				}
			}if (var0005 == 0x0002) {
				say("She seems amazed.~~\"Thou art already stronger than I! I am sorry, but I cannot help thee grow any further.\"");
				return;
			}
			var0007 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("You pay ",
				var0001,
				" gold, and the training session begins.");
			if (var0002 == AVATAR) {
				var0008 = "You";
			} else {
				var0008 = var0003;
			}
			if (var0002 == AVATAR) {
				var0009 = "you";
			} else {
				var0009 = var0003;
			}
			if (var0002 == AVATAR) {
				var000A = "";
			} else {
				var000A = "s";
			}
			say(var0008,
				" and Penni work out and spar for some time. After stretching, ",
				var0009,
				" feel",
				var000A,
				" a little stronger and a bit more skilled in combat.");
			var000B = Func0910(var0002, STRENGTH);
			if (var000B < 30) {
				Func0914(var0002, 1);
			}
			var000C = Func0910(var0002, COMBAT);
			if (var000C < 30) {
				Func0917(var0002, 1);
			}
		}
	} while (false);
}

extern var Func0932 0x932 (var var0000);

var Func08C9 0x8C9 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;

	var0000 = find_nearby(0x02CE, 0x0028, MASK_NONE);
	var0001 = find_nearby(0x0392, 0x0028, MASK_NONE);
	var0002 = 0x0000;
	for (var0005 in var0000 with var0003 to var0004) {
		var0006 = var0005->get_object_position();
		var0007 = var0006[0x0001];
		var0008 = var0006[0x0002];
		var0009 = false;
		for (var000C in var0001 with var000A to var000B) {
			var000D = var000C->get_object_position();
			var000E = var000D[0x0001];
			var000F = var000D[0x0002];
			if ((!var0009) && ((Func0932(var000E - var0007) <= 0x0001) && (Func0932(var000F - var0008) <= 0x0001))) {
				var0002 += 0x0001;
				var000C->clear_item_flag(TEMPORARY);
				var0009 = true;
			}
		}
	}
	if (var0002 == 0x0004) {
		return true;
	}
	return false;
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0916 0x916 (var var0000, var var0001);
extern void Func0918 0x918 (var var0000, var var0001);

void Func08CA 0x8CA (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0002 = Func0920();
	do {
		if (var0002 != 0x0000) {
			var0003 = 0x0003;
			var0004 = Func0922(var0000, var0001, var0002, var0003);
			if (var0004 == 0x0000) {
				say("After a few moments of questioning, he says, \"I am sorry, but thou dost not have a strong enough grasp of my theories for me to be able to instruct thee. Perhaps when thou hast had more time to study...\"");
				return;
			}
			if (var0004 == 0x0001) {
				var0005 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				say("You gather your gold and count it, finding that you have ",
					var0005,
					" gold altogether.");
				if (var0005 < var0001) {
					say("\"I must apologize, but I need my full fee to permit me to continue my research. Mayhaps, at another time, when thou hast more money, I can teach thee.\"");
					return;
				}
			}
			if (var0004 == 0x0002) {
				say("After a few moments of questioning, he says, \"Thou art already past my tutelage. I must humbly apologize, for there is nothing new I can teach thee.\"");
				return;
			}
			var0006 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("You pay ",
				var0001,
				" gold, and the training session begins.");
			var0007 = var0002->get_npc_name();
			if (var0002 == AVATAR) {
				var0008 = "You";
				var0009 = "you";
				var000A = "";
				var000B = "have";
			} else {
				var0008 = var0007;
				var0009 = var0007;
				var000A = "s";
				var000B = "has";
			}
			say(var0008,
				" and Perrin dive excitedly into the pages of several tomes. Following an intensive study session, ",
				var0009,
				" find",
				var000A,
				" the ability to comprehend and disseminate much more information than ever before. In addition, ",
				var0009,
				" ",
				var000B,
				" a a better grasp of the theory behind spellcasting.");
			var000C = Func0910(var0002, INTELLIGENCE);
			if (var000C < 30) {
				Func0916(var0002, 2);
			}
			var000D = Func0910(var0002, MAX_MANA);
			if (var000D < 30) {
				Func0918(var0002, 1);
			}
		}
	} while (false);
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08CB 0x8CB () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "mutton rations", "trout", "Silverleaf", "cake", "ham"];
	var0003 = [0x0000, 0x0179, 0x0179, 0x0179, 0x0179, 0x0179];
	var0004 = [FRAME_ANY, 0x000F, 0x000C, 0x001F, 0x0005, 0x000B];
	var0005 = [0x0000, 0x000C, 0x0002, 0x0019, 0x0002, 0x000A];
	var0006 = ["", "", "", "", "", ""];
	var0007 = [0x0000, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000];
	var0008 = ["", " for ten servings", " for one portion", " for one portion", " per piece", " for a slice"];
	var0009 = [0x0000, 0x000A, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What wouldst thou like to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Very well, ",
				var0000,
				".\"");
			var0001 = false;
			continue;
		}
		do {
			if (var000A == 0x0004) {
				if (gflags[0x012B]) {
					say("\"I am truly sorry, ",
						var0000,
						", but I have not been able to get any of that for some time now. It seems the man who used to cut down the Silverleaf trees has stopped.\"");
					break;
				}
			}
			var000B = Func091B(var0006[var000A], var0002[var000A], var0007[var000A], var0005[var000A], var0008[var000A]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				". Art thou happy with the price?\"");
			var000D = Func090A();
			if (var000D) {
				say("\"How many dost thou want?\"");
				var000E = Func08F8(var0003[var000A], var0004[var000A], var0009[var000A], var0005[var000A], 0x0014, 0x0001, true);
			}
			if (var000E == 0x0001) {
				say("\"Agreed.\"");
			} else if (var000E == 0x0002) {
				say("\"Thou cannot carry that much!\"");
			} else if (var000E == 0x0003) {
				say("\"Thou hast not the gold for that!\"");
			}
		} while (false);
		say("\"Wouldst thou like something else?\"");
		var0001 = Func090A();
	}
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08CC 0x8CC () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "wine", "ale"];
	var0003 = [0x0000, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x0005, 0x0003];
	var0005 = [0x0000, 0x0004, 0x0003];
	var0006 = ["", "", ""];
	var0007 = [0x0000, 0x0000, 0x0000];
	var0008 = ["", " per bottle", " per bottle"];
	var0009 = [0x0000, 0x0001, 0x0001];
	say("\"What wouldst thou like to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Very well, ",
				var0000,
				".\"");
			var0001 = false;
		} else {
			var000B = 0x0000;
			var000C = Func091B(var0006[var000A], var0002[var000A], var0007[var000A], var0005[var000A], var0008[var000A]);
			say("\"^",
				var000C,
				". Is that price agreeable?\"");
			var000D = Func090A();
			if (var000D) {
				var000B = Func08F8(var0003[var000A], var0004[var000A], var0009[var000A], var0005[var000A], 0x0000, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Agreed.\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou hast not the gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08CD 0x8CD () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "jerky", "mead", "grapes", "cheese", "bread", "ale", "wine"];
	var0002 = [0x0000, 0x0179, 0x0268, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268];
	var0003 = [FRAME_ANY, 0x000F, 0x0000, 0x0013, 0x001B, 0x0000, 0x0003, 0x0005];
	var0004 = [0x0000, 0x000C, 0x0004, 0x0001, 0x0004, 0x0002, 0x0001, 0x0002];
	var0005 = "";
	var0006 = [0x0000, 0x0000, 0x0000, 0x0001, 0x0000, 0x0000, 0x0000];
	var0007 = ["", " for 10 pieces", " for a bottle", " for one bunch", " per wedge", " for a loaf", " for a bottle", " for a bottle"];
	var0008 = [0x0000, 0x000A, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"All right.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005, var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Canst thou afford my price?\"");
			var000C = Func090A();
			if (var000C) {
				if (var0002[var0009] == 0x0268) {
					var000B = Func08F8(var0002[var0009], var0003[var0009], var0008[var0009], var0004[var0009], 0x0000, 0x0001, true);
				} else {
					var000A = "How many ";
					if (var0008[var0009] > 0x0001) {
						var000A += "sets ";
					}
					var000A += "wouldst thou like?";
					say("\"^",
						var000A,
						"\"");
					var000B = Func08F8(var0002[var0009], var0003[var0009], var0008[var0009], var0004[var0009], 0x0014, 0x0001, true);
				}
			}
			if (var000B == 0x0001) {
				say("\"Excellent.\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot carry that much of a load.\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have the gold for that!\"");
			}
			say("\"Is there something else thou mayest wish to buy?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func0908 0x908 ();

void Func08CE 0x8CE () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0000 = Func08F7(RUNEB);
	var0001 = Func08F7(SARPLING);
	var0002 = Func08F7(QUAEVEN);
	var0003 = Func08F7(SPARK);
	var0004 = Func0908();
	say("The winged gargoyle begins his sermon.");
	if (var0000) {
		say("You see the gargoyle clerk taking notes in the corner.");
	}
	say("\"To talk tonight about why The Fellowship is important to your lives. To know that each of us sought The Fellowship to feel complete. To have had dreams and longings.\"*");
	if (var0002) {
		QUAEVEN->say("\"To be very true.\"*");
		QUAEVEN->hide();
		QUAN->show_npc_face(0x0000);
	}
	say("\"To know that others who are not members have given up their dreams. To see that they succumb to the mediocrity of their lives to find stability.\"*");
	if (var0003) {
		SPARK->say("\"This is truly boring. Let us get some food -- I am hungry!\"*");
		SPARK->hide();
		QUAN->show_npc_face(0x0000);
	}
	say("\"To see them begin to produce unreal ideas and become misaligned. To stray from the true path to what they seek. To lose contact with reality.\" He sighs. \"To find failure, not success in what they do.\"*");
	if (var0001) {
		SARPLING->say("\"To be very sad.\"*");
		SARPLING->hide();
		QUAN->show_npc_face(0x0000);
	}
	say("\"To know,\" he smiles, \"that each of the members present has faced such an awakening into the real world. To find in the order a clear path to reach what we seek!\"~~ The members present all stand and shout.*");
	var0005 = Func08F7(IOLO);
	if (var0005) {
		IOLO->say("\"'Tis time for us to depart, ",
			var0004,
			".\"*");
		IOLO->hide();
		abort;
	}
}

extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();

void Func08CF 0x8CF () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = Func08F7(BALAYNA);
	var0001 = Func08F7(TOLEMAC);
	var0002 = Func08F7(IOLO);
	var0003 = Func08F7(DUPRE);
	say("\"Fellow members, each of thee has faced -- and doubtless shall face again -- a moment in which thou dost feel the heat of the fever. A moment when thy mind has been clouded with illusory thoughts and visions. A moment when thy recognition has simply vanished, without rhyme or reason. A moment when, perhaps, thou hast even doubted the very words of The Fellowship itself!\"*");
	if (var0000) {
		BALAYNA->say("You see the clerk gasp, her eyes widening in disbelief.*");
		BALAYNA->hide();
		0xFF06->show_npc_face(0x0000);
	}
	say("\"The second principle of the Triad is `trust thy brother.' 'Tis a simple practice when thou dost know thy brother. But The Fellowship was not always known to thee. It may, at one time, have been difficult to put thy trust in something as large as The Fellowship.~~ \"However, to gain full knowledge of thine inner strength, one must have the courage to walk on the fire of trust!\"*");
	if (var0001) {
		TOLEMAC->say("\"'Tis true! Trust was the key to my freedom!\"*");
		TOLEMAC->hide();
		0xFF06->show_npc_face(0x0000);
	}
	say("\"Trust requires great courage, and that courage exists within thyself.\"*");
	if (var0002) {
		IOLO->say("Iolo leans toward you.~~ \"I believe we have heard enough of this, no?\"*");
		var0004 = Func090A();
		if (var0004) {
			say("\"Good. Let us leave.\"*");
			abort;
		}
		say("Iolo sighs deeply.*");
		IOLO->hide();
		0xFF06->show_npc_face(0x0000);
	}
	say("\"But as long as one remains aware, this problem will not plague thee.\"*");
	if (var0003) {
		DUPRE->say("\"Come, friend. That is enough of this. Drinks are on me.\"~~ As you make your way out of the Hall, the leader's voice continues to drone on and on.*");
		abort;
	}
}

extern var Func0920 0x920 ();
extern var Func090F 0x90F (var var0000);
extern var Func0908 0x908 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0915 0x915 (var var0000, var var0001);
extern void Func0916 0x916 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);

void Func08D0 0x8D0 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0002 = Func0920();
	var0003 = Func090F(var0002);
	var0004 = "feels";
	var0005 = Func0908();
	if (var0003 == var0005) {
		var0003 = "you";
		var0006 = "you";
		var0004 = "feel";
	} else if ((var0002 == JULIA) || ((var0002 == JAANA) || (var0002 == KATRINA))) {
		var0006 = "her";
	} else {
		var0006 = "him";
	}
	do {
		if (var0002 != 0x0000) {
			var0007 = 0x0003;
			var0008 = Func0922(var0000, var0001, var0002, var0007);
			if (var0008 == 0x0000) {
				say("\"I am sorry, but thou dost not have enough experience to train at this time. Return at a later date and I would be most happy to lead a session.\"");
				return;
			}
			if (var0008 == 0x0001) {
				var0009 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var0009 < var0001) {
					say("\"It seems that thou hast not enough gold. Do return when thou art a bit wealthier.\"");
					return;
				}
			}
			if (var0008 == 0x0002) {
				say("\"I am amazed! Thou art already as experienced as I! Thou cannot be trained further by me.\"");
				return;
			}
			var000A = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("Rayburt takes your money. \"The session shall begin.\"");
			say("Rayburt first instructs ",
				var0003,
				" to lie on the floor and relax. He teaches ",
				var0006,
				" breathing exercises and techniques with which to cleanse the mind of all thoughts.");
			say("After a while, he asks ",
				var0006,
				" to stand up and illustrates balance and control, relating it to meditation and concentration.");
			say("Finally, he demonstrates several good moves involving hand-to-hand combat, and combat using a sword. By the end of the hour, ",
				var0003,
				" ",
				var0004,
				" much more knowledgeable and proficient in this unusual form of fighting.*");
			var000B = Func0910(var0002, DEXTERITY);
			var000C = Func0910(var0002, INTELLIGENCE);
			var000D = Func0910(var0002, COMBAT);
			if (var000B < 30) {
				Func0915(var0002, 1);
			}
			if (var000C < 30) {
				Func0916(var0002, 1);
			}
			if (var000D < 30) {
				Func0917(var0002, 1);
			}
		}
	} while (false);
}

extern var Func08F7 0x8F7 (var var0000);
extern void Func0911 0x911 (var var0000);

void Func08D1 0x8D1 () {
	var var0000;
	var var0001;

	UI_clear_answers();
	var0000 = UI_is_pc_female();
	RAYMUNDO->say("Raymundo hands you a script and you take center stage. The lights feel hot on your face. Although you are a little nervous, you clear your throat and begin to read the lines on the page.");
	converse (["-I- am the Avatar!", "I -am- the Avatar!", "I am -the- Avatar!", "I am the -Avatar-!"]) {
		default:
			say("\"No, no, no! That is all wrong! Thou art the 'Avatar'! Thou must feel like the Avatar! Thou must sound like the Avatar! Thou must -be- the Avatar! Try it again.\"");
			fallthrough;

		always:
			UI_clear_answers();
			add(["-I- am the Avatar!", "I -am- the Avatar!", "I am -the- Avatar!", "I am the -Avatar-!"]);

		default:
			say("\"Better... better... but I think perhaps thou dost need a prop.\"");
			fallthrough;

		always:
			UI_clear_answers();
			var0001 = Func08F7(JESSE);
			if (var0001) {
				say("\"Jesse, hand our friend thy staff.\"*");
				if (var0000) {
					JESSE->show_npc_face(0x0001);
					say("\"Here it is, milady.\"*");
					JESSE->hide();
				} else {
					JESSE->say("\"Here it is, milord.\"*");
					JESSE->hide();
				}
			} else {
				say("Raymundo hands you a staff.");
			}
			RAYMUNDO->say("With the staff in hand, you try the lines once more. This time you feel like a true actor. The lines flow from your lips as if the Avatar were really saying them. You feel an excitement you have never before felt. You like this 'acting' thing. You crave more! You anxiously await Raymundo's critique...");
			say("Raymundo takes the staff and says, \"Hmmmm. Yes, that's fine. I thank thee. Fine. We shall be in touch, yes? Thank thee for coming in. If thou hast a resume, just leave it by the door, yes? Thank thee.\"*");
			Func0911(0x0014);
			abort;
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func090B 0x90B (var var0000);
extern var Func090E 0x90E ();
extern void Func091D 0x91D (var var0000, var var0001);
extern void Func091E 0x91E (var var0000, var var0001);
extern void Func091F 0x91F (var var0000, var var0001);

void Func08D2 0x8D2 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0003 = Func0909();
	say("\"Dost thou want mine aid?\"");
	UI_push_answers();
	var0004 = Func090A();
	do {
		if (var0004) {
			say("\"What is thy need?\"");
			var0005 = ["healing", "curing", "resurrection"];
			var0006 = Func090B(var0005);
			if ((var0006 == "healing") || (var0006 == "curing")) {
				if (var0006 == "healing") {
					var0007 = "healed";
					var0008 = var0000;
				}
				if (var0006 == "curing") {
					var0007 = "cured";
					var0008 = var0001;
				}
				say("\"Who needs to be ",
					var0007,
					"?\"");
				var0009 = Func090E();
				if (var0009 == 0x0000) {
					say("\"None of you seem to require mine aid.\"~~She appears pleased.");
					break;
				}
			}
			if (var0006 == "resurrection") {
				var000A = UI_get_avatar_ref();
				var000B = var000A->find_nearest(0x0190, 0x0019);
				var0008 = var0002;
				if (var000B == 0x0000) {
					var000B = var000A->find_nearest(0x019E, 0x0019);
					if (var000B == 0x0000) {
						say("\"I am sorry, but thou hast not presented anyone to me who requires mine assistance. If there is someone who truly needs my skills, I must have a closer look.\"");
						break;
					}
				}
			}
			say("\"I must charge thee ",
				var0008,
				" gold. Is this price agreeable?\"");
			var000C = Func090A();
			if (var000C) {
				var000D = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var000D >= var0008) {
					if (var0006 == "healing") {
						Func091D(var0009, var0008);
					} else if (var0006 == "curing") {
						Func091E(var0009, var0008);
					} else if (var0006 == "resurrection") {
						Func091F(var000B, var0008);
					}
				} else {
					say("\"I am sorry, ",
						var0003,
						", but thou dost not have enough gold. Perhaps, I will be able to aid thee next time.\"");
				}
			} else {
				say("\"Then I cannot help thee, ",
					var0003,
					". I am truly sorry, but my fees are set.\"");
			}
		} else {
			say("\"I am glad of that, ",
				var0003,
				". I am happy to help those in need, but I would be far happier if there were never a need!\"");
		}
	} while (false);
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08D3 0x8D3 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "dagger", "spear", "morning star", "mace", "sword", "two-handed sword", "halberd"];
	var0003 = [0x0000, 0x0252, 0x0250, 0x0254, 0x0293, 0x0257, 0x025A, 0x025B];
	var0004 = [0x0000, 0x000C, 0x0019, 0x0019, 0x0014, 0x0041, 0x00AF, 0x00C8];
	var0005 = "a ";
	var0006 = 0x0000;
	var0007 = "";
	var0008 = 0x0001;
	var0009 = FRAME_ANY;
	say("\"What weapon wouldst thou like to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"I completely understand, ",
				var0000,
				". Ever since the Britannian Tax Council set such outrageous taxes, prices have risen throughout the land.\"");
			var0001 = false;
		} else {
			var000B = Func091B(var0005, var0002[var000A], var0006, var0004[var000A], var0007);
			var000C = 0x0000;
			say("\"^",
				var000B,
				".\" Is this price acceptable to thee?");
			var000D = Func090A();
			if (var000D) {
				var000C = Func08F8(var0003[var000A], var0009, var0008, var0004[var000A], 0x0000, 0x0001, true);
			}
			if (var000C == 0x0001) {
				say("\"Done!\"");
			} else if (var000C == 0x0002) {
				say("\"I am sorry, ",
					var0000,
					", but not even I could carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou hast not enough gold for that!\"");
			}
			say("\"Dost thou want for anything else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08D4 0x8D4 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "greaves", "gauntlets", "buckler", "curved heater", "spiked shield", "great helm", "plate leggings", "gorget"];
	var0003 = [0x0000, 0x0161, 0x0244, 0x021F, 0x0221, 0x0242, 0x021D, 0x0240, 0x024A];
	var0004 = [0x0000, 0x0028, 0x0012, 0x0012, 0x0023, 0x0016, 0x0096, 0x00A0, 0x00AF, 0x001E];
	var0005 = ["", "", "", "a ", "a ", "a ", "a ", "", "a "];
	var0006 = [0x0000, 0x0001, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0000];
	var0007 = ["", " per pair", " per pair", "", "", "", "", " per pair", ""];
	var0008 = FRAME_ANY;
	var0009 = 0x0001;
	say("\"What form of protection wouldst thou like to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Very well.\"");
			var0001 = false;
		} else {
			var000B = Func091B(var0005[var000A], var0002[var000A], var0006[var000A], var0004[var000A], var0007[var000A]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Art thou still interested?\"");
			var000D = Func090A();
			if (var000D) {
				var000C = Func08F8(var0003[var000A], var0008, var0009, var0004[var000A], 0x0000, 0x0001, true);
			}
			if (var000C == 0x0001) {
				say("\"Deal!\"");
			} else if (var000C == 0x0002) {
				say("\"I am sorry, ",
					var0000,
					", not even I could carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou hast not enough gold for that!\"");
			}
			say("\"Dost thou want for anything else?\"");
			var0001 = Func090A();
		}
	}
	UI_pop_answers();
}

void Func08D5 0x8D5 () {
	var var0000;

	if (gflags[0x003A]) {
		var0000 = "It is most fortunate that thou fell so near our shelter. Thou must have a protector watching over thee.@";
	} else {
		var0000 = "It was Elizabeth and Abraham who found thee and delivered thee to us.";
	}
	say("\"Thank goodness thou art with us again! We were all very worried over thy condition.~~\"Thou hast been unconscious for so long that we thought thou hadst lost thy life!~~",
		var0000,
		"*");
	if (!gflags[0x003A]) {
		if (!gflags[0x0087]) {
			say("\"They brought thee here along their way to Britain.\"");
		}
		if (gflags[0x0087] && (!gflags[0x0105])) {
			say("\"They brought thee here along their way to Minoc.\"");
		}
		if (gflags[0x0105] && (!gflags[0x0217])) {
			say("\"They brought thee to us as they were on their way here to Paws, but they have since left for Jhelom.\"");
			gflags[0x0217] = true;
		}
		if (gflags[0x0217] && (!gflags[0x016B])) {
			say("\"They brought thee here along their way to Jhelom.\"");
		}
		if (gflags[0x016B] && (!gflags[0x0088])) {
			say("\"They brought thee here along their way to Britain.\"");
		}
		if (gflags[0x0088] && (!gflags[0x0284])) {
			say("\"They brought thee here along their way to Vesper.\"");
		}
		if (gflags[0x0284] && (!gflags[0x01EF])) {
			say("\"They brought thee here along their way to Moonglow.\"");
		}
		if (gflags[0x01EF] && (!gflags[0x0243])) {
			say("\"They brought thee here along their way to Terfin.\"");
		}
		if (gflags[0x0243] && (!gflags[0x0264])) {
			say("\"They brought thee here along their way to the Fellowship meditation retreat near Serpent's Hold.\"");
		}
		if (gflags[0x0264] && (!gflags[0x02A8])) {
			say("\"They brought thee here along their way to Buccaneer's Den.\"");
		}
		if (gflags[0x02A8]) {
			say("\"They brought thee here and then returned to Buccaneer's Den.\"");
		}
	}
	if (gflags[0x0026]) {
		say("\"It is truly mysterious how this continues to happen to thee!\"");
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func08D6 0x8D6 () {
	var var0000;
	var var0001;

	var0000 = Func0909();
	var0001 = Func08F7(TRENT);
	if (!var0001) {
		say("\"Where, oh where has my dear husband gone. I cannot stand to be away from him!\"*");
		abort;
	}
	say("As far as you can tell, the couple haven't released their embrace since they were first reunited, and they show no sign of doing so at any time in the near future.");
	converse ("bye") {
		case "sacrifice" (remove):
			if (!gflags[0x019D]) {
				TRENT->show_npc_face(0x0001);
				say("\"No, ",
					var0000,
					". She is my life. If thou takest her, thou takest mine heart.\" Trent holds on tightly to his wife.");
				gflags[0x019D] = true;
				TRENT->hide();
				ROWENA->show_npc_face(0x0001);
			} else {
				say("\"I cannot leave my lord like this. Surely thou canst understand, ",
					var0000,
					".\"");
			}
			fallthrough;

		case "bye":
			say("The couple continue staring into one another's eyes as if to make up for all of the years they lost.*");
			abort;
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func090A 0x90A ();

void Func08D7 0x8D7 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	var0000 = Func0909();
	var0001 = UI_get_party_list();
	var0002 = ROWENA->get_npc_object();
	if (var0002 in var0001) {
		var0003 = Func08F7(TRENT);
		if (var0003) {
			ROWENA->remove_from_party();
			say("The starcrossed lovers rush into each other's ghostly embrace. For a time it's hard to see where one spirit ends and the other begins, then the two slowly turn to face you. \"Thou hast done so much for us, I hope that in helping us, thou hast been assisted in thine own quest.\" Rowena performs a curtsey then turns to regard her handsome husband.*");
			ROWENA->get_npc_object()->set_schedule_type(WAIT);
			gflags[0x01A6] = true;
			abort;
		}
		say("\"How can I help thee, ",
			var0000,
			"? I must get to Trent quickly.\" She looks impatient to be with her husband.");
		converse (["Trent", "bye"]) {
			case "Trent":
				say("Her face lights up as you say her husband's name. \"He is the town smith. He hand crafted that music box thou didst use to awaken me from Horance's dark power.\"");
				remove("Trent");
				fallthrough;

			case "sacrifice":
				say("\"I cannot do that to my poor Trent, at least not without seeing him one more time.\" She shakes her head in negation.");
				gflags[0x019D] = true;
				fallthrough;

			case "bye":
				say("\"Yes, we must be getting to the smithy. Trent will be worrying about me.\"*");
				abort;
		}
	} else {
		say("\"This place is horrible. Wouldst thou be so kind as to take me to mine husband, Trent? He has a tendency to worry about me.\"");
		var0004 = Func090A();
		if (var0004) {
			var0005 = false;
			say("Rowena smiles radiantly, \"Thank thee, ",
				var0000,
				". Thy spirit is a generous one, indeed.\"*");
			var0006 = 0x0000;
			var0001 = UI_get_party_list();
			for (var0009 in var0001 with var0007 to var0008) {
				var0006 += 0x0001;
			}
			if (var0006 < 0x0008) {
				say("She steps in line and motions for you to lead on.*");
				ROWENA->add_to_party();
				var0005 = true;
				abort;
			}
			say("\"Thou hast too many people in thy party at the moment for me to travel with thee.\"");
			abort;
		}
		say("\"Then I shall wait here for one of virtue who would safeguard my well being, and help me to return to mine husband.\" She seems distanced as she turns away from you.*");
		abort;
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);
extern var Func0907 0x907 (var var0000);

void Func08D8 0x8D8 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = UI_is_pc_female();
	var0001 = Func0909();
	if (!gflags[0x01B8]) {
		ROWENA->say("The beautiful ghost looks through you with a slack look. Nothing\tyou do seems to attract her attention.*");
		gflags[0x01A7] = false;
		abort;
	}
	if (!gflags[0x01A9]) {
		var0002 = Func08F7(HORANCE);
		if (var0002) {
			say("The music of the little box makes Rowena turn her head in your direction. She blinks several times as if waking from a dream, or, in this case, a nightmare. When she sees the Liche, she pretends to be enthralled, but as soon as he is no longer looking in her direction, she motions for you to come closer.");
		} else {
			say("The music of the little box makes Rowena turn her head in your direction. She blinks several times as if waking from a dream, or, in this case, a nightmare.");
		}
		say("\"I am in control of my mind for the time being, but I know not for how long. Tell me what has transpired in the town outside.\" You relay to her what you know of the events you've heard in town.");
		if (gflags[0x01C7]) {
			say("\"My poor Trent. I cannot bear to think that he's become so hurt that he would forget our love.\" She wrings her hands in sorrow and notices something on one of them.");
		} else {
			say("\"And what of my poor Trent? He must be heartsick. I must find a way to get a message to him.\" Something on her hand sparkles brilliantly.");
		}
		say("\"Please, ",
			var0001,
			", wouldst thou take this ring to him and tell him that I still love him. Mayhaps it will restore him to the beloved Trent I knew.\"");
		var0003 = UI_create_new_object(0x0127);
		if (Func0907(AVATAR->get_npc_object())) {
			say("She takes a ring from her slender finger and places it in your hand. You expect it to pass right through, but it rests neatly in your palm.");
		} else {
			var0004 = UI_update_last_created(AVATAR->get_object_position());
			say("She takes a ring from her slender finger and places it in your hand. You expect it to pass right through, and it does. Fortunately, it falls to the floor, softly ringing as it striks the stones.");
		}
		if (var0000) {
			say("\"I thank thee, kind lady. I know not how to repay thee.\"");
		} else {
			say("\"I thank thee, kind sir. I know not how to repay thee.\"");
		}
		say("Rowena's eyes begin to look a little glassy and she blinks slowly as if entering a deep trance.");
		gflags[0x01A9] = true;
	}
	say("She blinks slowly. \"What beautiful music. My Lord... Horance, once gave me a music box like that one.\" Rowena turns away, distracted.*");
	abort;
}

void Func08D9 0x8D9 () {
	if (!gflags[0x01C9]) {
		say("The beautiful ghost appears to be incapable of responding to you at the current time, or in fact anyone else for that matter.*");
		abort;
	}
	say("Rowena appears to be incapable of responding to you at the current time, or in fact anyone else for that matter.*");
	abort;
}

extern var Func0909 0x909 ();

void Func08DA 0x8DA () {
	var var0000;

	var0000 = Func0909();
	say("The lovely ghost holds up her hand as you begin to speak, \"Please, ",
		var0000,
		", forgive me, I am not feeling very well right now. Come back later and mayhaps I'll feel more disposed to conversation.\"*");
	abort;
}

extern var Func090C 0x90C (var var0000);
extern var Func0923 0x923 (var var0000, var var0001);
extern var Func090A 0x90A ();

void Func08DB 0x8DB () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	UI_push_answers();
	var0000 = true;
	var0001 = [0x0019, 0x002D, 0x0041, 0x0055, 0x0073, 0x0087, 0x009B, 0x00B9];
	while (var0000) {
		say("\"In which circle dost thou wish to study?\"");
		var0002 = Func090C(["none", "First", "Second", "Third", "Fourth", "Fifth", "Sixth", "Seventh", "Eighth"]);
		var0002 -= 0x0001;
		if (var0002 == 0x0000) {
			break;
		}
		if (var0002 == 0x0001) {
			var0003 = ["nothing", "Cure", "Detect Trap", "Light", "Awaken All"];
			var0004 = [SPELL_NONE, SPELL_CURE, SPELL_DETECT_TRAP, SPELL_LIGHT, SPELL_AWAKEN_ALL];
		} else if (var0002 == 0x0002) {
			var0003 = ["nothing", "Destroy Trap", "Fire Blast", "Great Light", "Telekinesis"];
			var0004 = [SPELL_NONE, SPELL_DESTROY_TRAP, SPELL_FIRE_BLAST, SPELL_GREAT_LIGHT, SPELL_TELEKINESIS];
		} else if (var0002 == 0x0003) {
			var0003 = ["nothing", "Curse", "Heal", "Paralyze", "Poison"];
			var0004 = [SPELL_NONE, SPELL_CURSE, SPELL_HEAL, SPELL_PARALYZE, SPELL_POISON];
		} else if (var0002 == 0x0004) {
			var0003 = ["nothing", "Lightning", "Mark", "Recall", "Seance"];
			var0004 = [SPELL_NONE, SPELL_LIGHTNING, SPELL_MARK, SPELL_RECALL, SPELL_SEANCE];
		} else if (var0002 == 0x0005) {
			var0003 = ["nothing", "Charm", "Dance", "Explosion", "Great Heal"];
			var0004 = [SPELL_NONE, SPELL_CHARM, SPELL_DANCE, SPELL_EXPLOSION, SPELL_GREAT_HEAL];
		} else if (var0002 == 0x0006) {
			var0003 = ["nothing", "Clone", "Magic Storm", "Poison Field", "Sleep Field"];
			var0004 = [SPELL_NONE, SPELL_CLONE, SPELL_MAGIC_STORM, SPELL_POISON_FIELD, SPELL_SLEEP_FIELD];
		} else if (var0002 == 0x0007) {
			var0003 = ["nothing", "Create Gold", "Delayed Blast", "Mass Charm", "Restoration"];
			var0004 = [SPELL_NONE, SPELL_CREATE_GOLD, SPELL_DELAYED_BLAST, SPELL_MASS_CHARM, SPELL_RESTORATION];
		} else {
			var0003 = ["nothing", "Armageddon", "Resurrect", "Summon", "Swordstrike"];
			var0004 = [SPELL_NONE, SPELL_ARMAGEDDON, SPELL_RESURRECT, SPELL_SUMMON, SPELL_SWORD_STRIKE];
		}
		say("\"What spell wouldst thou like to buy?\"");
		var0005 = Func090C(var0003);
		if (var0005 == 0x0001) {
			say("\"Fine.\"");
			break;
		}
		var0006 = var0004[var0005];
		var0007 = var0001[var0002];
		var0008 = var0003[var0005];
		say("\"The ",
			var0008,
			" spell will cost ",
			var0007,
			" gold.\"");
		var0009 = Func0923(var0006, var0007);
		if (var0009 == 0x0001) {
			say("\"Done!\"");
		} else if (var0009 == 0x0002) {
			say("\"Thou dost not have a spellbook.\"");
			var0000 = false;
			break;
		} else if (var0009 == 0x0003) {
			say("\"Thou dost not have enough gold for that!\"");
		} else if (var0009 == 0x0004) {
			say("\"Thou dost already have that spell!\"");
		}
		say("\"Wouldst thou like another spell?\"");
		var0000 = Func090A();
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08DC 0x8DC () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "Ginseng", "Blood Moss", "Sulfurous Ash", "Mandrake Root", "Black Pearl"];
	var0002 = [0x0000, 0x034A, 0x034A, 0x034A, 0x034A, 0x034A];
	var0003 = [FRAME_ANY, 0x0005, 0x0001, 0x0007, 0x0003, 0x0000];
	var0004 = [0x0000, 0x0002, 0x0003, 0x0004, 0x0005, 0x0005];
	var0005 = "";
	var0006 = 0x0000;
	var0007 = "";
	var0008 = 0x0001;
	say("\"What reagent wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005, var0001[var0009], var0006, var0004[var0009], var0007);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Art thou willing to pay that much?\"");
			var000C = Func090A();
			if (var000C) {
				say("\"How many wouldst thou like?\"");
				var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0014, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

void Func08DD 0x8DD () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	halt_scheduled();
	var0000 = find_nearby(SHAPE_ANY, 0x0028, MASK_NPC2);
	var0001 = 0x0006;
	if (!AVATAR->get_item_flag(ON_MOVING_BARGE)) {
		for (var0004 in var0000 with var0002 to var0003) {
			var0005 = 0x0000;
			var0006 = "";
			while (var0005 < var0001) {
				var0007 = UI_die_roll(0x0000, 0x0008);
				if (var0007 == 0x0000) {
					var0008 = new script {
						actor frame kneeling;
						actor frame bowing;
						actor frame standing;
					};
					var0006 = [var0006, var0008];
				}
				if (var0007 == 0x0001) {
					var0008 = new script {
						actor frame kneeling;
						actor frame standing;
						actor frame standing;
					};
					var0006 = [var0006, var0008];
				}
				if (var0007 == 0x0002) {
					var0008 = new script {
						actor frame bowing;
						actor frame sleeping;
						actor frame standing;
					};
					var0006 = [var0006, var0008];
				}
				if (var0007 == 0x0003) {
					var0008 = new script {
						actor frame standing;
						actor frame standing;
						actor frame standing;
					};
					var0006 = [var0006, var0008];
				}
				if (var0007 == 0x0004) {
					var0008 = new script {
						actor frame kneeling;
						actor frame ready;
						actor frame standing;
					};
					var0006 = [var0006, var0008];
				}
				if (var0007 == 0x0005) {
					var0008 = new script {
						actor frame ready;
						actor frame kneeling;
						actor frame standing;
					};
					var0006 = [var0006, var0008];
				}
				if (var0007 == 0x0006) {
					var0009 = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
					var0008 = new script {
						face var0009;
						actor frame bowing;
						actor frame standing;
					};
					var0006 = [var0006, var0008];
				}
				if (var0007 == 0x0007) {
					var0009 = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
					var0008 = new script {
						face var0009;
						actor frame kneeling;
						actor frame standing;
					};
					var0006 = [var0006, var0008];
				}
				if (var0007 == 0x0008) {
					var0009 = FACE_NORTH + (UI_die_roll(0x0000, 0x0003) * 0x0002);
					var0008 = new script {
						face var0009;
						actor frame ready;
						actor frame standing;
					};
					var0006 = [var0006, var0008];
				}
				var0005 += 0x0001;
			}
			var0004->halt_scheduled();
			var000A = var0004->run_script(var0006);
		}
	}
	UI_earthquake(var0001 * 0x0003);
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08DE 0x8DE () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "cheese", "mead", "grapes", "silverleaf", "bread", "ale", "wine"];
	var0003 = [0x0000, 0x0179, 0x0268, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x001A, 0x0000, 0x0013, 0x001F, 0x0001, 0x0003, 0x0005];
	var0005 = [0x0000, 0x0007, 0x000A, 0x0002, 0x0023, 0x0003, 0x0003, 0x0005];
	var0006 = "";
	var0007 = [0x0000, 0x0000, 0x0000, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000];
	var0008 = ["", " for a wheel", " for a bottle", " for a bunch", " for one portion", " for a loaf", " for a bottle", " for a bottle"];
	var0009 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Fine.\"");
			var0001 = false;
			continue;
		}
		do {
			if (var000A == 0x0005) {
				if (gflags[0x012B]) {
					say("\"I am all out of Silverleaf, ",
						var0000,
						". For some reason, there is a shortage, and I cannot get any more.\"");
					break;
				}
			}
			var000B = Func091B(var0006, var0002[var000A], var0007[var000A], var0005[var000A], var0008[var000A]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" Dost thou still want it?\"");
			var000D = Func090A();
			if (var000D) {
				if (var0003[var000A] == 0x0179) {
					say("\"How many wouldst thou like?\"");
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009, var0005[var000A], 0x0014, 0x0001, true);
				} else {
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009, var0005[var000A], 0x0000, 0x0001, true);
				}
			}
			if (var000C == 0x0001) {
				say("\"Done! Eat hearty!\"");
			} else if (var000C == 0x0002) {
				say("\"No one could possibly carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
		} while (false);
		say("\"Wouldst thou like to purchase anything else?\"");
		var0001 = Func090A();
	}
	UI_pop_answers();
}

extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func08DF 0x8DF () {
	var var0000;
	var var0001;

	SALAMON->say("The ape-like creature slowly and cautiously walks up to you. He, or she, sniffs for a moment, and then points to the honey you are carrying.");
	converse (["Want honey?", "Go away!"]) {
		case "Want honey?":
			say("\"Honey will be given by you to me?\"");
			var0000 = Func090A();
			if (var0000) {
				var0001 = UI_remove_party_items(0x0001, 0x0304, QUALITY_ANY, FRAME_ANY, true);
				say("\"You are thanked.\"");
				Func0911(0x000A);
				gflags[0x0154] = true;
			} else {
				say("\"`Goodbye' is said to you.\"*");
				abort;
			}
			remove(["Want honey?", "Go away!"]);
			fallthrough;

		case "Go away!":
			say("It does.*");
			abort;
	}
}

extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func08E0 0x8E0 () {
	var var0000;
	var var0001;

	SARALEK->say("The ape-like creature slowly and cautiously walks up to you. He, or she, sniffs for a moment, and then points to the honey you are carrying.");
	converse (["Want honey?", "Go away!"]) {
		case "Want honey?":
			say("\"Honey will be given by you to me?\"");
			var0000 = Func090A();
			if (var0000) {
				var0001 = UI_remove_party_items(0x0001, 0x0304, QUALITY_ANY, FRAME_ANY, true);
				say("\"You are thanked.\"");
				Func0911(0x000A);
				gflags[0x0154] = true;
			} else {
				say("\"`Goodbye' is said to you.\"*");
				abort;
			}
			remove(["Want honey?", "Go away!"]);
			fallthrough;

		case "Go away!":
			say("It does.*");
			abort;
	}
}

extern var Func090C 0x90C (var var0000);
extern var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08E1 0x8E1 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "gold horncaps", "gold chain", "gold earring", "gold clawring", "black potion", "white potion"];
	var0002 = [0x0000, 0x03A9, 0x03A9, 0x03A9, 0x03A9, 0x0154, 0x0154];
	var0003 = [FRAME_ANY, 0x0002, 0x0004, 0x0005, 0x0006, 0x0007, 0x0006];
	var0004 = [0x0000, 0x001E, 0x0014, 0x0005, 0x000A, 0x003C, 0x006E];
	var0005 = ["", "", "a ", "a ", "a ", "a ", "a "];
	var0006 = [0x0000, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000];
	var0007 = ["", " per pair", "", "", "", "", ""];
	var0008 = 0x0001;
	say("\"To want to buy what item?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"To be acceptable.\"");
			var0000 = false;
		} else {
			var000A = Func091C(var0005[var0009], var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				". To be an acceptable price?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0000, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"To be agreed!\"");
			} else if (var000B == 0x0002) {
				say("\"To be unable to carry that much!\" He shakes his head.");
			} else if (var000B == 0x0003) {
				say("\"To have not enough gold for that!\"");
			}
			say("\"To desire another item?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08E2 0x8E2 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "blood moss", "garlic", "ginseng", "sulfurous ash"];
	var0002 = [0x0000, 0x034A, 0x034A, 0x034A, 0x034A];
	var0003 = [FRAME_ANY, 0x0001, 0x0004, 0x0005, 0x0007];
	var0004 = [0x0000, 0x0002, 0x0001, 0x0001, 0x0003];
	var0005 = "";
	var0006 = 0x0000;
	var0007 = ["", " per spell use", " per use", " per use", " per use"];
	var0008 = 0x0001;
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"To be acceptable.\"");
			var0000 = false;
		} else {
			var000A = Func091C(var0005, var0001[var0009], var0006, var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				". To agree to this price?'");
			var000C = Func090A();
			if (var000C) {
				say("\"To want to purchase how many?\"");
				var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0014, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"To be agreed!\"");
			} else if (var000B == 0x0002) {
				say("\"To be unable to carry that much!\" He shakes his head.");
			} else if (var000B == 0x0003) {
				say("\"To have not enough gold for that!\"");
			}
			say("\"To desire another item?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func08E3 0x8E3 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "gem", "gold ring", "wedding ring", "ankh"];
	var0002 = [0x0000, 0x02F8, 0x0280, 0x0280, 0x03BB];
	var0003 = [FRAME_ANY, FRAME_ANY, 0x0000, 0x0001, 0x0000];
	var0004 = [0x0000, 0x004B, 0x0064, 0x0096, 0x00C8];
	var0005 = "a ";
	var0006 = 0x0000;
	var0007 = "";
	var0008 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005, var0001[var0009], var0006, var0004[var0009], var0007);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Art thou willing to pay my price?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0000, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

void Func08E4 0x8E4 () {
	var var0000;

	var0000 = 0x0001;
}

extern var Func0921 0x921 (var var0000);
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0915 0x915 (var var0000, var var0001);

void Func08E5 0x8E5 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	var0002 = Func0921(SENTRI->get_npc_object());
	if ((var0002 == JULIA) || ((var0002 == JAANA) || (var0002 == KATRINA))) {
		var0003 = true;
	} else {
		var0003 = false;
	}
	do {
		if (var0002 != 0x0000) {
			var0004 = 0x0001;
			var0005 = Func0922(var0000, var0001, var0002, var0004);
			if (var0005 == 0x0000) {
				say("\"I am sorry, but thou dost not have enough practical experience to train at this time. Return another day after thou hast slain a few more creatures.\"");
				return;
			}
			if (var0005 == 0x0001) {
				var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				if (var0006 < var0001) {
					say("\"I regret that thou dost not seem to have enough gold to train here. Mayhaps at another time, when thy fortunes are more prosperous.\"");
					return;
				}
			}
			if (var0005 == 0x0002) {
				say("\"Thou art already as proficient as I! I am afraid that thou cannot be trained further by me!\"");
				return;
			}
			var0007 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			var0008 = var0002->get_npc_name();
			if (var0002 == AVATAR) {
				var0008 = "you";
				var0009 = "are";
				var000A = "have";
				var000B = "you";
				var000C = "your";
				var000D = "manage";
			} else {
				if (var0003) {
					var0008 = "she";
					var000B = "her";
					var000C = "her";
				} else {
					var0008 = "he";
					var000B = "him";
					var000C = "his";
				}
				var0009 = "is";
				var000A = "has";
				var000D = "manages";
			}
			say("\"On guard!\" Sentri cries as he draws his sword. ^",
				var0008,
				" ",
				var0009,
				" forced to respond with the most easily readied weapon ",
				var0008,
				" ",
				var000A,
				". Without a word, Sentri advances upon ",
				var000B,
				", swinging his blade in a seemingly wild, yet entirely controlled manner. ^",
				var0008,
				" ",
				var0009,
				" forced to block his blows to the best of ",
				var000C,
				" ability. Luckily, Sentri stops just short of striking ",
				var000B,
				", which he is often able to do. Slowly but surely, over the course of the training session, ",
				var000C,
				" blocking improves and ",
				var0008,
				" ",
				var000D,
				" to get in a few thrusts of ",
				var000C,
				" own. ^",
				var000C,
				" agility improves, and the improvement is tangibly perceptible.");
			say("\"I enjoyed that!\" Sentri exclaims after it is all over.*");
			var000E = Func0910(var0002, DEXTERITY);
			if (var000E < 0x001E) {
				Func0915(var0002, 0x0001);
			}
		}
	} while (false);
}

void Func08E6 0x8E6 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	do {
		var0001 = var0000->get_cont_items(SHAPE_ANY, QUALITY_ANY, FRAME_ANY);
		if (!var0001) {
			break;
		}
		for (var0004 in var0001 with var0002 to var0003) {
			var0004->remove_item();
		}
	} while (true);
	var0000->remove_item();
}

var Func08E7 0x8E7 () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = AVATAR->get_npc_object()->get_object_position();
	var0001 = [0x0790, 0x0570];
	var0002 = [0x09BF, 0x06CF];
	if (var0000[0x0001] >= var0001[0x0001]) {
		if (var0000[0x0002] >= var0001[0x0002]) {
			if (var0000[0x0001] <= var0002[0x0001]) {
				if (var0000[0x0002] <= var0002[0x0002]) {
					return 0x0001;
				}
			}
		}
	}
	return 0x0000;
}

var Func08E8 0x8E8 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0001 = UI_get_party_list();
	for (var0004 in var0001 with var0002 to var0003) {
		var0005 = var0004->get_cont_items(0x03BB, QUALITY_ANY, var0000);
		if (var0005) {
			return var0005;
		}
	}
	return 0x0000;
}

var Func08E9 0x8E9 (var var0000) {
	var var0001;
	var var0002;

	var0001 = var0000->get_item_shape();
	var0002 = var0000->get_item_frame();
	if (AVATAR->is_readied(BG_WEAPON_HAND, var0001, var0002)) {
		return 0x0001;
	}
	if (AVATAR->is_readied(BG_SHIELD_HAND, var0001, var0002)) {
		return 0x0001;
	}
	if (AVATAR->is_readied(BG_BOTH_HANDS, var0001, var0002)) {
		return 0x0001;
	}
	return 0x0000;
}

var Func08EA 0x8EA (var var0000) {
	var var0001;
	var var0002;

	var0001 = var0000->get_item_shape();
	var0002 = var0000->get_item_frame();
	if (AVATAR->is_readied(BG_BACKPACK, var0001, var0002)) {
		return 0x0001;
	}
	return 0x0000;
}

void Func08EB 0x8EB (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;
	var var0013;
	var var0014;

	var0003 = 0x0004;
	var0004 = 0x0000;
	var0005 = get_object_position();
	var0006 = var0005;
	if (var0001 == 0x009A) {
		var0007 = find_nearby(ANY_SHAPE, 0x0000, MASK_NONE);
		for (var000A in var0007 with var0008 to var0009) {
			var000B = var000A->get_object_position();
			if (var000B[0x0003] < 0x0005) {
				var000C = var000A->set_last_created();
				var000D = UI_die_roll(0x0001, 0x0003);
				if (var000D == 0x0001) {
					var000B[0x0001] -= 0x0001;
				}
				if (var000D == 0x0002) {
					var000B[0x0002] -= 0x0001;
				}
				if (var000D == 0x0003) {
					var000B[0x0001] -= 0x0001;
					var000B[0x0002] -= 0x0001;
				}
				var000C = UI_update_last_created(var000B);
			}
		}
	}
	if (var0001 == 0x03F7) {
		var0007 = find_nearby(ANY_SHAPE, 0x0001, MASK_NONE);
		for (var000A in var0007 with var000E to var000F) {
			var000B = var000A->get_object_position();
			if (var000B[0x0003] < 0x0005) {
				var000C = var000A->set_last_created();
				if ((var000B[0x0001] == var0005[0x0001]) && (var000B[0x0002] == var0005[0x0002])) {
					var000B[0x0001] -= 0x0002;
					var000B[0x0002] -= 0x0002;
				} else if ((var000B[0x0001] <= var0005[0x0001]) && (var000B[0x0002] <= var0005[0x0002])) {
					var000B[0x0001] -= 0x0001;
					var000B[0x0002] -= 0x0001;
				}
				var000C = UI_update_last_created(var000B);
			}
		}
	}
	if (var0001 == 0x01F8) {
		var0003 = 0x0006;
		var0004 = 0x0002;
		var0007 = find_nearby(ANY_SHAPE, 0x0003, MASK_NONE);
		for (var000A in var0007 with var0010 to var0011) {
			var000B = var000A->get_object_position();
			if ((var000B[0x0003] < 0x0005) && ((!(var000A->get_item_shape() == 0x014B)) && (!(var000A->get_item_shape() == 0x00E0)))) {
				if ((var000B[0x0001] == var0005[0x0001]) && (var000B[0x0002] == var0005[0x0002])) {
					var000B[0x0001] -= 0x0004;
					var000B[0x0002] -= 0x0004;
				} else if ((var000B[0x0001] <= var0005[0x0001]) && (var000B[0x0002] <= var0005[0x0002])) {
					var000C = var000A->set_last_created();
					var0012 = 0x0004 - var000A->get_distance(item);
					var000B[0x0001] -= var0012;
					var000B[0x0002] -= var0012;
					var000C = UI_update_last_created(var000B);
				}
			}
		}
		var0006[0x0001] = var0005[0x0001] - 0x0002;
		var0006[0x0002] = var0005[0x0002] - 0x0002;
	}
	while (!UI_is_not_blocked(var0005, var0001, var0002)) {
		var0004 += 0x0001;
		var0007 = var0006->find_nearby(ANY_SHAPE, var0004, MASK_NONE);
		for (var000A in var0007 with var0013 to var0014) {
			var000B = var000A->get_object_position();
			if ((var000B[0x0001] >= var0005[0x0001]) && ((var000B[0x0002] >= var0005[0x0002]) && (var000B[0x0003] < 0x0005))) {
				var000C = var000A->set_last_created();
				if ((var000B[0x0001] == var0005[0x0001]) || (var000B[0x0002] == var0005[0x0002])) {
					if (var000B[0x0001] == var0005[0x0001]) {
						var000B[0x0001] += 0x0001;
					}
					if (var000B[0x0002] == var0005[0x0002]) {
						var000B[0x0002] += 0x0001;
					}
				} else {
					var000B[0x0001] += 0x0001;
					var000B[0x0002] += 0x0001;
				}
				var000C = UI_update_last_created(var000B);
			}
		}
		if (var0004 == var0003) {
			break;
		}
	}
}

extern var Func08F7 0x8F7 (var var0000);

void Func08EC 0x8EC () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = Func08F7(SPARK);
	var0001 = Func08F7(IOLO);
	var0002 = Func08F7(SHAMINO);
	say("\"Hubert the Lion was haughty and vain ~And especially proud of his elegant mane. ~But conceit of this sort isn't proper at all ~And Hubert the Lion was due for a fall.");
	say("One day as he sharpened his claws on a rock ~He received a most horrible, terrible shock. ~A flaming hot spark flew up into the air, ~Came down on his head and ignited his hair.");
	say("With a roar of surprise he took off like a streak, ~Away through the jungle to Zamboozi Creek. ~He leaped in kersplash! with a shower of bubbles, ~And came bobbing up with a head full of stubbles.");
	say("At first he just stared with a wide-open mouth ~At the cloud of black smoke drifting off to the south. ~Then he felt with his paws just in back of his ears ~And he suddenly realized the worst of his fears.");
	say("'I'm ruined,' he shouted, 'oh what'll I do! ~I'd rather be dead or go live in a zoo! ~And if anyone sees me, oh what a disgrace, ~So I'd better discover a good hiding place!'");
	UI_pop_answers();
}

extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func08ED 0x8ED () {
	var var0000;
	var var0001;

	TAVENOR->say("The ape-like creature slowly and cautiously walks up to you. He, or she, sniffs for a moment, and then points to the honey you are carrying.");
	converse (["Want honey?", "Go away!"]) {
		case "Want honey?":
			say("\"Honey will be given by you to me?\"");
			var0000 = Func090A();
			if (var0000) {
				var0001 = UI_remove_party_items(0x0001, 0x0304, QUALITY_ANY, FRAME_ANY, true);
				say("\"You are thanked.\"");
				Func0911(0x000A);
				gflags[0x0154] = true;
			} else {
				say("\"`Goodbye' is said to you.\"*");
				abort;
			}
			fallthrough;

		case "Go away!":
			say("It does.*");
			abort;

		always:
			remove(["Want honey?", "Go away!"]);
	}
}

extern var Func090A 0x90A ();
extern void Func0911 0x911 (var var0000);

void Func08EE 0x8EE () {
	var var0000;
	var var0001;

	TRELLEK->say("The ape-like creature slowly and cautiously walks up to you. He, or she, sniffs for a moment, and then points to the honey you are carrying.");
	converse (["Want honey?", "Go away!"]) {
		case "Want honey?":
			say("\"Honey will be given by you to me?\"");
			var0000 = Func090A();
			if (var0000) {
				var0001 = UI_remove_party_items(0x0001, 0x0304, QUALITY_ANY, FRAME_ANY, true);
				say("\"You are thanked.\"");
				Func0911(0x000A);
				gflags[0x0154] = true;
			} else {
				say("\"`Goodbye' is said to you.\"*");
				abort;
			}
			remove(["Want honey?", "Go away!"]);
			fallthrough;

		case "Go away!":
			say("It does.*");
			abort;
	}
}

extern var Func0909 0x909 ();
extern var Func090A 0x90A ();
extern var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004);
extern void Func0617 object#(0x617) ();

void Func08EF 0x8EF () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0000 = TRENT->find_nearest(0x02EB, ON_SCREEN);
	var0001 = Func0909();
	if (!gflags[0x01C1]) {
		if (gflags[0x01A8]) {
			say("Trent paces around the burned-out remains of his shop. When he sees you return, he rushes forward, looking for his love, Rowena.");
			var0002 = UI_get_party_list();
			if (ROWENA->get_npc_object() in var0002) {
				say("The starcrossed lovers rush into each other's ghostly embrace. For a time it's hard to see where one spirit begins and the other ends. You barely make out the image of Trent replacing Rowena's ring on her finger.~~Then the two slowly turn to face you. \"Thou hast done so much for us, I hope that in helping us, thou hast been assisted in thine own quest.\" Trent bows to you then turns to regard his lovely wife.*");
				ROWENA->remove_from_party();
				ROWENA->get_npc_object()->set_schedule_type(WAIT);
				gflags[0x01A6] = true;
				abort;
			}
			say("\"How can I help thee, ",
				var0001,
				"? Is there something I have forgotten?\" He looks at you, perplexed.");
		} else if (var0000) {
			say("The large ghost continues to work, but now he whistles a sweet, sad tune as he hammers on the iron bars of the cage.");
		} else {
			say("\"Why, where has the cage gone to? 'Twas here just a moment ago, I am certain. I cannot progress until I can find the cage!\"*");
			abort;
		}
	}
	add(["What next?", "bye"]);
	if (gflags[0x01C1]) {
		add(["Soul Cage", "free"]);
	}
	converse (0) {
		case "Soul Cage":
			say("\"This is a special cage, made to fit the shape of a man. Mistress Mordra says that it will contain the Liche, Horance, once it has been lowered into his Well of Souls.\" His voice seems much softer than before.");
			remove("Soul Cage");
			fallthrough;

		case "free":
			say("\"Yes, thou wilt help me free her, wilt thou not?\" A tinge of the edge comes back to his voice.");
			var0003 = Func090A();
			if (var0003) {
				say("His grip on the haft of his hammer relaxes and he smiles with gratitude.~~\"Thou cannot know how much this means to me. I thank thee.\"");
			} else {
				say("His grip on the haft of his hammer tightens. \"See to it thou\tart quick about thy departure! If thou dost, I will assume thou hast changed thy mind!\"*");
				abort;
			}
			remove("free");
			fallthrough;

		case "What next?":
			var0004 = Func0931(PARTY, 0x0001, 0x0108, QUALITY_ANY, FRAME_ANY);
			if (gflags[0x01A8]) {
				say("\"Why, I beg thee to please help in the return my lovely Rowena to me,\" he pleads.");
			} else if (!var0004) {
				say("\"I will need a bar of iron to complete the cage. Several can be found in the town cemetery.\"");
				remove("What next?");
			} else {
				say("\"Ah, I'll need the iron bar that thou dost carry.\" He holds out his hand and takes the iron bar from you.");
				var0005 = UI_remove_party_items(0x0001, 0x0108, QUALITY_ANY, FRAME_ANY, false);
				say("\"With this, I will finish it shortly. Wait here whilst I tend to the cage.\"");
				say("\"Take the cage to Mistress Mordra and she will tell thee more about it and its use.\"");
				gflags[0x01CF] = true;
				item->Func0617();
				abort;
			}
			fallthrough;

		case "sacrifice":
			say("\"I cannot even consider that until I am reunited with my love.\" He seems very adamant about this.");
			remove("sacrifice");
			fallthrough;

		case "bye":
			say("\"Please, hurry. Every second my love must endure Horance's foul presence is like a knife in my side.\" He begins to pace about his shop.*");
			abort;
	}
}

extern var Func0909 0x909 ();
extern var Func08F7 0x8F7 (var var0000);

void Func08F0 0x8F0 () {
	var var0000;
	var var0001;

	var0000 = Func0909();
	var0001 = Func08F7(ROWENA);
	if (var0001) {
		say("The couple haven't released their embrace since they were first reunited as far as you can tell, and they show no sign of doing so any time in the near future.");
		converse ("bye") {
			case "sacrifice":
				if (!gflags[0x019E]) {
					ROWENA->show_npc_face(0x0001);
					say("\"No, ",
						var0000,
						". Wouldst thou take my beloved from me so shortly after our reunion? Another will have to perform this terrible task.\" Rowena holds on tightly to her husband.");
					gflags[0x019E] = true;
					ROWENA->hide();
					TRENT->show_npc_face(0x0001);
				} else {
					say("\"I cannot leave my lady like this. Surely thou dost understand, ",
						var0000,
						".\"");
				}
				remove("sacrifice");
				fallthrough;

			case "bye":
				say("The couple continue staring into one another's eyes as if to make up for all of the years they lost.*");
				abort;
		}
	} else {
		say("\"Why, I must again find my darling Rowena! Where could she have gone to?*");
		abort;
	}
}

var Func08F1 0x8F1 (var var0000) {
	var var0001;
	var var0002;

	var0001 = ["viper", "deceiver", "wretch", "scoundrel", "snake", "toad", "coward"];
	var0002 = var0000;
	while (var0002 == var0000) {
		var0002 = var0001[UI_die_roll(0x0001, UI_get_array_size(var0001))];
	}
	return var0002;
}

extern var Func08F1 0x8F1 (var var0000);
extern var Func090A 0x90A ();

void Func08F2 0x8F2 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	UI_push_answers();
	var0002 = false;
	var0003 = true;
	var0004 = Func08F1("");
	say("\"",
		var0001,
		"! Thou ",
		var0004,
		"!\"");
	var0005 = ["blood", "head", "life"];
	var0006 = var0005[UI_die_roll(0x0001, UI_get_array_size(var0005))];
	say("\"Shall I have my apology, or thy ",
		var0006,
		"?\"");
	var0007 = "Forgive me";
	var0008 = "Suffer my wrath";
	converse ([var0007, var0008]) {
		case var0007:
			var0004 = Func08F1("");
			say("\"Forgive thee! What might I forgive in one such as thee, ",
				var0004,
				"?\"");
			remove(var0008);
			remove(var0007);
			add(["My lie", "My deed", "My crime"]);
			fallthrough;

		case var0008:
			break;

		case "My lie":
			remove(["My lie", "My deed", "My crime"]);
			say("\"Of what lie speakest thou? Art thou not ",
				var0001,
				"?\"");
			if (Func090A()) {
				break;
			}
			var0004 = Func08F1("");
			say("\"Perhaps thou art not ",
				var0001,
				", for I have never seen the ",
				var0004,
				". Confess now thy true identity!\"");
			add(var0000);
			if (!gflags[0x0161]) {
				add("Avatar");
			}
			fallthrough;

		case "My deed":
			say("\"Speak not of thy deed! Such deeds must deeds receive to equal their merit.\"");
			break;

		case "My crime":
			say("\"Crime most foul, most horrible!\"");
			var0003 = false;
			break;

		case "Avatar" (remove):
			say("\"I doubt but thou deceivest me further. If true, thou dost shame the title. Admit now thy true name!\"");
			var0002 = true;
			gflags[0x0161] = true;
			fallthrough;

		case var0000:
			var0004 = Func08F1("");
			say("\"",
				var0000,
				"! Perhaps honesty shall lift thee above the ",
				var0004,
				" ",
				var0001,
				"...\"");
			var0002 = true;
			break;
	}
	if (!var0002) {
		var0004 = Func08F1("");
		var0009 = Func08F1(var0004);
		if (var0003) {
			say("\"^",
				var0004,
				"! ^",
				var0009,
				"! Thy soul shall wail in the catacombs of the netherworld!\"");
			TSERAMED->set_schedule_type(IN_COMBAT);
			TSERAMED->set_alignment(EVIL);
		} else {
			say("\"^",
				var0004,
				"! Fly from this place at once! I shall provide escort for thee with my bow. Return at thy peril, ",
				var0009,
				".\"");
			TSERAMED->set_schedule_type(HOUND);
			TSERAMED->set_alignment(NEUTRAL);
		}
	} else {
		say("\"I shall not take this deception lightly.\"");
		gflags[0x001D] = true;
		TSERAMED->set_alignment(NEUTRAL);
	}
	abort;
}

void Func08F3 0x8F3 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	UI_push_answers();
	var0001 = false;
	var0002 = false;
	add(["enchantment", "valor in arms", "bye"]);
	say("\"Tell me something, if thou please. Many years have passed since I first learned my woodcraft. Such craft includes skill in arms, and I must know... Does the Avatar prefer mystical enchantment to overcome enemies, or physical strength and valor in arms?\"");
	var0003 = false;
	converse (0) {
		case "enchantment":
			say("\"I have suspected it! No skill have I in such deep matters, but perchance our speech might turn to enchantment when our quest is complete.\"");
			gflags[0x015E] = true;
			goto labelFunc08F3_0157;

		case "valor in arms":
			say("\"I have often suspected it! I am honored to travel with thee. I shall watch thee diligently, for surely thou art the greatest fighter who ever lived.\"");
			say("\"When our quest is complete we shall regale each other with our exploits. Tell me, dost thou prefer hand to hand combat or ranged weaponry?\"");
			remove(["enchantment", "valor in arms"]);
			add(["hand to hand", "ranged weaponry"]);
			gflags[0x015E] = false;
			var0001 = false;
			fallthrough;

		case "hand to hand" (remove):
			var0004 = "and thou seemest man enough for such close work";
			if (UI_is_pc_female() == 0x0001) {
				var0004 = "especially in women. The women of Britannia seldom have them";
				var0002 = true;
			}
			say("\"Such weapons require strength and daring! I admire such qualities, ",
				var0004,
				".\"");
			say("\"But my preferences run to the bow. An ancient weapon, and elegant, a fine bow of Yew may bring down game sooner than a sword.\"");
			var0003 = true;
			fallthrough;

		case "ranged weaponry" (remove):
			say("\"Such is also my choice. Few are my peers in the art of archery. A keen eye and steady hand are required, and that is rare in the men of this day. Even rarer in women. Sad, that the women of Britannia should be innocent of such art!\"");
			var0002 = true;
			var0003 = true;
			fallthrough;

		always:
			if (var0002) {
				var0002 = false;
				var0005 = false;
				// Bug: this whole do...while and both nobreak statements are to
				// emulate a bug in the original usecode. This prevents the code
				// after the nobreak from ever executing, and some dialog gets
				// lost because of it.
				do {
					for (var0008 in var0000 with var0006 to var0007) {
						if (var0008->get_npc_prop(SEX_FLAG) == 1) {
							var0005 = true;
							// Bug: this was meant to go to the dead code below,
							// but the original ends up breaking from the dialog
							// entirely. The 'nobreak' blocks below emulate this
							// bug.
							break;
						}
					} nobreak {
						break;
					}
				} while (false)
				nobreak {
					break;
				}
				// Dead code
				if (var0005) {
					var0008->say("\"Take care with thy words, master woodsman.\"");
					TSERAMED->say("\"I do not mean this gracious company! Surely thou art among the elite of Britannia and a rare figure of a woman.\"");
					var0008->say("\"Thy speech does me service. Alas! Too few are the women who learn skill in arms.\"");
					var0008->hide();
				}
			}
			if (var0003) {
				goto labelFunc08F3_0157;
			}
			fallthrough;

		case "bye":
			if (!var0001) {
				say("\"Please, Avatar, I simply must know.\"");
			} else {
				abort;
			}
			var0001 = true;
			fallthrough;
	}
labelFunc08F3_0157:
	UI_pop_answers();
}

void Func08F4 0x8F4 (var var0000, var var0001) {
	var var0002;

	var0002 = "thee";
	if (var0001 > 0x0002) {
		var0002 = "the party";
	}
	if (gflags[0x015D]) {
		say("\"^",
			var0000,
			", I have weighed thine actions against thy former conduct. Now that I am travelling with ",
			var0002,
			"...");
		say("I forgive thy misrepresentation at our first meeting.\"");
		gflags[0x015D] = false;
	}
	if (UI_die_roll(0x0001, 0x0003) == 0x0001) {
		say("\"I enjoy travelling with ",
			var0002,
			".\"");
	}
	if (AVATAR->get_npc_object()->get_item_flag(INVISIBLE)) {
		say("\"Avatar! 'Tis strange to converse yet not see the speaker. Invisibility is queer magic.\"");
	}
	say("\"How may I assist ",
		var0002,
		", ",
		var0000,
		"?\"");
	add(["bees", "leave"]);
}

extern var Func090C 0x90C (var var0000);
extern var Func093C 0x93C (var var0000, var var0001);
extern var Func08F7 0x8F7 (var var0000);
extern var Func090F 0x90F (var var0000);

var Func08F5 0x8F5 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;

	UI_push_answers();
	var0002 = "nobody";
	var0003 = [];
	for (var0006 in var0001 with var0004 to var0005) {
		var0003 &= var0006->get_npc_name();
	}
	var0003 &= var0002;
	var0007 = false;
	var0008 = UI_get_array_size(var0003);
	while (var0008 > 0x0001) {
		var0009 = Func090C(var0003);
		if (var0009 == var0008) {
			break;
		}
		var000A = var0001[var0009];
		var000B = var000A->get_npc_number();
		var0001 = Func093C(var000A, var0001);
		var0003 = Func093C(var0003[var0009], var0003);
		var000C = false;
		if (var000B == IOLO) {
			say("\"Thy good health, sir. Many campaigns sit upon thy brow. It is an honor.\"");
			IOLO->say("\"Avatar, this stranger grows upon me by the moment. Surely he would be a boon travelling companion.\"");
			var000D = 0x0000;
			if (Func08F7(SHAMINO)) {
				var000D = SHAMINO;
			}
			if (Func08F7(DUPRE)) {
				var000D = DUPRE;
			}
			if (var000D != 0x0000) {
				var000D->say("\"Oh, please.\"");
				IOLO->show_npc_face(0x0000);
				var000E = Func090F(var000D);
				say("\"Hush, ",
					var000E,
					".\"");
			}
			TSERAMED->show_npc_face(0x0000);
			var000C = true;
			var0007 = true;
		}
		if (var000B == SHAMINO) {
			say("\"How art thou, Shamino? Thy woodcraft is renowned in Britannia.\"");
			SHAMINO->say("\"Renown follows those who travel with the Avatar. I thank thee.\"");
			TSERAMED->show_npc_face(0x0000);
			var000C = true;
			var0007 = true;
		}
		if (var000B == SPARK) {
			say("\"Greetings young man. How comes one so young into such company?\"");
			SPARK->say("\"I am an orphan! My father has been most cruelly murdered, mutilated in the stables of Trinsic.\"");
			TSERAMED->say("\"That is a grievous tale! But surely the time for grief is past. Thou art in the company of great companions.\"");
			SPARK->say("\"Thou speakest rightly. I shall bring my father's murderer to justice or die in the attempt.\"");
			TSERAMED->show_npc_face(0x0000);
			var000C = true;
		}
		if (!var000C) {
			var000E = Func090F(var000A);
			say("\"Greetings ",
				var000E,
				".\"");
			var000F = ["Thou art looking quite well today.", "Good health to thee.", "May good fortune be thine."];
			var0010 = var000F[UI_die_roll(0x0001, 0x0003)];
			say("\"",
				var0010,
				"\"");
			var000B->say("\"Glad to make thine aquaintance.\"");
			TSERAMED->show_npc_face(0x0000);
			var000C = true;
		}
		if (var0007 && (!gflags[0x0161])) {
			say("\"But did I hear thee say 'Avatar?' Say not that thy leader is the one -true- Avatar!\"");
			var000B->say("\"It is indeed true.\"");
			TSERAMED->say("\"'Tis an honor to meet thee, Avatar.\"");
			gflags[0x0161] = true;
		}
		var000B->hide();
		var0008 = UI_get_array_size(var0003);
	}
	UI_pop_answers();
	if (var0008 == 0x0001) {
		gflags[0x015F] = true;
	}
	return var0001;
}

var Func08F6 0x8F6 (var var0000) {
	var var0001;
	var var0002;
	var var0003;

	var0001 = var0000->get_npc_object();
	var0002 = var0001->get_npc_prop(EXPERIENCE) / 100;
	var0003 = 1;
	while (var0002 > 0) {
		var0003 += 1;
		var0002 /= 2;
	}
	return var0003;
}

var Func08F7 0x8F7 (var var0000) {
	var var0001;
	var var0002;

	var0001 = var0000->get_npc_object();
	var0002 = var0001->npc_nearby();
	if (var0001->get_item_flag(INVISIBLE)) {
		var0002 = false;
	}
	return var0002;
}

var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006) {
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	var0007 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
	if (var0004 == 0x0000) {
		var0008 = 0x0001;
	} else {
		var0008 = UI_input_numeric_value(var0005, var0004, 0x0001, 0x0001);
	}
	if (var0002 > 0x0001) {
		var0009 = var0002 * var0008;
	} else {
		var0009 = var0008;
	}
	if (var0008 == 0x0000) {
		var000A = 0x0000;
	} else if (var0007 >= (var0003 * var0008)) {
		var000B = UI_add_party_items(var0009, var0000, QUALITY_ANY, var0001, var0006);
		if (!(var000B == 0x0000)) {
			var000A = 0x0001;
			var000C = UI_remove_party_items(var0003 * var0008, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			var000D = 0x0000;
			var000E = false;
			for (var0011 in var000B with var000F to var0010) {
				var0012 = var0011->get_npc_number();
				if (!(var0012 == AVATAR)) {
					var000D += 0x0001;
					var0012->show_npc_face(0x0000);
					var000E = true;
					if (var0002 == 0x0001) {
						say("\"I will carry that.\"");
					} else if (var000D == 0x0001) {
						say("\"I will carry some.\"");
					} else {
						say("\"I will carry some, as well.\"");
					}
					var0012->hide();
				}
			}
			if (var000E) {
				UI_reset_conv_face();
			}
		} else {
			var000A = 0x0002;
		}
	} else {
		var000A = 0x0003;
	}
	return var000A;
}

var Func08F9 0x8F9 (var var0000, var var0001, var var0002) {
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0003 = [0x0001, 0x0002, 0x0003];
	for (var0006 in var0003 with var0004 to var0005) {
		if ((!(var0000[var0006] >= var0001[var0006])) || (!(var0000[var0006] <= var0002[var0006]))) {
			return false;
		}
	}
	return true;
}

extern void Func0633 object#(0x633) ();

void Func08FA 0x8FA (var var0000) {
	if ((!var0000->get_item_flag(OKAY_TO_TAKE)) && (!var0000->get_item_flag(IN_DUNGEON))) {
		UI_call_guards();
		var0000->Func0633();
	}
}

var Func08FB 0x8FB () {
	return UI_get_party_list()->get_npc_name();
}

var Func08FC 0x8FC (var var0000, var var0001) {
	var var0002;

	var0002 = var0000->get_distance(var0001);
	if (var0002 < 0x0014) {
		return true;
	}
	return 0;
}

void Func08FD 0x8FD (var var0000) {
	UI_play_sound_effect(0x004C);
	if (var0000 > 0x0006) {
		var0000 = 0x0001;
	}
	UI_flash_mouse(var0000);
}

extern var Func0900 0x900 ();
extern void Func0904 0x904 (var var0000, var var0001);

void Func08FE 0x8FE (var var0000) {
	var var0001;

	var0001 = Func0900();
	Func0904(var0001, var0000);
}

extern var Func0900 0x900 ();
extern void Func0903 0x903 (var var0000, var var0001);

void Func08FF 0x8FF (var var0000) {
	var var0001;

	var0001 = Func0900();
	Func0903(var0001, var0000);
}

extern var Func0902 0x902 ();
extern var Func0901 0x901 ();

var Func0900 0x900 () {
	if (UI_die_roll(0x0001, 0x000A) < 0x0004) {
		return Func0902();
	}
	return Func0901();
}

extern var Func093C 0x93C (var var0000, var var0001);

var Func0901 0x901 () {
	var var0000;
	var var0001;
	var var0002;

	var0000 = UI_get_party_list();
	var0000 = Func093C(AVATAR->get_npc_object(), var0000);
	var0001 = UI_get_array_size(var0000);
	if (var0001 != 0x0000) {
		var0002 = var0000[UI_get_random(var0001)]->get_npc_number();
		if (var0002->npc_nearby()) {
			return var0002;
		}
	}
	return AVATAR;
}

var Func0902 0x902 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = [IOLO, SHAMINO, DUPRE, JAANA, SENTRI, JULIA, KATRINA, SPARK, TSERAMED];
	var0001 = UI_get_party_list();
	for (var0004 in var0000 with var0002 to var0003) {
		if (var0004->get_npc_object() in var0001) {
			if (var0004->npc_nearby()) {
				return var0004;
			}
		}
	}
	return AVATAR;
}

void Func0903 0x903 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (var0000->npc_nearby()) {
		if (var0000 == AVATAR) {
			var0002 = UI_is_pc_female();
		} else {
			var0002 = 0x0000;
		}
		var0000->show_npc_face(var0002);
		if (get_item_flag(CONFUSED)) {
			say("\"Oink\"");
		} else {
			for (var0005 in var0001 with var0003 to var0004) {
				say(var0005,
					"");
			}
		}
		var0000->hide();
	}
}

extern void Func0933 0x933 (var var0000, var var0001, var var0002);

void Func0904 0x904 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	if (var0000->npc_nearby()) {
		if (get_item_flag(CONFUSED)) {
			item_say("@Oink@");
		} else {
			var0002 = 0x0000;
			for (var0005 in var0001 with var0003 to var0004) {
				Func0933(var0000, var0005, var0002);
				var0002 += 0x0011;
			}
		}
	}
}

void Func0905 0x905 (var var0000) {
	var var0001;

	var0000->halt_scheduled();
	set_light(true);
	UI_set_time_palette();
	var0001 = script var0000 after 50 ticks {
		nohalt;
		call Func0600;
	};
}

var Func0906 0x906 () {
	if (UI_get_weather() == SPARKLE) {
		return false;
	}
	return true;
}

var Func0907 0x907 (var var0000) {
	return var0000->get_npc_object()->give_last_created();
}

var Func0908 0x908 () {
	return UI_get_avatar_ref()->get_npc_name();
}

var Func0909 0x909 () {
	if (UI_is_pc_female() == 0x0000) {
		return "milord";
	}
	return "milady";
}

var Func090A 0x90A () {
	UI_push_answers();
	converse (["Yes", "No"]) {
		case "Yes":
			UI_pop_answers();
			return true;

		case "No":
			UI_pop_answers();
			return false;
	}
	return 0;
}

var Func090B 0x90B (var var0000) {
	var var0001;

	UI_push_answers();
	add(var0000);
	var0001 = UI_select_from_menu();
	UI_pop_answers();
	return var0001;
}

var Func090C 0x90C (var var0000) {
	var var0001;

	UI_push_answers();
	add(var0000);
	var0001 = UI_select_from_menu2();
	UI_pop_answers();
	return var0001;
}

extern var Func08FB 0x8FB ();
extern var Func090C 0x90C (var var0000);

var Func090D 0x90D () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = Func08FB();
	var0001 = UI_get_party_list();
	var0002 = [INVALID_NPC, var0001];
	var0003 = Func090C(["Nobody", var0000]);
	var0004 = var0002[var0003];
	if (var0004 == 0x0000) {
		return 0x0000;
	}
	return var0004->get_npc_number();
}

extern var Func090C 0x90C (var var0000);

var Func090E 0x90E () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0000 = UI_get_party_list2()->get_npc_name();
	var0001 = UI_get_party_list2();
	var0002 = [INVALID_NPC, var0001];
	var0003 = Func090C(["Nobody", var0000]);
	var0004 = var0002[var0003];
	if (var0004 == 0x0000) {
		return 0x0000;
	}
	return var0004->get_npc_number();
}

var Func090F 0x90F (var var0000) {
	return var0000->get_npc_object()->get_npc_name();
}

var Func0910 0x910 (var var0000, var var0001) {
	return var0000->get_npc_object()->get_npc_prop(var0001);
}

void Func0911 0x911 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0001 = UI_get_party_list();
	for (var0004 in var0001 with var0002 to var0003) {
		var0005 = var0004->set_npc_prop(EXPERIENCE, var0000);
	}
}

void Func0912 0x912 (var var0000, var var0001, var var0002) {
	var var0003;

	var0003 = var0000->get_npc_object()->set_npc_prop(var0001, var0002);
}

var Func0913 0x913 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = 0x0000;
	for (var0005 in var0001 with var0003 to var0004) {
		var0002 += 0x0001;
		if (var0000 == var0005) {
			return var0002;
		}
	}
	return 0x0000;
}

extern void Func0912 0x912 (var var0000, var var0001, var var0002);

void Func0914 0x914 (var var0000, var var0001) {
	var var0002;

	var0002 = 0x0000;
	while (var0002 < var0001) {
		Func0912(var0000, STRENGTH, 1);
		Func0912(var0000, HEALTH, 1);
		Func0912(var0000, TRAINING, -1);
		var0002 += 0x0001;
	}
}

extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0912 0x912 (var var0000, var var0001, var var0002);

void Func0915 0x915 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0002 = 0x0000;
	while (var0002 < var0001) {
		var0003 = Func0910(var0000, DEXTERITY);
		Func0912(var0000, DEXTERITY, 1);
		var0004 = var0003 + 1;
		var0005 = Func0910(var0000, COMBAT);
		var0006 = ((var0004 * var0005) + (var0003 - 1)) / var0003;
		Func0912(var0000, COMBAT, var0006 - var0005);
		Func0912(var0000, TRAINING, -1);
		var0002 += 0x0001;
	}
}

extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0912 0x912 (var var0000, var var0001, var var0002);

void Func0916 0x916 (var var0000, var var0001) {
	var var0002;
	var var0003;

	var0002 = 0;

	while (var0002 < var0001) {
		var0003 = Func0910(var0000, INTELLIGENCE);
		Func0912(var0000, INTELLIGENCE, 1);
		Func0912(var0000, TRAINING, -1);
		var0002 += 1;
	}
}

extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0912 0x912 (var var0000, var var0001, var var0002);

void Func0917 0x917 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = 0;
	while (var0002 < var0001) {
		var0003 = Func0910(var0000, DEXTERITY);
		var0004 = Func0910(var0000, COMBAT);
		var0005 = ((var0004 + var0003) + 1) / 2;
		if (var0005 >= var0003) {
			var0005 = var0004 + 1;
			if (var0005 >= 30) {
				var0005 = 30;
			}
		}
		Func0912(var0000, COMBAT, var0005 - var0004);
		Func0912(var0000, TRAINING, -1);
		var0002 += 0x0001;
	}
}

extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0912 0x912 (var var0000, var var0001, var var0002);

void Func0918 0x918 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = 0;
	while (var0002 < var0001) {
		var0003 = Func0910(var0000, INTELLIGENCE);
		var0004 = Func0910(var0000, MAX_MANA);
		var0005 = ((var0004 + var0003) + 0x0001) / 0x0002;
		if (var0005 >= var0003) {
			var0005 = var0004 + 1;
			if (var0005 >= 30) {
				var0005 = 30;
			}
		}
		Func0912(var0000, MAX_MANA, var0005 - var0004);
		Func0912(var0000, TRAINING, -1);
		var0002 += 1;
	}
}

void Func0919 0x919 () {
	var var0000;
	var var0001;

	var0000 = UI_wearing_fellowship();
	var0001 = UI_die_roll(0x0001, 0x0004);
	if (var0001 == 0x0001) {
		say("\"The Fellowship is a society of spiritual seekers who strive to reach the highest levels of human potential and to share this philosophy freely with all people. The Fellowship was formed twenty years ago by Batlin with the full approval and support of Lord British.\"");
	}
	if (var0001 == 0x0002) {
		say("\"The Fellowship is a wonderful organization that is open to all the people of Britannia. I have learned so much through studying its philosophy and it has helped me to live my life to the fullest. Through The Fellowship I am able to achieve what I have set out to do in life and I am a better person for having joined.\"");
	}
	if (var0001 == 0x0003) {
		say("\"The Fellowship is the philosophical group devoted to the teachings of a truly great man named Batlin. In the absence of the Avatar, Batlin has become a sort of spiritual father for the people of Britannia. Through his speeches and writings he has changed the lives of many people, including my own.\"");
	}
	if (var0001 == 0x0004) {
		say("\"The Fellowship is a group that has been gaining much popularity in recent years with the people of Britannia. While on the surface it may simply appear to be a scholarly society studying its particular philosophy, its teachings have the power to forever alter the shape of Britannian society. Its ceremonies are deeply moving experiences.\"");
	}
	add("philosophy");
}

extern var Func090A 0x90A ();

void Func091A 0x91A () {
	var var0000;
	var var0001;

	say("\"The Fellowship advances the philosophy of 'sanguine cognition', a way to apply a confident order of thought to one's life, through what is called the Triad of Inner Strength. The Triad is simply three basic principles that, when applied in unison, enable one to be more creative, satisfied, and successful in life. They are: Strive For Unity, Trust Thy Brother, and Worthiness Precedes Reward. Strive For Unity basically means that people should cooperate and work together. Trust Thy Brother implies that we are all the same and that we should not hate or fear each other. Worthiness Precedes Reward suggests that we must each strive to be worthy of that which we want out of life.\"");
	var0000 = UI_wearing_fellowship();
	if (!var0000) {
		say("\"Dost thou want to join?\"");
		var0001 = Func090A();
		if (var0001) {
			say("\"Then thou shouldst go immediately to see Batlin at the Fellowship Hall headquarters in Britain.\"");
		} else {
			say("\"Oh. Well, perhaps thou canst become enlightened another time.\"");
		}
	} else {
		say("\"Oh! I just now noticed thy medallion! Thou dost already know all of this! Thou art one of us! Excuse me for going on and on about it!\"");
	}
}

var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004) {
	var var0005;

	var0005 = (var0000 + var0001) + " ";
	if (var0002 == 0x0001) {
		var0005 += "sell ";
	} else {
		var0005 += "sells ";
	}
	var0005 = ((((var0005 + "for ") + var0003) + " gold") + var0004) + ".";
	return var0005;
}

var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004) {
	var var0005;

	var0005 = (((((("To sell " + var0000) + var0001) + " for ") + var0003) + " gold") + var0004) + ".";
	return var0005;
}

extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0912 0x912 (var var0000, var var0001, var var0002);

void Func091D 0x91D (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0002 = Func0910(var0000, STRENGTH);
	var0003 = Func0910(var0000, HEALTH);
	var0004 = var0000->get_npc_name();
	if (var0002 > var0003) {
		var0005 = var0002 - var0003;
		Func0912(var0000, HEALTH, var0005);
		var0006 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		say("\"The wounds have been healed.\"");
	} else if (var0000 == AVATAR) {
		say("\"Thou seemest quite healthy!\"");
	} else {
		say("\"",
			var0004,
			" is already healthy!\"");
	}
}

void Func091E 0x91E (var var0000, var var0001) {
	var var0002;
	var var0003;

	var0002 = var0000->get_npc_object();
	if (var0002->get_item_flag(POISONED)) {
		var0002->clear_item_flag(POISONED);
		var0003 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		say("\"The wounds have been healed.\"");
	} else {
		say("\"That individual does not need curing!\"");
	}
}

void Func091F 0x91F (var var0000, var var0001) {
	var var0002;
	var var0003;

	var0002 = var0000->resurrect();
	if (var0002) {
		say("\"Breath doth return to the body. Thy comrade is alive!\"");
		var0003 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
	} else {
		say("\"Alas, I cannot save thy friend. I will provide a proper burial. Thou must go on and continue with thine own life.\"");
	}
}

extern var Func090D 0x90D ();

var Func0920 0x920 () {
	var var0000;

	say("\"Which of you wishes to train?\"");
	var0000 = Func090D();
	return var0000;
}

extern var Func090A 0x90A ();
extern var Func08FB 0x8FB ();
extern var Func090C 0x90C (var var0000);

var Func0921 0x921 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	say("\"One of you wishes to train?\"");
	var0001 = Func090A();
	if (var0001) {
		say("\"Which of you wishes to train?\"");
		var0002 = Func08FB();
		var0003 = UI_get_party_list();
		var0004 = [];
		var0005 = [];
		for (var0008 in var0003 with var0006 to var0007) {
			if (var0008 != var0000) {
				var0004 &= var0008->get_npc_name();
				var0005 &= var0008;
			}
		}
		var0002 = var0004;
		var0003 = var0005;
		var0009 = [INVALID_NPC, var0003];
		var000A = Func090C(["Nobody", var0002]);
		var000B = var0009[var000A];
		if (var000B == 0x0000) {
			var000C = 0x0000;
		} else {
			var000C = var000B->get_npc_number();
		}
	} else {
		say("\"Perhaps at a later time.\"");
		var000C = 0x0000;
	}
	return var000C;
}

extern var Func0910 0x910 (var var0000, var var0001);

var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003) {
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;

	var0004 = false;
	var0005 = Func0910(var0002, TRAINING);
	var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
	if (!(var0006 > var0001)) {
		return 0x0001;
	}
	if (!(var0005 >= var0003)) {
		return 0x0000;
	}
	for (var0009 in var0000 with var0007 to var0008) {
		var000A = Func0910(var0002, var0009);
		if (var000A < 0x001E) {
			var0004 = true;
		}
	}
	if (var0004 == false) {
		return 0x0002;
	}
	return 0x0003;
}

extern var Func090A 0x90A ();

var Func0923 0x923 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
	say("\"Agreeable?\"");
	if (!Func090A()) {
		var0003 = 0x0000;
	} else if (var0002 >= var0001) {
		var0004 = PARTY->find_object(0x02F9, QUALITY_ANY, FRAME_ANY);
		if (var0004) {
			if (UI_add_spell(var0000, 0x0000, var0004)) {
				var0003 = 0x0001;
				var0005 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			} else {
				var0003 = 0x0004;
			}
		} else {
			var0003 = 0x0002;
		}
	} else {
		var0003 = 0x0003;
	}
	return var0003;
}

extern var Func090A 0x90A ();

var Func0924 0x924 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
	say("\"To be agreeable?\"");
	if (!Func090A()) {
		var0003 = 0x0000;
	} else if (var0002 >= var0001) {
		var0004 = PARTY->find_object(0x02F9, QUALITY_ANY, FRAME_ANY);
		if (var0004) {
			if (UI_add_spell(var0000, 0x0000, var0004)) {
				var0003 = 0x0001;
				var0005 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			} else {
				var0003 = 0x0004;
			}
		} else {
			var0003 = 0x0002;
		}
	} else {
		var0003 = 0x0003;
	}
	return var0003;
}

void Func0925 0x925 (var var0000) {
	var var0001;
	var var0002;

	var0001 = var0000->get_item_quantity(AVATAR);
	if (var0001 <= 0x0001) {
		var0000->remove_item();
	} else {
		var0001 -= 0x0001;
		var0002 = var0000->set_item_quantity(var0001);
	}
}

void Func0926 0x926 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0001 = false;
	var0002 = var0000->get_item_shape();
	var0003 = var0000->get_item_frame();
	var0004 = var0000->get_item_quality();
	var0005 = UI_get_party_list();
	for (var0008 in var0005 with var0006 to var0007) {
		var0009 = var0008->get_cont_items(var0002, var0004, var0003);
		for (var000C in var0009 with var000A to var000B) {
			if (var000C == var0000) {
				var0001 = var0008;
				var000D = var0001->give_last_created();
				var000D = var0000->set_last_created();
			}
		}
	}
	if (var0001 == false) {
		var0001 = var0000->get_object_position();
		var000D = UI_update_last_created(var0001);
		var000D = var0000->set_last_created();
	}
}

extern void Func08FA 0x8FA (var var0000);
extern void Func08FF 0x8FF (var var0000);
extern void Func0903 0x903 (var var0000, var var0001);
extern var Func0908 0x908 ();

void Func0927 0x927 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;

	Func08FA(var0000);
	var0001 = var0000->get_item_frame();
	if (var0001 == 0x0000) {
		Func08FF(["I bet that would work much better if thou wouldst put some liquid in it..."]);
		Func0903(DUPRE, "Perhaps some BEER for instance.");
		Func0903(SHAMINO, "Or maybe some WINE>>>");
	} else {
		var0000->set_item_frame(0x0000);
		var0002 = ["water", "blood", "wine", "beer", "ale", "stuff", "stuff", "stuff", "stuff", "stuff", "last stuff"];
		UI_play_sound_effect(0x005A);
		var0003 = UI_die_roll(0x0001, 0x000A);
		var0004 = var0002[var0001];
		var0005 = ("Gee, I bet that " + var0004) + " was pretty good....";
		if (var0003 == 0x0001) {
			var0006 = "mmmm... I bet that would sure wet a body's whistle.";
		}
		if (var0003 == 0x0002) {
			var0007 = Func0908();
			var0005 = ((("Why dost thou not wait until dinner to drink that " + var0004) + ", ") + var0007) + ".";
		}
		Func08FF(var0005);
	}
}

extern void Func08FA 0x8FA (var var0000);
extern void Func08FF 0x8FF (var var0000);
extern void Func0903 0x903 (var var0000, var var0001);
extern var Func0908 0x908 ();

void Func0928 0x928 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;

	Func08FA(var0000);
	var0001 = var0000->get_item_frame() % 0x0002;
	if (var0001 == 0x0000) {
		Func08FF(["I bet that would work much better if thou wouldst put some liquid in it..."]);
		Func0903(DUPRE, "Perhaps some BEER for instance.");
		Func0903(SHAMINO, "Or maybe some WINE>>>");
	} else {
		var0002 = ["water", "blood", "wine", "beer", "ale", "stuff", "stuff", "stuff", "stuff", "stuff", "laststuff"];
		var0003 = 0x0000;
		var0004 = get_item_quality();
		for (var0007 in var0002 with var0005 to var0006) {
			var0003 += 0x0001;
			if (var0004 == var0003) {
				var0008 = ("Gee, I bet that " + var0007) + " was pretty good....";
			}
		}
		UI_play_sound_effect(0x005A);
		var0009 = UI_die_roll(0x0001, 0x000A);
		if (var0009 == 0x0001) {
			Func08FF("mmmm... I bet that would sure wet a body's whistle.");
		}
		if (var0009 == 0x0002) {
			var000A = var0002[var0001];
			var000B = Func0908();
			var0008 = ((("Why dost thou not wait until dinner to drink that " + var000A) + ", ") + var000B) + ".";
			Func08FF(var0008);
		}
		if (var0009 > 0x0002) {
			Func08FF(var0008);
		}
	}
}

extern var Func0908 0x908 ();
extern void Func08FF 0x8FF (var var0000);
extern void Func08FD 0x8FD (var var0000);

void Func0929 0x929 () {
	var var0000;
	var var0001;

	var0000 = Func0908();
	var0001 = UI_die_roll(0x0001, 0x0003);
	if (var0001 == 0x0001) {
		Func08FF(["Thou miayest have more success if thou wert to put that in", "thy hand and hit somebody with it... Somebody else that is."]);
	} else {
		Func08FD(0x0000);
	}
}

void Func092A 0x92A (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;

	if (var0000->is_npc()) {
		var0002 = var0000->get_npc_prop(STRENGTH);
		var0003 = var0000->get_npc_prop(HEALTH);
		if ((var0003 + var0001) < 0x0001) {
			var0001 = -1 * var0003;
		} else if ((var0003 + var0001) > var0002) {
			var0001 = var0002 - var0003;
		}
		var0004 = var0000->set_npc_prop(HEALTH, var0001);
	}
}

var Func092B 0x92B (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0001 = 0x0000;
	for (var0004 in var0000 with var0002 to var0003) {
		var0001 += 0x0001;
	}
	return var0001;
}

void Func092C 0x92C (var var0000) {
	UI_play_sound_effect(0x004B);
}

var Func092D 0x92D (var var0000) {
	return AVATAR->direction_from(var0000);
}

extern var Func0937 0x937 (var var0000);

void Func092E 0x92E (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0001 = var0000->get_npc_object();
	if (!Func0937(var0001)) {
		return;
	}
	var0002 = var0001->get_schedule_type();
	var0003 = "";
	var0004 = UI_die_roll(0x0001, 0x0004);
	if (var0002 == LOITER) {
		if (var0004 == 0x0001) {
			var0003 = "@Looks like rain...@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@Greetings.@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@Oh, my aching back...@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@Ho hum...@";
		}
	}
	if (var0002 == SLEEP) {
		var0003 = "@Z-z-z-z...@";
	}
	if (var0002 == WAITER) {
		if (var0004 == 0x0001) {
			var0003 = "@Try the wine.@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@The bread is fresh.@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@Try the mutton.@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@I recommend the ale.@";
		}
	}
	if (var0002 == PREACH) {
		if (var0004 == 0x0001) {
			var0003 = "@Strive For Unity.@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@Trust Thy Brother.@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@Worthiness Precedes Reward.@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@Join The Fellowship!@";
		}
	}
	if (var0002 == EAT_AT_INN) {
		if (var0004 == 0x0001) {
			var0003 = "@Mmmm! Good!@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@Tasty!@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@This is good!@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@Waiter! Waiter!@";
		}
	}
	if (var0002 == FARM) {
		if (var0004 == 0x0001) {
			var0003 = "@Whew! 'Tis hot!@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@Ouch! Cut myself!@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@Work...work...work...@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@We need rain...@";
		}
	}
	if (var0002 == KID_GAMES) {
		if (var0004 == 0x0001) {
			var0003 = "@Tag! Thou art it!@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@Cannot catch me!@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@Nyah nyah! Thou art it!@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@Catch me if thou can!@";
		}
	}
	var0001->item_say(var0003);
}

extern var Func0937 0x937 (var var0000);

void Func092F 0x92F (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;

	var0001 = var0000->get_npc_object();
	if (!Func0937(var0001)) {
		return;
	}
	var0002 = var0001->get_schedule_type();
	var0003 = "";
	var0004 = UI_die_roll(0x0001, 0x0004);
	if (var0002 == LOITER) {
		if (var0004 == 0x0001) {
			var0003 = "@To say hello!@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@To greet you!@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@To hope you have a nice day!@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@To ask how you are?@";
		}
	}
	if (var0002 == SLEEP) {
		var0003 = "@Z-z-z-z...@";
	}
	if (var0002 == WAITER) {
		if (var0004 == 0x0001) {
			var0003 = "@To suggest you try the wine.@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@To offer fresh food.@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@To recommend the mutton.@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@To recommend the ale.@";
		}
	}
	if (var0002 == PREACH) {
		if (var0004 == 0x0001) {
			var0003 = "@To Strive For Unity.@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@To Trust Thy Brother.@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@To say Worthiness Precedes Reward.@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@To join The Fellowship!@";
		}
	}
	if (var0002 == EAT_AT_INN) {
		if (var0004 == 0x0001) {
			var0003 = "@To be very Good!@";
		}
		if (var0004 == 0x0002) {
			var0003 = "@To be tasty!@";
		}
		if (var0004 == 0x0003) {
			var0003 = "@To be delicious!@";
		}
		if (var0004 == 0x0004) {
			var0003 = "@To call for service!@";
		}
	}
	var0001->item_say(var0003);
}

var Func0930 0x930 (var var0000, var var0001) {
	var var0002;

	var0002 = var0000->run_script(var0001, ZERO_DELAY);
	return var0002;
}

var Func0931 0x931 (var var0000, var var0001, var var0002, var var0003, var var0004) {
	var var0005;

	var0005 = var0000->count_objects(var0002, var0003, var0004);
	if (var0005 >= var0001) {
		return true;
	}
	return false;
}

var Func0932 0x932 (var var0000) {
	if (var0000 < 0x0000) {
		var0000 *= -1;
	}
	return var0000;
}

extern var Func0937 0x937 (var var0000);

void Func0933 0x933 (var var0000, var var0001, var var0002) {
	var var0003;

	if (Func0937(var0000)) {
		var0003 = script var0000->get_npc_object() after var0002 ticks {
			nohalt;
			say var0001;
		};
	}
}

var Func0934 0x934 (var var0000) {
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;

	var0001 = find_nearby(SHAPE_ANY, var0000, MASK_NPC2);
	var0002 = UI_get_party_list();
	var0003 = [];
	if (get_item_flag(IN_PARTY)) {
		for (var0006 in var0001 with var0004 to var0005) {
			if (!(var0006 in var0002)) {
				var0003 &= var0006;
			}
		}
		return var0003;
	}
	return var0002;
}

var Func0935 0x935 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = var0000[0x0001];
	for (var0005 in var0000 with var0003 to var0004) {
		if (var0001->get_distance(var0005) < var0001->get_distance(var0002)) {
			var0002 = var0005;
		}
	}
	return var0002;
}

void Func0936 0x936 (var var0000, var var0001) {
	var0000->reduce_health(var0001, NORMAL_DAMAGE);
}

var Func0937 0x937 (var var0000) {
	if ((var0000->get_npc_prop(INTELLIGENCE) >= 10) && ((!var0000->get_item_flag(ASLEEP)) && ((!var0000->get_item_flag(PARALYZED)) && ((!var0000->get_item_flag(DEAD)) && ((var0000->get_npc_prop(HEALTH) > 0) && var0000->is_npc()))))) {
		return true;
	}
	return false;
}

extern var Func0939 0x939 (var var0000);

var Func0938 0x938 (var var0000) {
	var0000 = Func0939(var0000);
	if (var0000->get_item_flag(ASLEEP) || (var0000->get_item_flag(PARALYZED) || (var0000->get_item_flag(DEAD) || (var0000->get_npc_prop(HEALTH) <= 0)))) {
		return true;
	}
	return false;
}

var Func0939 0x939 (var var0000) {
	var var0001;

	if ((var0000 < 0x0000) && (var0000 >= AVATAR)) {
		var0001 = var0000->get_npc_object();
	} else {
		var0001 = var0000;
	}
	return var0001;
}

extern void Func093B 0x93B (var var0000, var var0001, var var0002, var var0003);

void Func093A 0x93A (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	var0002 = UI_get_party_list2();
	for (var0005 in var0002 with var0003 to var0004) {
		if (var0005->get_npc_prop(FOODLEVEL) >= 10) {
			if (!(var0005 == AVATAR->get_npc_object())) {
				var0005->clear_item_flag(ASLEEP);
			}
			var0005->clear_item_flag(POISONED);
			var0005->clear_item_flag(PARALYZED);
			var0005->clear_item_flag(CURSED);
			var0005->clear_item_flag(CHARMED);
			var0005->clear_item_flag(INVISIBLE);
			var0005->clear_item_flag(PROTECTION);
			Func093B(var0005, HEALTH, STRENGTH, var0000);
			Func093B(var0005, MANA, MAX_MANA, var0000);
			var0006 = var0005->set_npc_prop(FOODLEVEL, var0000 * -1);
		}
	}
	var0007 = var0001->find_nearby(0x02BD, 0x001E, MASK_NONE);
	var0007 &= var0001->find_nearby(0x0152, 0x001E, MASK_NONE);
	for (var000A in var0007 with var0008 to var0009) {
		var000B = var000A->get_item_quality();
		if (var000B < (var0000 * 0x001E)) {
			var000A->halt_scheduled();
			var000C = var000A->get_item_shape();
			if (var000C == 0x0152) {
				var000A->set_item_shape(0x03E5);
			}
			if (var000C == 0x02BD) {
				var000A->set_item_shape(0x0253);
			}
			var0006 = var000A->set_item_quality(0x00FF);
		} else {
			var0006 = var000A->set_item_quality(var000B - (var0000 * 0x001E));
		}
	}
}

void Func093B 0x93B (var var0000, var var0001, var var0002, var var0003) {
	var var0004;
	var var0005;
	var var0006;

	var0004 = var0000->get_npc_prop(var0001);
	var0005 = var0004 + (2 * var0003);
	if (var0005 > var0000->get_npc_prop(var0002)) {
		var0005 = var0000->get_npc_prop(var0002);
	}
	var0006 = var0000->set_npc_prop(var0001, var0005 - var0004);
}

var Func093C 0x93C (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = [];
	for (var0005 in var0001 with var0003 to var0004) {
		if (!(var0005 == var0000)) {
			var0002 &= var0005;
		}
	}
	return var0002;
}

var Func093D 0x93D (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = UI_get_array_size(var0000);
	if (var0002 > 0x0001) {
		var0003 = true;
		while (var0003) {
			var0003 = false;
			var0004 = 0x0001;
			while (var0004 < var0002) {
				if (var0001[var0004] > var0001[(var0004 + 0x0001)]) {
					var0005 = var0001[var0004];
					var0001[var0004] = var0001[(var0004 + 0x0001)];
					var0001[(var0004 + 0x0001)] = var0005;
					var0005 = var0000[var0004];
					var0000[var0004] = var0000[(var0004 + 0x0001)];
					var0000[(var0004 + 0x0001)] = var0005;
					var0003 = true;
				}
				var0004 += 0x0001;
			}
		}
	}
	return var0000;
}

extern var Func08F9 0x8F9 (var var0000, var var0001, var var0002);

var Func093E 0x93E () {
	var var0000;
	var var0001;

	var0000 = [0x0390, 0x0810, 0x0000];
	var0001 = [0x0450, 0x0930, 0x000F];
	return Func08F9(AVATAR->get_object_position(), var0000, var0001);
}

extern var Func0939 0x939 (var var0000);

void Func093F 0x93F (var var0000, var var0001) {
	var var0002;

	var0002 = UI_get_party_list();
	if ((Func0939(var0000) in var0002) && gflags[0x0039]) {
		return;
	}
	var0000->set_schedule_type(var0001);
}

extern void Func0614 object#(0x614) ();

void Func0940 0x940 (var var0000) {
	if (!UI_start_speech(var0000)) {
		0x0000->Func0614();
	} else {
		UI_close_gumps();
	}
}

extern void Func0614 object#(0x614) ();

void Func0941 0x941 (var var0000) {
	if (!UI_start_blocking_speech(var0000)) {
		0x0000->Func0614();
	} else {
		UI_close_gumps();
	}
}

extern void Func0905 0x905 (var var0000);

void Func0942 0x942 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;

	var0002 = var0000->get_item_frame();
	if (!var0000->get_item_quality()) {
		var0003 = var0000->set_item_quality(UI_die_roll(0x001E, 0x003C));
	}
	if (var0000->get_item_shape() == 0x0253) {
		if (var0000->get_item_quality() == 0x00FF) {
			var0000->item_say("Spent");
			return;
		}
	}
	var0004 = var0000->get_container();
	if ((var0004 == 0x0000) || var0004->is_npc()) {
		set_item_shape(var0001);
		var0005 = UI_get_party_list();
		if (var0004 in var0005) {
			Func0905(var0000);
		}
	} else {
		UI_flash_mouse(CURSOR_HAND);
	}
	var0000->set_light(true);
	UI_set_time_palette();
}

void Func0943 0x943 (var var0000) {
	var var0001;

	var0001 = var0000->get_object_position();
	UI_sprite_effect(ANIMATION_MUSIC, var0001[0x0001], var0001[0x0002], -2, -2, 0, LOOP_ONCE);
}

var Func0944 0x944 (var var0000) {
	var var0001;

	var0001 = get_container();
	while (!(var0001 == AVATAR->get_npc_object())) {
		var0001 = var0001->get_container();
		if (!var0001) {
			return 0x0000;
		}
	}
	return var0001;
}

var Func0945 0x945 (var var0000) {
	var var0001;
	var var0002;

	var0001 = get_container();
	while (var0001) {
		var0002 = var0001;
		var0001 = var0001->get_container();
	}
	return var0002;
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0946 0x946 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "bread", "cake", "rolls", "pastry"];
	var0002 = [0x0000, 0x0179, 0x0179, 0x0179, 0x0179];
	var0003 = [FRAME_ANY, 0x0001, 0x0005, 0x0002, 0x0006];
	var0004 = [0x0000, 0x0004, 0x0003, 0x0004, 0x0003];
	var0005 = "";
	var0006 = [0x0000, 0x0000, 0x0000, 0x0001, 0x0000];
	var0007 = ["", " for a loaf", " for a slice", " for a batch", " for one"];
	var0008 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005, var0001[var0009], var0006[var0009], var0004[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" A fair price, wouldst thou not agree?\"");
			var000C = Func090A();
			if (var000C) {
				say("\"How many wouldst thou like?\"");
				var000B = Func08F8(var0002[var0009], var0003[var0009], var0008, var0004[var0009], 0x0014, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090A 0x90A ();
extern void Func0925 0x925 (var var0000);

void Func0947 0x947 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	UI_push_answers();
	say("\"Excellent! Dost thou have some loaves for me?\"");
	var0000 = Func090A();
	if (var0000) {
		say("\"Very good! Let me see how many thou dost have...\"");
		var0001 = AVATAR->find_nearby(0x0179, 0x0019, MASK_NONE);
		var0002 = UI_get_party_list();
		for (var0005 in var0002 with var0003 to var0004) {
			var0001 &= var0005->get_cont_items(0x0179, QUALITY_ANY, 0x0000);
		}
		var0006 = 0x0000;
		var0007 = [];
		for (var000A in var0001 with var0008 to var0009) {
			if ((var000A->get_item_frame() == 0x0000) && var000A->get_item_flag(OKAY_TO_TAKE)) {
				if (var000A->get_distance(WILLY) <= 0x0019) {
					var0006 += 0x0001;
					var0007 &= var000A;
				}
			}
		}
		var000B = (var0006 / 0x0005) * 0x0005;
		if (var000B == 0x0000) {
			say("\"Thou have not made enough bread to be worthy of any payment at all.\"");
		} else {
			say("\"Scrumptious! ",
				var0006,
				" loaves! That means I owe thee ",
				var000B,
				" gold. Here thou art! I shall take the loaves from thee now!\"");
			var000C = UI_add_party_items(var000B, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			if (var000C) {
				for (var000A in var0007 with var000D to var000E) {
					if (var000A->get_container()) {
						Func0925(var000A);
					} else {
						var000A->clear_item_flag(OKAY_TO_TAKE);
					}
				}
				say("\"Come back and work for me at any time!\"");
				abort;
			}
			say("\"If thou dost travel in a lighter fashion, thou wouldst have hands to take my gold!\"");
		}
	} else {
		say("\"No? What hast thou been doing? -Loaf-ing around? Ha ha ha!\"");
	}
	UI_pop_answers();
}

extern var Func090A 0x90A ();

void Func0948 0x948 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;

	UI_push_answers();
	var0000 = 0x0004;
	var0001 = 0x0001;
	say("\"Excellent! Dost thou have some flour for me?\"");
	var0002 = Func090A();
	if (var0002) {
		say("\"Very good! Let me see how many sacks thou dost have...\"");
		var0003 = PARTY->count_objects(0x035F, QUALITY_ANY, 0x000E);
		var0004 = PARTY->count_objects(0x035F, QUALITY_ANY, 0x000F);
		if ((var0003 == 0x0000) || (var0004 == 0x0000)) {
			say("\"But thou dost not have a single one in thy possession! Art thou trying to trick me? Get out of my shoppe!\"*");
			abort;
		}
		var0005 = (var0003 + (var0004 / var0001)) * var0000;
		say("\"Beautiful flour! ",
			var0003,
			"! That means I owe thee ",
			var0005,
			" gold. Here thou art! I shall take the flour from thee now!\"");
		var0006 = UI_add_party_items(var0005, 0x0284, QUALITY_ANY, FRAME_ANY, true);
		if (var0006) {
			var0007 = UI_remove_party_items(var0003, 0x035F, QUALITY_ANY, 0x000E, true);
			var0008 = UI_remove_party_items(var0004, 0x035F, QUALITY_ANY, 0x000F, true);
			say("\"Come back and work for me at any time!\"*");
			abort;
		}
		say("\"If thou dost travel in a lighter fashion, thou wouldst have hands to take my gold!\"");
	} else {
		say("\"No? Then thou art a -loaf-er! Ha ha ha!\"");
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func094B 0x94B (var var0000, var var0001);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0949 0x949 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "blue potion", "purple potion", "red potion", "orange potion"];
	var0002 = [0x0000, 0x0154, 0x0154, 0x0154, 0x0154];
	var0003 = [FRAME_ANY, 0x0000, 0x0005, 0x0002, 0x0004];
	var0004 = [0x0000, 0x001E, 0x0096, 0x0096, 0x000A];
	var0005 = [0x0000, 0x0078, 0x0258, 0x0258, 0x002D];
	var0006 = ["", "a ", "a ", "a ", "a "];
	var0007 = 0x0000;
	var0008 = "";
	var0009 = 0x0001;
	say("\"To want what item?\"");
	while (var0000) {
		var000A = Func090C(var0001);
		if (var000A == 0x0001) {
			if (gflags[0x0003]) {
				say("\"To understand.\"");
			} else {
				say("\"To be good. To want to sell nothing to you.\"");
			}
			var0000 = false;
		} else {
			do {
				if (gflags[0x0003]) {
					var000B = var0004[var000A];
					var000C = Func091C(var0006[var000A], var0001[var000A], var0007, var000B, var0008);
				} else {
					var000B = var0005[var000A];
					var000B = Func094B(var000B, WIS_SUR);
					var000C = Func091C(var0006[var000A], var0001[var000A], var0007, var000B, var0008);
					if (var000B == 0x0000) {
						break;
					}
				}
				var000D = 0x0000;
				say("\"",
					var000C,
					" To accept the price?\"");
				var000E = Func090A();
				if (var000E) {
					var000D = Func08F8(var0002[var000A], var0003[var000A], var0009, var000B, 0x0000, 0x0001, false);
				}
				if (var000D == 0x0001) {
					say("\"To be agreed!\"");
				} else if (var000D == 0x0002) {
					say("\"To be unable to carry that much, human!\"");
				} else if (var000D == 0x0003) {
					say("\"To have not enough gold for that!\"");
				}
			} while (false);
			say("\"To want something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091C 0x91C (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func094B 0x94B (var var0000, var var0001);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func094A 0x94A () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "blood moss", "spider silk", "sulfurous ash", "mandrake root", "black pearl"];
	var0002 = [0x0000, 0x034A, 0x034A, 0x034A, 0x034A, 0x034A];
	var0003 = [FRAME_ANY, 0x0001, 0x0006, 0x0007, 0x0003, 0x0000];
	var0004 = [0x0000, 0x0004, 0x0005, 0x0006, 0x0008, 0x0008];
	var0005 = [0x0000, 0x0010, 0x0014, 0x0019, 0x0020, 0x0022];
	var0006 = "";
	var0007 = 0x0000;
	var0008 = "";
	var0009 = 0x0001;
	say("\"To want what item?\"");
	while (var0000) {
		var000A = Func090C(var0001);
		if (var000A == 0x0001) {
			if (gflags[0x0003]) {
				say("\"To understand.\"");
			} else {
				say("\"To be good. To want to sell nothing to you.\"");
			}
			var0000 = false;
		} else {
			do {
				if (gflags[0x0003]) {
					var000B = var0004[var000A];
					var000C = Func091C(var0006, var0001[var000A], var0007, var000B, var0008);
				} else {
					var000B = var0005[var000A];
					var000B = Func094B(var000B, WIS_SUR);
					var000C = Func091C(var0006, var0001[var000A], var0007, var000B, var0008);
					if (var000B == 0x0000) {
						break;
					}
				}
				var000D = 0x0000;
				say("\"",
					var000C,
					" To agree to the cost?\"");
				var000E = Func090A();
				if (var000E) {
					say("\"To want how many?\"");
					var000D = Func08F8(var0002[var000A], var0003[var000A], var0009, var000B, 0x0014, 0x0001, true);
				}
				if (var000D == 0x0001) {
					say("\"To be agreed!\"");
				} else if (var000D == 0x0002) {
					say("\"To be unable to carry that much, human!\"");
				} else if (var000D == 0x0003) {
					say("\"To have not enough gold for that!\"");
				}
			} while (false);
			say("\"To want something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090F 0x90F (var var0000);
extern var Func090A 0x90A ();
extern var Func0932 0x932 (var var0000);

var Func094B 0x94B (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0002 = 0x0000;
	var0003 = var0000;
	var0004 = var0000;
	var0005 = true;
	var0006 = false;
	var0007 = 0x0000;
	while (var0005) {
		if (var0006) {
			say("\"To be my final offer -- ",
				var0003,
				".\"");
		} else {
			var0008 = Func090F(var0001);
			say("\"To want ",
				var0003,
				" gold.\"");
		}
		var0009 = var0003 * 0x0003;
		var0009 /= 0x0002;
		var000A = var0003 / 0x0002;
		var000B = var0003 / 0x0004;
		var000C = [var0009, var0003, var000A, var000B];
		if (var0006) {
			say("\"To accept?\"");
			var0007 = Func090A();
			if (var0007) {
				say("\"To have a deal.\"");
				return var0003;
			}
			say("\"To wonder why you bothered me.\"");
			return 0x0000;
		}
		var0002 = var0004;
		say("\"To have another offer?\"");
		var0004 = UI_input_numeric_value(0x0000, var0009, 0x0001, 0x0000);
		if (var0004 == 0x0000) {
			say("\"To notice you are obviously not interested.\"");
			return 0x0000;
		}
		if (var0004 >= var0003) {
			say("\"To accept your offer.\"");
			return var0004;
		}
		if (var0004 < var000C[0x0004]) {
			say("\"To be happy,\" he says. \"To have wanted to keep it anyway! To tell you to leave.\"");
			abort;
			// Dead code
			return 0x0000;
		}
		var0007 = UI_get_random(0x0064);
		if (var0002 == 0x0000) {
			var0002 = var000C[0x0003];
		}
		if (var0004 >= var000C[0x0003]) {
			if (var0007 >= 0x005A) {
				var0006 = true;
				var000D = Func0932((var0004 - var0002) * 0x0002);
				var000D = UI_get_random(var000D);
				if ((var0003 - var000D) <= var0004) {
					var0003 = var0004 + 0x0001;
				} else {
					var0003 -= var000D;
				}
			} else if (var0007 >= 0x001E) {
				var000D = Func0932((var0004 - var0002) * 0x0002);
				var000D = UI_get_random(var000D);
				if ((var0003 - var000D) <= var0004) {
					var0003 = var0004 + 0x0001;
				} else {
					var0003 -= var000D;
				}
			} else {
				say("\"To be agreed!\"");
				return var0004;
			}
		} else if (var0004 >= var000C[0x0004]) {
			if (var0007 >= 0x0028) {
				var0006 = true;
				var000D = Func0932((var0004 - var0002) * 0x0002);
				var000D = UI_get_random(var000D);
				if ((var0003 - var000D) <= var0004) {
					var0003 = var0004 + 0x0001;
				} else {
					var0003 -= var000D;
				}
			} else if (var0007 >= 0x000F) {
				var000D = Func0932((var0004 - var0002) * 0x0002);
				var000D = UI_get_random(var000D);
				if ((var0003 - var000D) <= var0004) {
					var0003 = var0004 + 0x0001;
				} else {
					var0003 -= var000D;
				}
			} else if (var0007 >= 0x0005) {
				say("\"To be foolish to accept so little!\"");
				return 0x0000;
			} else {
				say("\"To charge more next time. To have sold to you too cheaply!\"");
			}
		}
		return var0003;
	}
	return 0;
}

extern var Func090C 0x90C (var var0000);
extern var Func0924 0x924 (var var0000, var var0001);
extern var Func090A 0x90A ();

void Func094C 0x94C () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;

	UI_push_answers();
	var0000 = true;
	var0001 = [0x001E, 0x0032, 0x0046, 0x005A, 0x0078, 0x008C];
	while (var0000) {
		say("\"To be interested in which circle?\"");
		var0002 = Func090C(["none", "First", "Second", "Third", "Fourth", "Fifth", "Sixth"]);
		var0002 -= 0x0001;
		if (var0002 == 0x0000) {
			if (gflags[0x0003]) {
				say("\"To understand.\"");
			} else {
				say("\"To wonder why you bother me so!\"");
			}
			break;
		} else if (var0002 == 0x0001) {
			var0003 = ["nothing", "Great Ignite", "Great Douse", "Locate", "Light"];
			var0004 = [SPELL_NONE, SPELL_GREAT_IGNITE, SPELL_GREAT_DOUSE, SPELL_LOCATE, SPELL_LIGHT];
		} else if (var0002 == 0x0002) {
			var0003 = ["nothing", "Fire Blast", "Enchant", "Destroy Trap", "Great Light"];
			var0004 = [SPELL_NONE, SPELL_FIRE_BLAST, SPELL_ENCHANT, SPELL_DESTROY_TRAP, SPELL_GREAT_LIGHT];
		} else if (var0002 == 0x0003) {
			var0003 = ["nothing", "Paralyze", "Poison", "Curse", "Swarm"];
			var0004 = [SPELL_NONE, SPELL_PARALYZE, SPELL_POISON, SPELL_CURSE, SPELL_SWARM];
		} else if (var0002 == 0x0004) {
			var0003 = ["nothing", "Lightning", "Mass Curse", "Reveal", "Conjure"];
			var0004 = [SPELL_NONE, SPELL_LIGHTNING, SPELL_MASS_CURSE, SPELL_REVEAL, SPELL_CONJURE];
		} else if (var0002 == 0x0005) {
			var0003 = ["nothing", "Mass Sleep", "Explosion", "Dispel Field", "Fire Field"];
			var0004 = [SPELL_NONE, SPELL_MASS_SLEEP, SPELL_EXPLOSION, SPELL_DISPEL_FIELD, SPELL_FIRE_FIELD];
		} else {
			var0003 = ["nothing", "Fire Ring", "Clone", "Flame Strike", "Tremor"];
			var0004 = [SPELL_NONE, SPELL_FIRE_RING, SPELL_CLONE, SPELL_FLAME_STRIKE, SPELL_TREMOR];
		}
		say("\"To buy which spell?\"");
		var0005 = Func090C(var0003);
		if (var0005 == 0x0001) {
			say("\"To be fine.\"");
			break;
		}
		var0006 = var0004[var0005];
		var0007 = var0001[var0002];
		var0008 = var0003[var0005];
		say("\"To cost ",
			var0007,
			" gold for ",
			var0008,
			" spell.\"");
		var0009 = Func0924(var0006, var0007);
		if (var0009 == 0x0001) {
			say("\"To agree!\"");
		} else if (var0009 == 0x0002) {
			say("\"To be without a spellbook, human.\"");
			var0000 = false;
			break;
		} else if (var0009 == 0x0003) {
			say("\"To have not have enough gold for that!\"");
		} else if (var0009 == 0x0004) {
			say("\"To see you already have that spell.\"");
		}
		say("\"To be interested in another spell?\"");
		var0000 = Func090A();
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func094D 0x94D () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "mutton rations", "bread", "flounder"];
	var0002 = [0x0000, 0x0014, 0x0004, 0x0004];
	var0003 = 0x0179;
	var0004 = [FRAME_ANY, 0x000F, 0x0000, 0x000D];
	var0005 = "";
	var0006 = [0x0000, 0x0001, 0x0000, 0x0000];
	var0007 = ["", " for 10 portions", " for one loaf", " for one portion"];
	var0008 = [0x0000, 0x000A, 0x0001, 0x0001];
	say("\"What would ye like?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"If ye say so. I know that blasted Britannian Tax Council or what have ye has made the cost o' things too high! Maybe next time!\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005, var0001[var0009], var0006[var0009], var0002[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Is that acceptable?\"");
			var000C = Func090A();
			if (var000C) {
				say("\"How much do ye want?\"");
				var000B = Func08F8(var0003, var0004[var0009], var0008[var0009], var0002[var0009], 0x0014, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Ye got ta lighten yer load first!\"");
			} else if (var000B == 0x0003) {
				say("\"Ye've not got the gold. I kinna do business like that!\"");
			}
			say("\"Anything else ye want?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func094E 0x94E () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "mead", "wine", "ale"];
	var0002 = [0x0000, 0x0005, 0x0001, 0x0001];
	var0003 = 0x0268;
	var0004 = [FRAME_ANY, 0x0000, 0x0005, 0x0003];
	var0005 = "";
	var0006 = 0x0000;
	var0007 = " per bottle";
	var0008 = 0x0001;
	say("\"What would ye like?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"If ye say so. I know that blasted Britannian Tax Council or what have ye has made the cost o' things too high! Maybe next time!\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005, var0001[var0009], var0006, var0002[var0009], var0007);
			var000B = 0x0000;
			say("\"^",
				var000A,
				". Do ye find the price agreeable?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0003, var0004[var0009], var0008, var0002[var0009], 0x0000, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Ye got ta lighten yer load first!\"");
			} else if (var000B == 0x0003) {
				say("\"Ye've not got the gold. I kinna do business like that!\"");
			}
			say("\"Anything else ye want?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0914 0x914 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);

void Func094F 0x94F (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0002 = Func0920();
	var0003 = var0002->get_npc_name();
	do {
		if (var0002 != 0x0000) {
			var0004 = 0x0003;
			var0005 = Func0922(var0000, var0001, var0002, var0004);
			if (var0005 == 0x0000) {
				say("After a very quick run, he turns and says, \"Thou dost not yet have the stamina. If thou so wishest, I could train thee at a later date.\"");
				break;
			}
			if (var0005 == 0x0001) {
				var0006 = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				say("You gather your gold and count it, finding that you have ",
					var0006,
					" gold altogether.");
				if (var0006 < var0001) {
					say("\"It seems thou dost not have enough gold to train at this time.\"");
					break;
				}
			}
			if (var0005 == 0x0002) {
				say("After a short run, he turns and says, \"Thou art already as strong as I! I am afraid that there is nothing further I can show thee.\"");
				break;
			}
			var0007 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("You pay ",
				var0001,
				" gold, and the training session begins.");
			if (var0002 == AVATAR) {
				var0008 = "you feel ";
			} else {
				var0008 = var0003 + " feels ";
			}
			if (var0002 == AVATAR) {
				var0009 = "you have ";
			} else {
				var000A = UI_is_pc_female();
				if (var000A) {
					var000B = "she ";
				} else {
					var000B = "he ";
				}
				var0009 = var000B + "has ";
			}
			say("After sparring for half an hour, ",
				var0008,
				" as though ",
				var0009,
				" learned how to better apply force when fighting.");
			var000C = Func0910(var0002, STRENGTH);
			if (var000C < 30) {
				Func0914(var0002, 1);
			}
			var000D = Func0910(var0002, COMBAT);
			if (var000D < 30) {
				Func0917(var0002, 2);
			}
		}
	} while (false);
}

extern var Func0920 0x920 ();
extern var Func0922 0x922 (var var0000, var var0001, var var0002, var var0003);
extern var Func0910 0x910 (var var0000, var var0001);
extern void Func0915 0x915 (var var0000, var var0001);
extern void Func0917 0x917 (var var0000, var var0001);

void Func0950 0x950 (var var0000, var var0001) {
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;
	var var000E;
	var var000F;
	var var0010;
	var var0011;
	var var0012;

	var0002 = Func0920();
	var0003 = var0002->get_npc_name();
	var0004 = UI_is_pc_female();
	if (var0002 == AVATAR) {
		var0003 = "you";
		var0005 = "You";
		var0006 = "mimic";
		var0007 = "develop";
		var0008 = "you";
		var0009 = "you";
		var000A = "feel";
		var000B = "have";
		var000C = "learn";
	} else {
		if (var0004) {
			var0005 = "She";
			var0009 = "she";
		} else {
			var0005 = "He";
			var0009 = "he";
		}
		var0006 = "mimics";
		var0007 = "develops";
		var0008 = "them";
		var000A = "feels";
		var000B = "has";
		var000C = "learns";
	}
	do {
		if (var0002 != 0x0000) {
			var000D = 0x0002;
			var000E = Func0922(var0000, var0001, var0002, var000D);
			if (var000E == 0x0000) {
				say("\"It appears that thou dost not have enough practical experience to train at this time. If thou couldst return later after thou hast gained more experience, I can help thee.\"");
				break;
			}
			if (var000E == 0x0001) {
				var000F = PARTY->count_objects(0x0284, QUALITY_ANY, FRAME_ANY);
				say("You gather your gold and count it, finding that you have ",
					var000F,
					" gold altogether.");
				if (var000F < var0001) {
					say("\"It appears that thou dost not seem to have enough gold to train here. If thou couldst return later after thy pockets are filled...\"");
					break;
				}
			}
			if (var000E == 0x0002) {
				say("\"It appears that thou art already as proficient as I! I am afraid that thou cannot be trained further here.\"");
				break;
			}
			say("You pay ",
				var0001,
				" gold.");
			var0010 = UI_remove_party_items(var0001, 0x0284, QUALITY_ANY, FRAME_ANY, true);
			say("Zella begins the session by showing ",
				var0003,
				" the proper stance when 'boxing'.~~\"'Tis all contingent on balance. Use thy weight to control thy movement. Step lightly. 'Tis almost like a dance.\" Zella shows ",
				var0003,
				" some steps, sparring into the air. ",
				var0005,
				" ",
				var0006,
				" him and slowly ",
				var0007,
				" a feel for the technique. After a while it becomes second nature. The two of ",
				var0008,
				" take jabs at each other, and ",
				var0003,
				" ",
				var000C,
				" proper defensive maneuvers. When the session is over, ",
				var0009,
				" ",
				var000A,
				" ",
				var0009,
				" ",
				var000B,
				" a better grip on the concept of 'boxing'.");
			var0011 = Func0910(var0002, DEXTERITY);
			var0012 = Func0910(var0002, COMBAT);
			if (var0011 < 30) {
				Func0915(var0002, 1);
			}
			if (var0012 < 30) {
				Func0917(var0002, 1);
			}
		}
	} while (false);
}

extern var Func0909 0x909 ();
extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0951 0x951 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;
	var var000D;

	var0000 = Func0909();
	UI_push_answers();
	var0001 = true;
	var0002 = ["nothing", "mutton", "bread", "mead", "trout", "Silverleaf", "cake", "wine", "ale"];
	var0003 = [0x0000, 0x0179, 0x0179, 0x0268, 0x0179, 0x0179, 0x0179, 0x0268, 0x0268];
	var0004 = [FRAME_ANY, 0x0008, 0x0001, 0x0000, 0x000C, 0x001F, 0x0005, 0x0005, 0x0003];
	var0005 = [0x0000, 0x0003, 0x0002, 0x0007, 0x0003, 0x001E, 0x0002, 0x0003, 0x0002];
	var0006 = "";
	var0007 = 0x0000;
	var0008 = ["", " for one portion", " for one loaf", " for one bottle", " for one portion", " for one portion", " for one slice", " for one bottle", " for one bottle"];
	var0009 = 0x0001;
	say("\"What wouldst thou like?\"");
	while (var0001) {
		var000A = Func090C(var0002);
		if (var000A == 0x0001) {
			say("\"Fine.\"");
			var0001 = false;
			continue;
		}
		do {
			if (var000A == 0x0006) {
				if (gflags[0x012B]) {
					say("\"I regret to tell thee that this fine establishment will no longer be able to provide our fine customers with Silverleaf. The person who provides me with the delicate meal is no longer able to procure it. I am dreadfully sorry, ",
						var0000,
						".\"");
					break;
				}
			}
			var000B = Func091B(var0006, var0002[var000A], var0007, var0005[var000A], var0008[var000A]);
			var000C = 0x0000;
			say("\"^",
				var000B,
				" That is a fair price, is it not?\"");
			var000D = Func090A();
			if (var000D) {
				if (var0003[var000A] == 0x0179) {
					say("\"How many wouldst thou like?\"");
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009, var0005[var000A], 0x0014, 0x0001, true);
				} else {
					var000C = Func08F8(var0003[var000A], var0004[var000A], var0009, var0005[var000A], 0x0000, 0x0001, true);
				}
			}
			if (var000C == 0x0001) {
				say("\"Done!\"");
			} else if (var000C == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000C == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
		} while (false);
		say("\"Wouldst thou like something else?\"");
		var0001 = Func090A();
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0952 0x952 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "throwing axe", "dagger", "mace", "sword", "2-handed sword", "2-handed axe"];
	var0002 = [0x0000, 0x0251, 0x0252, 0x0293, 0x0257, 0x025A, 0x0259];
	var0003 = [0x0000, 0x0014, 0x000C, 0x000F, 0x0046, 0x007D, 0x0046];
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0004 = Func090C(var0001);
		if (var0004 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var0005 = "a ";
			var0006 = FRAME_ANY;
			var0007 = 0x0000;
			var0008 = "";
			var0009 = 0x0001;
			var000A = Func091B(var0005, var0001[var0004], var0007, var0003[var0004], var0008);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Wilt thou buy it at that price?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0004], var0006, var0009, var0003[var0004], 0x0000, 0x0001, true);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}

extern var Func090C 0x90C (var var0000);
extern var Func091B 0x91B (var var0000, var var0001, var var0002, var var0003, var var0004);
extern var Func090A 0x90A ();
extern var Func08F8 0x8F8 (var var0000, var var0001, var var0002, var var0003, var var0004, var var0005, var var0006);

void Func0953 0x953 () {
	var var0000;
	var var0001;
	var var0002;
	var var0003;
	var var0004;
	var var0005;
	var var0006;
	var var0007;
	var var0008;
	var var0009;
	var var000A;
	var var000B;
	var var000C;

	UI_push_answers();
	var0000 = true;
	var0001 = ["nothing", "chain coif", "chain armour", "chain leggings", "gauntlets", "great helm", "plate armour", "plate leggings", "crested helm"];
	var0002 = [0x0000, 0x021B, 0x023B, 0x023F, 0x0244, 0x021D, 0x023D, 0x0240, 0x021E];
	var0003 = [0x0000, 0x0050, 0x0064, 0x0032, 0x0014, 0x0096, 0x012C, 0x0078, 0x003C];
	var0004 = FRAME_ANY;
	var0005 = ["", "a ", "", "", "", "a ", "", "", "a "];
	var0006 = [0x0000, 0x0000, 0x0000, 0x0001, 0x0001, 0x0000, 0x0000, 0x0001, 0x0000];
	var0007 = ["", "", "", " for a pair", " for a pair", "", "", " for a pair", ""];
	var0008 = 0x0001;
	say("\"What wouldst thou like to buy?\"");
	while (var0000) {
		var0009 = Func090C(var0001);
		if (var0009 == 0x0001) {
			say("\"Fine.\"");
			var0000 = false;
		} else {
			var000A = Func091B(var0005[var0009], var0001[var0009], var0006[var0009], var0003[var0009], var0007[var0009]);
			var000B = 0x0000;
			say("\"^",
				var000A,
				" Is that acceptable?\"");
			var000C = Func090A();
			if (var000C) {
				var000B = Func08F8(var0002[var0009], var0004, var0008, var0003[var0009], 0x0000, 0x0001, false);
			}
			if (var000B == 0x0001) {
				say("\"Done!\"");
			} else if (var000B == 0x0002) {
				say("\"Thou cannot possibly carry that much!\"");
			} else if (var000B == 0x0003) {
				say("\"Thou dost not have enough gold for that!\"");
			}
			say("\"Wouldst thou like something else?\"");
			var0000 = Func090A();
		}
	}
	UI_pop_answers();
}
